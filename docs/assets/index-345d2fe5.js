var f4=(yp,is)=>()=>(is||yp((is={exports:{}}).exports,is),is.exports);var p4=f4((g4,i_)=>{(async()=>{function yp(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=e(n);fetch(n.href,i)}})();var is=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ac(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function s_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var o_={exports:{}},Cc={},a_={exports:{}},De={},wl=Symbol.for("react.element"),R2=Symbol.for("react.portal"),I2=Symbol.for("react.fragment"),k2=Symbol.for("react.strict_mode"),M2=Symbol.for("react.profiler"),N2=Symbol.for("react.provider"),O2=Symbol.for("react.context"),D2=Symbol.for("react.forward_ref"),L2=Symbol.for("react.suspense"),B2=Symbol.for("react.memo"),F2=Symbol.for("react.lazy"),l_=Symbol.iterator;function U2(t){return t===null||typeof t!="object"?null:(t=l_&&t[l_]||t["@@iterator"],typeof t=="function"?t:null)}var u_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},c_=Object.assign,h_={};function Xo(t,e,r){this.props=t,this.context=e,this.refs=h_,this.updater=r||u_}Xo.prototype.isReactComponent={},Xo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},Xo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function d_(){}d_.prototype=Xo.prototype;function vp(t,e,r){this.props=t,this.context=e,this.refs=h_,this.updater=r||u_}var _p=vp.prototype=new d_;_p.constructor=vp,c_(_p,Xo.prototype),_p.isPureReactComponent=!0;var f_=Array.isArray,p_=Object.prototype.hasOwnProperty,bp={current:null},m_={key:!0,ref:!0,__self:!0,__source:!0};function g_(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)p_.call(e,n)&&!m_.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:wl,type:t,key:s,ref:o,props:i,_owner:bp.current}}function z2(t,e){return{$$typeof:wl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function xp(t){return typeof t=="object"&&t!==null&&t.$$typeof===wl}function j2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var y_=/\/+/g;function wp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?j2(""+t.key):e.toString(36)}function Pc(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case wl:case R2:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+wp(o,0):n,f_(i)?(r="",t!=null&&(r=t.replace(y_,"$&/")+"/"),Pc(i,e,r,"",function(h){return h})):i!=null&&(xp(i)&&(i=z2(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(y_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",f_(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+wp(s,l);o+=Pc(s,e,r,c,i)}else if(c=U2(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+wp(s,l++),o+=Pc(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Rc(t,e,r){if(t==null)return t;var n=[],i=0;return Pc(t,n,"","",function(s){return e.call(r,s,i++)}),n}function H2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xr={current:null},Ic={transition:null},G2={ReactCurrentDispatcher:xr,ReactCurrentBatchConfig:Ic,ReactCurrentOwner:bp};De.Children={map:Rc,forEach:function(t,e,r){Rc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Rc(t,function(){e++}),e},toArray:function(t){return Rc(t,function(e){return e})||[]},only:function(t){if(!xp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},De.Component=Xo,De.Fragment=I2,De.Profiler=M2,De.PureComponent=vp,De.StrictMode=k2,De.Suspense=L2,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=G2,De.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=c_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=bp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)p_.call(e,c)&&!m_.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];n.children=l}return{$$typeof:wl,type:t.type,key:i,ref:s,props:n,_owner:o}},De.createContext=function(t){return t={$$typeof:O2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:N2,_context:t},t.Consumer=t},De.createElement=g_,De.createFactory=function(t){var e=g_.bind(null,t);return e.type=t,e},De.createRef=function(){return{current:null}},De.forwardRef=function(t){return{$$typeof:D2,render:t}},De.isValidElement=xp,De.lazy=function(t){return{$$typeof:F2,_payload:{_status:-1,_result:t},_init:H2}},De.memo=function(t,e){return{$$typeof:B2,type:t,compare:e===void 0?null:e}},De.startTransition=function(t){var e=Ic.transition;Ic.transition={};try{t()}finally{Ic.transition=e}},De.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},De.useCallback=function(t,e){return xr.current.useCallback(t,e)},De.useContext=function(t){return xr.current.useContext(t)},De.useDebugValue=function(){},De.useDeferredValue=function(t){return xr.current.useDeferredValue(t)},De.useEffect=function(t,e){return xr.current.useEffect(t,e)},De.useId=function(){return xr.current.useId()},De.useImperativeHandle=function(t,e,r){return xr.current.useImperativeHandle(t,e,r)},De.useInsertionEffect=function(t,e){return xr.current.useInsertionEffect(t,e)},De.useLayoutEffect=function(t,e){return xr.current.useLayoutEffect(t,e)},De.useMemo=function(t,e){return xr.current.useMemo(t,e)},De.useReducer=function(t,e,r){return xr.current.useReducer(t,e,r)},De.useRef=function(t){return xr.current.useRef(t)},De.useState=function(t){return xr.current.useState(t)},De.useSyncExternalStore=function(t,e,r){return xr.current.useSyncExternalStore(t,e,r)},De.useTransition=function(){return xr.current.useTransition()},De.version="18.2.0",a_.exports=De;var ie=a_.exports;const _n=Ac(ie),W2=yp({__proto__:null,default:_n},[ie]);var $2=ie,V2=Symbol.for("react.element"),X2=Symbol.for("react.fragment"),Y2=Object.prototype.hasOwnProperty,Q2=$2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,q2={key:!0,ref:!0,__self:!0,__source:!0};function v_(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)Y2.call(e,n)&&!q2.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:V2,type:t,key:s,ref:o,props:i,_owner:Q2.current}}Cc.Fragment=X2,Cc.jsx=v_,Cc.jsxs=v_,o_.exports=Cc;var bn=o_.exports,Ep={},__={exports:{}},jr={},b_={exports:{}},x_={};(function(t){function e(O,H){var k=O.length;O.push(H);e:for(;0<k;){var J=k-1>>>1,se=O[J];if(0<i(se,H))O[J]=H,O[k]=se,k=J;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var H=O[0],k=O.pop();if(k!==H){O[0]=k;e:for(var J=0,se=O.length,Re=se>>>1;J<Re;){var fe=2*(J+1)-1,Be=O[fe],Ie=fe+1,We=O[Ie];if(0>i(Be,k))Ie<se&&0>i(We,Be)?(O[J]=We,O[Ie]=k,J=Ie):(O[J]=Be,O[fe]=k,J=fe);else if(Ie<se&&0>i(We,k))O[J]=We,O[Ie]=k,J=Ie;else break e}}return H}function i(O,H){var k=O.sortIndex-H.sortIndex;return k!==0?k:O.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],f=1,p=null,m=3,v=!1,_=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var H=r(h);H!==null;){if(H.callback===null)n(h);else if(H.startTime<=O)n(h),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(h)}}function T(O){if(w=!1,S(O),!_)if(r(c)!==null)_=!0,ge(R);else{var H=r(h);H!==null&&ne(T,H.startTime-O)}}function R(O,H){_=!1,w&&(w=!1,E(M),M=-1),v=!0;var k=m;try{for(S(H),p=r(c);p!==null&&(!(p.expirationTime>H)||O&&!K());){var J=p.callback;if(typeof J=="function"){p.callback=null,m=p.priorityLevel;var se=J(p.expirationTime<=H);H=t.unstable_now(),typeof se=="function"?p.callback=se:p===r(c)&&n(c),S(H)}else n(c);p=r(c)}if(p!==null)var Re=!0;else{var fe=r(h);fe!==null&&ne(T,fe.startTime-H),Re=!1}return Re}finally{p=null,m=k,v=!1}}var L=!1,I=null,M=-1,Y=5,Q=-1;function K(){return!(t.unstable_now()-Q<Y)}function $(){if(I!==null){var O=t.unstable_now();Q=O;var H=!0;try{H=I(!0,O)}finally{H?z():(L=!1,I=null)}}else L=!1}var z;if(typeof x=="function")z=function(){x($)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,me=W.port2;W.port1.onmessage=$,z=function(){me.postMessage(null)}}else z=function(){A($,0)};function ge(O){I=O,L||(L=!0,z())}function ne(O,H){M=A(function(){O(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,ge(R))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var k=m;m=H;try{return O()}finally{m=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var k=m;m=O;try{return H()}finally{m=k}},t.unstable_scheduleCallback=function(O,H,k){var J=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?J+k:J):k=J,O){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return se=k+se,O={id:f++,callback:H,priorityLevel:O,startTime:k,expirationTime:se,sortIndex:-1},k>J?(O.sortIndex=k,e(h,O),r(c)===null&&O===r(h)&&(w?(E(M),M=-1):w=!0,ne(T,k-J))):(O.sortIndex=se,e(c,O),_||v||(_=!0,ge(R))),O},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(O){var H=m;return function(){var k=m;m=H;try{return O.apply(this,arguments)}finally{m=k}}}})(x_),b_.exports=x_;var K2=b_.exports,w_=ie,Hr=K2;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var E_=new Set,El={};function qs(t,e){Yo(t,e),Yo(t+"Capture",e)}function Yo(t,e){for(El[t]=e,t=0;t<e.length;t++)E_.add(e[t])}var Ci=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Tp=Object.prototype.hasOwnProperty,Z2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,T_={},S_={};function J2(t){return Tp.call(S_,t)?!0:Tp.call(T_,t)?!1:Z2.test(t)?S_[t]=!0:(T_[t]=!0,!1)}function eC(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tC(t,e,r,n){if(e===null||typeof e>"u"||eC(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function wr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var Jt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Jt[t]=new wr(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Jt[e]=new wr(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Jt[t]=new wr(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Jt[t]=new wr(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Jt[t]=new wr(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){Jt[t]=new wr(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){Jt[t]=new wr(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){Jt[t]=new wr(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){Jt[t]=new wr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Sp=/[\-:]([a-z])/g;function Ap(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Sp,Ap);Jt[e]=new wr(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Sp,Ap);Jt[e]=new wr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Sp,Ap);Jt[e]=new wr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){Jt[t]=new wr(t,1,!1,t.toLowerCase(),null,!1,!1)}),Jt.xlinkHref=new wr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){Jt[t]=new wr(t,1,!1,t.toLowerCase(),null,!0,!0)});function Cp(t,e,r,n){var i=Jt.hasOwnProperty(e)?Jt[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tC(e,r,i,n)&&(r=null),n||i===null?J2(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Pi=w_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,kc=Symbol.for("react.element"),Qo=Symbol.for("react.portal"),qo=Symbol.for("react.fragment"),Pp=Symbol.for("react.strict_mode"),Rp=Symbol.for("react.profiler"),A_=Symbol.for("react.provider"),C_=Symbol.for("react.context"),Ip=Symbol.for("react.forward_ref"),kp=Symbol.for("react.suspense"),Mp=Symbol.for("react.suspense_list"),Np=Symbol.for("react.memo"),ss=Symbol.for("react.lazy"),P_=Symbol.for("react.offscreen"),R_=Symbol.iterator;function Tl(t){return t===null||typeof t!="object"?null:(t=R_&&t[R_]||t["@@iterator"],typeof t=="function"?t:null)}var gt=Object.assign,Op;function Sl(t){if(Op===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Op=e&&e[1]||""}return`
`+Op+t}var Dp=!1;function Lp(t,e){if(!t||Dp)return"";Dp=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Dp=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Sl(t):""}function rC(t){switch(t.tag){case 5:return Sl(t.type);case 16:return Sl("Lazy");case 13:return Sl("Suspense");case 19:return Sl("SuspenseList");case 0:case 2:case 15:return t=Lp(t.type,!1),t;case 11:return t=Lp(t.type.render,!1),t;case 1:return t=Lp(t.type,!0),t;default:return""}}function Bp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qo:return"Fragment";case Qo:return"Portal";case Rp:return"Profiler";case Pp:return"StrictMode";case kp:return"Suspense";case Mp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case C_:return(t.displayName||"Context")+".Consumer";case A_:return(t._context.displayName||"Context")+".Provider";case Ip:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Np:return e=t.displayName||null,e!==null?e:Bp(t.type)||"Memo";case ss:e=t._payload,t=t._init;try{return Bp(t(e))}catch{}}return null}function nC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Bp(e);case 8:return e===Pp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function os(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function I_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function iC(t){var e=I_(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mc(t){t._valueTracker||(t._valueTracker=iC(t))}function k_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=I_(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Nc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Fp(t,e){var r=e.checked;return gt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function M_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=os(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function N_(t,e){e=e.checked,e!=null&&Cp(t,"checked",e,!1)}function Up(t,e){N_(t,e);var r=os(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?zp(t,e.type,r):e.hasOwnProperty("defaultValue")&&zp(t,e.type,os(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function O_(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function zp(t,e,r){(e!=="number"||Nc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Al=Array.isArray;function Ko(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+os(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function jp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return gt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function D_(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ee(92));if(Al(r)){if(1<r.length)throw Error(ee(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:os(r)}}function L_(t,e){var r=os(e.value),n=os(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function B_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function F_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Hp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?F_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Oc,U_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Oc=Oc||document.createElement("div"),Oc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Oc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cl(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Pl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},sC=["Webkit","ms","Moz","O"];Object.keys(Pl).forEach(function(t){sC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Pl[e]=Pl[t]})});function z_(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Pl.hasOwnProperty(t)&&Pl[t]?(""+e).trim():e+"px"}function j_(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=z_(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var oC=gt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gp(t,e){if(e){if(oC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function Wp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $p=null;function Vp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Xp=null,Zo=null,Jo=null;function H_(t){if(t=ql(t)){if(typeof Xp!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=nh(e),Xp(t.stateNode,t.type,e))}}function G_(t){Zo?Jo?Jo.push(t):Jo=[t]:Zo=t}function W_(){if(Zo){var t=Zo,e=Jo;if(Jo=Zo=null,H_(t),e)for(t=0;t<e.length;t++)H_(e[t])}}function $_(t,e){return t(e)}function V_(){}var Yp=!1;function X_(t,e,r){if(Yp)return t(e,r);Yp=!0;try{return $_(t,e,r)}finally{Yp=!1,(Zo!==null||Jo!==null)&&(V_(),W_())}}function Rl(t,e){var r=t.stateNode;if(r===null)return null;var n=nh(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ee(231,e,typeof r));return r}var Qp=!1;if(Ci)try{var Il={};Object.defineProperty(Il,"passive",{get:function(){Qp=!0}}),window.addEventListener("test",Il,Il),window.removeEventListener("test",Il,Il)}catch{Qp=!1}function aC(t,e,r,n,i,s,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(f){this.onError(f)}}var kl=!1,Dc=null,Lc=!1,qp=null,lC={onError:function(t){kl=!0,Dc=t}};function uC(t,e,r,n,i,s,o,l,c){kl=!1,Dc=null,aC.apply(lC,arguments)}function cC(t,e,r,n,i,s,o,l,c){if(uC.apply(this,arguments),kl){if(kl){var h=Dc;kl=!1,Dc=null}else throw Error(ee(198));Lc||(Lc=!0,qp=h)}}function Ks(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Y_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Q_(t){if(Ks(t)!==t)throw Error(ee(188))}function hC(t){var e=t.alternate;if(!e){if(e=Ks(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Q_(i),t;if(s===n)return Q_(i),e;s=s.sibling}throw Error(ee(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?t:e}function q_(t){return t=hC(t),t!==null?K_(t):null}function K_(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=K_(t);if(e!==null)return e;t=t.sibling}return null}var Z_=Hr.unstable_scheduleCallback,J_=Hr.unstable_cancelCallback,dC=Hr.unstable_shouldYield,fC=Hr.unstable_requestPaint,St=Hr.unstable_now,pC=Hr.unstable_getCurrentPriorityLevel,Kp=Hr.unstable_ImmediatePriority,eb=Hr.unstable_UserBlockingPriority,Bc=Hr.unstable_NormalPriority,mC=Hr.unstable_LowPriority,tb=Hr.unstable_IdlePriority,Fc=null,Jn=null;function gC(t){if(Jn&&typeof Jn.onCommitFiberRoot=="function")try{Jn.onCommitFiberRoot(Fc,t,void 0,(t.current.flags&128)===128)}catch{}}var xn=Math.clz32?Math.clz32:_C,yC=Math.log,vC=Math.LN2;function _C(t){return t>>>=0,t===0?32:31-(yC(t)/vC|0)|0}var Uc=64,zc=4194304;function Ml(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Ml(l):(s&=o,s!==0&&(n=Ml(s)))}else o=r&~i,o!==0?n=Ml(o):s!==0&&(n=Ml(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-xn(e),i=1<<r,n|=t[r],e&=~i;return n}function bC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xC(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-xn(s),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=bC(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function Zp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function rb(){var t=Uc;return Uc<<=1,!(Uc&4194240)&&(Uc=64),t}function Jp(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Nl(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-xn(e),t[e]=r}function wC(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-xn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function em(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-xn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Qe=0;function nb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ib,tm,sb,ob,ab,rm=!1,Hc=[],as=null,ls=null,us=null,Ol=new Map,Dl=new Map,cs=[],EC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function lb(t,e){switch(t){case"focusin":case"focusout":as=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":us=null;break;case"pointerover":case"pointerout":Ol.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(e.pointerId)}}function Ll(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=ql(e),e!==null&&tm(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function TC(t,e,r,n,i){switch(e){case"focusin":return as=Ll(as,t,e,r,n,i),!0;case"dragenter":return ls=Ll(ls,t,e,r,n,i),!0;case"mouseover":return us=Ll(us,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Ol.set(s,Ll(Ol.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Dl.set(s,Ll(Dl.get(s)||null,t,e,r,n,i)),!0}return!1}function ub(t){var e=Zs(t.target);if(e!==null){var r=Ks(e);if(r!==null){if(e=r.tag,e===13){if(e=Y_(r),e!==null){t.blockedOn=e,ab(t.priority,function(){sb(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=im(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);$p=n,r.target.dispatchEvent(n),$p=null}else return e=ql(r),e!==null&&tm(e),t.blockedOn=r,!1;e.shift()}return!0}function cb(t,e,r){Gc(t)&&r.delete(e)}function SC(){rm=!1,as!==null&&Gc(as)&&(as=null),ls!==null&&Gc(ls)&&(ls=null),us!==null&&Gc(us)&&(us=null),Ol.forEach(cb),Dl.forEach(cb)}function Bl(t,e){t.blockedOn===e&&(t.blockedOn=null,rm||(rm=!0,Hr.unstable_scheduleCallback(Hr.unstable_NormalPriority,SC)))}function Fl(t){function e(i){return Bl(i,t)}if(0<Hc.length){Bl(Hc[0],t);for(var r=1;r<Hc.length;r++){var n=Hc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(as!==null&&Bl(as,t),ls!==null&&Bl(ls,t),us!==null&&Bl(us,t),Ol.forEach(e),Dl.forEach(e),r=0;r<cs.length;r++)n=cs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<cs.length&&(r=cs[0],r.blockedOn===null);)ub(r),r.blockedOn===null&&cs.shift()}var ea=Pi.ReactCurrentBatchConfig,Wc=!0;function AC(t,e,r,n){var i=Qe,s=ea.transition;ea.transition=null;try{Qe=1,nm(t,e,r,n)}finally{Qe=i,ea.transition=s}}function CC(t,e,r,n){var i=Qe,s=ea.transition;ea.transition=null;try{Qe=4,nm(t,e,r,n)}finally{Qe=i,ea.transition=s}}function nm(t,e,r,n){if(Wc){var i=im(t,e,r,n);if(i===null)xm(t,e,n,$c,r),lb(t,n);else if(TC(i,t,e,r,n))n.stopPropagation();else if(lb(t,n),e&4&&-1<EC.indexOf(t)){for(;i!==null;){var s=ql(i);if(s!==null&&ib(s),s=im(t,e,r,n),s===null&&xm(t,e,n,$c,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else xm(t,e,n,null,r)}}var $c=null;function im(t,e,r,n){if($c=null,t=Vp(n),t=Zs(t),t!==null)if(e=Ks(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Y_(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return $c=t,null}function hb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pC()){case Kp:return 1;case eb:return 4;case Bc:case mC:return 16;case tb:return 536870912;default:return 16}default:return 16}}var hs=null,sm=null,Vc=null;function db(){if(Vc)return Vc;var t,e=sm,r=e.length,n,i="value"in hs?hs.value:hs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Vc=i.slice(t,1<n?1-n:void 0)}function Xc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yc(){return!0}function fb(){return!1}function Gr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yc:fb,this.isPropagationStopped=fb,this}return gt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),e}var ta={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},om=Gr(ta),Ul=gt({},ta,{view:0,detail:0}),PC=Gr(Ul),am,lm,zl,Qc=gt({},Ul,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zl&&(zl&&t.type==="mousemove"?(am=t.screenX-zl.screenX,lm=t.screenY-zl.screenY):lm=am=0,zl=t),am)},movementY:function(t){return"movementY"in t?t.movementY:lm}}),pb=Gr(Qc),RC=gt({},Qc,{dataTransfer:0}),IC=Gr(RC),kC=gt({},Ul,{relatedTarget:0}),um=Gr(kC),MC=gt({},ta,{animationName:0,elapsedTime:0,pseudoElement:0}),NC=Gr(MC),OC=gt({},ta,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),DC=Gr(OC),LC=gt({},ta,{data:0}),mb=Gr(LC),BC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},FC={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},UC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=UC[t])?!!e[t]:!1}function cm(){return zC}var jC=gt({},Ul,{key:function(t){if(t.key){var e=BC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Xc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?FC[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cm,charCode:function(t){return t.type==="keypress"?Xc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Xc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),HC=Gr(jC),GC=gt({},Qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gb=Gr(GC),WC=gt({},Ul,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cm}),$C=Gr(WC),VC=gt({},ta,{propertyName:0,elapsedTime:0,pseudoElement:0}),XC=Gr(VC),YC=gt({},Qc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QC=Gr(YC),qC=[9,13,27,32],hm=Ci&&"CompositionEvent"in window,jl=null;Ci&&"documentMode"in document&&(jl=document.documentMode);var KC=Ci&&"TextEvent"in window&&!jl,yb=Ci&&(!hm||jl&&8<jl&&11>=jl),vb=String.fromCharCode(32),_b=!1;function bb(t,e){switch(t){case"keyup":return qC.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function xb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ra=!1;function ZC(t,e){switch(t){case"compositionend":return xb(e);case"keypress":return e.which!==32?null:(_b=!0,vb);case"textInput":return t=e.data,t===vb&&_b?null:t;default:return null}}function JC(t,e){if(ra)return t==="compositionend"||!hm&&bb(t,e)?(t=db(),Vc=sm=hs=null,ra=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return yb&&e.locale!=="ko"?null:e.data;default:return null}}var eP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function wb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eP[t.type]:e==="textarea"}function Eb(t,e,r,n){G_(n),e=eh(e,"onChange"),0<e.length&&(r=new om("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Hl=null,Gl=null;function tP(t){jb(t,0)}function qc(t){var e=aa(t);if(k_(e))return t}function rP(t,e){if(t==="change")return e}var Tb=!1;if(Ci){var dm;if(Ci){var fm="oninput"in document;if(!fm){var Sb=document.createElement("div");Sb.setAttribute("oninput","return;"),fm=typeof Sb.oninput=="function"}dm=fm}else dm=!1;Tb=dm&&(!document.documentMode||9<document.documentMode)}function Ab(){Hl&&(Hl.detachEvent("onpropertychange",Cb),Gl=Hl=null)}function Cb(t){if(t.propertyName==="value"&&qc(Gl)){var e=[];Eb(e,Gl,t,Vp(t)),X_(tP,e)}}function nP(t,e,r){t==="focusin"?(Ab(),Hl=e,Gl=r,Hl.attachEvent("onpropertychange",Cb)):t==="focusout"&&Ab()}function iP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return qc(Gl)}function sP(t,e){if(t==="click")return qc(e)}function oP(t,e){if(t==="input"||t==="change")return qc(e)}function aP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var wn=typeof Object.is=="function"?Object.is:aP;function Wl(t,e){if(wn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Tp.call(e,i)||!wn(t[i],e[i]))return!1}return!0}function Pb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Rb(t,e){var r=Pb(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Pb(r)}}function Ib(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Ib(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function kb(){for(var t=window,e=Nc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Nc(t.document)}return e}function pm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lP(t){var e=kb(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Ib(r.ownerDocument.documentElement,r)){if(n!==null&&pm(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Rb(r,s);var o=Rb(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var uP=Ci&&"documentMode"in document&&11>=document.documentMode,na=null,mm=null,$l=null,gm=!1;function Mb(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;gm||na==null||na!==Nc(n)||(n=na,"selectionStart"in n&&pm(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),$l&&Wl($l,n)||($l=n,n=eh(mm,"onSelect"),0<n.length&&(e=new om("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=na)))}function Kc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ia={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},ym={},Nb={};Ci&&(Nb=document.createElement("div").style,"AnimationEvent"in window||(delete ia.animationend.animation,delete ia.animationiteration.animation,delete ia.animationstart.animation),"TransitionEvent"in window||delete ia.transitionend.transition);function Zc(t){if(ym[t])return ym[t];if(!ia[t])return t;var e=ia[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Nb)return ym[t]=e[r];return t}var Ob=Zc("animationend"),Db=Zc("animationiteration"),Lb=Zc("animationstart"),Bb=Zc("transitionend"),Fb=new Map,Ub="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ds(t,e){Fb.set(t,e),qs(e,[t])}for(var vm=0;vm<Ub.length;vm++){var _m=Ub[vm],cP=_m.toLowerCase(),hP=_m[0].toUpperCase()+_m.slice(1);ds(cP,"on"+hP)}ds(Ob,"onAnimationEnd"),ds(Db,"onAnimationIteration"),ds(Lb,"onAnimationStart"),ds("dblclick","onDoubleClick"),ds("focusin","onFocus"),ds("focusout","onBlur"),ds(Bb,"onTransitionEnd"),Yo("onMouseEnter",["mouseout","mouseover"]),Yo("onMouseLeave",["mouseout","mouseover"]),Yo("onPointerEnter",["pointerout","pointerover"]),Yo("onPointerLeave",["pointerout","pointerover"]),qs("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),qs("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),qs("onBeforeInput",["compositionend","keypress","textInput","paste"]),qs("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),qs("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Vl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dP=new Set("cancel close invalid load scroll toggle".split(" ").concat(Vl));function zb(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,cC(n,e,void 0,t),t.currentTarget=null}function jb(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;zb(i,l,h),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;zb(i,l,h),s=c}}}if(Lc)throw t=qp,Lc=!1,qp=null,t}function it(t,e){var r=e[Cm];r===void 0&&(r=e[Cm]=new Set);var n=t+"__bubble";r.has(n)||(Hb(e,t,2,!1),r.add(n))}function bm(t,e,r){var n=0;e&&(n|=4),Hb(r,t,n,e)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Xl(t){if(!t[Jc]){t[Jc]=!0,E_.forEach(function(r){r!=="selectionchange"&&(dP.has(r)||bm(r,!1,t),bm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jc]||(e[Jc]=!0,bm("selectionchange",!1,e))}}function Hb(t,e,r,n){switch(hb(e)){case 1:var i=AC;break;case 4:i=CC;break;default:i=nm}r=i.bind(null,e,r,t),i=void 0,!Qp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function xm(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=Zs(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}X_(function(){var h=s,f=Vp(r),p=[];e:{var m=Fb.get(t);if(m!==void 0){var v=om,_=t;switch(t){case"keypress":if(Xc(r)===0)break e;case"keydown":case"keyup":v=HC;break;case"focusin":_="focus",v=um;break;case"focusout":_="blur",v=um;break;case"beforeblur":case"afterblur":v=um;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=pb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=IC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=$C;break;case Ob:case Db:case Lb:v=NC;break;case Bb:v=XC;break;case"scroll":v=PC;break;case"wheel":v=QC;break;case"copy":case"cut":case"paste":v=DC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=gb}var w=(e&4)!==0,A=!w&&t==="scroll",E=w?m!==null?m+"Capture":null:m;w=[];for(var x=h,S;x!==null;){S=x;var T=S.stateNode;if(S.tag===5&&T!==null&&(S=T,E!==null&&(T=Rl(x,E),T!=null&&w.push(Yl(x,T,S)))),A)break;x=x.return}0<w.length&&(m=new v(m,_,null,r,f),p.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",m&&r!==$p&&(_=r.relatedTarget||r.fromElement)&&(Zs(_)||_[Ri]))break e;if((v||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,v?(_=r.relatedTarget||r.toElement,v=h,_=_?Zs(_):null,_!==null&&(A=Ks(_),_!==A||_.tag!==5&&_.tag!==6)&&(_=null)):(v=null,_=h),v!==_)){if(w=pb,T="onMouseLeave",E="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=gb,T="onPointerLeave",E="onPointerEnter",x="pointer"),A=v==null?m:aa(v),S=_==null?m:aa(_),m=new w(T,x+"leave",v,r,f),m.target=A,m.relatedTarget=S,T=null,Zs(f)===h&&(w=new w(E,x+"enter",_,r,f),w.target=S,w.relatedTarget=A,T=w),A=T,v&&_)t:{for(w=v,E=_,x=0,S=w;S;S=sa(S))x++;for(S=0,T=E;T;T=sa(T))S++;for(;0<x-S;)w=sa(w),x--;for(;0<S-x;)E=sa(E),S--;for(;x--;){if(w===E||E!==null&&w===E.alternate)break t;w=sa(w),E=sa(E)}w=null}else w=null;v!==null&&Gb(p,m,v,w,!1),_!==null&&A!==null&&Gb(p,A,_,w,!0)}}e:{if(m=h?aa(h):window,v=m.nodeName&&m.nodeName.toLowerCase(),v==="select"||v==="input"&&m.type==="file")var R=rP;else if(wb(m))if(Tb)R=oP;else{R=iP;var L=nP}else(v=m.nodeName)&&v.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=sP);if(R&&(R=R(t,h))){Eb(p,R,r,f);break e}L&&L(t,m,h),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&zp(m,"number",m.value)}switch(L=h?aa(h):window,t){case"focusin":(wb(L)||L.contentEditable==="true")&&(na=L,mm=h,$l=null);break;case"focusout":$l=mm=na=null;break;case"mousedown":gm=!0;break;case"contextmenu":case"mouseup":case"dragend":gm=!1,Mb(p,r,f);break;case"selectionchange":if(uP)break;case"keydown":case"keyup":Mb(p,r,f)}var I;if(hm)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ra?bb(t,r)&&(M="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(yb&&r.locale!=="ko"&&(ra||M!=="onCompositionStart"?M==="onCompositionEnd"&&ra&&(I=db()):(hs=f,sm="value"in hs?hs.value:hs.textContent,ra=!0)),L=eh(h,M),0<L.length&&(M=new mb(M,t,null,r,f),p.push({event:M,listeners:L}),I?M.data=I:(I=xb(r),I!==null&&(M.data=I)))),(I=KC?ZC(t,r):JC(t,r))&&(h=eh(h,"onBeforeInput"),0<h.length&&(f=new mb("onBeforeInput","beforeinput",null,r,f),p.push({event:f,listeners:h}),f.data=I))}jb(p,e)})}function Yl(t,e,r){return{instance:t,listener:e,currentTarget:r}}function eh(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Rl(t,r),s!=null&&n.unshift(Yl(t,s,i)),s=Rl(t,e),s!=null&&n.push(Yl(t,s,i))),t=t.return}return n}function sa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Gb(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,h=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&h!==null&&(l=h,i?(c=Rl(r,s),c!=null&&o.unshift(Yl(r,c,l))):i||(c=Rl(r,s),c!=null&&o.push(Yl(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var fP=/\r\n?/g,pP=/\u0000|\uFFFD/g;function Wb(t){return(typeof t=="string"?t:""+t).replace(fP,`
`).replace(pP,"")}function th(t,e,r){if(e=Wb(e),Wb(t)!==e&&r)throw Error(ee(425))}function rh(){}var wm=null,Em=null;function Tm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Sm=typeof setTimeout=="function"?setTimeout:void 0,mP=typeof clearTimeout=="function"?clearTimeout:void 0,$b=typeof Promise=="function"?Promise:void 0,gP=typeof queueMicrotask=="function"?queueMicrotask:typeof $b<"u"?function(t){return $b.resolve(null).then(t).catch(yP)}:Sm;function yP(t){setTimeout(function(){throw t})}function Am(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Fl(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Fl(e)}function fs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Vb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var oa=Math.random().toString(36).slice(2),ei="__reactFiber$"+oa,Ql="__reactProps$"+oa,Ri="__reactContainer$"+oa,Cm="__reactEvents$"+oa,vP="__reactListeners$"+oa,_P="__reactHandles$"+oa;function Zs(t){var e=t[ei];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ri]||r[ei]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Vb(t);t!==null;){if(r=t[ei])return r;t=Vb(t)}return e}t=r,r=t.parentNode}return null}function ql(t){return t=t[ei]||t[Ri],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function aa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function nh(t){return t[Ql]||null}var Pm=[],la=-1;function ps(t){return{current:t}}function st(t){0>la||(t.current=Pm[la],Pm[la]=null,la--)}function tt(t,e){la++,Pm[la]=t.current,t.current=e}var ms={},lr=ps(ms),Cr=ps(!1),Js=ms;function ua(t,e){var r=t.type.contextTypes;if(!r)return ms;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Pr(t){return t=t.childContextTypes,t!=null}function ih(){st(Cr),st(lr)}function Xb(t,e,r){if(lr.current!==ms)throw Error(ee(168));tt(lr,e),tt(Cr,r)}function Yb(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ee(108,nC(t)||"Unknown",i));return gt({},r,n)}function sh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ms,Js=lr.current,tt(lr,t),tt(Cr,Cr.current),!0}function Qb(t,e,r){var n=t.stateNode;if(!n)throw Error(ee(169));r?(t=Yb(t,e,Js),n.__reactInternalMemoizedMergedChildContext=t,st(Cr),st(lr),tt(lr,t)):st(Cr),tt(Cr,r)}var Ii=null,oh=!1,Rm=!1;function qb(t){Ii===null?Ii=[t]:Ii.push(t)}function bP(t){oh=!0,qb(t)}function gs(){if(!Rm&&Ii!==null){Rm=!0;var t=0,e=Qe;try{var r=Ii;for(Qe=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ii=null,oh=!1}catch(i){throw Ii!==null&&(Ii=Ii.slice(t+1)),Z_(Kp,gs),i}finally{Qe=e,Rm=!1}}return null}var ca=[],ha=0,ah=null,lh=0,tn=[],rn=0,eo=null,ki=1,Mi="";function to(t,e){ca[ha++]=lh,ca[ha++]=ah,ah=t,lh=e}function Kb(t,e,r){tn[rn++]=ki,tn[rn++]=Mi,tn[rn++]=eo,eo=t;var n=ki;t=Mi;var i=32-xn(n)-1;n&=~(1<<i),r+=1;var s=32-xn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,ki=1<<32-xn(e)+i|r<<i|n,Mi=s+t}else ki=1<<s|r<<i|n,Mi=t}function Im(t){t.return!==null&&(to(t,1),Kb(t,1,0))}function km(t){for(;t===ah;)ah=ca[--ha],ca[ha]=null,lh=ca[--ha],ca[ha]=null;for(;t===eo;)eo=tn[--rn],tn[rn]=null,Mi=tn[--rn],tn[rn]=null,ki=tn[--rn],tn[rn]=null}var Wr=null,$r=null,ot=!1,En=null;function Zb(t,e){var r=an(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function Jb(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Wr=t,$r=fs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Wr=t,$r=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=eo!==null?{id:ki,overflow:Mi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=an(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Wr=t,$r=null,!0):!1;default:return!1}}function Mm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Nm(t){if(ot){var e=$r;if(e){var r=e;if(!Jb(t,e)){if(Mm(t))throw Error(ee(418));e=fs(r.nextSibling);var n=Wr;e&&Jb(t,e)?Zb(n,r):(t.flags=t.flags&-4097|2,ot=!1,Wr=t)}}else{if(Mm(t))throw Error(ee(418));t.flags=t.flags&-4097|2,ot=!1,Wr=t}}}function e1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Wr=t}function uh(t){if(t!==Wr)return!1;if(!ot)return e1(t),ot=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Tm(t.type,t.memoizedProps)),e&&(e=$r)){if(Mm(t))throw t1(),Error(ee(418));for(;e;)Zb(t,e),e=fs(e.nextSibling)}if(e1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){$r=fs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}$r=null}}else $r=Wr?fs(t.stateNode.nextSibling):null;return!0}function t1(){for(var t=$r;t;)t=fs(t.nextSibling)}function da(){$r=Wr=null,ot=!1}function Om(t){En===null?En=[t]:En.push(t)}var xP=Pi.ReactCurrentBatchConfig;function Tn(t,e){if(t&&t.defaultProps){e=gt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var ch=ps(null),hh=null,fa=null,Dm=null;function Lm(){Dm=fa=hh=null}function Bm(t){var e=ch.current;st(ch),t._currentValue=e}function Fm(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function pa(t,e){hh=t,Dm=fa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Rr=!0),t.firstContext=null)}function nn(t){var e=t._currentValue;if(Dm!==t)if(t={context:t,memoizedValue:e,next:null},fa===null){if(hh===null)throw Error(ee(308));fa=t,hh.dependencies={lanes:0,firstContext:t}}else fa=fa.next=t;return e}var ro=null;function Um(t){ro===null?ro=[t]:ro.push(t)}function r1(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Um(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ni(t,n)}function Ni(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ys=!1;function zm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function n1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Oi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ge&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ni(t,r)}return i=n.interleaved,i===null?(e.next=e,Um(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ni(t,r)}function dh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,em(t,r)}}function i1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function fh(t,e,r,n){var i=t.updateQueue;ys=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,f=h=c=null,l=s;do{var m=l.lane,v=l.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:v,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,w=l;switch(m=e,v=r,w.tag){case 1:if(_=w.payload,typeof _=="function"){p=_.call(v,p,m);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,m=typeof _=="function"?_.call(v,p,m):_,m==null)break e;p=gt({},p,m);break e;case 2:ys=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else v={eventTime:v,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=v,c=p):f=f.next=v,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);so|=o,t.lanes=o,t.memoizedState=p}}function s1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ee(191,i));i.call(n)}}}var o1=new w_.Component().refs;function jm(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:gt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var ph={isMounted:function(t){return(t=t._reactInternals)?Ks(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Tr(),i=ws(t),s=Oi(n,i);s.payload=e,r!=null&&(s.callback=r),e=vs(t,s,i),e!==null&&(Cn(e,t,i,n),dh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Tr(),i=ws(t),s=Oi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=vs(t,s,i),e!==null&&(Cn(e,t,i,n),dh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Tr(),n=ws(t),i=Oi(r,n);i.tag=2,e!=null&&(i.callback=e),e=vs(t,i,n),e!==null&&(Cn(e,t,n,r),dh(e,t,n))}};function a1(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Wl(r,n)||!Wl(i,s):!0}function l1(t,e,r){var n=!1,i=ms,s=e.contextType;return typeof s=="object"&&s!==null?s=nn(s):(i=Pr(e)?Js:lr.current,n=e.contextTypes,s=(n=n!=null)?ua(t,i):ms),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ph,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function u1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&ph.enqueueReplaceState(e,e.state,null)}function Hm(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=o1,zm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=nn(s):(s=Pr(e)?Js:lr.current,i.context=ua(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(jm(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ph.enqueueReplaceState(i,i.state,null),fh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Kl(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===o1&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,t))}return t}function mh(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function c1(t){var e=t._init;return e(t._payload)}function h1(t){function e(E,x){if(t){var S=E.deletions;S===null?(E.deletions=[x],E.flags|=16):S.push(x)}}function r(E,x){if(!t)return null;for(;x!==null;)e(E,x),x=x.sibling;return null}function n(E,x){for(E=new Map;x!==null;)x.key!==null?E.set(x.key,x):E.set(x.index,x),x=x.sibling;return E}function i(E,x){return E=Ts(E,x),E.index=0,E.sibling=null,E}function s(E,x,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<x?(E.flags|=2,x):S):(E.flags|=2,x)):(E.flags|=1048576,x)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,x,S,T){return x===null||x.tag!==6?(x=Tg(S,E.mode,T),x.return=E,x):(x=i(x,S),x.return=E,x)}function c(E,x,S,T){var R=S.type;return R===qo?f(E,x,S.props.children,T,S.key):x!==null&&(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ss&&c1(R)===x.type)?(T=i(x,S.props),T.ref=Kl(E,x,S),T.return=E,T):(T=Oh(S.type,S.key,S.props,null,E.mode,T),T.ref=Kl(E,x,S),T.return=E,T)}function h(E,x,S,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=Sg(S,E.mode,T),x.return=E,x):(x=i(x,S.children||[]),x.return=E,x)}function f(E,x,S,T,R){return x===null||x.tag!==7?(x=uo(S,E.mode,T,R),x.return=E,x):(x=i(x,S),x.return=E,x)}function p(E,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Tg(""+x,E.mode,S),x.return=E,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case kc:return S=Oh(x.type,x.key,x.props,null,E.mode,S),S.ref=Kl(E,null,x),S.return=E,S;case Qo:return x=Sg(x,E.mode,S),x.return=E,x;case ss:var T=x._init;return p(E,T(x._payload),S)}if(Al(x)||Tl(x))return x=uo(x,E.mode,S,null),x.return=E,x;mh(E,x)}return null}function m(E,x,S,T){var R=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return R!==null?null:l(E,x,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case kc:return S.key===R?c(E,x,S,T):null;case Qo:return S.key===R?h(E,x,S,T):null;case ss:return R=S._init,m(E,x,R(S._payload),T)}if(Al(S)||Tl(S))return R!==null?null:f(E,x,S,T,null);mh(E,S)}return null}function v(E,x,S,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return E=E.get(S)||null,l(x,E,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case kc:return E=E.get(T.key===null?S:T.key)||null,c(x,E,T,R);case Qo:return E=E.get(T.key===null?S:T.key)||null,h(x,E,T,R);case ss:var L=T._init;return v(E,x,S,L(T._payload),R)}if(Al(T)||Tl(T))return E=E.get(S)||null,f(x,E,T,R,null);mh(x,T)}return null}function _(E,x,S,T){for(var R=null,L=null,I=x,M=x=0,Y=null;I!==null&&M<S.length;M++){I.index>M?(Y=I,I=null):Y=I.sibling;var Q=m(E,I,S[M],T);if(Q===null){I===null&&(I=Y);break}t&&I&&Q.alternate===null&&e(E,I),x=s(Q,x,M),L===null?R=Q:L.sibling=Q,L=Q,I=Y}if(M===S.length)return r(E,I),ot&&to(E,M),R;if(I===null){for(;M<S.length;M++)I=p(E,S[M],T),I!==null&&(x=s(I,x,M),L===null?R=I:L.sibling=I,L=I);return ot&&to(E,M),R}for(I=n(E,I);M<S.length;M++)Y=v(I,E,M,S[M],T),Y!==null&&(t&&Y.alternate!==null&&I.delete(Y.key===null?M:Y.key),x=s(Y,x,M),L===null?R=Y:L.sibling=Y,L=Y);return t&&I.forEach(function(K){return e(E,K)}),ot&&to(E,M),R}function w(E,x,S,T){var R=Tl(S);if(typeof R!="function")throw Error(ee(150));if(S=R.call(S),S==null)throw Error(ee(151));for(var L=R=null,I=x,M=x=0,Y=null,Q=S.next();I!==null&&!Q.done;M++,Q=S.next()){I.index>M?(Y=I,I=null):Y=I.sibling;var K=m(E,I,Q.value,T);if(K===null){I===null&&(I=Y);break}t&&I&&K.alternate===null&&e(E,I),x=s(K,x,M),L===null?R=K:L.sibling=K,L=K,I=Y}if(Q.done)return r(E,I),ot&&to(E,M),R;if(I===null){for(;!Q.done;M++,Q=S.next())Q=p(E,Q.value,T),Q!==null&&(x=s(Q,x,M),L===null?R=Q:L.sibling=Q,L=Q);return ot&&to(E,M),R}for(I=n(E,I);!Q.done;M++,Q=S.next())Q=v(I,E,M,Q.value,T),Q!==null&&(t&&Q.alternate!==null&&I.delete(Q.key===null?M:Q.key),x=s(Q,x,M),L===null?R=Q:L.sibling=Q,L=Q);return t&&I.forEach(function($){return e(E,$)}),ot&&to(E,M),R}function A(E,x,S,T){if(typeof S=="object"&&S!==null&&S.type===qo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case kc:e:{for(var R=S.key,L=x;L!==null;){if(L.key===R){if(R=S.type,R===qo){if(L.tag===7){r(E,L.sibling),x=i(L,S.props.children),x.return=E,E=x;break e}}else if(L.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===ss&&c1(R)===L.type){r(E,L.sibling),x=i(L,S.props),x.ref=Kl(E,L,S),x.return=E,E=x;break e}r(E,L);break}else e(E,L);L=L.sibling}S.type===qo?(x=uo(S.props.children,E.mode,T,S.key),x.return=E,E=x):(T=Oh(S.type,S.key,S.props,null,E.mode,T),T.ref=Kl(E,x,S),T.return=E,E=T)}return o(E);case Qo:e:{for(L=S.key;x!==null;){if(x.key===L)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){r(E,x.sibling),x=i(x,S.children||[]),x.return=E,E=x;break e}else{r(E,x);break}else e(E,x);x=x.sibling}x=Sg(S,E.mode,T),x.return=E,E=x}return o(E);case ss:return L=S._init,A(E,x,L(S._payload),T)}if(Al(S))return _(E,x,S,T);if(Tl(S))return w(E,x,S,T);mh(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(r(E,x.sibling),x=i(x,S),x.return=E,E=x):(r(E,x),x=Tg(S,E.mode,T),x.return=E,E=x),o(E)):r(E,x)}return A}var ma=h1(!0),d1=h1(!1),Zl={},ti=ps(Zl),Jl=ps(Zl),eu=ps(Zl);function no(t){if(t===Zl)throw Error(ee(174));return t}function Gm(t,e){switch(tt(eu,e),tt(Jl,t),tt(ti,Zl),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Hp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Hp(e,t)}st(ti),tt(ti,e)}function ga(){st(ti),st(Jl),st(eu)}function f1(t){no(eu.current);var e=no(ti.current),r=Hp(e,t.type);e!==r&&(tt(Jl,t),tt(ti,r))}function Wm(t){Jl.current===t&&(st(ti),st(Jl))}var yt=ps(0);function gh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $m=[];function Vm(){for(var t=0;t<$m.length;t++)$m[t]._workInProgressVersionPrimary=null;$m.length=0}var yh=Pi.ReactCurrentDispatcher,Xm=Pi.ReactCurrentBatchConfig,io=0,vt=null,Ot=null,Ht=null,vh=!1,tu=!1,ru=0,wP=0;function ur(){throw Error(ee(321))}function Ym(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!wn(t[r],e[r]))return!1;return!0}function Qm(t,e,r,n,i,s){if(io=s,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yh.current=t===null||t.memoizedState===null?AP:CP,t=r(n,i),tu){s=0;do{if(tu=!1,ru=0,25<=s)throw Error(ee(301));s+=1,Ht=Ot=null,e.updateQueue=null,yh.current=PP,t=r(n,i)}while(tu)}if(yh.current=xh,e=Ot!==null&&Ot.next!==null,io=0,Ht=Ot=vt=null,vh=!1,e)throw Error(ee(300));return t}function qm(){var t=ru!==0;return ru=0,t}function ri(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ht===null?vt.memoizedState=Ht=t:Ht=Ht.next=t,Ht}function sn(){if(Ot===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Ot.next;var e=Ht===null?vt.memoizedState:Ht.next;if(e!==null)Ht=e,Ot=t;else{if(t===null)throw Error(ee(310));Ot=t,t={memoizedState:Ot.memoizedState,baseState:Ot.baseState,baseQueue:Ot.baseQueue,queue:Ot.queue,next:null},Ht===null?vt.memoizedState=Ht=t:Ht=Ht.next=t}return Ht}function nu(t,e){return typeof e=="function"?e(t):e}function Km(t){var e=sn(),r=e.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=Ot,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,c=null,h=s;do{var f=h.lane;if((io&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=p,o=n):c=c.next=p,vt.lanes|=f,so|=f}h=h.next}while(h!==null&&h!==s);c===null?o=n:c.next=l,wn(n,e.memoizedState)||(Rr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,vt.lanes|=s,so|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Zm(t){var e=sn(),r=e.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);wn(s,e.memoizedState)||(Rr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function p1(){}function m1(t,e){var r=vt,n=sn(),i=e(),s=!wn(n.memoizedState,i);if(s&&(n.memoizedState=i,Rr=!0),n=n.queue,Jm(v1.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Ht!==null&&Ht.memoizedState.tag&1){if(r.flags|=2048,iu(9,y1.bind(null,r,n,i,e),void 0,null),Gt===null)throw Error(ee(349));io&30||g1(r,e,i)}return i}function g1(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function y1(t,e,r,n){e.value=r,e.getSnapshot=n,_1(e)&&b1(t)}function v1(t,e,r){return r(function(){_1(e)&&b1(t)})}function _1(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!wn(t,r)}catch{return!0}}function b1(t){var e=Ni(t,1);e!==null&&Cn(e,t,1,-1)}function x1(t){var e=ri();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:nu,lastRenderedState:t},e.queue=t,t=t.dispatch=SP.bind(null,vt,t),[e.memoizedState,t]}function iu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function w1(){return sn().memoizedState}function _h(t,e,r,n){var i=ri();vt.flags|=t,i.memoizedState=iu(1|e,r,void 0,n===void 0?null:n)}function bh(t,e,r,n){var i=sn();n=n===void 0?null:n;var s=void 0;if(Ot!==null){var o=Ot.memoizedState;if(s=o.destroy,n!==null&&Ym(n,o.deps)){i.memoizedState=iu(e,r,s,n);return}}vt.flags|=t,i.memoizedState=iu(1|e,r,s,n)}function E1(t,e){return _h(8390656,8,t,e)}function Jm(t,e){return bh(2048,8,t,e)}function T1(t,e){return bh(4,2,t,e)}function S1(t,e){return bh(4,4,t,e)}function A1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function C1(t,e,r){return r=r!=null?r.concat([t]):null,bh(4,4,A1.bind(null,e,t),r)}function eg(){}function P1(t,e){var r=sn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ym(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function R1(t,e){var r=sn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Ym(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function I1(t,e,r){return io&21?(wn(r,e)||(r=rb(),vt.lanes|=r,so|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Rr=!0),t.memoizedState=r)}function EP(t,e){var r=Qe;Qe=r!==0&&4>r?r:4,t(!0);var n=Xm.transition;Xm.transition={};try{t(!1),e()}finally{Qe=r,Xm.transition=n}}function k1(){return sn().memoizedState}function TP(t,e,r){var n=ws(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},M1(t))N1(e,r);else if(r=r1(t,e,r,n),r!==null){var i=Tr();Cn(r,t,n,i),O1(r,e,n)}}function SP(t,e,r){var n=ws(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(M1(t))N1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,wn(l,o)){var c=e.interleaved;c===null?(i.next=i,Um(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=r1(t,e,i,n),r!==null&&(i=Tr(),Cn(r,t,n,i),O1(r,e,n))}}function M1(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function N1(t,e){tu=vh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function O1(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,em(t,r)}}var xh={readContext:nn,useCallback:ur,useContext:ur,useEffect:ur,useImperativeHandle:ur,useInsertionEffect:ur,useLayoutEffect:ur,useMemo:ur,useReducer:ur,useRef:ur,useState:ur,useDebugValue:ur,useDeferredValue:ur,useTransition:ur,useMutableSource:ur,useSyncExternalStore:ur,useId:ur,unstable_isNewReconciler:!1},AP={readContext:nn,useCallback:function(t,e){return ri().memoizedState=[t,e===void 0?null:e],t},useContext:nn,useEffect:E1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,_h(4194308,4,A1.bind(null,e,t),r)},useLayoutEffect:function(t,e){return _h(4194308,4,t,e)},useInsertionEffect:function(t,e){return _h(4,2,t,e)},useMemo:function(t,e){var r=ri();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ri();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=TP.bind(null,vt,t),[n.memoizedState,t]},useRef:function(t){var e=ri();return t={current:t},e.memoizedState=t},useState:x1,useDebugValue:eg,useDeferredValue:function(t){return ri().memoizedState=t},useTransition:function(){var t=x1(!1),e=t[0];return t=EP.bind(null,t[1]),ri().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=vt,i=ri();if(ot){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=e(),Gt===null)throw Error(ee(349));io&30||g1(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,E1(v1.bind(null,n,s,t),[t]),n.flags|=2048,iu(9,y1.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=ri(),e=Gt.identifierPrefix;if(ot){var r=Mi,n=ki;r=(n&~(1<<32-xn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=ru++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=wP++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CP={readContext:nn,useCallback:P1,useContext:nn,useEffect:Jm,useImperativeHandle:C1,useInsertionEffect:T1,useLayoutEffect:S1,useMemo:R1,useReducer:Km,useRef:w1,useState:function(){return Km(nu)},useDebugValue:eg,useDeferredValue:function(t){var e=sn();return I1(e,Ot.memoizedState,t)},useTransition:function(){var t=Km(nu)[0],e=sn().memoizedState;return[t,e]},useMutableSource:p1,useSyncExternalStore:m1,useId:k1,unstable_isNewReconciler:!1},PP={readContext:nn,useCallback:P1,useContext:nn,useEffect:Jm,useImperativeHandle:C1,useInsertionEffect:T1,useLayoutEffect:S1,useMemo:R1,useReducer:Zm,useRef:w1,useState:function(){return Zm(nu)},useDebugValue:eg,useDeferredValue:function(t){var e=sn();return Ot===null?e.memoizedState=t:I1(e,Ot.memoizedState,t)},useTransition:function(){var t=Zm(nu)[0],e=sn().memoizedState;return[t,e]},useMutableSource:p1,useSyncExternalStore:m1,useId:k1,unstable_isNewReconciler:!1};function ya(t,e){try{var r="",n=e;do r+=rC(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function tg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function rg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var RP=typeof WeakMap=="function"?WeakMap:Map;function D1(t,e,r){r=Oi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ph||(Ph=!0,gg=n),rg(t,e)},r}function L1(t,e,r){r=Oi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){rg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){rg(t,e),typeof n!="function"&&(bs===null?bs=new Set([this]):bs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function B1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new RP;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=GP.bind(null,t,e,r),e.then(t,t))}function F1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function U1(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Oi(-1,1),e.tag=2,vs(r,e,1))),r.lanes|=1),t)}var IP=Pi.ReactCurrentOwner,Rr=!1;function Er(t,e,r,n){e.child=t===null?d1(e,null,r,n):ma(e,t.child,r,n)}function z1(t,e,r,n,i){r=r.render;var s=e.ref;return pa(e,i),n=Qm(t,e,r,n,s,i),r=qm(),t!==null&&!Rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Di(t,e,i)):(ot&&r&&Im(e),e.flags|=1,Er(t,e,n,i),e.child)}function j1(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Eg(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,H1(t,e,s,n,i)):(t=Oh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Wl,r(o,n)&&t.ref===e.ref)return Di(t,e,i)}return e.flags|=1,t=Ts(s,n),t.ref=e.ref,t.return=e,e.child=t}function H1(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Wl(s,n)&&t.ref===e.ref)if(Rr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Rr=!0);else return e.lanes=t.lanes,Di(t,e,i)}return ng(t,e,r,n,i)}function G1(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},tt(_a,Vr),Vr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,tt(_a,Vr),Vr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,tt(_a,Vr),Vr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,tt(_a,Vr),Vr|=n;return Er(t,e,i,r),e.child}function W1(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ng(t,e,r,n,i){var s=Pr(r)?Js:lr.current;return s=ua(e,s),pa(e,i),r=Qm(t,e,r,n,s,i),n=qm(),t!==null&&!Rr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Di(t,e,i)):(ot&&n&&Im(e),e.flags|=1,Er(t,e,r,i),e.child)}function $1(t,e,r,n,i){if(Pr(r)){var s=!0;sh(e)}else s=!1;if(pa(e,i),e.stateNode===null)Eh(t,e),l1(e,r,n),Hm(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=nn(h):(h=Pr(r)?Js:lr.current,h=ua(e,h));var f=r.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==h)&&u1(e,o,n,h),ys=!1;var m=e.memoizedState;o.state=m,fh(e,n,o,i),c=e.memoizedState,l!==n||m!==c||Cr.current||ys?(typeof f=="function"&&(jm(e,r,f,n),c=e.memoizedState),(l=ys||a1(e,r,l,n,m,c,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=h,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,n1(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:Tn(e.type,l),o.props=h,p=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=nn(c):(c=Pr(r)?Js:lr.current,c=ua(e,c));var v=r.getDerivedStateFromProps;(f=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==c)&&u1(e,o,n,c),ys=!1,m=e.memoizedState,o.state=m,fh(e,n,o,i);var _=e.memoizedState;l!==p||m!==_||Cr.current||ys?(typeof v=="function"&&(jm(e,r,v,n),_=e.memoizedState),(h=ys||a1(e,r,h,n,m,_,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),o.props=n,o.state=_,o.context=c,n=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return ig(t,e,r,n,s,i)}function ig(t,e,r,n,i,s){W1(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&Qb(e,r,!1),Di(t,e,s);n=e.stateNode,IP.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ma(e,t.child,null,s),e.child=ma(e,null,l,s)):Er(t,e,l,s),e.memoizedState=n.state,i&&Qb(e,r,!0),e.child}function V1(t){var e=t.stateNode;e.pendingContext?Xb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Xb(t,e.context,!1),Gm(t,e.containerInfo)}function X1(t,e,r,n,i){return da(),Om(i),e.flags|=256,Er(t,e,r,n),e.child}var sg={dehydrated:null,treeContext:null,retryLane:0};function og(t){return{baseLanes:t,cachePool:null,transitions:null}}function Y1(t,e,r){var n=e.pendingProps,i=yt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),tt(yt,i&1),t===null)return Nm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Dh(o,n,0,null),t=uo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=og(r),e.memoizedState=sg,t):ag(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return kP(t,e,o,n,l,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ts(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ts(l,s):(s=uo(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?og(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=sg,n}return s=t.child,t=s.sibling,n=Ts(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function ag(t,e){return e=Dh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wh(t,e,r,n){return n!==null&&Om(n),ma(e,t.child,null,r),t=ag(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function kP(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=tg(Error(ee(422))),wh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Dh({mode:"visible",children:n.children},i,0,null),s=uo(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ma(e,t.child,null,o),e.child.memoizedState=og(o),e.memoizedState=sg,s);if(!(e.mode&1))return wh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(ee(419)),n=tg(s,n,void 0),wh(t,e,o,n)}if(l=(o&t.childLanes)!==0,Rr||l){if(n=Gt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ni(t,i),Cn(n,t,i,-1))}return wg(),n=tg(Error(ee(421))),wh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=WP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,$r=fs(i.nextSibling),Wr=e,ot=!0,En=null,t!==null&&(tn[rn++]=ki,tn[rn++]=Mi,tn[rn++]=eo,ki=t.id,Mi=t.overflow,eo=e),e=ag(e,n.children),e.flags|=4096,e)}function Q1(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Fm(t.return,e,r)}function lg(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function q1(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Er(t,e,n.children,r),n=yt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Q1(t,r,e);else if(t.tag===19)Q1(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(tt(yt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&gh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),lg(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}lg(e,!0,r,null,s);break;case"together":lg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Eh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Di(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),so|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,r=Ts(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ts(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function MP(t,e,r){switch(e.tag){case 3:V1(e),da();break;case 5:f1(e);break;case 1:Pr(e.type)&&sh(e);break;case 4:Gm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;tt(ch,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(tt(yt,yt.current&1),e.flags|=128,null):r&e.child.childLanes?Y1(t,e,r):(tt(yt,yt.current&1),t=Di(t,e,r),t!==null?t.sibling:null);tt(yt,yt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return q1(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),tt(yt,yt.current),n)break;return null;case 22:case 23:return e.lanes=0,G1(t,e,r)}return Di(t,e,r)}var K1,ug,Z1,J1;K1=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},ug=function(){},Z1=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,no(ti.current);var s=null;switch(r){case"input":i=Fp(t,i),n=Fp(t,n),s=[];break;case"select":i=gt({},i,{value:void 0}),n=gt({},n,{value:void 0}),s=[];break;case"textarea":i=jp(t,i),n=jp(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=rh)}Gp(r,n);var o;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(El.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var c=n[h];if(l=i==null?void 0:i[h],n.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(El.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&it("scroll",t),s||l===c||(s=[])):(s=s||[]).push(h,c))}r&&(s=s||[]).push("style",r);var h=s;(e.updateQueue=h)&&(e.flags|=4)}},J1=function(t,e,r,n){r!==n&&(e.flags|=4)};function su(t,e){if(!ot)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function cr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function NP(t,e,r){var n=e.pendingProps;switch(km(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return cr(e),null;case 1:return Pr(e.type)&&ih(),cr(e),null;case 3:return n=e.stateNode,ga(),st(Cr),st(lr),Vm(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(uh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,En!==null&&(_g(En),En=null))),ug(t,e),cr(e),null;case 5:Wm(e);var i=no(eu.current);if(r=e.type,t!==null&&e.stateNode!=null)Z1(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ee(166));return cr(e),null}if(t=no(ti.current),uh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ei]=e,n[Ql]=s,t=(e.mode&1)!==0,r){case"dialog":it("cancel",n),it("close",n);break;case"iframe":case"object":case"embed":it("load",n);break;case"video":case"audio":for(i=0;i<Vl.length;i++)it(Vl[i],n);break;case"source":it("error",n);break;case"img":case"image":case"link":it("error",n),it("load",n);break;case"details":it("toggle",n);break;case"input":M_(n,s),it("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},it("invalid",n);break;case"textarea":D_(n,s),it("invalid",n)}Gp(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&th(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&th(n.textContent,l,t),i=["children",""+l]):El.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&it("scroll",n)}switch(r){case"input":Mc(n),O_(n,s,!0);break;case"textarea":Mc(n),B_(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=rh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=F_(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ei]=e,t[Ql]=n,K1(t,e,!1,!1),e.stateNode=t;e:{switch(o=Wp(r,n),r){case"dialog":it("cancel",t),it("close",t),i=n;break;case"iframe":case"object":case"embed":it("load",t),i=n;break;case"video":case"audio":for(i=0;i<Vl.length;i++)it(Vl[i],t);i=n;break;case"source":it("error",t),i=n;break;case"img":case"image":case"link":it("error",t),it("load",t),i=n;break;case"details":it("toggle",t),i=n;break;case"input":M_(t,n),i=Fp(t,n),it("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=gt({},n,{value:void 0}),it("invalid",t);break;case"textarea":D_(t,n),i=jp(t,n),it("invalid",t);break;default:i=n}Gp(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?j_(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&U_(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Cl(t,c):typeof c=="number"&&Cl(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(El.hasOwnProperty(s)?c!=null&&s==="onScroll"&&it("scroll",t):c!=null&&Cp(t,s,c,o))}switch(r){case"input":Mc(t),O_(t,n,!1);break;case"textarea":Mc(t),B_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+os(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Ko(t,!!n.multiple,s,!1):n.defaultValue!=null&&Ko(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return cr(e),null;case 6:if(t&&e.stateNode!=null)J1(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ee(166));if(r=no(eu.current),no(ti.current),uh(e)){if(n=e.stateNode,r=e.memoizedProps,n[ei]=e,(s=n.nodeValue!==r)&&(t=Wr,t!==null))switch(t.tag){case 3:th(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&th(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ei]=e,e.stateNode=n}return cr(e),null;case 13:if(st(yt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ot&&$r!==null&&e.mode&1&&!(e.flags&128))t1(),da(),e.flags|=98560,s=!1;else if(s=uh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ee(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ee(317));s[ei]=e}else da(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;cr(e),s=!1}else En!==null&&(_g(En),En=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||yt.current&1?Dt===0&&(Dt=3):wg())),e.updateQueue!==null&&(e.flags|=4),cr(e),null);case 4:return ga(),ug(t,e),t===null&&Xl(e.stateNode.containerInfo),cr(e),null;case 10:return Bm(e.type._context),cr(e),null;case 17:return Pr(e.type)&&ih(),cr(e),null;case 19:if(st(yt),s=e.memoizedState,s===null)return cr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)su(s,!1);else{if(Dt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gh(t),o!==null){for(e.flags|=128,su(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return tt(yt,yt.current&1|2),e.child}t=t.sibling}s.tail!==null&&St()>ba&&(e.flags|=128,n=!0,su(s,!1),e.lanes=4194304)}else{if(!n)if(t=gh(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),su(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ot)return cr(e),null}else 2*St()-s.renderingStartTime>ba&&r!==1073741824&&(e.flags|=128,n=!0,su(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=St(),e.sibling=null,r=yt.current,tt(yt,n?r&1|2:r&1),e):(cr(e),null);case 22:case 23:return xg(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?Vr&1073741824&&(cr(e),e.subtreeFlags&6&&(e.flags|=8192)):cr(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function OP(t,e){switch(km(e),e.tag){case 1:return Pr(e.type)&&ih(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ga(),st(Cr),st(lr),Vm(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Wm(e),null;case 13:if(st(yt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));da()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(yt),null;case 4:return ga(),null;case 10:return Bm(e.type._context),null;case 22:case 23:return xg(),null;case 24:return null;default:return null}}var Th=!1,hr=!1,DP=typeof WeakSet=="function"?WeakSet:Set,ce=null;function va(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){wt(t,e,n)}else r.current=null}function ex(t,e,r){try{r()}catch(n){wt(t,e,n)}}var tx=!1;function LP(t,e){if(wm=Wc,t=kb(),pm(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,h=0,f=0,p=t,m=null;t:for(;;){for(var v;p!==r||i!==0&&p.nodeType!==3||(l=o+i),p!==s||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(v=p.firstChild)!==null;)m=p,p=v;for(;;){if(p===t)break t;if(m===r&&++h===i&&(l=o),m===s&&++f===n&&(c=o),(v=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=v}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Em={focusedElem:t,selectionRange:r},Wc=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,A=_.memoizedState,E=e.stateNode,x=E.getSnapshotBeforeUpdate(e.elementType===e.type?w:Tn(e.type,w),A);E.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(T){wt(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return _=tx,tx=!1,_}function ou(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&ex(e,r,s)}i=i.next}while(i!==n)}}function Sh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function cg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function rx(t){var e=t.alternate;e!==null&&(t.alternate=null,rx(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ei],delete e[Ql],delete e[Cm],delete e[vP],delete e[_P])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function nx(t){return t.tag===5||t.tag===3||t.tag===4}function ix(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||nx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function hg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=rh));else if(n!==4&&(t=t.child,t!==null))for(hg(t,e,r),t=t.sibling;t!==null;)hg(t,e,r),t=t.sibling}function dg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(dg(t,e,r),t=t.sibling;t!==null;)dg(t,e,r),t=t.sibling}var er=null,Sn=!1;function _s(t,e,r){for(r=r.child;r!==null;)sx(t,e,r),r=r.sibling}function sx(t,e,r){if(Jn&&typeof Jn.onCommitFiberUnmount=="function")try{Jn.onCommitFiberUnmount(Fc,r)}catch{}switch(r.tag){case 5:hr||va(r,e);case 6:var n=er,i=Sn;er=null,_s(t,e,r),er=n,Sn=i,er!==null&&(Sn?(t=er,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):er.removeChild(r.stateNode));break;case 18:er!==null&&(Sn?(t=er,r=r.stateNode,t.nodeType===8?Am(t.parentNode,r):t.nodeType===1&&Am(t,r),Fl(t)):Am(er,r.stateNode));break;case 4:n=er,i=Sn,er=r.stateNode.containerInfo,Sn=!0,_s(t,e,r),er=n,Sn=i;break;case 0:case 11:case 14:case 15:if(!hr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&ex(r,e,o),i=i.next}while(i!==n)}_s(t,e,r);break;case 1:if(!hr&&(va(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){wt(r,e,l)}_s(t,e,r);break;case 21:_s(t,e,r);break;case 22:r.mode&1?(hr=(n=hr)||r.memoizedState!==null,_s(t,e,r),hr=n):_s(t,e,r);break;default:_s(t,e,r)}}function ox(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new DP),e.forEach(function(n){var i=$P.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function An(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:er=l.stateNode,Sn=!1;break e;case 3:er=l.stateNode.containerInfo,Sn=!0;break e;case 4:er=l.stateNode.containerInfo,Sn=!0;break e}l=l.return}if(er===null)throw Error(ee(160));sx(s,o,i),er=null,Sn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){wt(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ax(e,t),e=e.sibling}function ax(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(An(e,t),ni(t),n&4){try{ou(3,t,t.return),Sh(3,t)}catch(w){wt(t,t.return,w)}try{ou(5,t,t.return)}catch(w){wt(t,t.return,w)}}break;case 1:An(e,t),ni(t),n&512&&r!==null&&va(r,r.return);break;case 5:if(An(e,t),ni(t),n&512&&r!==null&&va(r,r.return),t.flags&32){var i=t.stateNode;try{Cl(i,"")}catch(w){wt(t,t.return,w)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&N_(i,s),Wp(l,o);var h=Wp(l,s);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?j_(i,p):f==="dangerouslySetInnerHTML"?U_(i,p):f==="children"?Cl(i,p):Cp(i,f,p,h)}switch(l){case"input":Up(i,s);break;case"textarea":L_(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var v=s.value;v!=null?Ko(i,!!s.multiple,v,!1):m!==!!s.multiple&&(s.defaultValue!=null?Ko(i,!!s.multiple,s.defaultValue,!0):Ko(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ql]=s}catch(w){wt(t,t.return,w)}}break;case 6:if(An(e,t),ni(t),n&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){wt(t,t.return,w)}}break;case 3:if(An(e,t),ni(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Fl(e.containerInfo)}catch(w){wt(t,t.return,w)}break;case 4:An(e,t),ni(t);break;case 13:An(e,t),ni(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(mg=St())),n&4&&ox(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(hr=(h=hr)||f,An(e,t),hr=h):An(e,t),ni(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(ce=t,f=t.child;f!==null;){for(p=ce=f;ce!==null;){switch(m=ce,v=m.child,m.tag){case 0:case 11:case 14:case 15:ou(4,m,m.return);break;case 1:va(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){wt(n,r,w)}}break;case 5:va(m,m.return);break;case 22:if(m.memoizedState!==null){cx(p);continue}}v!==null?(v.return=m,ce=v):cx(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=z_("display",o))}catch(w){wt(t,t.return,w)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(w){wt(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:An(e,t),ni(t),n&4&&ox(t);break;case 21:break;default:An(e,t),ni(t)}}function ni(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(nx(r)){var n=r;break e}r=r.return}throw Error(ee(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Cl(i,""),n.flags&=-33);var s=ix(t);dg(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=ix(t);hg(t,l,o);break;default:throw Error(ee(161))}}catch(c){wt(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function BP(t,e,r){ce=t,lx(t)}function lx(t,e,r){for(var n=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Th;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||hr;l=Th;var h=hr;if(Th=o,(hr=c)&&!h)for(ce=i;ce!==null;)o=ce,c=o.child,o.tag===22&&o.memoizedState!==null?hx(i):c!==null?(c.return=o,ce=c):hx(i);for(;s!==null;)ce=s,lx(s),s=s.sibling;ce=i,Th=l,hr=h}ux(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):ux(t)}}function ux(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:hr||Sh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!hr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Tn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&s1(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}s1(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Fl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}hr||e.flags&512&&cg(e)}catch(m){wt(e,e.return,m)}}if(e===t){ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,ce=r;break}ce=e.return}}function cx(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ce=r;break}ce=e.return}}function hx(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Sh(4,e)}catch(c){wt(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){wt(e,i,c)}}var s=e.return;try{cg(e)}catch(c){wt(e,s,c)}break;case 5:var o=e.return;try{cg(e)}catch(c){wt(e,o,c)}}}catch(c){wt(e,e.return,c)}if(e===t){ce=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ce=l;break}ce=e.return}}var FP=Math.ceil,Ah=Pi.ReactCurrentDispatcher,fg=Pi.ReactCurrentOwner,on=Pi.ReactCurrentBatchConfig,Ge=0,Gt=null,Rt=null,tr=0,Vr=0,_a=ps(0),Dt=0,au=null,so=0,Ch=0,pg=0,lu=null,Ir=null,mg=0,ba=1/0,Li=null,Ph=!1,gg=null,bs=null,Rh=!1,xs=null,Ih=0,uu=0,yg=null,kh=-1,Mh=0;function Tr(){return Ge&6?St():kh!==-1?kh:kh=St()}function ws(t){return t.mode&1?Ge&2&&tr!==0?tr&-tr:xP.transition!==null?(Mh===0&&(Mh=rb()),Mh):(t=Qe,t!==0||(t=window.event,t=t===void 0?16:hb(t.type)),t):1}function Cn(t,e,r,n){if(50<uu)throw uu=0,yg=null,Error(ee(185));Nl(t,r,n),(!(Ge&2)||t!==Gt)&&(t===Gt&&(!(Ge&2)&&(Ch|=r),Dt===4&&Es(t,tr)),kr(t,n),r===1&&Ge===0&&!(e.mode&1)&&(ba=St()+500,oh&&gs()))}function kr(t,e){var r=t.callbackNode;xC(t,e);var n=jc(t,t===Gt?tr:0);if(n===0)r!==null&&J_(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&J_(r),e===1)t.tag===0?bP(fx.bind(null,t)):qb(fx.bind(null,t)),gP(function(){!(Ge&6)&&gs()}),r=null;else{switch(nb(n)){case 1:r=Kp;break;case 4:r=eb;break;case 16:r=Bc;break;case 536870912:r=tb;break;default:r=Bc}r=xx(r,dx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function dx(t,e){if(kh=-1,Mh=0,Ge&6)throw Error(ee(327));var r=t.callbackNode;if(xa()&&t.callbackNode!==r)return null;var n=jc(t,t===Gt?tr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Nh(t,n);else{e=n;var i=Ge;Ge|=2;var s=mx();(Gt!==t||tr!==e)&&(Li=null,ba=St()+500,ao(t,e));do try{jP();break}catch(l){px(t,l)}while(1);Lm(),Ah.current=s,Ge=i,Rt!==null?e=0:(Gt=null,tr=0,e=Dt)}if(e!==0){if(e===2&&(i=Zp(t),i!==0&&(n=i,e=vg(t,i))),e===1)throw r=au,ao(t,0),Es(t,n),kr(t,St()),r;if(e===6)Es(t,n);else{if(i=t.current.alternate,!(n&30)&&!UP(i)&&(e=Nh(t,n),e===2&&(s=Zp(t),s!==0&&(n=s,e=vg(t,s))),e===1))throw r=au,ao(t,0),Es(t,n),kr(t,St()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ee(345));case 2:lo(t,Ir,Li);break;case 3:if(Es(t,n),(n&130023424)===n&&(e=mg+500-St(),10<e)){if(jc(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Tr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Sm(lo.bind(null,t,Ir,Li),e);break}lo(t,Ir,Li);break;case 4:if(Es(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-xn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=St()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*FP(n/1960))-n,10<n){t.timeoutHandle=Sm(lo.bind(null,t,Ir,Li),n);break}lo(t,Ir,Li);break;case 5:lo(t,Ir,Li);break;default:throw Error(ee(329))}}}return kr(t,St()),t.callbackNode===r?dx.bind(null,t):null}function vg(t,e){var r=lu;return t.current.memoizedState.isDehydrated&&(ao(t,e).flags|=256),t=Nh(t,e),t!==2&&(e=Ir,Ir=r,e!==null&&_g(e)),t}function _g(t){Ir===null?Ir=t:Ir.push.apply(Ir,t)}function UP(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!wn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Es(t,e){for(e&=~pg,e&=~Ch,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-xn(e),n=1<<r;t[r]=-1,e&=~n}}function fx(t){if(Ge&6)throw Error(ee(327));xa();var e=jc(t,0);if(!(e&1))return kr(t,St()),null;var r=Nh(t,e);if(t.tag!==0&&r===2){var n=Zp(t);n!==0&&(e=n,r=vg(t,n))}if(r===1)throw r=au,ao(t,0),Es(t,e),kr(t,St()),r;if(r===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,lo(t,Ir,Li),kr(t,St()),null}function bg(t,e){var r=Ge;Ge|=1;try{return t(e)}finally{Ge=r,Ge===0&&(ba=St()+500,oh&&gs())}}function oo(t){xs!==null&&xs.tag===0&&!(Ge&6)&&xa();var e=Ge;Ge|=1;var r=on.transition,n=Qe;try{if(on.transition=null,Qe=1,t)return t()}finally{Qe=n,on.transition=r,Ge=e,!(Ge&6)&&gs()}}function xg(){Vr=_a.current,st(_a)}function ao(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,mP(r)),Rt!==null)for(r=Rt.return;r!==null;){var n=r;switch(km(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&ih();break;case 3:ga(),st(Cr),st(lr),Vm();break;case 5:Wm(n);break;case 4:ga();break;case 13:st(yt);break;case 19:st(yt);break;case 10:Bm(n.type._context);break;case 22:case 23:xg()}r=r.return}if(Gt=t,Rt=t=Ts(t.current,null),tr=Vr=e,Dt=0,au=null,pg=Ch=so=0,Ir=lu=null,ro!==null){for(e=0;e<ro.length;e++)if(r=ro[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}ro=null}return t}function px(t,e){do{var r=Rt;try{if(Lm(),yh.current=xh,vh){for(var n=vt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}vh=!1}if(io=0,Ht=Ot=vt=null,tu=!1,ru=0,fg.current=null,r===null||r.return===null){Dt=1,au=e,Rt=null;break}e:{var s=t,o=r.return,l=r,c=e;if(e=tr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var v=F1(o);if(v!==null){v.flags&=-257,U1(v,o,l,s,e),v.mode&1&&B1(s,h,e),e=v,c=h;var _=e.updateQueue;if(_===null){var w=new Set;w.add(c),e.updateQueue=w}else _.add(c);break e}else{if(!(e&1)){B1(s,h,e),wg();break e}c=Error(ee(426))}}else if(ot&&l.mode&1){var A=F1(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),U1(A,o,l,s,e),Om(ya(c,l));break e}}s=c=ya(c,l),Dt!==4&&(Dt=2),lu===null?lu=[s]:lu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=D1(s,c,e);i1(s,E);break e;case 1:l=c;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(bs===null||!bs.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=L1(s,l,e);i1(s,T);break e}}s=s.return}while(s!==null)}yx(r)}catch(R){e=R,Rt===r&&r!==null&&(Rt=r=r.return);continue}break}while(1)}function mx(){var t=Ah.current;return Ah.current=xh,t===null?xh:t}function wg(){(Dt===0||Dt===3||Dt===2)&&(Dt=4),Gt===null||!(so&268435455)&&!(Ch&268435455)||Es(Gt,tr)}function Nh(t,e){var r=Ge;Ge|=2;var n=mx();(Gt!==t||tr!==e)&&(Li=null,ao(t,e));do try{zP();break}catch(i){px(t,i)}while(1);if(Lm(),Ge=r,Ah.current=n,Rt!==null)throw Error(ee(261));return Gt=null,tr=0,Dt}function zP(){for(;Rt!==null;)gx(Rt)}function jP(){for(;Rt!==null&&!dC();)gx(Rt)}function gx(t){var e=bx(t.alternate,t,Vr);t.memoizedProps=t.pendingProps,e===null?yx(t):Rt=e,fg.current=null}function yx(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=OP(r,e),r!==null){r.flags&=32767,Rt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Dt=6,Rt=null;return}}else if(r=NP(r,e,Vr),r!==null){Rt=r;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Dt===0&&(Dt=5)}function lo(t,e,r){var n=Qe,i=on.transition;try{on.transition=null,Qe=1,HP(t,e,r,n)}finally{on.transition=i,Qe=n}return null}function HP(t,e,r,n){do xa();while(xs!==null);if(Ge&6)throw Error(ee(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(wC(t,s),t===Gt&&(Rt=Gt=null,tr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rh||(Rh=!0,xx(Bc,function(){return xa(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=on.transition,on.transition=null;var o=Qe;Qe=1;var l=Ge;Ge|=4,fg.current=null,LP(t,r),ax(r,t),lP(Em),Wc=!!wm,Em=wm=null,t.current=r,BP(r),fC(),Ge=l,Qe=o,on.transition=s}else t.current=r;if(Rh&&(Rh=!1,xs=t,Ih=i),s=t.pendingLanes,s===0&&(bs=null),gC(r.stateNode),kr(t,St()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ph)throw Ph=!1,t=gg,gg=null,t;return Ih&1&&t.tag!==0&&xa(),s=t.pendingLanes,s&1?t===yg?uu++:(uu=0,yg=t):uu=0,gs(),null}function xa(){if(xs!==null){var t=nb(Ih),e=on.transition,r=Qe;try{if(on.transition=null,Qe=16>t?16:t,xs===null)var n=!1;else{if(t=xs,xs=null,Ih=0,Ge&6)throw Error(ee(331));var i=Ge;for(Ge|=4,ce=t.current;ce!==null;){var s=ce,o=s.child;if(ce.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(ce=h;ce!==null;){var f=ce;switch(f.tag){case 0:case 11:case 15:ou(8,f,s)}var p=f.child;if(p!==null)p.return=f,ce=p;else for(;ce!==null;){f=ce;var m=f.sibling,v=f.return;if(rx(f),f===h){ce=null;break}if(m!==null){m.return=v,ce=m;break}ce=v}}}var _=s.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var A=w.sibling;w.sibling=null,w=A}while(w!==null)}}ce=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ce=o;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ou(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,ce=E;break e}ce=s.return}}var x=t.current;for(ce=x;ce!==null;){o=ce;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,ce=S;else e:for(o=x;ce!==null;){if(l=ce,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Sh(9,l)}}catch(R){wt(l,l.return,R)}if(l===o){ce=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,ce=T;break e}ce=l.return}}if(Ge=i,gs(),Jn&&typeof Jn.onPostCommitFiberRoot=="function")try{Jn.onPostCommitFiberRoot(Fc,t)}catch{}n=!0}return n}finally{Qe=r,on.transition=e}}return!1}function vx(t,e,r){e=ya(r,e),e=D1(t,e,1),t=vs(t,e,1),e=Tr(),t!==null&&(Nl(t,1,e),kr(t,e))}function wt(t,e,r){if(t.tag===3)vx(t,t,r);else for(;e!==null;){if(e.tag===3){vx(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(bs===null||!bs.has(n))){t=ya(r,t),t=L1(e,t,1),e=vs(e,t,1),t=Tr(),e!==null&&(Nl(e,1,t),kr(e,t));break}}e=e.return}}function GP(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Tr(),t.pingedLanes|=t.suspendedLanes&r,Gt===t&&(tr&r)===r&&(Dt===4||Dt===3&&(tr&130023424)===tr&&500>St()-mg?ao(t,0):pg|=r),kr(t,e)}function _x(t,e){e===0&&(t.mode&1?(e=zc,zc<<=1,!(zc&130023424)&&(zc=4194304)):e=1);var r=Tr();t=Ni(t,e),t!==null&&(Nl(t,e,r),kr(t,r))}function WP(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),_x(t,r)}function $P(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(e),_x(t,r)}var bx;bx=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Cr.current)Rr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Rr=!1,MP(t,e,r);Rr=!!(t.flags&131072)}else Rr=!1,ot&&e.flags&1048576&&Kb(e,lh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Eh(t,e),t=e.pendingProps;var i=ua(e,lr.current);pa(e,r),i=Qm(null,e,n,t,i,r);var s=qm();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Pr(n)?(s=!0,sh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,zm(e),i.updater=ph,e.stateNode=i,i._reactInternals=e,Hm(e,n,t,r),e=ig(null,e,n,!0,s,r)):(e.tag=0,ot&&s&&Im(e),Er(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Eh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=XP(n),t=Tn(n,t),i){case 0:e=ng(null,e,n,t,r);break e;case 1:e=$1(null,e,n,t,r);break e;case 11:e=z1(null,e,n,t,r);break e;case 14:e=j1(null,e,n,Tn(n.type,t),r);break e}throw Error(ee(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Tn(n,i),ng(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Tn(n,i),$1(t,e,n,i,r);case 3:e:{if(V1(e),t===null)throw Error(ee(387));n=e.pendingProps,s=e.memoizedState,i=s.element,n1(t,e),fh(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ya(Error(ee(423)),e),e=X1(t,e,n,r,i);break e}else if(n!==i){i=ya(Error(ee(424)),e),e=X1(t,e,n,r,i);break e}else for($r=fs(e.stateNode.containerInfo.firstChild),Wr=e,ot=!0,En=null,r=d1(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(da(),n===i){e=Di(t,e,r);break e}Er(t,e,n,r)}e=e.child}return e;case 5:return f1(e),t===null&&Nm(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Tm(n,i)?o=null:s!==null&&Tm(n,s)&&(e.flags|=32),W1(t,e),Er(t,e,o,r),e.child;case 6:return t===null&&Nm(e),null;case 13:return Y1(t,e,r);case 4:return Gm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ma(e,null,n,r):Er(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Tn(n,i),z1(t,e,n,i,r);case 7:return Er(t,e,e.pendingProps,r),e.child;case 8:return Er(t,e,e.pendingProps.children,r),e.child;case 12:return Er(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,tt(ch,n._currentValue),n._currentValue=o,s!==null)if(wn(s.value,o)){if(s.children===i.children&&!Cr.current){e=Di(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Oi(-1,r&-r),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Fm(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ee(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Fm(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Er(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,pa(e,r),i=nn(i),n=n(i),e.flags|=1,Er(t,e,n,r),e.child;case 14:return n=e.type,i=Tn(n,e.pendingProps),i=Tn(n.type,i),j1(t,e,n,i,r);case 15:return H1(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Tn(n,i),Eh(t,e),e.tag=1,Pr(n)?(t=!0,sh(e)):t=!1,pa(e,r),l1(e,n,i),Hm(e,n,i,r),ig(null,e,n,!0,t,r);case 19:return q1(t,e,r);case 22:return G1(t,e,r)}throw Error(ee(156,e.tag))};function xx(t,e){return Z_(t,e)}function VP(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(t,e,r,n){return new VP(t,e,r,n)}function Eg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function XP(t){if(typeof t=="function")return Eg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Ip)return 11;if(t===Np)return 14}return 2}function Ts(t,e){var r=t.alternate;return r===null?(r=an(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Oh(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Eg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case qo:return uo(r.children,i,s,e);case Pp:o=8,i|=8;break;case Rp:return t=an(12,r,e,i|2),t.elementType=Rp,t.lanes=s,t;case kp:return t=an(13,r,e,i),t.elementType=kp,t.lanes=s,t;case Mp:return t=an(19,r,e,i),t.elementType=Mp,t.lanes=s,t;case P_:return Dh(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case A_:o=10;break e;case C_:o=9;break e;case Ip:o=11;break e;case Np:o=14;break e;case ss:o=16,n=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=an(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function uo(t,e,r,n){return t=an(7,t,n,e),t.lanes=r,t}function Dh(t,e,r,n){return t=an(22,t,n,e),t.elementType=P_,t.lanes=r,t.stateNode={isHidden:!1},t}function Tg(t,e,r){return t=an(6,t,null,e),t.lanes=r,t}function Sg(t,e,r){return e=an(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function YP(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jp(0),this.expirationTimes=Jp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jp(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ag(t,e,r,n,i,s,o,l,c){return t=new YP(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=an(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},zm(s),t}function QP(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function wx(t){if(!t)return ms;t=t._reactInternals;e:{if(Ks(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Pr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var r=t.type;if(Pr(r))return Yb(t,r,e)}return e}function Ex(t,e,r,n,i,s,o,l,c){return t=Ag(r,n,!0,t,i,s,o,l,c),t.context=wx(null),r=t.current,n=Tr(),i=ws(r),s=Oi(n,i),s.callback=e??null,vs(r,s,i),t.current.lanes=i,Nl(t,i,n),kr(t,n),t}function Lh(t,e,r,n){var i=e.current,s=Tr(),o=ws(i);return r=wx(r),e.context===null?e.context=r:e.pendingContext=r,e=Oi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=vs(i,e,o),t!==null&&(Cn(t,i,o,s),dh(t,i,o)),o}function Bh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Cg(t,e){Tx(t,e),(t=t.alternate)&&Tx(t,e)}function qP(){return null}var Sx=typeof reportError=="function"?reportError:function(t){console.error(t)};function Pg(t){this._internalRoot=t}Fh.prototype.render=Pg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));Lh(t,e,null,null)},Fh.prototype.unmount=Pg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;oo(function(){Lh(null,t,null,null)}),e[Ri]=null}};function Fh(t){this._internalRoot=t}Fh.prototype.unstable_scheduleHydration=function(t){if(t){var e=ob();t={blockedOn:null,target:t,priority:e};for(var r=0;r<cs.length&&e!==0&&e<cs[r].priority;r++);cs.splice(r,0,t),r===0&&ub(t)}};function Rg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Uh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ax(){}function KP(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var h=Bh(o);s.call(h)}}var o=Ex(e,n,t,0,null,!1,!1,"",Ax);return t._reactRootContainer=o,t[Ri]=o.current,Xl(t.nodeType===8?t.parentNode:t),oo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var h=Bh(c);l.call(h)}}var c=Ag(t,0,!1,null,null,!1,!1,"",Ax);return t._reactRootContainer=c,t[Ri]=c.current,Xl(t.nodeType===8?t.parentNode:t),oo(function(){Lh(e,c,r,n)}),c}function zh(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=Bh(o);l.call(c)}}Lh(e,o,t,i)}else o=KP(r,e,t,i,n);return Bh(o)}ib=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ml(e.pendingLanes);r!==0&&(em(e,r|1),kr(e,St()),!(Ge&6)&&(ba=St()+500,gs()))}break;case 13:oo(function(){var n=Ni(t,1);if(n!==null){var i=Tr();Cn(n,t,1,i)}}),Cg(t,1)}},tm=function(t){if(t.tag===13){var e=Ni(t,134217728);if(e!==null){var r=Tr();Cn(e,t,134217728,r)}Cg(t,134217728)}},sb=function(t){if(t.tag===13){var e=ws(t),r=Ni(t,e);if(r!==null){var n=Tr();Cn(r,t,e,n)}Cg(t,e)}},ob=function(){return Qe},ab=function(t,e){var r=Qe;try{return Qe=t,e()}finally{Qe=r}},Xp=function(t,e,r){switch(e){case"input":if(Up(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=nh(n);if(!i)throw Error(ee(90));k_(n),Up(n,i)}}}break;case"textarea":L_(t,r);break;case"select":e=r.value,e!=null&&Ko(t,!!r.multiple,e,!1)}},$_=bg,V_=oo;var ZP={usingClientEntryPoint:!1,Events:[ql,aa,nh,G_,W_,bg]},cu={findFiberByHostInstance:Zs,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},JP={bundleType:cu.bundleType,version:cu.version,rendererPackageName:cu.rendererPackageName,rendererConfig:cu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Pi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=q_(t),t===null?null:t.stateNode},findFiberByHostInstance:cu.findFiberByHostInstance||qP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jh.isDisabled&&jh.supportsFiber)try{Fc=jh.inject(JP),Jn=jh}catch{}}jr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ZP,jr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Rg(e))throw Error(ee(200));return QP(t,e,null,r)},jr.createRoot=function(t,e){if(!Rg(t))throw Error(ee(299));var r=!1,n="",i=Sx;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ag(t,1,!1,null,null,r,!1,n,i),t[Ri]=e.current,Xl(t.nodeType===8?t.parentNode:t),new Pg(e)},jr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=q_(e),t=t===null?null:t.stateNode,t},jr.flushSync=function(t){return oo(t)},jr.hydrate=function(t,e,r){if(!Uh(e))throw Error(ee(200));return zh(null,t,e,!0,r)},jr.hydrateRoot=function(t,e,r){if(!Rg(t))throw Error(ee(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Sx;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Ex(e,null,t,1,r??null,i,!1,s,o),t[Ri]=e.current,Xl(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Fh(e)},jr.render=function(t,e,r){if(!Uh(e))throw Error(ee(200));return zh(null,t,e,!1,r)},jr.unmountComponentAtNode=function(t){if(!Uh(t))throw Error(ee(40));return t._reactRootContainer?(oo(function(){zh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ri]=null})}),!0):!1},jr.unstable_batchedUpdates=bg,jr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Uh(r))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return zh(t,e,r,!1,n)},jr.version="18.2.0-next-9e3b772b8-20220608";function Cx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Cx)}catch(t){console.error(t)}}Cx(),__.exports=jr;var eR=__.exports,Px=eR;Ep.createRoot=Px.createRoot,Ep.hydrateRoot=Px.hydrateRoot;function at(){return at=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},at.apply(this,arguments)}var It;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(It||(It={}));const Rx="popstate";function tR(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:l}=n.location;return hu("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:co(i)}return nR(e,r,null,t)}function Oe(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function rR(){return Math.random().toString(36).substr(2,8)}function Ix(t,e){return{usr:t.state,key:t.key,idx:e}}function hu(t,e,r,n){return r===void 0&&(r=null),at({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Bi(e):e,{state:r,key:e&&e.key||n||rR()})}function co(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Bi(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function nR(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=It.Pop,c=null,h=f();h==null&&(h=0,o.replaceState(at({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=It.Pop;let A=f(),E=A==null?null:A-h;h=A,c&&c({action:l,location:w.location,delta:E})}function m(A,E){l=It.Push;let x=hu(w.location,A,E);r&&r(x,A),h=f()+1;let S=Ix(x,h),T=w.createHref(x);try{o.pushState(S,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(T)}s&&c&&c({action:l,location:w.location,delta:1})}function v(A,E){l=It.Replace;let x=hu(w.location,A,E);r&&r(x,A),h=f();let S=Ix(x,h),T=w.createHref(x);o.replaceState(S,"",T),s&&c&&c({action:l,location:w.location,delta:0})}function _(A){let E=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof A=="string"?A:co(A);return Oe(E,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,E)}let w={get action(){return l},get location(){return t(i,o)},listen(A){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Rx,p),c=A,()=>{i.removeEventListener(Rx,p),c=null}},createHref(A){return e(i,A)},createURL:_,encodeLocation(A){let E=_(A);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:v,go(A){return o.go(A)}};return w}var Lt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Lt||(Lt={}));const iR=new Set(["lazy","caseSensitive","path","id","index","children"]);function sR(t){return t.index===!0}function Ig(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let o=[...r,s],l=typeof i.id=="string"?i.id:o.join("-");if(Oe(i.index!==!0||!i.children,"Cannot specify children on an index route"),Oe(!n[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),sR(i)){let c=at({},i,e(i),{id:l});return n[l]=c,c}else{let c=at({},i,e(i),{id:l,children:void 0});return n[l]=c,i.children&&(c.children=Ig(i.children,e,o,n)),c}})}function Ea(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?Bi(e):e,i=Ta(n.pathname||"/",r);if(i==null)return null;let s=kx(t);oR(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=mR(s[l],vR(i));return o}function kx(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Oe(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let h=Fi([n,c.relativePath]),f=r.concat(c);s.children&&s.children.length>0&&(Oe(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),kx(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:fR(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of Mx(s.path))i(s,o,c)}),e}function Mx(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=Mx(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function oR(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:pR(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const aR=/^:\w+$/,lR=3,uR=2,cR=1,hR=10,dR=-2,Nx=t=>t==="*";function fR(t,e){let r=t.split("/"),n=r.length;return r.some(Nx)&&(n+=dR),e&&(n+=uR),r.filter(i=>!Nx(i)).reduce((i,s)=>i+(aR.test(s)?lR:s===""?cR:hR),n)}function pR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,n)=>r===e[n])?t[t.length-1]-e[e.length-1]:0}function mR(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=gR({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!f)return null;Object.assign(n,f.params);let p=l.route;s.push({params:n,pathname:Fi([i,f.pathname]),pathnameBase:wR(Fi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Fi([i,f.pathnameBase]))}return s}function gR(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=yR(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((c,h,f)=>{if(h==="*"){let p=l[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return c[h]=_R(l[f]||"",h),c},{}),pathname:s,pathnameBase:o,pattern:t}}function yR(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),wa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,o)=>(n.push(o),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function vR(t){try{return decodeURI(t)}catch(e){return wa(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function _R(t,e){try{return decodeURIComponent(t)}catch(r){return wa(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function Ta(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function bR(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Bi(t):t;return{pathname:r?r.startsWith("/")?r:xR(r,e):e,search:ER(n),hash:TR(i)}}function xR(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function kg(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hh(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Mg(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Bi(t):(i=at({},t),Oe(!i.pathname||!i.pathname.includes("?"),kg("?","pathname","search",i)),Oe(!i.pathname||!i.pathname.includes("#"),kg("#","pathname","hash",i)),Oe(!i.search||!i.search.includes("#"),kg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(n||o==null)l=r;else{let p=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let c=bR(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}const Fi=t=>t.join("/").replace(/\/\/+/g,"/"),wR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),ER=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,TR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Ng{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Ox(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Dx=["post","put","patch","delete"],SR=new Set(Dx),AR=["get",...Dx],CR=new Set(AR),PR=new Set([301,302,303,307,308]),RR=new Set([307,308]),Og={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},IR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},du={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},Lx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kR=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function MR(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Oe(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let B=t.detectErrorBoundary;i=F=>({hasErrorBoundary:B(F)})}else i=kR;let s={},o=Ig(t.routes,i,void 0,s),l,c=t.basename||"/",h=at({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),f=null,p=new Set,m=null,v=null,_=null,w=t.hydrationData!=null,A=Ea(o,t.history.location,c),E=null;if(A==null){let B=ln(404,{pathname:t.history.location.pathname}),{matches:F,route:q}=$x(o);A=F,E={[q.id]:B}}let x=!A.some(B=>B.route.lazy)&&(!A.some(B=>B.route.loader)||t.hydrationData!=null),S,T={historyAction:t.history.action,location:t.history.location,matches:A,initialized:x,navigation:Og,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||E,fetchers:new Map,blockers:new Map},R=It.Pop,L=!1,I,M=!1,Y=!1,Q=[],K=[],$=new Map,z=0,W=-1,me=new Map,ge=new Set,ne=new Map,O=new Map,H=new Map,k=!1;function J(){return f=t.history.listen(B=>{let{action:F,location:q,delta:de}=B;if(k){k=!1;return}wa(H.size===0||de!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Ce=Sf({currentLocation:T.location,nextLocation:q,historyAction:F});if(Ce&&de!=null){k=!0,t.history.go(de*-1),sl(Ce,{state:"blocked",location:q,proceed(){sl(Ce,{state:"proceeding",proceed:void 0,reset:void 0,location:q}),t.history.go(de)},reset(){let Se=new Map(T.blockers);Se.set(Ce,du),fe({blockers:Se})}});return}return Ze(F,q)}),T.initialized||Ze(It.Pop,T.location),S}function se(){f&&f(),p.clear(),I&&I.abort(),T.fetchers.forEach((B,F)=>rc(F)),T.blockers.forEach((B,F)=>Tf(F))}function Re(B){return p.add(B),()=>p.delete(B)}function fe(B){T=at({},T,B),p.forEach(F=>F(T))}function Be(B,F){var q,de;let Ce=T.actionData!=null&&T.navigation.formMethod!=null&&Pn(T.navigation.formMethod)&&T.navigation.state==="loading"&&((q=B.state)==null?void 0:q._isRedirect)!==!0,Se;F.actionData?Object.keys(F.actionData).length>0?Se=F.actionData:Se=null:Ce?Se=T.actionData:Se=null;let Ae=F.loaderData?Wx(T.loaderData,F.loaderData,F.matches||[],F.errors):T.loaderData,Ee=T.blockers;Ee.size>0&&(Ee=new Map(Ee),Ee.forEach((et,ze)=>Ee.set(ze,du)));let _e=L===!0||T.navigation.formMethod!=null&&Pn(T.navigation.formMethod)&&((de=B.state)==null?void 0:de._isRedirect)!==!0;l&&(o=l,l=void 0),M||R===It.Pop||(R===It.Push?t.history.push(B,B.state):R===It.Replace&&t.history.replace(B,B.state)),fe(at({},F,{actionData:Se,loaderData:Ae,historyAction:R,location:B,initialized:!0,navigation:Og,revalidation:"idle",restoreScrollPosition:Cf(B,F.matches||T.matches),preventScrollReset:_e,blockers:Ee})),R=It.Pop,L=!1,M=!1,Y=!1,Q=[],K=[]}async function Ie(B,F){if(typeof B=="number"){t.history.go(B);return}let q=Dg(T.location,T.matches,c,h.v7_prependBasename,B,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:de,submission:Ce,error:Se}=Bx(h.v7_normalizeFormMethod,!1,q,F),Ae=T.location,Ee=hu(T.location,de,F&&F.state);Ee=at({},Ee,t.history.encodeLocation(Ee));let _e=F&&F.replace!=null?F.replace:void 0,et=It.Push;_e===!0?et=It.Replace:_e===!1||Ce!=null&&Pn(Ce.formMethod)&&Ce.formAction===T.location.pathname+T.location.search&&(et=It.Replace);let ze=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,gr=Sf({currentLocation:Ae,nextLocation:Ee,historyAction:et});if(gr){sl(gr,{state:"blocked",location:Ee,proceed(){sl(gr,{state:"proceeding",proceed:void 0,reset:void 0,location:Ee}),Ie(B,F)},reset(){let Mt=new Map(T.blockers);Mt.set(gr,du),fe({blockers:Mt})}});return}return await Ze(et,Ee,{submission:Ce,pendingError:Se,preventScrollReset:ze,replace:F&&F.replace})}function We(){if(No(),fe({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){Ze(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}Ze(R||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation})}}async function Ze(B,F,q){I&&I.abort(),I=null,R=B,M=(q&&q.startUninterruptedRevalidation)===!0,Gv(T.location,T.matches),L=(q&&q.preventScrollReset)===!0;let de=l||o,Ce=q&&q.overrideNavigation,Se=Ea(de,F,c);if(!Se){let Mt=ln(404,{pathname:F.pathname}),{matches:Yt,route:qr}=$x(de);nc(),Be(F,{matches:Yt,loaderData:{},errors:{[qr.id]:Mt}});return}if(T.initialized&&!Y&&BR(T.location,F)&&!(q&&q.submission&&Pn(q.submission.formMethod))){Be(F,{matches:Se});return}I=new AbortController;let Ae=pu(t.history,F,I.signal,q&&q.submission),Ee,_e;if(q&&q.pendingError)_e={[Sa(Se).route.id]:q.pendingError};else if(q&&q.submission&&Pn(q.submission.formMethod)){let Mt=await Ut(Ae,F,q.submission,Se,{replace:q.replace});if(Mt.shortCircuited)return;Ee=Mt.pendingActionData,_e=Mt.pendingActionError,Ce=Gh(F,q.submission),Ae=new Request(Ae.url,{signal:Ae.signal})}let{shortCircuited:et,loaderData:ze,errors:gr}=await dt(Ae,F,Se,Ce,q&&q.submission,q&&q.fetcherSubmission,q&&q.replace,Ee,_e);et||(I=null,Be(F,at({matches:Se},Ee?{actionData:Ee}:{},{loaderData:ze,errors:gr})))}async function Ut(B,F,q,de,Ce){Ce===void 0&&(Ce={}),No();let Se=HR(F,q);fe({navigation:Se});let Ae,Ee=Fg(de,F);if(!Ee.route.action&&!Ee.route.lazy)Ae={type:Lt.error,error:ln(405,{method:B.method,pathname:F.pathname,routeId:Ee.route.id})};else if(Ae=await fu("action",B,Ee,de,s,i,c),B.signal.aborted)return{shortCircuited:!0};if(Aa(Ae)){let _e;return Ce&&Ce.replace!=null?_e=Ce.replace:_e=Ae.location===T.location.pathname+T.location.search,await Xt(T,Ae,{submission:q,replace:_e}),{shortCircuited:!0}}if(mu(Ae)){let _e=Sa(de,Ee.route.id);return(Ce&&Ce.replace)!==!0&&(R=It.Push),{pendingActionData:{},pendingActionError:{[_e.route.id]:Ae.error}}}if(ho(Ae))throw ln(400,{type:"defer-action"});return{pendingActionData:{[Ee.route.id]:Ae.data}}}async function dt(B,F,q,de,Ce,Se,Ae,Ee,_e){let et=de||Gh(F,Ce),ze=Ce||Se||qx(et),gr=l||o,[Mt,Yt]=Fx(t.history,T,q,ze,F,Y,Q,K,ne,ge,gr,c,Ee,_e);if(nc(rt=>!(q&&q.some(Lr=>Lr.route.id===rt))||Mt&&Mt.some(Lr=>Lr.route.id===rt)),Mt.length===0&&Yt.length===0){let rt=wf();return Be(F,at({matches:q,loaderData:{},errors:_e||null},Ee?{actionData:Ee}:{},rt?{fetchers:new Map(T.fetchers)}:{})),{shortCircuited:!0}}if(!M){Yt.forEach(Lr=>{let Fs=T.fetchers.get(Lr.key),zt=gu(void 0,Fs?Fs.data:void 0);T.fetchers.set(Lr.key,zt)});let rt=Ee||T.actionData;fe(at({navigation:et},rt?Object.keys(rt).length===0?{actionData:null}:{actionData:rt}:{},Yt.length>0?{fetchers:new Map(T.fetchers)}:{}))}W=++z,Yt.forEach(rt=>{$.has(rt.key)&&Dr(rt.key),rt.controller&&$.set(rt.key,rt.controller)});let qr=()=>Yt.forEach(rt=>Dr(rt.key));I&&I.signal.addEventListener("abort",qr);let{results:Bs,loaderResults:ic,fetcherResults:ol}=await gi(T.matches,q,Mt,Yt,B);if(B.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",qr),Yt.forEach(rt=>$.delete(rt.key));let Xn=Vx(Bs);if(Xn)return await Xt(T,Xn,{replace:Ae}),{shortCircuited:!0};let{loaderData:Do,errors:Lo}=Gx(T,q,Mt,ic,_e,Yt,ol,O);O.forEach((rt,Lr)=>{rt.subscribe(Fs=>{(Fs||rt.done)&&O.delete(Lr)})});let sc=wf(),oc=Ef(W),Ji=sc||oc||Yt.length>0;return at({loaderData:Do,errors:Lo},Ji?{fetchers:new Map(T.fetchers)}:{})}function ke(B){return T.fetchers.get(B)||IR}function Je(B,F,q,de){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(B)&&Dr(B);let Ce=l||o,Se=Dg(T.location,T.matches,c,h.v7_prependBasename,q,F,de==null?void 0:de.relative),Ae=Ea(Ce,Se,c);if(!Ae){Vn(B,F,ln(404,{pathname:Se}));return}let{path:Ee,submission:_e,error:et}=Bx(h.v7_normalizeFormMethod,!0,Se,de);if(et){Vn(B,F,et);return}let ze=Fg(Ae,Ee);if(L=(de&&de.preventScrollReset)===!0,_e&&Pn(_e.formMethod)){He(B,F,Ee,ze,Ae,_e);return}ne.set(B,{routeId:F,path:Ee}),Or(B,F,Ee,ze,Ae,_e)}async function He(B,F,q,de,Ce,Se){if(No(),ne.delete(B),!de.route.action&&!de.route.lazy){let zt=ln(405,{method:Se.formMethod,pathname:q,routeId:F});Vn(B,F,zt);return}let Ae=T.fetchers.get(B),Ee=GR(Se,Ae);T.fetchers.set(B,Ee),fe({fetchers:new Map(T.fetchers)});let _e=new AbortController,et=pu(t.history,q,_e.signal,Se);$.set(B,_e);let ze=await fu("action",et,de,Ce,s,i,c);if(et.signal.aborted){$.get(B)===_e&&$.delete(B);return}if(Aa(ze)){$.delete(B),ge.add(B);let zt=gu(Se);return T.fetchers.set(B,zt),fe({fetchers:new Map(T.fetchers)}),Xt(T,ze,{submission:Se,isFetchActionRedirect:!0})}if(mu(ze)){Vn(B,F,ze.error);return}if(ho(ze))throw ln(400,{type:"defer-action"});let gr=T.navigation.location||T.location,Mt=pu(t.history,gr,_e.signal),Yt=l||o,qr=T.navigation.state!=="idle"?Ea(Yt,T.navigation.location,c):T.matches;Oe(qr,"Didn't find any matches after fetcher action");let Bs=++z;me.set(B,Bs);let ic=gu(Se,ze.data);T.fetchers.set(B,ic);let[ol,Xn]=Fx(t.history,T,qr,Se,gr,Y,Q,K,ne,ge,Yt,c,{[de.route.id]:ze.data},void 0);Xn.filter(zt=>zt.key!==B).forEach(zt=>{let Bo=zt.key,Pf=T.fetchers.get(Bo),$v=gu(void 0,Pf?Pf.data:void 0);T.fetchers.set(Bo,$v),$.has(Bo)&&Dr(Bo),zt.controller&&$.set(Bo,zt.controller)}),fe({fetchers:new Map(T.fetchers)});let Do=()=>Xn.forEach(zt=>Dr(zt.key));_e.signal.addEventListener("abort",Do);let{results:Lo,loaderResults:sc,fetcherResults:oc}=await gi(T.matches,qr,ol,Xn,Mt);if(_e.signal.aborted)return;_e.signal.removeEventListener("abort",Do),me.delete(B),$.delete(B),Xn.forEach(zt=>$.delete(zt.key));let Ji=Vx(Lo);if(Ji)return Xt(T,Ji);let{loaderData:rt,errors:Lr}=Gx(T,T.matches,ol,sc,void 0,Xn,oc,O);if(T.fetchers.has(B)){let zt=Wh(ze.data);T.fetchers.set(B,zt)}let Fs=Ef(Bs);T.navigation.state==="loading"&&Bs>W?(Oe(R,"Expected pending action"),I&&I.abort(),Be(T.navigation.location,{matches:qr,loaderData:rt,errors:Lr,fetchers:new Map(T.fetchers)})):(fe(at({errors:Lr,loaderData:Wx(T.loaderData,rt,qr,Lr)},Fs||Xn.length>0?{fetchers:new Map(T.fetchers)}:{})),Y=!1)}async function Or(B,F,q,de,Ce,Se){let Ae=T.fetchers.get(B),Ee=gu(Se,Ae?Ae.data:void 0);T.fetchers.set(B,Ee),fe({fetchers:new Map(T.fetchers)});let _e=new AbortController,et=pu(t.history,q,_e.signal);$.set(B,_e);let ze=await fu("loader",et,de,Ce,s,i,c);if(ho(ze)&&(ze=await Qx(ze,et.signal,!0)||ze),$.get(B)===_e&&$.delete(B),et.signal.aborted)return;if(Aa(ze)){ge.add(B),await Xt(T,ze);return}if(mu(ze)){let Mt=Sa(T.matches,F);T.fetchers.delete(B),fe({fetchers:new Map(T.fetchers),errors:{[Mt.route.id]:ze.error}});return}Oe(!ho(ze),"Unhandled fetcher deferred data");let gr=Wh(ze.data);T.fetchers.set(B,gr),fe({fetchers:new Map(T.fetchers)})}async function Xt(B,F,q){let{submission:de,replace:Ce,isFetchActionRedirect:Se}=q===void 0?{}:q;F.revalidate&&(Y=!0);let Ae=hu(B.location,F.location,at({_isRedirect:!0},Se?{_isFetchActionRedirect:!0}:{}));if(Oe(Ae,"Expected a location on the redirect navigation"),Lx.test(F.location)&&r){let et=t.history.createURL(F.location),ze=Ta(et.pathname,c)==null;if(e.location.origin!==et.origin||ze){Ce?e.location.replace(F.location):e.location.assign(F.location);return}}I=null;let Ee=Ce===!0?It.Replace:It.Push,_e=de||qx(B.navigation);if(RR.has(F.status)&&_e&&Pn(_e.formMethod))await Ze(Ee,Ae,{submission:at({},_e,{formAction:F.location}),preventScrollReset:L});else if(Se)await Ze(Ee,Ae,{overrideNavigation:Gh(Ae),fetcherSubmission:_e,preventScrollReset:L});else{let et=Gh(Ae,_e);await Ze(Ee,Ae,{overrideNavigation:et,preventScrollReset:L})}}async function gi(B,F,q,de,Ce){let Se=await Promise.all([...q.map(_e=>fu("loader",Ce,_e,F,s,i,c)),...de.map(_e=>_e.matches&&_e.match&&_e.controller?fu("loader",pu(t.history,_e.path,_e.controller.signal),_e.match,_e.matches,s,i,c):{type:Lt.error,error:ln(404,{pathname:_e.path})})]),Ae=Se.slice(0,q.length),Ee=Se.slice(q.length);return await Promise.all([Yx(B,q,Ae,Ae.map(()=>Ce.signal),!1,T.loaderData),Yx(B,de.map(_e=>_e.match),Ee,de.map(_e=>_e.controller?_e.controller.signal:null),!0)]),{results:Se,loaderResults:Ae,fetcherResults:Ee}}function No(){Y=!0,Q.push(...nc()),ne.forEach((B,F)=>{$.has(F)&&(K.push(F),Dr(F))})}function Vn(B,F,q){let de=Sa(T.matches,F);rc(B),fe({errors:{[de.route.id]:q},fetchers:new Map(T.fetchers)})}function rc(B){let F=T.fetchers.get(B);$.has(B)&&!(F&&F.state==="loading"&&me.has(B))&&Dr(B),ne.delete(B),me.delete(B),ge.delete(B),T.fetchers.delete(B)}function Dr(B){let F=$.get(B);Oe(F,"Expected fetch controller: "+B),F.abort(),$.delete(B)}function xf(B){for(let F of B){let q=ke(F),de=Wh(q.data);T.fetchers.set(F,de)}}function wf(){let B=[],F=!1;for(let q of ge){let de=T.fetchers.get(q);Oe(de,"Expected fetcher: "+q),de.state==="loading"&&(ge.delete(q),B.push(q),F=!0)}return xf(B),F}function Ef(B){let F=[];for(let[q,de]of me)if(de<B){let Ce=T.fetchers.get(q);Oe(Ce,"Expected fetcher: "+q),Ce.state==="loading"&&(Dr(q),me.delete(q),F.push(q))}return xf(F),F.length>0}function Oo(B,F){let q=T.blockers.get(B)||du;return H.get(B)!==F&&H.set(B,F),q}function Tf(B){T.blockers.delete(B),H.delete(B)}function sl(B,F){let q=T.blockers.get(B)||du;Oe(q.state==="unblocked"&&F.state==="blocked"||q.state==="blocked"&&F.state==="blocked"||q.state==="blocked"&&F.state==="proceeding"||q.state==="blocked"&&F.state==="unblocked"||q.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+q.state+" -> "+F.state);let de=new Map(T.blockers);de.set(B,F),fe({blockers:de})}function Sf(B){let{currentLocation:F,nextLocation:q,historyAction:de}=B;if(H.size===0)return;H.size>1&&wa(!1,"A router only supports one blocker at a time");let Ce=Array.from(H.entries()),[Se,Ae]=Ce[Ce.length-1],Ee=T.blockers.get(Se);if(!(Ee&&Ee.state==="proceeding")&&Ae({currentLocation:F,nextLocation:q,historyAction:de}))return Se}function nc(B){let F=[];return O.forEach((q,de)=>{(!B||B(de))&&(q.cancel(),F.push(de),O.delete(de))}),F}function Hv(B,F,q){if(m=B,_=F,v=q||null,!w&&T.navigation===Og){w=!0;let de=Cf(T.location,T.matches);de!=null&&fe({restoreScrollPosition:de})}return()=>{m=null,_=null,v=null}}function Af(B,F){return v&&v(B,F.map(q=>jR(q,T.loaderData)))||B.key}function Gv(B,F){if(m&&_){let q=Af(B,F);m[q]=_()}}function Cf(B,F){if(m){let q=Af(B,F),de=m[q];if(typeof de=="number")return de}return null}function Wv(B){s={},l=Ig(B,i,void 0,s)}return S={get basename(){return c},get state(){return T},get routes(){return o},initialize:J,subscribe:Re,enableScrollRestoration:Hv,navigate:Ie,fetch:Je,revalidate:We,createHref:B=>t.history.createHref(B),encodeLocation:B=>t.history.encodeLocation(B),getFetcher:ke,deleteFetcher:rc,dispose:se,getBlocker:Oo,deleteBlocker:Tf,_internalFetchControllers:$,_internalActiveDeferreds:O,_internalSetRoutes:Wv},S}function NR(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Dg(t,e,r,n,i,s,o){let l,c;if(s!=null&&o!=="path"){l=[];for(let f of e)if(l.push(f),f.route.id===s){c=f;break}}else l=e,c=e[e.length-1];let h=Mg(i||".",Hh(l).map(f=>f.pathnameBase),Ta(t.pathname,r)||t.pathname,o==="path");return i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!Bg(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(h.pathname=h.pathname==="/"?r:Fi([r,h.pathname])),co(h)}function Bx(t,e,r,n){if(!n||!NR(n))return{path:r};if(n.formMethod&&!zR(n.formMethod))return{path:r,error:ln(405,{method:n.formMethod})};let i=()=>({path:r,error:ln(400,{type:"invalid-body"})}),s=n.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=Xx(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!Pn(o))return i();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((v,_)=>{let[w,A]=_;return""+v+w+"="+A+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!Pn(o))return i();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}Oe(typeof FormData=="function","FormData is not available in this environment");let c,h;if(n.formData)c=Lg(n.formData),h=n.formData;else if(n.body instanceof FormData)c=Lg(n.body),h=n.body;else if(n.body instanceof URLSearchParams)c=n.body,h=Hx(c);else if(n.body==null)c=new URLSearchParams,h=new FormData;else try{c=new URLSearchParams(n.body),h=Hx(c)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(Pn(f.formMethod))return{path:r,submission:f};let p=Bi(r);return e&&p.search&&Bg(p.search)&&c.append("index",""),p.search="?"+c,{path:co(p),submission:f}}function OR(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function Fx(t,e,r,n,i,s,o,l,c,h,f,p,m,v){let _=v?Object.values(v)[0]:m?Object.values(m)[0]:void 0,w=t.createURL(e.location),A=t.createURL(i),E=v?Object.keys(v)[0]:void 0,x=OR(r,E).filter((T,R)=>{if(T.route.lazy)return!0;if(T.route.loader==null)return!1;if(DR(e.loaderData,e.matches[R],T)||o.some(M=>M===T.route.id))return!0;let L=e.matches[R],I=T;return zx(T,at({currentUrl:w,currentParams:L.params,nextUrl:A,nextParams:I.params},n,{actionResult:_,defaultShouldRevalidate:s||w.pathname+w.search===A.pathname+A.search||w.search!==A.search||Ux(L,I)}))}),S=[];return c.forEach((T,R)=>{if(!r.some(Q=>Q.route.id===T.routeId))return;let L=Ea(f,T.path,p);if(!L){S.push({key:R,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let I=e.fetchers.get(R),M=I&&I.state!=="idle"&&I.data===void 0&&!h.has(R),Y=Fg(L,T.path);(l.includes(R)||M||zx(Y,at({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:A,nextParams:r[r.length-1].params},n,{actionResult:_,defaultShouldRevalidate:s})))&&S.push({key:R,routeId:T.routeId,path:T.path,matches:L,match:Y,controller:new AbortController})}),[x,S]}function DR(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function Ux(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function zx(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function jx(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];Oe(i,"No route found in manifest");let s={};for(let o in n){let l=i[o]!==void 0&&o!=="hasErrorBoundary";wa(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!iR.has(o)&&(s[o]=n[o])}Object.assign(i,s),Object.assign(i,at({},e(i),{lazy:void 0}))}async function fu(t,e,r,n,i,s,o,l){l===void 0&&(l={});let c,h,f,p=_=>{let w,A=new Promise((E,x)=>w=x);return f=()=>w(),e.signal.addEventListener("abort",f),Promise.race([_({request:e,params:r.params,context:l.requestContext}),A])};try{let _=r.route[t];if(r.route.lazy)if(_)h=(await Promise.all([p(_),jx(r.route,s,i)]))[0];else if(await jx(r.route,s,i),_=r.route[t],_)h=await p(_);else if(t==="action"){let w=new URL(e.url),A=w.pathname+w.search;throw ln(405,{method:e.method,pathname:A,routeId:r.route.id})}else return{type:Lt.data,data:void 0};else if(_)h=await p(_);else{let w=new URL(e.url),A=w.pathname+w.search;throw ln(404,{pathname:A})}Oe(h!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(_){c=Lt.error,h=_}finally{f&&e.signal.removeEventListener("abort",f)}if(UR(h)){let _=h.status;if(PR.has(_)){let E=h.headers.get("Location");if(Oe(E,"Redirects returned/thrown from loaders/actions must have a Location header"),!Lx.test(E))E=Dg(new URL(e.url),n.slice(0,n.indexOf(r)+1),o,!0,E);else if(!l.isStaticRequest){let x=new URL(e.url),S=E.startsWith("//")?new URL(x.protocol+E):new URL(E),T=Ta(S.pathname,o)!=null;S.origin===x.origin&&T&&(E=S.pathname+S.search+S.hash)}if(l.isStaticRequest)throw h.headers.set("Location",E),h;return{type:Lt.redirect,status:_,location:E,revalidate:h.headers.get("X-Remix-Revalidate")!==null}}if(l.isRouteRequest)throw{type:c||Lt.data,response:h};let w,A=h.headers.get("Content-Type");return A&&/\bapplication\/json\b/.test(A)?w=await h.json():w=await h.text(),c===Lt.error?{type:c,error:new Ng(_,h.statusText,w),headers:h.headers}:{type:Lt.data,data:w,statusCode:h.status,headers:h.headers}}if(c===Lt.error)return{type:c,error:h};if(FR(h)){var m,v;return{type:Lt.deferred,deferredData:h,statusCode:(m=h.init)==null?void 0:m.status,headers:((v=h.init)==null?void 0:v.headers)&&new Headers(h.init.headers)}}return{type:Lt.data,data:h}}function pu(t,e,r,n){let i=t.createURL(Xx(e)).toString(),s={signal:r};if(n&&Pn(n.formMethod)){let{formMethod:o,formEncType:l}=n;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(n.json)):l==="text/plain"?s.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?s.body=Lg(n.formData):s.body=n.formData}return new Request(i,s)}function Lg(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function Hx(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function LR(t,e,r,n,i){let s={},o=null,l,c=!1,h={};return r.forEach((f,p)=>{let m=e[p].route.id;if(Oe(!Aa(f),"Cannot handle redirect results in processLoaderData"),mu(f)){let v=Sa(t,m),_=f.error;n&&(_=Object.values(n)[0],n=void 0),o=o||{},o[v.route.id]==null&&(o[v.route.id]=_),s[m]=void 0,c||(c=!0,l=Ox(f.error)?f.error.status:500),f.headers&&(h[m]=f.headers)}else ho(f)?(i.set(m,f.deferredData),s[m]=f.deferredData.data):s[m]=f.data,f.statusCode!=null&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[m]=f.headers)}),n&&(o=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:h}}function Gx(t,e,r,n,i,s,o,l){let{loaderData:c,errors:h}=LR(e,r,n,i,l);for(let f=0;f<s.length;f++){let{key:p,match:m,controller:v}=s[f];Oe(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let _=o[f];if(!(v&&v.signal.aborted))if(mu(_)){let w=Sa(t.matches,m==null?void 0:m.route.id);h&&h[w.route.id]||(h=at({},h,{[w.route.id]:_.error})),t.fetchers.delete(p)}else if(Aa(_))Oe(!1,"Unhandled fetcher revalidation redirect");else if(ho(_))Oe(!1,"Unhandled fetcher deferred data");else{let w=Wh(_.data);t.fetchers.set(p,w)}}return{loaderData:c,errors:h}}function Wx(t,e,r,n){let i=at({},e);for(let s of r){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),n&&n.hasOwnProperty(o))break}return i}function Sa(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function $x(t){let e=t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function ln(t,e){let{pathname:r,routeId:n,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&r&&n?l="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):t===404?(o="Not Found",l='No route matches URL "'+r+'"'):t===405&&(o="Method Not Allowed",i&&r&&n?l="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Ng(t||500,o,new Error(l),!0)}function Vx(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(Aa(r))return r}}function Xx(t){let e=typeof t=="string"?Bi(t):t;return co(at({},e,{hash:""}))}function BR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function ho(t){return t.type===Lt.deferred}function mu(t){return t.type===Lt.error}function Aa(t){return(t&&t.type)===Lt.redirect}function FR(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function UR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function zR(t){return CR.has(t.toLowerCase())}function Pn(t){return SR.has(t.toLowerCase())}async function Yx(t,e,r,n,i,s){for(let o=0;o<r.length;o++){let l=r[o],c=e[o];if(!c)continue;let h=t.find(p=>p.route.id===c.route.id),f=h!=null&&!Ux(h,c)&&(s&&s[c.route.id])!==void 0;if(ho(l)&&(i||f)){let p=n[o];Oe(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await Qx(l,p,i).then(m=>{m&&(r[o]=m||r[o])})}}}async function Qx(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Lt.data,data:t.deferredData.unwrappedData}}catch(n){return{type:Lt.error,error:n}}return{type:Lt.data,data:t.deferredData.data}}}function Bg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function jR(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function Fg(t,e){let r=typeof e=="string"?Bi(e).search:e.search;if(t[t.length-1].route.index&&Bg(r||""))return t[t.length-1];let n=Hh(t);return n[n.length-1]}function qx(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:o}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function Gh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function HR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function gu(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function GR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function Wh(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function $h(){return $h=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$h.apply(this,arguments)}const Vh=ie.createContext(null),Kx=ie.createContext(null),Ca=ie.createContext(null),Xh=ie.createContext(null),fo=ie.createContext({outlet:null,matches:[],isDataRoute:!1}),Zx=ie.createContext(null);function WR(t,e){let{relative:r}=e===void 0?{}:e;yu()||Oe(!1);let{basename:n,navigator:i}=ie.useContext(Ca),{hash:s,pathname:o,search:l}=ew(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Fi([n,o])),i.createHref({pathname:c,search:l,hash:s})}function yu(){return ie.useContext(Xh)!=null}function Yh(){return yu()||Oe(!1),ie.useContext(Xh).location}function Jx(t){ie.useContext(Ca).static||ie.useLayoutEffect(t)}function $R(){let{isDataRoute:t}=ie.useContext(fo);return t?nI():VR()}function VR(){yu()||Oe(!1);let t=ie.useContext(Vh),{basename:e,navigator:r}=ie.useContext(Ca),{matches:n}=ie.useContext(fo),{pathname:i}=Yh(),s=JSON.stringify(Hh(n).map(l=>l.pathnameBase)),o=ie.useRef(!1);return Jx(()=>{o.current=!0}),ie.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let h=Mg(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Fi([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,s,i,t])}function ew(t,e){let{relative:r}=e===void 0?{}:e,{matches:n}=ie.useContext(fo),{pathname:i}=Yh(),s=JSON.stringify(Hh(n).map(o=>o.pathnameBase));return ie.useMemo(()=>Mg(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function XR(t,e,r){yu()||Oe(!1);let{navigator:n}=ie.useContext(Ca),{matches:i}=ie.useContext(fo),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Yh(),h;if(e){var f;let w=typeof e=="string"?Bi(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Oe(!1),h=w}else h=c;let p=h.pathname||"/",m=l==="/"?p:p.slice(l.length)||"/",v=Ea(t,{pathname:m}),_=ZR(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Fi([l,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Fi([l,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r);return e&&_?ie.createElement(Xh.Provider,{value:{location:$h({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:It.Pop}},_):_}function YR(){let t=rI(),e=Ox(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return ie.createElement(ie.Fragment,null,ie.createElement("h2",null,"Unexpected Application Error!"),ie.createElement("h3",{style:{fontStyle:"italic"}},e),r?ie.createElement("pre",{style:n},r):null,i)}const QR=ie.createElement(YR,null);class qR extends ie.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?ie.createElement(fo.Provider,{value:this.props.routeContext},ie.createElement(Zx.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KR(t){let{routeContext:e,match:r,children:n}=t,i=ie.useContext(Vh);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),ie.createElement(fo.Provider,{value:e},n)}function ZR(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let s=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let l=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));l>=0||Oe(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,c,h)=>{let f=c.route.id?o==null?void 0:o[c.route.id]:null,p=null;r&&(p=c.route.errorElement||QR);let m=e.concat(s.slice(0,h+1)),v=()=>{let _;return f?_=p:c.route.Component?_=ie.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,ie.createElement(KR,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:r!=null},children:_})};return r&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?ie.createElement(qR,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:v(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):v()},null)}var Ug;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Ug||(Ug={}));var vu;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(vu||(vu={}));function JR(t){let e=ie.useContext(Vh);return e||Oe(!1),e}function eI(t){let e=ie.useContext(Kx);return e||Oe(!1),e}function tI(t){let e=ie.useContext(fo);return e||Oe(!1),e}function tw(t){let e=tI(),r=e.matches[e.matches.length-1];return r.route.id||Oe(!1),r.route.id}function rI(){var t;let e=ie.useContext(Zx),r=eI(vu.UseRouteError),n=tw(vu.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function nI(){let{router:t}=JR(Ug.UseNavigateStable),e=tw(vu.UseNavigateStable),r=ie.useRef(!1);return Jx(()=>{r.current=!0}),ie.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,$h({fromRouteId:e},i)))},[t,e])}const iI="startTransition",rw=W2[iI];function sI(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=ie.useState(r.state),{v7_startTransition:o}=n||{},l=ie.useCallback(p=>{o&&rw?rw(()=>s(p)):s(p)},[s,o]);ie.useLayoutEffect(()=>r.subscribe(l),[r,l]);let c=ie.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:p=>r.navigate(p),push:(p,m,v)=>r.navigate(p,{state:m,preventScrollReset:v==null?void 0:v.preventScrollReset}),replace:(p,m,v)=>r.navigate(p,{replace:!0,state:m,preventScrollReset:v==null?void 0:v.preventScrollReset})}),[r]),h=r.basename||"/",f=ie.useMemo(()=>({router:r,navigator:c,static:!1,basename:h}),[r,c,h]);return ie.createElement(ie.Fragment,null,ie.createElement(Vh.Provider,{value:f},ie.createElement(Kx.Provider,{value:i},ie.createElement(aI,{basename:h,location:i.location,navigationType:i.historyAction,navigator:c},i.initialized?ie.createElement(oI,{routes:r.routes,state:i}):e))),null)}function oI(t){let{routes:e,state:r}=t;return XR(e,void 0,r)}function aI(t){let{basename:e="/",children:r=null,location:n,navigationType:i=It.Pop,navigator:s,static:o=!1}=t;yu()&&Oe(!1);let l=e.replace(/^\/*/,"/"),c=ie.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof n=="string"&&(n=Bi(n));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:v="default"}=n,_=ie.useMemo(()=>{let w=Ta(h,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:v},navigationType:i}},[l,h,f,p,m,v,i]);return _==null?null:ie.createElement(Ca.Provider,{value:c},ie.createElement(Xh.Provider,{children:r,value:_}))}var nw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(nw||(nw={})),new Promise(()=>{});function lI(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:ie.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:ie.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}function _u(){return _u=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_u.apply(this,arguments)}function uI(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function cI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function hI(t,e){return t.button===0&&(!e||e==="_self")&&!cI(t)}const dI=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function fI(t,e){return MR({basename:e==null?void 0:e.basename,future:_u({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:tR({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||pI(),routes:t,mapRouteProperties:lI}).initialize()}function pI(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=_u({},e,{errors:mI(e.errors)})),e}function mI(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new Ng(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",r[n]=s}else r[n]=i;return r}const gI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,vI=ie.forwardRef(function(t,e){let{onClick:r,relative:n,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:h}=t,f=uI(t,dI),{basename:p}=ie.useContext(Ca),m,v=!1;if(typeof c=="string"&&yI.test(c)&&(m=c,gI))try{let E=new URL(window.location.href),x=c.startsWith("//")?new URL(E.protocol+c):new URL(c),S=Ta(x.pathname,p);x.origin===E.origin&&S!=null?c=S+x.search+x.hash:v=!0}catch{}let _=WR(c,{relative:n}),w=_I(c,{replace:s,state:o,target:l,preventScrollReset:h,relative:n});function A(E){r&&r(E),E.defaultPrevented||w(E)}return ie.createElement("a",_u({},f,{href:m||_,onClick:v||i?r:A,ref:e,target:l}))});var iw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(iw||(iw={}));var sw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sw||(sw={}));function _I(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,l=$R(),c=Yh(),h=ew(t,{relative:o});return ie.useCallback(f=>{if(hI(f,r)){f.preventDefault();let p=n!==void 0?n:co(c)===co(h);l(t,{replace:p,state:i,preventScrollReset:s,relative:o})}},[c,l,h,n,i,r,t,s,o])}var ow={exports:{}},po=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(po||{}),aw=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(aw||{}),zg=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(zg||{}),Te=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Te||{}),Rn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Rn||{}),re=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(re||{}),Pa=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Pa||{}),we=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(we||{}),jg=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(jg||{}),Ui=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(Ui||{}),zi=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(zi||{}),ii=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(ii||{}),In=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(In||{}),si=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(si||{}),Hg=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Hg||{}),un=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(un||{}),Bt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Bt||{}),kt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(kt||{}),oi=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(oi||{});const bI={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ae={ADAPTER:bI,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Gg=/iPhone/i,lw=/iPod/i,uw=/iPad/i,cw=/\biOS-universal(?:.+)Mac\b/i,Wg=/\bAndroid(?:.+)Mobile\b/i,hw=/Android/i,Ra=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Qh=/Silk/i,ji=/Windows Phone/i,dw=/\bWindows(?:.+)ARM\b/i,fw=/BlackBerry/i,pw=/BB10/i,mw=/Opera Mini/i,gw=/\b(CriOS|Chrome)(?:.+)Mobile/i,yw=/Mobile(?:.+)Firefox\b/i,vw=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function xI(t){return function(e){return e.test(t)}}function _w(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=xI(r),s={apple:{phone:i(Gg)&&!i(ji),ipod:i(lw),tablet:!i(Gg)&&(i(uw)||vw(e))&&!i(ji),universal:i(cw),device:(i(Gg)||i(lw)||i(uw)||i(cw)||vw(e))&&!i(ji)},amazon:{phone:i(Ra),tablet:!i(Ra)&&i(Qh),device:i(Ra)||i(Qh)},android:{phone:!i(ji)&&i(Ra)||!i(ji)&&i(Wg),tablet:!i(ji)&&!i(Ra)&&!i(Wg)&&(i(Qh)||i(hw)),device:!i(ji)&&(i(Ra)||i(Qh)||i(Wg)||i(hw))||i(/\bokhttp\b/i)},windows:{phone:i(ji),tablet:i(dw),device:i(ji)||i(dw)},other:{blackberry:i(fw),blackberry10:i(pw),opera:i(mw),firefox:i(yw),chrome:i(gw),device:i(fw)||i(pw)||i(mw)||i(yw)||i(gw)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const wI=_w.default??_w,Hi=wI(globalThis.navigator);ae.RETINA_PREFIX=/@([0-9\.]+)x/,ae.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var bw={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,h,f){this.fn=c,this.context=h,this.once=f||!1}function s(c,h,f,p,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,p||c,m),_=r?r+h:h;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],v]:c._events[_].push(v):(c._events[_]=v,c._eventsCount++),c}function o(c,h){--c._eventsCount===0?c._events=new n:delete c._events[h]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],h,f;if(this._eventsCount===0)return c;for(f in h=this._events)e.call(h,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},l.prototype.listeners=function(c){var h=r?r+c:c,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,v=new Array(m);p<m;p++)v[p]=f[p].fn;return v},l.prototype.listenerCount=function(c){var h=r?r+c:c,f=this._events[h];return f?f.fn?1:f.length:0},l.prototype.emit=function(c,h,f,p,m,v){var _=r?r+c:c;if(!this._events[_])return!1;var w=this._events[_],A=arguments.length,E,x;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,f),!0;case 4:return w.fn.call(w.context,h,f,p),!0;case 5:return w.fn.call(w.context,h,f,p,m),!0;case 6:return w.fn.call(w.context,h,f,p,m,v),!0}for(x=1,E=new Array(A-1);x<A;x++)E[x-1]=arguments[x];w.fn.apply(w.context,E)}else{var S=w.length,T;for(x=0;x<S;x++)switch(w[x].once&&this.removeListener(c,w[x].fn,void 0,!0),A){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,h);break;case 3:w[x].fn.call(w[x].context,h,f);break;case 4:w[x].fn.call(w[x].context,h,f,p);break;default:if(!E)for(T=1,E=new Array(A-1);T<A;T++)E[T-1]=arguments[T];w[x].fn.apply(w[x].context,E)}}return!0},l.prototype.on=function(c,h,f){return s(this,c,h,f,!1)},l.prototype.once=function(c,h,f){return s(this,c,h,f,!0)},l.prototype.removeListener=function(c,h,f,p){var m=r?r+c:c;if(!this._events[m])return this;if(!h)return o(this,m),this;var v=this._events[m];if(v.fn)v.fn===h&&(!p||v.once)&&(!f||v.context===f)&&o(this,m);else{for(var _=0,w=[],A=v.length;_<A;_++)(v[_].fn!==h||p&&!v[_].once||f&&v[_].context!==f)&&w.push(v[_]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},l.prototype.removeAllListeners=function(c){var h;return c?(h=r?r+c:c,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(bw);var EI=bw.exports;const bu=Ac(EI);var $g={exports:{}};$g.exports=qh,$g.exports.default=qh;function qh(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=xw(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var l,c,h,f,p,m,v;if(n&&(s=PI(t,e,s,r)),t.length>80*r){l=h=t[0],c=f=t[1];for(var _=r;_<i;_+=r)p=t[_],m=t[_+1],p<l&&(l=p),m<c&&(c=m),p>h&&(h=p),m>f&&(f=m);v=Math.max(h-l,f-c),v=v!==0?32767/v:0}return xu(s,o,r,l,c,v,0),o}function xw(t,e,r,n,i){var s,o;if(i===Yg(t,e,r,n)>0)for(s=e;s<r;s+=n)o=Tw(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=Tw(s,t[s],t[s+1],o);return o&&Kh(o,o.next)&&(Eu(o),o=o.next),o}function mo(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Kh(r,r.next)||_t(r.prev,r,r.next)===0)){if(Eu(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function xu(t,e,r,n,i,s,o){if(t){!o&&s&&NI(t,n,i,s);for(var l=t,c,h;t.prev!==t.next;){if(c=t.prev,h=t.next,s?SI(t,n,i,s):TI(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(h.i/r|0),Eu(t),t=h.next,l=h.next;continue}if(t=h,t===l){o?o===1?(t=AI(mo(t),e,r),xu(t,e,r,n,i,s,2)):o===2&&CI(t,e,r,n,i,s):xu(mo(t),e,r,n,i,s,1);break}}}}function TI(t){var e=t.prev,r=t,n=t.next;if(_t(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,l=e.y,c=r.y,h=n.y,f=i<s?i<o?i:o:s<o?s:o,p=l<c?l<h?l:h:c<h?c:h,m=i>s?i>o?i:o:s>o?s:o,v=l>c?l>h?l:h:c>h?c:h,_=n.next;_!==e;){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=v&&Ia(i,l,s,c,o,h,_.x,_.y)&&_t(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function SI(t,e,r,n){var i=t.prev,s=t,o=t.next;if(_t(i,s,o)>=0)return!1;for(var l=i.x,c=s.x,h=o.x,f=i.y,p=s.y,m=o.y,v=l<c?l<h?l:h:c<h?c:h,_=f<p?f<m?f:m:p<m?p:m,w=l>c?l>h?l:h:c>h?c:h,A=f>p?f>m?f:m:p>m?p:m,E=Vg(v,_,e,r,n),x=Vg(w,A,e,r,n),S=t.prevZ,T=t.nextZ;S&&S.z>=E&&T&&T.z<=x;){if(S.x>=v&&S.x<=w&&S.y>=_&&S.y<=A&&S!==i&&S!==o&&Ia(l,f,c,p,h,m,S.x,S.y)&&_t(S.prev,S,S.next)>=0||(S=S.prevZ,T.x>=v&&T.x<=w&&T.y>=_&&T.y<=A&&T!==i&&T!==o&&Ia(l,f,c,p,h,m,T.x,T.y)&&_t(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;S&&S.z>=E;){if(S.x>=v&&S.x<=w&&S.y>=_&&S.y<=A&&S!==i&&S!==o&&Ia(l,f,c,p,h,m,S.x,S.y)&&_t(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;T&&T.z<=x;){if(T.x>=v&&T.x<=w&&T.y>=_&&T.y<=A&&T!==i&&T!==o&&Ia(l,f,c,p,h,m,T.x,T.y)&&_t(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function AI(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Kh(i,s)&&ww(i,n,n.next,s)&&wu(i,s)&&wu(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Eu(n),Eu(n.next),n=t=s),n=n.next}while(n!==t);return mo(n)}function CI(t,e,r,n,i,s){var o=t;do{for(var l=o.next.next;l!==o.prev;){if(o.i!==l.i&&LI(o,l)){var c=Ew(o,l);o=mo(o,o.next),c=mo(c,c.next),xu(o,e,r,n,i,s,0),xu(c,e,r,n,i,s,0);return}l=l.next}o=o.next}while(o!==t)}function PI(t,e,r,n){var i=[],s,o,l,c,h;for(s=0,o=e.length;s<o;s++)l=e[s]*n,c=s<o-1?e[s+1]*n:t.length,h=xw(t,l,c,n,!1),h===h.next&&(h.steiner=!0),i.push(DI(h));for(i.sort(RI),s=0;s<i.length;s++)r=II(i[s],r);return r}function RI(t,e){return t.x-e.x}function II(t,e){var r=kI(t,e);if(!r)return e;var n=Ew(r,t);return mo(n,n.next),mo(r,r.next)}function kI(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var l=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(l<=n&&l>s&&(s=l,o=r.x<r.next.x?r:r.next,l===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,h=o.x,f=o.y,p=1/0,m;r=o;do n>=r.x&&r.x>=h&&n!==r.x&&Ia(i<f?n:s,i,h,f,i<f?s:n,i,r.x,r.y)&&(m=Math.abs(i-r.y)/(n-r.x),wu(r,t)&&(m<p||m===p&&(r.x>o.x||r.x===o.x&&MI(o,r)))&&(o=r,p=m)),r=r.next;while(r!==c);return o}function MI(t,e){return _t(t.prev,t,e.prev)<0&&_t(e.next,t,t.next)<0}function NI(t,e,r,n){var i=t;do i.z===0&&(i.z=Vg(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,OI(i)}function OI(t){var e,r,n,i,s,o,l,c,h=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,l=0,e=0;e<h&&(l++,n=n.nextZ,!!n);e++);for(c=h;l>0||c>0&&n;)l!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,l--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,h*=2}while(o>1);return t}function Vg(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function DI(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Ia(t,e,r,n,i,s,o,l){return(i-o)*(e-l)>=(t-o)*(s-l)&&(t-o)*(n-l)>=(r-o)*(e-l)&&(r-o)*(s-l)>=(i-o)*(n-l)}function LI(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!BI(t,e)&&(wu(t,e)&&wu(e,t)&&FI(t,e)&&(_t(t.prev,t,e.prev)||_t(t,e.prev,e))||Kh(t,e)&&_t(t.prev,t,t.next)>0&&_t(e.prev,e,e.next)>0)}function _t(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Kh(t,e){return t.x===e.x&&t.y===e.y}function ww(t,e,r,n){var i=Jh(_t(t,e,r)),s=Jh(_t(t,e,n)),o=Jh(_t(r,n,t)),l=Jh(_t(r,n,e));return!!(i!==s&&o!==l||i===0&&Zh(t,r,e)||s===0&&Zh(t,n,e)||o===0&&Zh(r,t,n)||l===0&&Zh(r,e,n))}function Zh(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function Jh(t){return t>0?1:t<0?-1:0}function BI(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&ww(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function wu(t,e){return _t(t.prev,t,t.next)<0?_t(t,e,t.next)>=0&&_t(t,t.prev,e)>=0:_t(t,e,t.prev)<0||_t(t,t.next,e)<0}function FI(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function Ew(t,e){var r=new Xg(t.i,t.x,t.y),n=new Xg(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function Tw(t,e,r,n){var i=new Xg(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Eu(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Xg(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}qh.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Yg(t,0,s,r));if(i)for(var l=0,c=e.length;l<c;l++){var h=e[l]*r,f=l<c-1?e[l+1]*r:t.length;o-=Math.abs(Yg(t,h,f,r))}var p=0;for(l=0;l<n.length;l+=3){var m=n[l]*r,v=n[l+1]*r,_=n[l+2]*r;p+=Math.abs((t[m]-t[_])*(t[v+1]-t[m+1])-(t[m]-t[v])*(t[_+1]-t[m+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function Yg(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}qh.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var UI=$g.exports;const zI=Ac(UI);var ed={exports:{}};ed.exports,function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof is=="object"&&is;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,l=2147483647,c=36,h=1,f=26,p=38,m=700,v=72,_=128,w="-",A=/^xn--/,E=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=c-h,R=Math.floor,L=String.fromCharCode,I;function M(k){throw new RangeError(S[k])}function Y(k,J){for(var se=k.length,Re=[];se--;)Re[se]=J(k[se]);return Re}function Q(k,J){var se=k.split("@"),Re="";se.length>1&&(Re=se[0]+"@",k=se[1]),k=k.replace(x,".");var fe=k.split("."),Be=Y(fe,J).join(".");return Re+Be}function K(k){for(var J=[],se=0,Re=k.length,fe,Be;se<Re;)fe=k.charCodeAt(se++),fe>=55296&&fe<=56319&&se<Re?(Be=k.charCodeAt(se++),(Be&64512)==56320?J.push(((fe&1023)<<10)+(Be&1023)+65536):(J.push(fe),se--)):J.push(fe);return J}function $(k){return Y(k,function(J){var se="";return J>65535&&(J-=65536,se+=L(J>>>10&1023|55296),J=56320|J&1023),se+=L(J),se}).join("")}function z(k){return k-48<10?k-22:k-65<26?k-65:k-97<26?k-97:c}function W(k,J){return k+22+75*(k<26)-((J!=0)<<5)}function me(k,J,se){var Re=0;for(k=se?R(k/m):k>>1,k+=R(k/J);k>T*f>>1;Re+=c)k=R(k/T);return R(Re+(T+1)*k/(k+p))}function ge(k){var J=[],se=k.length,Re,fe=0,Be=_,Ie=v,We,Ze,Ut,dt,ke,Je,He,Or,Xt;for(We=k.lastIndexOf(w),We<0&&(We=0),Ze=0;Ze<We;++Ze)k.charCodeAt(Ze)>=128&&M("not-basic"),J.push(k.charCodeAt(Ze));for(Ut=We>0?We+1:0;Ut<se;){for(dt=fe,ke=1,Je=c;Ut>=se&&M("invalid-input"),He=z(k.charCodeAt(Ut++)),(He>=c||He>R((l-fe)/ke))&&M("overflow"),fe+=He*ke,Or=Je<=Ie?h:Je>=Ie+f?f:Je-Ie,!(He<Or);Je+=c)Xt=c-Or,ke>R(l/Xt)&&M("overflow"),ke*=Xt;Re=J.length+1,Ie=me(fe-dt,Re,dt==0),R(fe/Re)>l-Be&&M("overflow"),Be+=R(fe/Re),fe%=Re,J.splice(fe++,0,Be)}return $(J)}function ne(k){var J,se,Re,fe,Be,Ie,We,Ze,Ut,dt,ke,Je=[],He,Or,Xt,gi;for(k=K(k),He=k.length,J=_,se=0,Be=v,Ie=0;Ie<He;++Ie)ke=k[Ie],ke<128&&Je.push(L(ke));for(Re=fe=Je.length,fe&&Je.push(w);Re<He;){for(We=l,Ie=0;Ie<He;++Ie)ke=k[Ie],ke>=J&&ke<We&&(We=ke);for(Or=Re+1,We-J>R((l-se)/Or)&&M("overflow"),se+=(We-J)*Or,J=We,Ie=0;Ie<He;++Ie)if(ke=k[Ie],ke<J&&++se>l&&M("overflow"),ke==J){for(Ze=se,Ut=c;dt=Ut<=Be?h:Ut>=Be+f?f:Ut-Be,!(Ze<dt);Ut+=c)gi=Ze-dt,Xt=c-dt,Je.push(L(W(dt+gi%Xt,0))),Ze=R(gi/Xt);Je.push(L(W(Ze,0))),Be=me(se,Or,Re==fe),se=0,++Re}++se,++J}return Je.join("")}function O(k){return Q(k,function(J){return A.test(J)?ge(J.slice(4).toLowerCase()):J})}function H(k){return Q(k,function(J){return E.test(J)?"xn--"+ne(J):J})}if(o={version:"1.4.1",ucs2:{decode:K,encode:$},decode:ge,encode:ne,toASCII:H,toUnicode:O},n&&i)if(t.exports==n)i.exports=o;else for(I in o)o.hasOwnProperty(I)&&(n[I]=o[I]);else r.punycode=o})(is)}(ed,ed.exports);var jI=ed.exports,HI=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),r=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var n=42;t[e]=n;for(e in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,e);if(s.value!==n||s.enumerable!==!0)return!1}return!0},Sw=typeof Symbol<"u"&&Symbol,GI=HI,WI=function(){return typeof Sw!="function"||typeof Symbol!="function"||typeof Sw("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:GI()},Aw={foo:{}},$I=Object,VI=function(){return{__proto__:Aw}.foo===Aw.foo&&!({__proto__:null}instanceof $I)},XI="Function.prototype.bind called on incompatible ",Qg=Array.prototype.slice,YI=Object.prototype.toString,QI="[object Function]",qI=function(t){var e=this;if(typeof e!="function"||YI.call(e)!==QI)throw new TypeError(XI+e);for(var r=Qg.call(arguments,1),n,i=function(){if(this instanceof n){var h=e.apply(this,r.concat(Qg.call(arguments)));return Object(h)===h?h:this}else return e.apply(t,r.concat(Qg.call(arguments)))},s=Math.max(0,e.length-r.length),o=[],l=0;l<s;l++)o.push("$"+l);if(n=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var c=function(){};c.prototype=e.prototype,n.prototype=new c,c.prototype=null}return n},KI=qI,qg=Function.prototype.bind||KI,ZI=qg,JI=ZI.call(Function.call,Object.prototype.hasOwnProperty),Fe,ka=SyntaxError,Cw=Function,Ma=TypeError,Kg=function(t){try{return Cw('"use strict"; return ('+t+").constructor;")()}catch{}},go=Object.getOwnPropertyDescriptor;if(go)try{go({},"")}catch{go=null}var Zg=function(){throw new Ma},ek=go?function(){try{return arguments.callee,Zg}catch{try{return go(arguments,"callee").get}catch{return Zg}}}():Zg,Na=WI(),tk=VI(),Wt=Object.getPrototypeOf||(tk?function(t){return t.__proto__}:null),Oa={},rk=typeof Uint8Array>"u"||!Wt?Fe:Wt(Uint8Array),yo={"%AggregateError%":typeof AggregateError>"u"?Fe:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?Fe:ArrayBuffer,"%ArrayIteratorPrototype%":Na&&Wt?Wt([][Symbol.iterator]()):Fe,"%AsyncFromSyncIteratorPrototype%":Fe,"%AsyncFunction%":Oa,"%AsyncGenerator%":Oa,"%AsyncGeneratorFunction%":Oa,"%AsyncIteratorPrototype%":Oa,"%Atomics%":typeof Atomics>"u"?Fe:Atomics,"%BigInt%":typeof BigInt>"u"?Fe:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?Fe:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?Fe:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?Fe:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?Fe:Float32Array,"%Float64Array%":typeof Float64Array>"u"?Fe:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?Fe:FinalizationRegistry,"%Function%":Cw,"%GeneratorFunction%":Oa,"%Int8Array%":typeof Int8Array>"u"?Fe:Int8Array,"%Int16Array%":typeof Int16Array>"u"?Fe:Int16Array,"%Int32Array%":typeof Int32Array>"u"?Fe:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Na&&Wt?Wt(Wt([][Symbol.iterator]())):Fe,"%JSON%":typeof JSON=="object"?JSON:Fe,"%Map%":typeof Map>"u"?Fe:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Na||!Wt?Fe:Wt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?Fe:Promise,"%Proxy%":typeof Proxy>"u"?Fe:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?Fe:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?Fe:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Na||!Wt?Fe:Wt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?Fe:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Na&&Wt?Wt(""[Symbol.iterator]()):Fe,"%Symbol%":Na?Symbol:Fe,"%SyntaxError%":ka,"%ThrowTypeError%":ek,"%TypedArray%":rk,"%TypeError%":Ma,"%Uint8Array%":typeof Uint8Array>"u"?Fe:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?Fe:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?Fe:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?Fe:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?Fe:WeakMap,"%WeakRef%":typeof WeakRef>"u"?Fe:WeakRef,"%WeakSet%":typeof WeakSet>"u"?Fe:WeakSet};if(Wt)try{null.error}catch(t){var nk=Wt(Wt(t));yo["%Error.prototype%"]=nk}var ik=function t(e){var r;if(e==="%AsyncFunction%")r=Kg("async function () {}");else if(e==="%GeneratorFunction%")r=Kg("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=Kg("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Wt&&(r=Wt(i.prototype))}return yo[e]=r,r},Pw={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Tu=qg,td=JI,sk=Tu.call(Function.call,Array.prototype.concat),ok=Tu.call(Function.apply,Array.prototype.splice),Rw=Tu.call(Function.call,String.prototype.replace),rd=Tu.call(Function.call,String.prototype.slice),ak=Tu.call(Function.call,RegExp.prototype.exec),lk=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,uk=/\\(\\)?/g,ck=function(t){var e=rd(t,0,1),r=rd(t,-1);if(e==="%"&&r!=="%")throw new ka("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&e!=="%")throw new ka("invalid intrinsic syntax, expected opening `%`");var n=[];return Rw(t,lk,function(i,s,o,l){n[n.length]=o?Rw(l,uk,"$1"):s||i}),n},hk=function(t,e){var r=t,n;if(td(Pw,r)&&(n=Pw[r],r="%"+n[0]+"%"),td(yo,r)){var i=yo[r];if(i===Oa&&(i=ik(r)),typeof i>"u"&&!e)throw new Ma("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new ka("intrinsic "+t+" does not exist!")},Jg=function(t,e){if(typeof t!="string"||t.length===0)throw new Ma("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new Ma('"allowMissing" argument must be a boolean');if(ak(/^%?[^%]*%?$/,t)===null)throw new ka("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=ck(t),n=r.length>0?r[0]:"",i=hk("%"+n+"%",e),s=i.name,o=i.value,l=!1,c=i.alias;c&&(n=c[0],ok(r,sk([0,1],c)));for(var h=1,f=!0;h<r.length;h+=1){var p=r[h],m=rd(p,0,1),v=rd(p,-1);if((m==='"'||m==="'"||m==="`"||v==='"'||v==="'"||v==="`")&&m!==v)throw new ka("property names with quotes must have matching quotes");if((p==="constructor"||!f)&&(l=!0),n+="."+p,s="%"+n+"%",td(yo,s))o=yo[s];else if(o!=null){if(!(p in o)){if(!e)throw new Ma("base intrinsic for "+t+" exists, but the property is not available.");return}if(go&&h+1>=r.length){var _=go(o,p);f=!!_,f&&"get"in _&&!("originalValue"in _.get)?o=_.get:o=o[p]}else f=td(o,p),o=o[p];f&&!l&&(yo[s]=o)}}return o},Iw={exports:{}};(function(t){var e=qg,r=Jg,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),l=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(f){var p=s(e,i,arguments);if(o&&l){var m=o(p,"length");m.configurable&&l(p,"length",{value:1+c(0,f.length-(arguments.length-1))})}return p};var h=function(){return s(e,n,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h})(Iw);var dk=Iw.exports,kw=Jg,Mw=dk,fk=Mw(kw("String.prototype.indexOf")),pk=function(t,e){var r=kw(t,!!e);return typeof r=="function"&&fk(t,".prototype.")>-1?Mw(r):r};const mk={},gk=Object.freeze(Object.defineProperty({__proto__:null,default:mk},Symbol.toStringTag,{value:"Module"})),yk=s_(gk);var ey=typeof Map=="function"&&Map.prototype,ty=Object.getOwnPropertyDescriptor&&ey?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,nd=ey&&ty&&typeof ty.get=="function"?ty.get:null,Nw=ey&&Map.prototype.forEach,ry=typeof Set=="function"&&Set.prototype,ny=Object.getOwnPropertyDescriptor&&ry?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,id=ry&&ny&&typeof ny.get=="function"?ny.get:null,Ow=ry&&Set.prototype.forEach,vk=typeof WeakMap=="function"&&WeakMap.prototype,Su=vk?WeakMap.prototype.has:null,_k=typeof WeakSet=="function"&&WeakSet.prototype,Au=_k?WeakSet.prototype.has:null,bk=typeof WeakRef=="function"&&WeakRef.prototype,Dw=bk?WeakRef.prototype.deref:null,xk=Boolean.prototype.valueOf,wk=Object.prototype.toString,Ek=Function.prototype.toString,Tk=String.prototype.match,iy=String.prototype.slice,Ss=String.prototype.replace,Sk=String.prototype.toUpperCase,Lw=String.prototype.toLowerCase,Bw=RegExp.prototype.test,Fw=Array.prototype.concat,ai=Array.prototype.join,Ak=Array.prototype.slice,Uw=Math.floor,sy=typeof BigInt=="function"?BigInt.prototype.valueOf:null,oy=Object.getOwnPropertySymbols,ay=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Da=typeof Symbol=="function"&&typeof Symbol.iterator=="object",dr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Da||"symbol")?Symbol.toStringTag:null,zw=Object.prototype.propertyIsEnumerable,jw=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Hw(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Bw.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-Uw(-t):Uw(t);if(n!==t){var i=String(n),s=iy.call(e,i.length+1);return Ss.call(i,r,"$&_")+"."+Ss.call(Ss.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Ss.call(e,r,"$&_")}var ly=yk,Gw=ly.custom,Ww=Xw(Gw)?Gw:null,Ck=function t(e,r,n,i){var s=r||{};if(As(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(As(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=As(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(As(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(As(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return Qw(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?Hw(e,c):c}if(typeof e=="bigint"){var h=String(e)+"n";return l?Hw(e,h):h}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return uy(e)?"[Array]":"[Object]";var p=$k(s,n);if(typeof i>"u")i=[];else if(Yw(i,e)>=0)return"[Circular]";function m(z,W,me){if(W&&(i=Ak.call(i),i.push(W)),me){var ge={depth:s.depth};return As(s,"quoteStyle")&&(ge.quoteStyle=s.quoteStyle),t(z,ge,n+1,i)}return t(z,s,n+1,i)}if(typeof e=="function"&&!Vw(e)){var v=Lk(e),_=sd(e,m);return"[Function"+(v?": "+v:" (anonymous)")+"]"+(_.length>0?" { "+ai.call(_,", ")+" }":"")}if(Xw(e)){var w=Da?Ss.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):ay.call(e);return typeof e=="object"&&!Da?Cu(w):w}if(Hk(e)){for(var A="<"+Lw.call(String(e.nodeName)),E=e.attributes||[],x=0;x<E.length;x++)A+=" "+E[x].name+"="+$w(Pk(E[x].value),"double",s);return A+=">",e.childNodes&&e.childNodes.length&&(A+="..."),A+="</"+Lw.call(String(e.nodeName))+">",A}if(uy(e)){if(e.length===0)return"[]";var S=sd(e,m);return p&&!Wk(S)?"["+hy(S,p)+"]":"[ "+ai.call(S,", ")+" ]"}if(Ik(e)){var T=sd(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!zw.call(e,"cause")?"{ ["+String(e)+"] "+ai.call(Fw.call("[cause]: "+m(e.cause),T),", ")+" }":T.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+ai.call(T,", ")+" }"}if(typeof e=="object"&&o){if(Ww&&typeof e[Ww]=="function"&&ly)return ly(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Bk(e)){var R=[];return Nw&&Nw.call(e,function(z,W){R.push(m(W,e,!0)+" => "+m(z,e))}),qw("Map",nd.call(e),R,p)}if(zk(e)){var L=[];return Ow&&Ow.call(e,function(z){L.push(m(z,e))}),qw("Set",id.call(e),L,p)}if(Fk(e))return cy("WeakMap");if(jk(e))return cy("WeakSet");if(Uk(e))return cy("WeakRef");if(Mk(e))return Cu(m(Number(e)));if(Ok(e))return Cu(m(sy.call(e)));if(Nk(e))return Cu(xk.call(e));if(kk(e))return Cu(m(String(e)));if(!Rk(e)&&!Vw(e)){var I=sd(e,m),M=jw?jw(e)===Object.prototype:e instanceof Object||e.constructor===Object,Y=e instanceof Object?"":"null prototype",Q=!M&&dr&&Object(e)===e&&dr in e?iy.call(Cs(e),8,-1):Y?"Object":"",K=M||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",$=K+(Q||Y?"["+ai.call(Fw.call([],Q||[],Y||[]),": ")+"] ":"");return I.length===0?$+"{}":p?$+"{"+hy(I,p)+"}":$+"{ "+ai.call(I,", ")+" }"}return String(e)};function $w(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Pk(t){return Ss.call(String(t),/"/g,"&quot;")}function uy(t){return Cs(t)==="[object Array]"&&(!dr||!(typeof t=="object"&&dr in t))}function Rk(t){return Cs(t)==="[object Date]"&&(!dr||!(typeof t=="object"&&dr in t))}function Vw(t){return Cs(t)==="[object RegExp]"&&(!dr||!(typeof t=="object"&&dr in t))}function Ik(t){return Cs(t)==="[object Error]"&&(!dr||!(typeof t=="object"&&dr in t))}function kk(t){return Cs(t)==="[object String]"&&(!dr||!(typeof t=="object"&&dr in t))}function Mk(t){return Cs(t)==="[object Number]"&&(!dr||!(typeof t=="object"&&dr in t))}function Nk(t){return Cs(t)==="[object Boolean]"&&(!dr||!(typeof t=="object"&&dr in t))}function Xw(t){if(Da)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!ay)return!1;try{return ay.call(t),!0}catch{}return!1}function Ok(t){if(!t||typeof t!="object"||!sy)return!1;try{return sy.call(t),!0}catch{}return!1}var Dk=Object.prototype.hasOwnProperty||function(t){return t in this};function As(t,e){return Dk.call(t,e)}function Cs(t){return wk.call(t)}function Lk(t){if(t.name)return t.name;var e=Tk.call(Ek.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function Yw(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Bk(t){if(!nd||!t||typeof t!="object")return!1;try{nd.call(t);try{id.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Fk(t){if(!Su||!t||typeof t!="object")return!1;try{Su.call(t,Su);try{Au.call(t,Au)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function Uk(t){if(!Dw||!t||typeof t!="object")return!1;try{return Dw.call(t),!0}catch{}return!1}function zk(t){if(!id||!t||typeof t!="object")return!1;try{id.call(t);try{nd.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function jk(t){if(!Au||!t||typeof t!="object")return!1;try{Au.call(t,Au);try{Su.call(t,Su)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Hk(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function Qw(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return Qw(iy.call(t,0,e.maxStringLength),e)+n}var i=Ss.call(Ss.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,Gk);return $w(i,"single",e)}function Gk(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+Sk.call(e.toString(16))}function Cu(t){return"Object("+t+")"}function cy(t){return t+" { ? }"}function qw(t,e,r,n){var i=n?hy(r,n):ai.call(r,", ");return t+" ("+e+") {"+i+"}"}function Wk(t){for(var e=0;e<t.length;e++)if(Yw(t[e],`
`)>=0)return!1;return!0}function $k(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=ai.call(Array(t.indent+1)," ");else return null;return{base:r,prev:ai.call(Array(e+1),r)}}function hy(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+ai.call(t,","+r)+`
`+e.prev}function sd(t,e){var r=uy(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=As(t,i)?e(t[i],t):""}var s=typeof oy=="function"?oy(t):[],o;if(Da){o={};for(var l=0;l<s.length;l++)o["$"+s[l]]=s[l]}for(var c in t)As(t,c)&&(r&&String(Number(c))===c&&c<t.length||Da&&o["$"+c]instanceof Symbol||(Bw.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof oy=="function")for(var h=0;h<s.length;h++)zw.call(t,s[h])&&n.push("["+e(s[h])+"]: "+e(t[s[h]],t));return n}var dy=Jg,La=pk,Vk=Ck,Xk=dy("%TypeError%"),od=dy("%WeakMap%",!0),ad=dy("%Map%",!0),Yk=La("WeakMap.prototype.get",!0),Qk=La("WeakMap.prototype.set",!0),qk=La("WeakMap.prototype.has",!0),Kk=La("Map.prototype.get",!0),Zk=La("Map.prototype.set",!0),Jk=La("Map.prototype.has",!0),fy=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},eM=function(t,e){var r=fy(t,e);return r&&r.value},tM=function(t,e,r){var n=fy(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},rM=function(t,e){return!!fy(t,e)},nM=function(){var t,e,r,n={assert:function(i){if(!n.has(i))throw new Xk("Side channel does not contain "+Vk(i))},get:function(i){if(od&&i&&(typeof i=="object"||typeof i=="function")){if(t)return Yk(t,i)}else if(ad){if(e)return Kk(e,i)}else if(r)return eM(r,i)},has:function(i){if(od&&i&&(typeof i=="object"||typeof i=="function")){if(t)return qk(t,i)}else if(ad){if(e)return Jk(e,i)}else if(r)return rM(r,i);return!1},set:function(i,s){od&&i&&(typeof i=="object"||typeof i=="function")?(t||(t=new od),Qk(t,i,s)):ad?(e||(e=new ad),Zk(e,i,s)):(r||(r={key:{},next:null}),tM(r,i,s))}};return n},iM=String.prototype.replace,sM=/%20/g,py={RFC1738:"RFC1738",RFC3986:"RFC3986"},my={default:py.RFC3986,formatters:{RFC1738:function(t){return iM.call(t,sM,"+")},RFC3986:function(t){return String(t)}},RFC1738:py.RFC1738,RFC3986:py.RFC3986},oM=my,gy=Object.prototype.hasOwnProperty,vo=Array.isArray,li=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),aM=function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(vo(r)){for(var n=[],i=0;i<r.length;++i)typeof r[i]<"u"&&n.push(r[i]);e.obj[e.prop]=n}}},Kw=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)typeof t[n]<"u"&&(r[n]=t[n]);return r},lM=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(vo(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!gy.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return vo(e)&&!vo(r)&&(i=Kw(e,n)),vo(e)&&vo(r)?(r.forEach(function(s,o){if(gy.call(e,o)){var l=e[o];l&&typeof l=="object"&&s&&typeof s=="object"?e[o]=t(l,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var l=r[o];return gy.call(s,o)?s[o]=t(s[o],l,n):s[o]=l,s},i)},uM=function(t,e){return Object.keys(e).reduce(function(r,n){return r[n]=e[n],r},t)},cM=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},hM=function(t,e,r,n,i){if(t.length===0)return t;var s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var o="",l=0;l<s.length;++l){var c=s.charCodeAt(l);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===oM.RFC1738&&(c===40||c===41)){o+=s.charAt(l);continue}if(c<128){o=o+li[c];continue}if(c<2048){o=o+(li[192|c>>6]+li[128|c&63]);continue}if(c<55296||c>=57344){o=o+(li[224|c>>12]+li[128|c>>6&63]+li[128|c&63]);continue}l+=1,c=65536+((c&1023)<<10|s.charCodeAt(l)&1023),o+=li[240|c>>18]+li[128|c>>12&63]+li[128|c>>6&63]+li[128|c&63]}return o},dM=function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],s=i.obj[i.prop],o=Object.keys(s),l=0;l<o.length;++l){var c=o[l],h=s[c];typeof h=="object"&&h!==null&&r.indexOf(h)===-1&&(e.push({obj:s,prop:c}),r.push(h))}return aM(e),t},fM=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},pM=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},mM=function(t,e){return[].concat(t,e)},gM=function(t,e){if(vo(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},Zw={arrayToObject:Kw,assign:uM,combine:mM,compact:dM,decode:cM,encode:hM,isBuffer:pM,isRegExp:fM,maybeMap:gM,merge:lM},Jw=nM,ld=Zw,Pu=my,yM=Object.prototype.hasOwnProperty,eE={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},Gi=Array.isArray,vM=Array.prototype.push,tE=function(t,e){vM.apply(t,Gi(e)?e:[e])},_M=Date.prototype.toISOString,rE=Pu.default,fr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:ld.encode,encodeValuesOnly:!1,format:rE,formatter:Pu.formatters[rE],indices:!1,serializeDate:function(t){return _M.call(t)},skipNulls:!1,strictNullHandling:!1},bM=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},yy={},xM=function t(e,r,n,i,s,o,l,c,h,f,p,m,v,_,w,A){for(var E=e,x=A,S=0,T=!1;(x=x.get(yy))!==void 0&&!T;){var R=x.get(e);if(S+=1,typeof R<"u"){if(R===S)throw new RangeError("Cyclic object value");T=!0}typeof x.get(yy)>"u"&&(S=0)}if(typeof c=="function"?E=c(r,E):E instanceof Date?E=p(E):n==="comma"&&Gi(E)&&(E=ld.maybeMap(E,function(ge){return ge instanceof Date?p(ge):ge})),E===null){if(s)return l&&!_?l(r,fr.encoder,w,"key",m):r;E=""}if(bM(E)||ld.isBuffer(E)){if(l){var L=_?r:l(r,fr.encoder,w,"key",m);return[v(L)+"="+v(l(E,fr.encoder,w,"value",m))]}return[v(r)+"="+v(String(E))]}var I=[];if(typeof E>"u")return I;var M;if(n==="comma"&&Gi(E))_&&l&&(E=ld.maybeMap(E,l)),M=[{value:E.length>0?E.join(",")||null:void 0}];else if(Gi(c))M=c;else{var Y=Object.keys(E);M=h?Y.sort(h):Y}for(var Q=i&&Gi(E)&&E.length===1?r+"[]":r,K=0;K<M.length;++K){var $=M[K],z=typeof $=="object"&&typeof $.value<"u"?$.value:E[$];if(!(o&&z===null)){var W=Gi(E)?typeof n=="function"?n(Q,$):Q:Q+(f?"."+$:"["+$+"]");A.set(e,S);var me=Jw();me.set(yy,A),tE(I,t(z,W,n,i,s,o,n==="comma"&&_&&Gi(E)?null:l,c,h,f,p,m,v,_,w,me))}}return I},wM=function(t){if(!t)return fr;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var e=t.charset||fr.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=Pu.default;if(typeof t.format<"u"){if(!yM.call(Pu.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=Pu.formatters[r],i=fr.filter;return(typeof t.filter=="function"||Gi(t.filter))&&(i=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:fr.addQueryPrefix,allowDots:typeof t.allowDots>"u"?fr.allowDots:!!t.allowDots,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:fr.charsetSentinel,delimiter:typeof t.delimiter>"u"?fr.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:fr.encode,encoder:typeof t.encoder=="function"?t.encoder:fr.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:fr.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:fr.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:fr.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:fr.strictNullHandling}},EM=function(t,e){var r=t,n=wM(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Gi(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var l;e&&e.arrayFormat in eE?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var c=eE[l];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var f=Jw(),p=0;p<i.length;++p){var m=i[p];n.skipNulls&&r[m]===null||tE(o,xM(r[m],m,c,h,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,f))}var v=o.join(n.delimiter),_=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),v.length>0?_+v:""},Ba=Zw,vy=Object.prototype.hasOwnProperty,TM=Array.isArray,$t={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ba.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},SM=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},nE=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},AM="utf8=%26%2310003%3B",CM="utf8=%E2%9C%93",PM=function(t,e){var r={__proto__:null},n=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=e.parameterLimit===1/0?void 0:e.parameterLimit,s=n.split(e.delimiter,i),o=-1,l,c=e.charset;if(e.charsetSentinel)for(l=0;l<s.length;++l)s[l].indexOf("utf8=")===0&&(s[l]===CM?c="utf-8":s[l]===AM&&(c="iso-8859-1"),o=l,l=s.length);for(l=0;l<s.length;++l)if(l!==o){var h=s[l],f=h.indexOf("]="),p=f===-1?h.indexOf("="):f+1,m,v;p===-1?(m=e.decoder(h,$t.decoder,c,"key"),v=e.strictNullHandling?null:""):(m=e.decoder(h.slice(0,p),$t.decoder,c,"key"),v=Ba.maybeMap(nE(h.slice(p+1),e),function(_){return e.decoder(_,$t.decoder,c,"value")})),v&&e.interpretNumericEntities&&c==="iso-8859-1"&&(v=SM(v)),h.indexOf("[]=")>-1&&(v=TM(v)?[v]:v),vy.call(r,m)?r[m]=Ba.combine(r[m],v):r[m]=v}return r},RM=function(t,e,r,n){for(var i=n?e:nE(e,r),s=t.length-1;s>=0;--s){var o,l=t[s];if(l==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,h=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(h)&&l!==c&&String(h)===c&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(o=[],o[h]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},IM=function(t,e,r,n){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=r.depth>0&&s.exec(i),c=l?i.slice(0,l.index):i,h=[];if(c){if(!r.plainObjects&&vy.call(Object.prototype,c)&&!r.allowPrototypes)return;h.push(c)}for(var f=0;r.depth>0&&(l=o.exec(i))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&vy.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;h.push(l[1])}return l&&h.push("["+i.slice(l.index)+"]"),RM(h,e,r,n)}},kM=function(t){if(!t)return $t;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=typeof t.charset>"u"?$t.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?$t.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:$t.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:$t.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:$t.arrayLimit,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:$t.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:$t.comma,decoder:typeof t.decoder=="function"?t.decoder:$t.decoder,delimiter:typeof t.delimiter=="string"||Ba.isRegExp(t.delimiter)?t.delimiter:$t.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:$t.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:$t.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:$t.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:$t.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:$t.strictNullHandling}},MM=function(t,e){var r=kM(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?PM(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var l=s[o],c=IM(l,n[l],r,typeof t=="string");i=Ba.merge(i,c,r)}return r.allowSparse===!0?i:Ba.compact(i)},NM=EM,OM=MM,DM=my,LM={formats:DM,parse:OM,stringify:NM},BM=jI;function kn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var FM=/^([a-z0-9.+-]+:)/i,UM=/:[0-9]*$/,zM=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,jM=["<",">",'"',"`"," ","\r",`
`,"	"],HM=["{","}","|","\\","^","`"].concat(jM),_y=["'"].concat(HM),iE=["%","/","?",";","#"].concat(_y),sE=["/","?","#"],GM=255,oE=/^[+a-z0-9A-Z_-]{0,63}$/,WM=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,$M={javascript:!0,"javascript:":!0},by={javascript:!0,"javascript:":!0},Fa={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},xy=LM;function ud(t,e,r){if(t&&typeof t=="object"&&t instanceof kn)return t;var n=new kn;return n.parse(t,e,r),n}kn.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var l=t;if(l=l.trim(),!r&&t.split("#").length===1){var c=zM.exec(l);if(c)return this.path=l,this.href=l,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=xy.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=FM.exec(l);if(h){h=h[0];var f=h.toLowerCase();this.protocol=f,l=l.substr(h.length)}if(r||h||l.match(/^\/\/[^@/]+@[^@/]+/)){var p=l.substr(0,2)==="//";p&&!(h&&by[h])&&(l=l.substr(2),this.slashes=!0)}if(!by[h]&&(p||h&&!Fa[h])){for(var m=-1,v=0;v<sE.length;v++){var _=l.indexOf(sE[v]);_!==-1&&(m===-1||_<m)&&(m=_)}var w,A;m===-1?A=l.lastIndexOf("@"):A=l.lastIndexOf("@",m),A!==-1&&(w=l.slice(0,A),l=l.slice(A+1),this.auth=decodeURIComponent(w)),m=-1;for(var v=0;v<iE.length;v++){var _=l.indexOf(iE[v]);_!==-1&&(m===-1||_<m)&&(m=_)}m===-1&&(m=l.length),this.host=l.slice(0,m),l=l.slice(m),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var x=this.hostname.split(/\./),v=0,S=x.length;v<S;v++){var T=x[v];if(T&&!T.match(oE)){for(var R="",L=0,I=T.length;L<I;L++)T.charCodeAt(L)>127?R+="x":R+=T[L];if(!R.match(oE)){var M=x.slice(0,v),Y=x.slice(v+1),Q=T.match(WM);Q&&(M.push(Q[1]),Y.unshift(Q[2])),Y.length&&(l="/"+Y.join(".")+l),this.hostname=M.join(".");break}}}this.hostname.length>GM?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=BM.toASCII(this.hostname));var K=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+K,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!$M[f])for(var v=0,S=_y.length;v<S;v++){var z=_y[v];if(l.indexOf(z)!==-1){var W=encodeURIComponent(z);W===z&&(W=escape(z)),l=l.split(z).join(W)}}var me=l.indexOf("#");me!==-1&&(this.hash=l.substr(me),l=l.slice(0,me));var ge=l.indexOf("?");if(ge!==-1?(this.search=l.substr(ge),this.query=l.substr(ge+1),e&&(this.query=xy.parse(this.query)),l=l.slice(0,ge)):e&&(this.search="",this.query={}),l&&(this.pathname=l),Fa[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var K=this.pathname||"",ne=this.search||"";this.path=K+ne}return this.href=this.format(),this};function VM(t){return typeof t=="string"&&(t=ud(t)),t instanceof kn?t.format():kn.prototype.format.call(t)}kn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=xy.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||Fa[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),o=o.replace("#","%23"),e+i+r+o+n};function XM(t,e){return ud(t,!1,!0).resolve(e)}kn.prototype.resolve=function(t){return this.resolveObject(ud(t,!1,!0)).format()},kn.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new kn;e.parse(t,!1,!0),t=e}for(var r=new kn,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),l=0;l<o.length;l++){var c=o[l];c!=="protocol"&&(r[c]=t[c])}return Fa[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!Fa[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var p=h[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!by[t.protocol]){for(var S=(t.pathname||"").split("/");S.length&&!(t.host=S.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),S[0]!==""&&S.unshift(""),S.length<2&&S.unshift(""),r.pathname=S.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",v=r.search||"";r.path=m+v}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",w=t.host||t.pathname&&t.pathname.charAt(0)==="/",A=w||_||r.host&&t.pathname,E=A,x=r.pathname&&r.pathname.split("/")||[],S=t.pathname&&t.pathname.split("/")||[],T=r.protocol&&!Fa[r.protocol];if(T&&(r.hostname="",r.port=null,r.host&&(x[0]===""?x[0]=r.host:x.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(S[0]===""?S[0]=t.host:S.unshift(t.host)),t.host=null),A=A&&(S[0]===""||x[0]==="")),w)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,x=S;else if(S.length)x||(x=[]),x.pop(),x=x.concat(S),r.search=t.search,r.query=t.query;else if(t.search!=null){if(T){r.host=x.shift(),r.hostname=r.host;var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!x.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var L=x.slice(-1)[0],I=(r.host||t.host||x.length>1)&&(L==="."||L==="..")||L==="",M=0,Y=x.length;Y>=0;Y--)L=x[Y],L==="."?x.splice(Y,1):L===".."?(x.splice(Y,1),M++):M&&(x.splice(Y,1),M--);if(!A&&!E)for(;M--;M)x.unshift("..");A&&x[0]!==""&&(!x[0]||x[0].charAt(0)!=="/")&&x.unshift(""),I&&x.join("/").substr(-1)!=="/"&&x.push("");var Q=x[0]===""||x[0]&&x[0].charAt(0)==="/";if(T){r.hostname=Q?"":x.length?x.shift():"",r.host=r.hostname;var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname)}return A=A||r.host&&x.length,A&&!Q&&x.unshift(""),x.length>0?r.pathname=x.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},kn.prototype.parseHost=function(){var t=this.host,e=UM.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var YM=ud,QM=XM,qM=VM;const KM={parse:YM,format:qM,resolve:QM};function Mn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Ru(t){return t.split("?")[0].split("#")[0]}function ZM(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function JM(t,e,r){return t.replace(new RegExp(ZM(e),"g"),r)}function eN(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let l=0;l<=t.length;++l){if(l<t.length)o=t.charCodeAt(l);else{if(o===47)break;o=47}if(o===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=l,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=l,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,l)}`:r=t.slice(i+1,l),n=l-i-1;i=l,s=0}else o===46&&s!==-1?++s:s=-1}return r}const pr={toPosix(t){return JM(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Mn(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){const s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const n=Ru(this.toPosix(e??ae.ADAPTER.getBaseUrl())),i=Ru(this.toPosix(r??this.rootname(n)));return Mn(t),t=this.toPosix(t),t.startsWith("/")?pr.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(t=this.toPosix(t),Mn(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=eN(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Mn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Mn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Mn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let l=t.length-1;l>=1;--l)if(e=t.charCodeAt(l),e===47){if(!i){n=l;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Mn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Mn(t),e&&Mn(e),t=Ru(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,l=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=l))}return r===n?n=l:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Mn(t),t=Ru(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const l=t.charCodeAt(o);if(l===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),l===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Mn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Ru(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,l=-1,c=!0,h=t.length-1,f=0;for(;h>=i;--h){if(r=t.charCodeAt(h),r===47){if(!c){o=h+1;break}continue}l===-1&&(c=!1,l=h+1),r===46?s===-1?s=h:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||l===-1||f===0||f===1&&s===l-1&&s===o+1?l!==-1&&(o===0&&n?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(o,l)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,l)):(e.name=t.slice(o,s),e.base=t.slice(o,l)),e.ext=t.slice(s,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},aE={};function Le(t,e,r=3){if(aE[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),aE[e]=!0}let wy;function tN(){return typeof wy>"u"&&(wy=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:ae.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ae.ADAPTER.getWebGLRenderingContext())return!1;const r=ae.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),wy}var rN={grad:.9,turn:360,rad:360/(2*Math.PI)},Wi=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},Vt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},cn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},lE=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},uE=function(t){return{r:cn(t.r,0,255),g:cn(t.g,0,255),b:cn(t.b,0,255),a:cn(t.a)}},Ey=function(t){return{r:Vt(t.r),g:Vt(t.g),b:Vt(t.b),a:Vt(t.a,3)}},nN=/^#([0-9a-f]{3,8})$/i,cd=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},cE=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),l=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(l<0?l+6:l),s:s?o/s*100:0,v:s/255*100,a:i}},hE=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),l=n*(1-(e-s)*r),c=n*(1-(1-e+s)*r),h=s%6;return{r:255*[n,l,o,o,c,n][h],g:255*[c,n,n,l,o,o][h],b:255*[o,o,c,n,n,l][h],a:i}},dE=function(t){return{h:lE(t.h),s:cn(t.s,0,100),l:cn(t.l,0,100),a:cn(t.a)}},fE=function(t){return{h:Vt(t.h),s:Vt(t.s),l:Vt(t.l),a:Vt(t.a,3)}},pE=function(t){return hE((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Iu=function(t){return{h:(e=cE(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},iN=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,sN=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,oN=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,aN=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Ty={string:[[function(t){var e=nN.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?Vt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?Vt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=oN.exec(t)||aN.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:uE({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=iN.exec(t)||sN.exec(t);if(!e)return null;var r,n,i=dE({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(rN[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return pE(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return Wi(e)&&Wi(r)&&Wi(n)?uE({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!Wi(e)||!Wi(r)||!Wi(n))return null;var o=dE({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return pE(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!Wi(e)||!Wi(r)||!Wi(n))return null;var o=function(l){return{h:lE(l.h),s:cn(l.s,0,100),v:cn(l.v,0,100),a:cn(l.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return hE(o)},"hsv"]]},mE=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},lN=function(t){return typeof t=="string"?mE(t.trim(),Ty.string):typeof t=="object"&&t!==null?mE(t,Ty.object):[null,void 0]},Sy=function(t,e){var r=Iu(t);return{h:r.h,s:cn(r.s+100*e,0,100),l:r.l,a:r.a}},Ay=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},gE=function(t,e){var r=Iu(t);return{h:r.h,s:r.s,l:cn(r.l+100*e,0,100),a:r.a}},Cy=function(){function t(e){this.parsed=lN(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return Vt(Ay(this.rgba),2)},t.prototype.isDark=function(){return Ay(this.rgba)<.5},t.prototype.isLight=function(){return Ay(this.rgba)>=.5},t.prototype.toHex=function(){return e=Ey(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?cd(Vt(255*s)):"","#"+cd(r)+cd(n)+cd(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Ey(this.rgba)},t.prototype.toRgbString=function(){return e=Ey(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return fE(Iu(this.rgba))},t.prototype.toHslString=function(){return e=fE(Iu(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=cE(this.rgba),{h:Vt(e.h),s:Vt(e.s),v:Vt(e.v),a:Vt(e.a,3)};var e},t.prototype.invert=function(){return ui({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),ui(Sy(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),ui(Sy(this.rgba,-e))},t.prototype.grayscale=function(){return ui(Sy(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),ui(gE(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),ui(gE(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?ui({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):Vt(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Iu(this.rgba);return typeof e=="number"?ui({h:e,s:r.s,l:r.l,a:r.a}):Vt(r.h)},t.prototype.isEqual=function(e){return this.toHex()===ui(e).toHex()},t}(),ui=function(t){return t instanceof Cy?t:new Cy(t)},yE=[],uN=function(t){t.forEach(function(e){yE.indexOf(e)<0&&(e(Cy,Ty),yE.push(e))})};function cN(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,c,h=n[this.toHex()];if(h)return h;if(o!=null&&o.closest){var f=this.toRgb(),p=1/0,m="black";if(!s.length)for(var v in r)s[v]=new t(r[v]).toRgb();for(var _ in r){var w=(l=f,c=s[_],Math.pow(l.r-c.r,2)+Math.pow(l.g-c.g,2)+Math.pow(l.b-c.b,2));w<p&&(p=w,m=_)}return m}},e.string.push([function(o){var l=o.toLowerCase(),c=l==="transparent"?"#0000":r[l];return c?new t(c).toRgb():null},"name"])}uN([cN]);const Ua=class{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof Ua)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((n,i)=>n===e[i]);if(t!==null&&e!==null){const n=Object.keys(t),i=Object.keys(e);return n.length!==i.length?!1:n.every(s=>t[s]===e[s])}return t===e}toRgba(){const[t,e,r,n]=this._components;return{r:t,g:e,b:r,a:n}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,n]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(r*255),t[2]=Math.round(n*255),t}toRgbArray(t){t=t??[];const[e,r,n]=this._components;return t[0]=e,t[1]=r,t[2]=n,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,r,n,i]=Ua.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=n,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=this._int&255;return e&&(r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0),(t*255<<24)+(r<<16)+(n<<8)+i}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,n]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(n*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,n,i]=this._components;return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}normalize(t){let e,r,n,i;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const s=t;e=(s>>16&255)/255,r=(s>>8&255)/255,n=(s&255)/255,i=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,r,n,i=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,r,n,i=255]=t,e/=255,r/=255,n/=255,i/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const o=Ua.HEX_PATTERN.exec(t);o&&(t=`#${o[2]}`)}const s=ui(t);s.isValid()&&({r:e,g:r,b:n,a:i}=s.rgba,e/=255,r/=255,n/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=r,this._components[2]=n,this._components[3]=i,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(t*255<<16)+(e*255<<8)+(r*255|0)}_clamp(t,e=0,r=1){return typeof t=="number"?Math.min(Math.max(t,e),r):(t.forEach((n,i)=>{t[i]=Math.min(Math.max(n,e),r)}),t)}};let Xe=Ua;Xe.shared=new Ua,Xe.temp=new Ua,Xe.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function hN(t){return Le("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Xe.shared.setValue(t).toHex()}function dN(t){return Le("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Xe.shared.setValue(t).toNumber()}function fN(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[Te.NORMAL_NPM]=Te.NORMAL,t[Te.ADD_NPM]=Te.ADD,t[Te.SCREEN_NPM]=Te.SCREEN,e[Te.NORMAL]=Te.NORMAL_NPM,e[Te.ADD]=Te.ADD_NPM,e[Te.SCREEN]=Te.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const vE=fN();function _E(t,e){return vE[e?1:0][t]}function pN(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function bE(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function hd(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function xE(t){return!(t&t-1)&&!!t}function wE(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function za(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Ps(t){return t===0?0:t<0?-1:1}let mN=0;function _o(){return++mN}const EE=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let Py=EE;Py.EMPTY=new EE(0,0,0,0);const TE={},ci=Object.create(null),Rs=Object.create(null);class gN{constructor(e,r,n){this._canvas=ae.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||ae.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function SE(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function AE(t,e,r,n,i){const s=4*e;for(let o=n,l=n*s+4*r;o<=i;++o,l+=s)if(t[l+3]!==0)return!1;return!0}function yN(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,l=e-1,c=r-1;for(;o<r&&SE(i,e,o);)++o;if(o===r)return Py.EMPTY;for(;SE(i,e,c);)--c;for(;AE(i,e,s,o,c);)++s;for(;AE(i,e,l,o,c);)--l;return++l,++c,new Py(s,o,l,c)}function vN(t){const e=yN(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}let dd;function _N(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,dd||(dd=document.createElement("a")),dd.href=t;const r=KM.parse(dd.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function Is(t,e=1){var n;const r=(n=ae.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var ue=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ue||{});const Ry=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},CE=(t,e)=>Ry(t).priority??e,be={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Ry).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(Ry).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>CE(s,r)-CE(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class Iy{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const bN=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function xN(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function wN(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=bN.replace(/%forloop%/gi,xN(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const ky=0,My=1,Ny=2,Oy=3,Dy=4,Ly=5;class $i{constructor(){this.data=0,this.blendMode=Te.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<ky)}set blend(e){!!(this.data&1<<ky)!==e&&(this.data^=1<<ky)}get offsets(){return!!(this.data&1<<My)}set offsets(e){!!(this.data&1<<My)!==e&&(this.data^=1<<My)}get culling(){return!!(this.data&1<<Ny)}set culling(e){!!(this.data&1<<Ny)!==e&&(this.data^=1<<Ny)}get depthTest(){return!!(this.data&1<<Oy)}set depthTest(e){!!(this.data&1<<Oy)!==e&&(this.data^=1<<Oy)}get depthMask(){return!!(this.data&1<<Ly)}set depthMask(e){!!(this.data&1<<Ly)!==e&&(this.data^=1<<Ly)}get clockwiseFrontFace(){return!!(this.data&1<<Dy)}set clockwiseFrontFace(e){!!(this.data&1<<Dy)!==e&&(this.data^=1<<Dy)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Te.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new $i;return e.depthTest=!1,e.blend=!0,e}}const By=[];function PE(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=By.length-1;n>=0;--n){const i=By[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Nn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,l,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:h,items:f}=this;this._aliasCount++;for(let p=0,m=f.length;p<m;p++)f[p][h](e,r,n,i,s,o,l,c);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Nn.prototype,{dispatch:{value:Nn.prototype.emit},run:{value:Nn.prototype.emit}});class ku{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Nn("setRealSize"),this.onUpdate=new Nn("update"),this.onError=new Nn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Mu extends ku{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===In.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const EN={scaleMode:Ui.NEAREST,format:re.RGBA,alphaMode:In.NPM},ja=class extends bu{constructor(t=null,e=null){super(),e=Object.assign({},ja.defaultOptions,e);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:l,wrapMode:c,format:h,type:f,target:p,resolution:m,resourceOptions:v}=e;t&&!(t instanceof ku)&&(t=PE(t,v),t.internal=!0),this.resolution=m||ae.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=c,this._scaleMode=s,this.format=h,this.type=f,this.target=p,this.alphaMode=r,this.uid=_o(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=xE(this.realWidth)&&xE(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Rs[this.cacheId],delete ci[this.cacheId],this.cacheId=null),this.dispose(),ja.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=ae.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${_o()}`}i=t._pixiId}let s=Rs[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new ja(t,e),s.cacheId=i,ja.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new Mu(t,{width:e,height:r}),s=t instanceof Float32Array?we.FLOAT:we.UNSIGNED_BYTE;return new ja(i,Object.assign({},EN,{type:s},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Rs[e]&&Rs[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Rs[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Rs[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Rs[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Rs[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let Pe=ja;Pe.defaultOptions={mipmap:ii.POW2,anisotropicLevel:0,scaleMode:Ui.LINEAR,wrapMode:zi.CLAMP,alphaMode:In.UNPACK,target:Pa.TEXTURE_2D,format:re.RGBA,type:we.UNSIGNED_BYTE},Pe._globalBatch=0;class Fy{constructor(){this.texArray=null,this.blend=0,this.type=Rn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let TN=0,Ft=class P2{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=TN++,this.disposeRunner=new Nn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?oi.ELEMENT_ARRAY_BUFFER:oi.ARRAY_BUFFER}get index(){return this.type===oi.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new P2(e)}};class fd{constructor(e,r=0,n=!1,i=we.FLOAT,s,o,l,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=l,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,i,s){return new fd(e,r,n,i,s)}}const SN={Float32Array,Uint32Array,Int32Array,Uint8Array};function AN(t,e){let r=0,n=0;const i={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const s=new ArrayBuffer(r*4);let o=null,l=0;for(let c=0;c<t.length;c++){const h=e[c],f=t[c],p=bE(f);i[p]||(i[p]=new SN[p](s)),o=i[p];for(let m=0;m<f.length;m++){const v=(m/h|0)*n+l,_=m%h;o[v+_]=f[m]}l+=h}return new Float32Array(s)}const RE={5126:4,5123:2,5121:1};let CN=0;const PN={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class ks{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=CN++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Nn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,l,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Ft||(r instanceof Array&&(r=new Float32Array(r)),r=new Ft(r));const h=e.split("|");if(h.length>1){for(let p=0;p<h.length;p++)this.addAttribute(h[p],r,n,i,s);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new fd(f,n,i,s,o,l,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Ft||(e instanceof Array&&(e=new Uint16Array(e)),e=new Ft(e)),e.type=oi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Ft;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*RE[s.type]/4),s.buffer=0}for(n.data=AN(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new ks;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Ft(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new fd(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=oi.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new ks,n=[],i=[],s=[];let o;for(let l=0;l<e.length;l++){o=e[l];for(let c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,s[c]=0}for(let l=0;l<o.buffers.length;l++)n[l]=new PN[bE(o.buffers[l].data)](i[l]),r.buffers[l]=new Ft(n[l]);for(let l=0;l<e.length;l++){o=e[l];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,s[c]),s[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=oi.ELEMENT_ARRAY_BUFFER;let l=0,c=0,h=0,f=0;for(let p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){f=p;break}for(const p in o.attributes){const m=o.attributes[p];(m.buffer|0)===f&&(c+=m.size*RE[m.type]/4)}for(let p=0;p<e.length;p++){const m=e[p].indexBuffer.data;for(let v=0;v<m.length;v++)r.indexBuffer.data[v+h]+=l;l+=e[p].buffers[f].data.length/c,h+=m.length}}return r}}class IE extends ks{constructor(e=!1){super(),this._buffer=new Ft(null,e,!1),this._indexBuffer=new Ft(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,we.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,we.FLOAT).addAttribute("aColor",this._buffer,4,!0,we.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,we.FLOAT).addIndex(this._indexBuffer)}}const pd=Math.PI*2,RN=180/Math.PI,IN=Math.PI/180;var rr=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(rr||{});class Ue{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Ue(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const md=[new Ue,new Ue,new Ue,new Ue];class Ne{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=rr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Ne(0,0,0,0)}clone(){return new Ne(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const M=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=M)return!1;const Y=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>Y}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const l=md[0].set(e.left,e.top),c=md[1].set(e.left,e.bottom),h=md[2].set(e.right,e.top),f=md[3].set(e.right,e.bottom);if(h.x<=l.x||c.y<=l.y)return!1;const p=Math.sign(r.a*r.d-r.b*r.c);if(p===0||(r.apply(l,l),r.apply(c,c),r.apply(h,h),r.apply(f,f),Math.max(l.x,c.x,h.x,f.x)<=n||Math.min(l.x,c.x,h.x,f.x)>=i||Math.max(l.y,c.y,h.y,f.y)<=s||Math.min(l.y,c.y,h.y,f.y)>=o))return!1;const m=p*(c.y-l.y),v=p*(l.x-c.x),_=m*n+v*s,w=m*i+v*s,A=m*n+v*o,E=m*i+v*o;if(Math.max(_,w,A,E)<=m*l.x+v*l.y||Math.min(_,w,A,E)>=m*f.x+v*f.y)return!1;const x=p*(l.y-h.y),S=p*(h.x-l.x),T=x*n+S*s,R=x*i+S*s,L=x*n+S*o,I=x*i+S*o;return!(Math.max(T,R,L,I)<=x*l.x+S*l.y||Math.min(T,R,L,I)>=x*f.x+S*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Uy{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=rr.CIRC}clone(){return new Uy(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Ne(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class zy{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=rr.ELIP}clone(){return new zy(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Ne(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Ha{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=rr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Ha(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const l=this.points[s*2],c=this.points[s*2+1],h=this.points[o*2],f=this.points[o*2+1];c>r!=f>r&&e<(h-l)*((r-c)/(f-c))+l&&(n=!n)}return n}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class jy{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=rr.RREC}clone(){return new jy(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class lt{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Ue;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Ue;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,l,c,h){return this.a=Math.cos(l+h)*s,this.b=Math.sin(l+h)*s,this.c=-Math.sin(l-c)*o,this.d=Math.cos(l-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,l=-Math.atan2(-i,s),c=Math.atan2(n,r),h=Math.abs(l+c);return h<1e-5||Math.abs(pd-h)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new lt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new lt}static get TEMP_MATRIX(){return new lt}}const bo=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],xo=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],wo=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Eo=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Hy=[],kE=[],gd=Math.sign;function kN(){for(let t=0;t<16;t++){const e=[];Hy.push(e);for(let r=0;r<16;r++){const n=gd(bo[t]*bo[r]+wo[t]*xo[r]),i=gd(xo[t]*bo[r]+Eo[t]*xo[r]),s=gd(bo[t]*wo[r]+wo[t]*Eo[r]),o=gd(xo[t]*wo[r]+Eo[t]*Eo[r]);for(let l=0;l<16;l++)if(bo[l]===n&&xo[l]===i&&wo[l]===s&&Eo[l]===o){e.push(l);break}}}for(let t=0;t<16;t++){const e=new lt;e.set(bo[t],xo[t],wo[t],Eo[t],0,0),kE.push(e)}}kN();const bt={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>bo[t],uY:t=>xo[t],vX:t=>wo[t],vY:t=>Eo[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Hy[t][e],sub:(t,e)=>Hy[t][bt.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?bt.S:bt.N:Math.abs(e)*2<=Math.abs(t)?t>0?bt.E:bt.W:e>0?t>0?bt.SE:bt.SW:t>0?bt.NE:bt.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=kE[bt.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Vi{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Vi(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const ME=class{constructor(){this.worldTransform=new lt,this.localTransform=new lt,this.position=new Vi(this.onChange,this,0,0),this.scale=new Vi(this.onChange,this,1,1),this.pivot=new Vi(this.onChange,this,0,0),this.skew=new Vi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let yd=ME;yd.IDENTITY=new ME;var MN=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,NN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function NE(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Gy(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function OE(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Gy(2*e);case"bvec3":return Gy(3*e);case"bvec4":return Gy(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const Ga=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],ON={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},DN={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function LN(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(n=t.uniforms[i])!=null&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let l=!1;for(let c=0;c<Ga.length;c++)if(Ga[c].test(s,o)){r.push(Ga[c].code(i,o)),l=!0;break}if(!l){const c=(s.size===1&&!s.isArray?ON:DN)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const DE={};let Wa=DE;function BN(){if(Wa===DE||Wa!=null&&Wa.isContextLost()){const t=ae.ADAPTER.createCanvas();let e;ae.PREFER_ENV>=po.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Wa=e}return Wa}let vd;function FN(){if(!vd){vd=un.MEDIUM;const t=BN();t&&t.getShaderPrecisionFormat&&(vd=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?un.HIGH:un.MEDIUM)}return vd}function LE(t,e){const r=t.getShaderSource(e).split(`
`).map((h,f)=>`${f}: ${h}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(h=>parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(h=>h&&!s[h]?(s[h]=!0,!0):!1),l=[""];o.forEach(h=>{r[h-1]=`%c${r[h-1]}%c`,l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join(`
`);l[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...l),console.groupEnd()}function UN(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||LE(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||LE(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const zN={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function BE(t){return zN[t]}let _d=null;const FE={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function UE(t,e){if(!_d){const r=Object.keys(FE);_d={};for(let n=0;n<r.length;++n){const i=r[n];_d[t[i]]=FE[i]}}return _d[e]}function zE(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===un.HIGH&&r!==un.HIGH&&(n=un.MEDIUM),`precision ${n} float;
${t}`}else if(r!==un.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Nu;function jN(){if(typeof Nu=="boolean")return Nu;try{Nu=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Nu=!1}return Nu}let HN=0;const bd={},$a=class{constructor(t,e,r="pixi-shader",n={}){this.extra={},this.id=HN++,this.vertexSrc=t||$a.defaultVertexSrc,this.fragmentSrc=e||$a.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),bd[r]?(bd[r]++,r+=`-${bd[r]}`):bd[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=zE(this.vertexSrc,$a.defaultVertexPrecision,un.HIGH),this.fragmentSrc=zE(this.fragmentSrc,$a.defaultFragmentPrecision,FN())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return NN}static get defaultFragmentSrc(){return MN}static from(t,e,r){const n=t+e;let i=TE[n];return i||(TE[n]=i=new $a(t,e,r)),i}};let On=$a;On.defaultVertexPrecision=un.HIGH,On.defaultFragmentPrecision=Hi.apple.device?un.HIGH:un.MEDIUM;let GN=0;class Dn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=GN++,this.static=!!r,this.ubo=!!n,e instanceof Ft?(this.buffer=e,this.buffer.type=oi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Ft(new Float32Array(1)),this.buffer.type=oi.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Dn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Dn(e,r,n)}static uboFrom(e,r){return new Dn(e,r??!0,!0)}}class hi{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Dn?this.uniformGroup=r:this.uniformGroup=new Dn(r):this.uniformGroup=new Dn({}),this.disposeRunner=new Nn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=On.from(e,r);return new hi(i,n)}}class WN{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Dn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new On(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new lt,default:this.defaultGroupCache[e]};return new hi(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class Wy{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function $N(){return!Hi.apple.device}function VN(t){let e=!0;const r=ae.ADAPTER.getNavigator();if(Hi.tablet||Hi.phone){if(Hi.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Hi.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class xd{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var XN=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,YN=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Ln=class extends xd{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=IE,this.vertexSize=6,this.state=$i.for2d(),this.size=Ln.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??VN(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??$N(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Le("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return YN}static get defaultFragmentTemplate(){return XN}setShaderGenerator({vertex:t=Ln.defaultVertexSrc,fragment:e=Ln.defaultFragmentTemplate}={}){this.shaderGenerator=new WN(t,e)}contextChange(){const t=this.renderer.gl;ae.PREFER_ENV===po.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Ln.defaultMaxTextures),this.maxTextures=wN(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Ln,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new Fy);for(;e.length<n;)e.push(new Wy);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=Ln._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++Pe._globalBatch,l=0,c=r[0],h=0;n.copyBoundTextures(i,e);for(let f=0;f<this._bufferSize;++f){const p=t[f];t[f]=null,p._batchEnabled!==o&&(c.count>=e&&(n.boundArray(c,i,o,e),this.buildDrawCalls(c,h,f),h=f,c=r[++l],++o),p._batchEnabled=o,p.touched=s,c.elements[c.count++]=p)}c.count>0&&(n.boundArray(c,i,o,e),this.buildDrawCalls(c,h,this._bufferSize),++l,++o);for(let f=0;f<i.length;f++)i[f]=null;Pe._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,l=Ln._drawCallPool;let c=this._dcIndex,h=this._aIndex,f=this._iIndex,p=l[c];p.start=this._iIndex,p.texArray=t;for(let m=e;m<r;++m){const v=n[m],_=v._texture.baseTexture,w=vE[_.alphaMode?1:0][v.blendMode];n[m]=null,e<m&&p.blend!==w&&(p.size=f-p.start,e=m,p=l[++c],p.texArray=t,p.start=f),this.packInterleavedGeometry(v,i,s,h,f),h+=v.vertexData.length/2*o,f+=v.indices.length,p.blend=w}e<r&&(p.size=f-p.start,++c),this._dcIndex=c,this._aIndex=h,this._iIndex=f}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;Ln.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=Ln._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:l,size:c,start:h,blend:f}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=f,r.set(this.state),e.drawElements(l,c,e.UNSIGNED_SHORT,h*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Ln.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=hd(Math.ceil(t/8)),r=wE(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new Iy(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=hd(Math.ceil(t/12)),r=wE(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,l=n/this.vertexSize,c=t.uvs,h=t.indices,f=t.vertexData,p=t._texture.baseTexture._batchLocation,m=Math.min(t.worldAlpha,1),v=Xe.shared.setValue(t._tintRGB).toPremultiplied(m,t._texture.baseTexture.alphaMode>0);for(let _=0;_<f.length;_+=2)o[n++]=f[_],o[n++]=f[_+1],o[n++]=c[_],o[n++]=c[_+1],s[n++]=v,o[n++]=p;for(let _=0;_<h.length;_++)r[i++]=l+h[_]}};let Bn=Ln;Bn.defaultBatchSize=4096,Bn.extension={name:"batch",type:ue.RendererPlugin},Bn._drawCallPool=[],Bn._textureArrayPool=[],be.add(Bn);var QN=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,qN=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Ou=class extends hi{constructor(t,e,r){const n=On.from(t||Ou.defaultVertexSrc,e||Ou.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=Ou.defaultResolution,this.multisample=Ou.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new $i}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return qN}static get defaultFragmentSrc(){return QN}};let nr=Ou;nr.defaultResolution=1,nr.defaultMultisample=kt.NONE;class wd{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Xe(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}wd.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},wd.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"background"},be.add(wd);class jE{constructor(e){this.renderer=e,this.emptyRenderer=new xd(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:l}=e;let c=0;for(let h=0;h<l;h++){const f=s[h],p=f._batchLocation;if(p>=0&&p<i&&r[p]===f){o[h]=p;continue}for(;c<i;){const m=r[c];if(m&&m._batchEnabled===n&&m._batchLocation===c){c++;continue}o[h]=c,f._batchLocation=c,r[c]=f;break}}}destroy(){this.renderer=null}}jE.extension={type:ue.RendererSystem,name:"batch"},be.add(jE);let HE=0;class Ed{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=HE++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=HE++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(ae.PREFER_ENV>=po.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Ed.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Ed.extension={type:ue.RendererSystem,name:"context"},be.add(Ed);class KN extends Mu{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===In.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class $y{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Nn("disposeFramebuffer"),this.multisample=kt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Pe(null,{scaleMode:Ui.NEAREST,resolution:1,mipmap:ii.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Pe(new KN(null,{width:this.width,height:this.height}),{scaleMode:Ui.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:ii.OFF,format:re.DEPTH_COMPONENT,type:we.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class GE extends Pe{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=kt.NONE),super(null,e),this.mipmap=ii.OFF,this.valid=!0,this._clear=new Xe([0,0,0,0]),this.framebuffer=new $y(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Ms extends ku{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=_N(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,l=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===In.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===l?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=l,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class WE extends Ms{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;Ms.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??ae.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===In.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const l=s[o];if(l!==n&&l.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class $E{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,l=e.height/2/s,c=e.x/i+o,h=e.y/s+l;n=bt.add(n,bt.NW),this.x0=c+o*bt.uX(n),this.y0=h+l*bt.uY(n),n=bt.add(n,2),this.x1=c+o*bt.uX(n),this.y1=h+l*bt.uY(n),n=bt.add(n,2),this.x2=c+o*bt.uX(n),this.y2=h+l*bt.uY(n),n=bt.add(n,2),this.x3=c+o*bt.uX(n),this.y3=h+l*bt.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const VE=new $E;function Td(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class le extends bu{constructor(e,r,n,i,s,o,l){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Ne(0,0,1,1)),e instanceof le&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=VE,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Ue(o.x,o.y):new Ue(0,0),this.defaultBorders=l,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&ci[r.url]&&le.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,le.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new le(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===VE&&(this._uvs=new $E),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=ae.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Pe){if(!e.cacheId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${l}-${_o()}`,Pe.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${l}_${_o()}`}s=e._pixiId}let o=ci[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Pe)?(r.resolution||(r.resolution=Is(e)),o=new le(new Pe(e,r)),o.baseTexture.cacheId=s,Pe.addToCache(o.baseTexture,s),le.addToCache(o,s)):!o&&e instanceof Pe&&(o=new le(e),le.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=le.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new le(Pe.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Pe(e,Object.assign({scaleMode:Pe.defaultOptions.scaleMode,resolution:Is(r)},i)),{resource:o}=s;o instanceof WE&&(o.url=r);const l=new le(s);return n||(n=r),Pe.addToCache(l.baseTexture,n),le.addToCache(l,n),n!==r&&(Pe.addToCache(l.baseTexture,r),le.addToCache(l,r)),l.baseTexture.valid?Promise.resolve(l):new Promise(c=>{l.baseTexture.once("loaded",()=>c(l))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),ci[r]&&ci[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),ci[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=ci[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete ci[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)ci[e.textureCacheIds[r]]===e&&delete ci[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,l=n+s>this.baseTexture.height;if(o||l){const c=o&&l?"and":"or",h=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,f=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${h} ${c} ${f}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return le._EMPTY||(le._EMPTY=new le(new Pe),Td(le._EMPTY),Td(le._EMPTY.baseTexture)),le._EMPTY}static get WHITE(){if(!le._WHITE){const e=ae.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),le._WHITE=new le(Pe.from(e)),Td(le._WHITE),Td(le._WHITE.baseTexture)}return le._WHITE}}class To extends le{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new To(new GE(e))}}class XE{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=kt.NONE){const i=new GE(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new To(i)}getOptimalTexture(e,r,n=1,i=kt.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=hd(e),r=hd(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||kt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}XE.SCREEN_KEY=-1;class ZN extends ks{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class YE extends ks{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Ft(this.vertices),this.uvBuffer=new Ft(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class JN{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=kt.NONE,this.sourceFrame=new Ne,this.destinationFrame=new Ne,this.bindingSourceFrame=new Ne,this.bindingDestinationFrame=new Ne,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Sd=[new Ue,new Ue,new Ue,new Ue],Vy=new lt;class QE{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new XE,this.statePool=[],this.quad=new ZN,this.quadUv=new YE,this.tempRect=new Ne,this.activeState={},this.globalUniforms=new Dn({outputFrame:new Ne,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new JN,o=this.renderer.renderTexture;let l=r[0].resolution,c=r[0].multisample,h=r[0].padding,f=r[0].autoFit,p=r[0].legacy??!0;for(let _=1;_<r.length;_++){const w=r[_];l=Math.min(l,w.resolution),c=Math.min(c,w.multisample),h=this.useMaxPadding?Math.max(h,w.padding):h+w.padding,f=f&&w.autoFit,p=p||(w.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=l,s.multisample=c,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(h);const m=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Vy.copyFrom(n.projection.transform).invert(),m),f?(s.sourceFrame.fit(m),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(m)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,c),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const v=this.tempRect;v.x=0,v.y=0,v.width=s.sourceFrame.width,v.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,v),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,l=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],l[0]=.5*o[2],l[1]=.5*o[3],l[2]=r.sourceFrame.width*s[2]-.5*o[2],l[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const h=i.filterArea;h[0]=r.destinationFrame.width,h[1]=r.destinationFrame.height,h[2]=r.sourceFrame.x,h[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,si.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let h=r.renderTexture,f=this.getOptimalFilterTexture(h.width,h.height,r.resolution);f.filterFrame=h.filterFrame;let p=0;for(p=0;p<n.length-1;++p){p===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(h.width,h.height,r.resolution),f.filterFrame=h.filterFrame),n[p].apply(this,h,f,si.CLEAR,r);const m=h;h=f,f=m}n[p].apply(this,h,c.renderTexture,si.BLEND,r),p>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=si.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===si.CLEAR||r===si.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Rn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Rn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),l=r.worldTransform.copyTo(lt.TEMP_MATRIX);return l.invert(),o.prepend(l),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=kt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||kt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Sd[0],i=Sd[1],s=Sd[2],o=Sd[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const l=Math.min(n.x,i.x,s.x,o.x),c=Math.min(n.y,i.y,s.y,o.y),h=Math.max(n.x,i.x,s.x,o.x),f=Math.max(n.y,i.y,s.y,o.y);r.x=l,r.y=c,r.width=h-l,r.height=f-c}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:l,c,d:h}=s;if((Math.abs(l)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(h)>1e-4))return}s=s?Vy.copyFrom(s):Vy.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}QE.extension={type:ue.RendererSystem,name:"filter"},be.add(QE);class eO{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=kt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const tO=new Ne;class qE{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new $y(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Ne,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ae.PREFER_ENV===po.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const l=e.colorTextures[o];this.renderer.texture.unbind(l.parentTextureArray||l)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,l=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,l)}else{const o=e.width>>n,l=e.height>>n;this.setViewport(0,0,o,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=zg.COLOR|zg.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new eO(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const l=i[o],c=l.parentTextureArray||l;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const l=[];for(let c=0;c<o;c++){const h=s[c],f=h.parentTextureArray||h;this.renderer.texture.bind(f,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,h.target,f._glTextures[this.CONTEXT_UID].texture,r),l.push(n.COLOR_ATTACHMENT0+c))}if(l.length>1&&n.drawBuffers(l),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=kt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=kt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:l}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[l];if(!c)return;if(!e){if(!c.msaaBuffer)return;const f=i.colorTextures[0];if(!f)return;c.blitFramebuffer||(c.blitFramebuffer=new $y(i.width,i.height),c.blitFramebuffer.addColorTexture(0,f)),e=c.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=tO,r.width=i.width,r.height=i.height),n||(n=r);const h=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,h?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Ne}destroy(){this.renderer=null}}qE.extension={type:ue.RendererSystem,name:"framebuffer"},be.add(qE);const Xy={5126:4,5123:2,5121:1};class KE{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;ae.PREFER_ENV===po.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,l,c)=>n.drawElementsInstancedANGLE(i,s,o,l,c),e.drawArraysInstanced=(i,s,o,l)=>n.drawArraysInstancedANGLE(i,s,o,l)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,l=r.program;l.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,l);const c=this.getSignature(e,l),h=e.glVertexArrayObjects[this.CONTEXT_UID];let f=h[c];if(f)return h[l.id]=f,f;const p=e.buffers,m=e.attributes,v={},_={};for(const w in p)v[w]=0,_[w]=0;for(const w in m)!m[w].size&&l.attributeData[w]?m[w].size=l.attributeData[w].size:m[w].size||console.warn(`PIXI Geometry attribute '${w}' size cannot be determined (likely the bound shader does not have the attribute)`),v[m[w].buffer]+=m[w].size*Xy[m[w].type];for(const w in m){const A=m[w],E=A.size;A.stride===void 0&&(v[A.buffer]===E*Xy[A.type]?A.stride=0:A.stride=v[A.buffer]),A.start===void 0&&(A.start=_[A.buffer],_[A.buffer]+=E*Xy[A.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(let w=0;w<p.length;w++){const A=p[w];o.bind(A),n&&A._glBuffers[s].refCount++}return this.activateVao(e,l),h[l.id]=f,h[c]=f,i.bindVertexArray(null),o.unbind(oi.ARRAY_BUFFER),f}disposeGeometry(e,r){var l;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(l=this.renderer)==null?void 0:l.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let c=0;c<s.length;c++){const h=s[c]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&o.dispose(s[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const h=n[c];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,l=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const h in l){const f=l[h],p=o[f.buffer],m=p._glBuffers[i];if(r.attributeData[h]){c!==m&&(s.bind(p),c=m);const v=r.attributeData[h].location;if(n.enableVertexAttribArray(v),n.vertexAttribPointer(v,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(v,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const l=o.indexBuffer.data.BYTES_PER_ELEMENT,c=l===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*l,i||1):s.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*l):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}KE.extension={type:ue.RendererSystem,name:"geometry"},be.add(KE);const ZE=new lt;class Yy{constructor(e,r){this._texture=e,this.mapCoord=new lt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(ZE.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(ZE));const o=r.baseTexture,l=this.uClampFrame,c=this.clampMargin/o.resolution,h=this.clampOffset;return l[0]=(r._frame.x+c+h)/o.width,l[1]=(r._frame.y+c+h)/o.height,l[2]=(r._frame.x+r._frame.width-c+h)/o.width,l[3]=(r._frame.y+r._frame.height-c+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var rO=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,nO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class iO extends nr{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||nO,r||rO,n),this.maskSprite=i,this.maskMatrix=new lt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Yy(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class sO{constructor(e=null){this.type=Bt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=nr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Bt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class JE{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new sO;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Bt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Bt.SCISSOR:this.renderer.scissor.push(n);break;case Bt.STENCIL:this.renderer.stencil.push(n);break;case Bt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Bt.COLOR:this.pushColorMask(n);break}n.type===Bt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Bt.SCISSOR:this.renderer.scissor.pop(r);break;case Bt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Bt.SPRITE:this.popSpriteMask(r);break;case Bt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Bt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Bt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Bt.SCISSOR:e.type=Bt.STENCIL:e.type=Bt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new iO]));const s=this.renderer,o=s.renderTexture;let l,c;if(o.current){const f=o.current;l=e.resolution||f.resolution,c=e.multisample??f.multisample}else l=e.resolution||s.resolution,c=e.multisample??s.multisample;i[0].resolution=l,i[0].multisample=c,i[0].maskSprite=r;const h=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=h,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}JE.extension={type:ue.RendererSystem,name:"mask"},be.add(JE);class eT{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const tT=new lt,rT=[],Ad=class extends eT{constructor(t){super(t),this.glConst=ae.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,rT.pop()??new Ne);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Ad.isMatrixRotated(e.worldTransform)||Ad.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){Ad.isMatrixRotated(i)||(i=i?tT.copyFrom(i):tT.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&rT.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let nT=Ad;nT.extension={type:ue.RendererSystem,name:"scissor"},be.add(nT);class iT extends eT{constructor(e){super(e),this.glConst=ae.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}iT.extension={type:ue.RendererSystem,name:"stencil"},be.add(iT);class sT{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Le("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Le("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Le("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}sT.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"_plugin"},be.add(sT);class oT{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new lt,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}oT.extension={type:ue.RendererSystem,name:"projection"},be.add(oT);const oO=new yd;class aT{constructor(e){this.renderer=e,this._tempMatrix=new lt}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=To.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const l=e.transform;return e.transform=oO,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,o}destroy(){}}aT.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"textureGenerator"},be.add(aT);const So=new Ne,Du=new Ne;class lT{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Ne,this.destinationFrame=new Ne,this.viewportFrame=new Ne}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,l;e?(s=e.baseTexture,l=s.resolution,r||(So.width=e.frame.width,So.height=e.frame.height,r=So),n||(Du.x=e.frame.x,Du.y=e.frame.y,Du.width=r.width,Du.height=r.height,n=Du),o=s.framebuffer):(l=i.resolution,r||(So.width=i._view.screen.width,So.height=i._view.screen.height,r=So),n||(n=So,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*l,c.y=n.y*l,c.width=n.width*l,c.height=n.height*l,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,l,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Xe.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,l=s.width!==o.width||s.height!==o.height;if(l){let{x:c,y:h,width:f,height:p}=this.viewportFrame;c=Math.round(c),h=Math.round(h),f=Math.round(f),p=Math.round(p),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,h,f,p)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),l&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}lT.extension={type:ue.RendererSystem,name:"renderTexture"},be.add(lT);class aO{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function lO(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=UE(e,s.type),l={type:o,name:s.name,size:BE(o),location:e.getAttribLocation(t,s.name)};r[s.name]=l}return r}function uO(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),l=!!s.name.match(/\[.*?\]$/),c=UE(e,s.type);r[o]={name:o,index:i,type:c,size:s.size,isArray:l,value:OE(c,s.size)}}return r}function cO(t,e){var l;const r=NE(t,t.VERTEX_SHADER,e.vertexSrc),n=NE(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||UN(t,i,r,n),e.attributeData=lO(i,t),e.uniformData=uO(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((h,f)=>h>f?1:-1);for(let h=0;h<c.length;h++)e.attributeData[c[h]].location=h,t.bindAttribLocation(i,h,c[h]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const c in e.uniformData){const h=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:OE(h.type,h.size)}}return new aO(i,o)}function hO(t,e,r,n,i){r.buffer.update(i)}const dO={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},uT={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function fO(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=uT[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const l=n%r%16;n+=l,i+=l}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function pO(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function mO(t,e){if(!t.autoManage)return{size:0,syncFunc:hO};const r=pO(t.uniforms,e),{uboElements:n,size:i}=fO(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const l=n[o],c=t.uniforms[l.data.name],h=l.data.name;let f=!1;for(let p=0;p<Ga.length;p++){const m=Ga[p];if(m.codeUbo&&m.test(l.data,c)){s.push(`offset = ${l.offset/4};`,Ga[p].codeUbo(l.data.name,c)),f=!0;break}}if(!f)if(l.data.size>1){const p=BE(l.data.type),m=Math.max(uT[l.data.type]/16,1),v=p/m,_=(4-v%4)%4;s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${l.offset/4};

                t = 0;

                for(var i=0; i < ${l.data.size*m}; i++)
                {
                    for(var j = 0; j < ${v}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${_};
                }

                `)}else{const p=dO[l.data.type];s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${l.offset/4};
                ${p};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let gO=0;const Cd={textureCount:0,uboCount:0};class cT{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=gO++}systemCheck(){if(!jN())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Cd.textureCount=0,Cd.uboCount=0,this.syncUniformGroup(e.uniformGroup,Cd)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=LN(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Cd,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let l=this._uboCache[o];if(l||(l=this._uboCache[o]=mO(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(l.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=l.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=cO(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}cT.extension={type:ue.RendererSystem,name:"shader"},be.add(cT);class Pd{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.2.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Pd.defaultOptions={hello:!1},Pd.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"startup"},be.add(Pd);function yO(t,e=[]){return e[Te.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.ADD]=[t.ONE,t.ONE],e[Te.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.NONE]=[0,0],e[Te.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Te.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Te.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Te.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Te.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Te.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Te.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Te.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Te.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Te.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Te.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const vO=0,_O=1,bO=2,xO=3,wO=4,EO=5,Qy=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Te.NONE,this._blendEq=!1,this.map=[],this.map[vO]=this.setBlend,this.map[_O]=this.setOffset,this.map[bO]=this.setCullFace,this.map[xO]=this.setDepthTest,this.map[wO]=this.setFrontFace,this.map[EO]=this.setDepthMask,this.checks=[],this.defaultState=new $i,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=yO(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Qy.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Qy.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let hT=Qy;hT.extension={type:ue.RendererSystem,name:"state"},be.add(hT);class TO extends bu{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Nn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Rd=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Rd.defaultMaxIdle,this.checkCountMax=Rd.defaultCheckCountMax,this.mode=Rd.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Hg.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let n=0;n<e.length;n++){const i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[n++]=e[i]);e.length=n}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};let Fn=Rd;Fn.defaultMode=Hg.AUTO,Fn.defaultMaxIdle=60*60,Fn.defaultCheckCountMax=60*10,Fn.extension={type:ue.RendererSystem,name:"textureGC"},be.add(Fn);class qy{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=we.UNSIGNED_BYTE,this.internalFormat=re.RGBA,this.samplerType=0}}function SO(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[we.UNSIGNED_BYTE]:{[re.RGBA]:t.RGBA8,[re.RGB]:t.RGB8,[re.RG]:t.RG8,[re.RED]:t.R8,[re.RGBA_INTEGER]:t.RGBA8UI,[re.RGB_INTEGER]:t.RGB8UI,[re.RG_INTEGER]:t.RG8UI,[re.RED_INTEGER]:t.R8UI,[re.ALPHA]:t.ALPHA,[re.LUMINANCE]:t.LUMINANCE,[re.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[we.BYTE]:{[re.RGBA]:t.RGBA8_SNORM,[re.RGB]:t.RGB8_SNORM,[re.RG]:t.RG8_SNORM,[re.RED]:t.R8_SNORM,[re.RGBA_INTEGER]:t.RGBA8I,[re.RGB_INTEGER]:t.RGB8I,[re.RG_INTEGER]:t.RG8I,[re.RED_INTEGER]:t.R8I},[we.UNSIGNED_SHORT]:{[re.RGBA_INTEGER]:t.RGBA16UI,[re.RGB_INTEGER]:t.RGB16UI,[re.RG_INTEGER]:t.RG16UI,[re.RED_INTEGER]:t.R16UI,[re.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[we.SHORT]:{[re.RGBA_INTEGER]:t.RGBA16I,[re.RGB_INTEGER]:t.RGB16I,[re.RG_INTEGER]:t.RG16I,[re.RED_INTEGER]:t.R16I},[we.UNSIGNED_INT]:{[re.RGBA_INTEGER]:t.RGBA32UI,[re.RGB_INTEGER]:t.RGB32UI,[re.RG_INTEGER]:t.RG32UI,[re.RED_INTEGER]:t.R32UI,[re.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[we.INT]:{[re.RGBA_INTEGER]:t.RGBA32I,[re.RGB_INTEGER]:t.RGB32I,[re.RG_INTEGER]:t.RG32I,[re.RED_INTEGER]:t.R32I},[we.FLOAT]:{[re.RGBA]:t.RGBA32F,[re.RGB]:t.RGB32F,[re.RG]:t.RG32F,[re.RED]:t.R32F,[re.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[we.HALF_FLOAT]:{[re.RGBA]:t.RGBA16F,[re.RGB]:t.RGB16F,[re.RG]:t.RG16F,[re.RED]:t.R16F},[we.UNSIGNED_SHORT_5_6_5]:{[re.RGB]:t.RGB565},[we.UNSIGNED_SHORT_4_4_4_4]:{[re.RGBA]:t.RGBA4},[we.UNSIGNED_SHORT_5_5_5_1]:{[re.RGBA]:t.RGB5_A1},[we.UNSIGNED_INT_2_10_10_10_REV]:{[re.RGBA]:t.RGB10_A2,[re.RGBA_INTEGER]:t.RGB10_A2UI},[we.UNSIGNED_INT_10F_11F_11F_REV]:{[re.RGB]:t.R11F_G11F_B10F},[we.UNSIGNED_INT_5_9_9_9_REV]:{[re.RGB]:t.RGB9_E5},[we.UNSIGNED_INT_24_8]:{[re.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[we.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[re.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[we.UNSIGNED_BYTE]:{[re.RGBA]:t.RGBA,[re.RGB]:t.RGB,[re.ALPHA]:t.ALPHA,[re.LUMINANCE]:t.LUMINANCE,[re.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[we.UNSIGNED_SHORT_5_6_5]:{[re.RGB]:t.RGB},[we.UNSIGNED_SHORT_4_4_4_4]:{[re.RGBA]:t.RGBA},[we.UNSIGNED_SHORT_5_5_5_1]:{[re.RGBA]:t.RGBA}},e}class dT{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Pe,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=SO(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new qy(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new qy(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==jg.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new qy(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,this.webGLVersion===2&&e.type===we.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==jg.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,l=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,l.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&za(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===ii.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=zi.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==ii.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ui.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===Ui.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===Ui.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===Ui.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}dT.extension={type:ue.RendererSystem,name:"texture"},be.add(dT);class fT{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];l&&(n.buffer.update(l),l._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,l._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];if(!l)continue;const c=l._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(l,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}fT.extension={type:ue.RendererSystem,name:"transformFeedback"},be.add(fT);class Id{constructor(e){this.renderer=e}init(e){this.screen=new Ne(0,0,e.width,e.height),this.element=e.view||ae.ADAPTER.createCanvas(),this.resolution=e.resolution||ae.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Id.defaultOptions={width:800,height:600,resolution:ae.RESOLUTION,autoDensity:!1},Id.extension={type:[ue.RendererSystem,ue.CanvasRendererSystem],name:"_view"},be.add(Id),ae.PREFER_ENV=po.WEBGL2,ae.STRICT_TEXTURE_CACHE=!1,ae.RENDER_OPTIONS={...Ed.defaultOptions,...wd.defaultOptions,...Id.defaultOptions,...Pd.defaultOptions},Object.defineProperties(ae,{WRAP_MODE:{get(){return Pe.defaultOptions.wrapMode},set(t){Le("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Pe.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Pe.defaultOptions.scaleMode},set(t){Le("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Pe.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Pe.defaultOptions.mipmap},set(t){Le("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Pe.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Pe.defaultOptions.anisotropicLevel},set(t){Le("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Pe.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Le("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),nr.defaultResolution},set(t){nr.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Le("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),nr.defaultMultisample},set(t){nr.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Bn.defaultMaxTextures},set(t){Le("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Bn.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Bn.defaultBatchSize},set(t){Le("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Bn.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Bn.canUploadSameBuffer},set(t){Le("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Bn.canUploadSameBuffer=t}},GC_MODE:{get(){return Fn.defaultMode},set(t){Le("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Fn.defaultMode=t}},GC_MAX_IDLE:{get(){return Fn.defaultMaxIdle},set(t){Le("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Fn.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Fn.defaultCheckCountMax},set(t){Le("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Fn.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return On.defaultVertexPrecision},set(t){Le("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),On.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return On.defaultFragmentPrecision},set(t){Le("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),On.defaultFragmentPrecision=t}}});var Ns=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Ns||{});class Ky{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Xr=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new Ky(null,null,1/0),this.deltaMS=1/Xr.targetFPMS,this.elapsedMS=1/Xr.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=Ns.NORMAL){return this._addListener(new Ky(t,e,r))}addOnce(t,e,r=Ns.NORMAL){return this._addListener(new Ky(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Xr.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,Xr.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Xr._shared){const t=Xr._shared=new Xr;t.autoStart=!0,t._protected=!0}return Xr._shared}static get system(){if(!Xr._system){const t=Xr._system=new Xr;t.autoStart=!0,t._protected=!0}return Xr._system}};let At=Xr;At.targetFPMS=.06,Object.defineProperties(ae,{TARGET_FPMS:{get(){return At.targetFPMS},set(t){Le("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),At.targetFPMS=t}}});class pT{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Ns.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?At.shared:new At,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}pT.extension=ue.Application,be.add(pT);const mT=[];be.handleByList(ue.Renderer,mT);function AO(t){for(const e of mT)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var CO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,PO=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const RO=CO,gT=PO;class yT{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=kt.HIGH?this.multisample=kt.HIGH:r>=kt.MEDIUM?this.multisample=kt.MEDIUM:r>=kt.LOW?this.multisample=kt.LOW:this.multisample=kt.NONE}destroy(){}}yT.extension={type:ue.RendererSystem,name:"_multisample"},be.add(yT);class IO{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class vT{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new IO(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}vT.extension={type:ue.RendererSystem,name:"buffer"},be.add(vT);class _T{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,l;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,l=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!l){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}_T.extension={type:ue.RendererSystem,name:"objectRenderer"},be.add(_T);const Zy=class extends TO{constructor(t){super(),this.type=aw.WEBGL,t=Object.assign({},ae.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Dn({projectionMatrix:new lt},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:Zy.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Le("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=Zy.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:tN()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Le("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Le("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Le("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Le("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Le("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Le("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){Le("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Le("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let Va=Zy;Va.extension={type:ue.Renderer,priority:1},Va.__plugins={},Va.__systems={},be.handleByMap(ue.RendererPlugin,Va.__plugins),be.handleByMap(ue.RendererSystem,Va.__systems),be.add(Va);class bT extends ku{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Pe;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof ku?this.addResourceAt(e[n],n):this.addResourceAt(PE(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),Promise.resolve(this)}),this._load}}class kO extends bT{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Pa.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:l}=e;n.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let c=0;c<i;c++){const h=o[c];s[c]<h.dirtyId&&(s[c]=h.dirtyId,h.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,c,h.resource.width,h.resource.height,1,r.format,n.type,h.resource.source))}return!0}}class MO extends Ms{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Lu=class extends bT{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Lu.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<Lu.SIDES;o++)this.items[o].target=Pa.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=Pa.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Pa.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<Lu.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Lu.SIDES}};let xT=Lu;xT.SIDES=6;class Xa extends Ms{constructor(e,r){r=r||{};let n,i;typeof e=="string"?(n=Xa.EMPTY,i=e):(n=e,i=null),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await ae.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===In.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Xa._EMPTY=Xa._EMPTY??ae.ADAPTER.createCanvas(0,0),Xa._EMPTY}}const kd=class extends Ms{constructor(t,e){e=e||{},super(ae.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},kd.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Ms.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${_o()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=kd.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&kd.SVG_XML.test(t)}};let Bu=kd;Bu.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,Bu.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const Jy=class extends Ms{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];Ms.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:l}=t[i];o=o||t[i];const c=o.split("?").shift().toLowerCase(),h=c.slice(c.lastIndexOf(".")+1);l=l||Jy.MIME_TYPES[h]||`video/${h}`,s.src=o,s.type=l,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=At.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(At.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(At.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(At.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(At.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(At.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||Jy.TYPES.includes(e)}};let ev=Jy;ev.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],ev.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},By.push(Xa,WE,MO,ev,Bu,Mu,xT,kO);class Md{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Ne.EMPTY:(e=e||new Ne(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:l,ty:c}=e,h=n*r.x+s*r.y+l,f=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],l=e[1];r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[2],l=e[3],r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[4],l=e[5],r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[6],l=e[7],r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,l=e.b,c=e.c,h=e.d,f=e.tx,p=e.ty;let m=this.minX,v=this.minY,_=this.maxX,w=this.maxY,A=o*r+c*n+f,E=l*r+h*n+p;m=A<m?A:m,v=E<v?E:v,_=A>_?A:_,w=E>w?E:w,A=o*i+c*n+f,E=l*i+h*n+p,m=A<m?A:m,v=E<v?E:v,_=A>_?A:_,w=E>w?E:w,A=o*r+c*s+f,E=l*r+h*s+p,m=A<m?A:m,v=E<v?E:v,_=A>_?A:_,w=E>w?E:w,A=o*i+c*s+f,E=l*i+h*s+p,m=A<m?A:m,v=E<v?E:v,_=A>_?A:_,w=E>w?E:w,this.minX=m,this.minY=v,this.maxX=_,this.maxY=w}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,l=this.maxY;for(let c=r;c<n;c+=2){const h=e[c],f=e[c+1];i=h<i?h:i,s=f<s?f:s,o=h>o?h:o,l=f>l?f:l}this.minX=i,this.minY=s,this.maxX=o,this.maxY=l}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const l=e.a,c=e.b,h=e.c,f=e.d,p=e.tx,m=e.ty;let v=this.minX,_=this.minY,w=this.maxX,A=this.maxY;for(let E=n;E<i;E+=2){const x=r[E],S=r[E+1],T=l*x+h*S+p,R=f*S+c*x+m;v=Math.min(v,T-s),w=Math.max(w,T+s),_=Math.min(_,R-o),A=Math.max(A,R+o)}this.minX=v,this.minY=_,this.maxX=w,this.maxY=A}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const l=this.minX,c=this.minY,h=this.maxX,f=this.maxY;this.minX=n<l?n:l,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const l=this.minX,c=this.minY,h=this.maxX,f=this.maxY;this.minX=n<l?n:l,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class ut extends bu{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new yd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Md,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(ut.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Ne),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Ne),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Md);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,l=0,c=0,h=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=l,this.pivot.x=c,this.pivot.y=h,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new NO),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*RN}set angle(e){this.transform.rotation=e*IN}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class NO extends ut{constructor(){super(...arguments),this.sortDirty=null}}ut.prototype.displayObjectUpdateTransform=ut.prototype.updateTransform;const OO=new lt;function DO(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const tv=class extends ut{constructor(){super(),this.children=[],this.sortableChildren=tv.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);za(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,za(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,za(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,n=e,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(DO),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==tv.prototype._render&&(r=this.getBounds(!0));const i=t.projection.transform;if(i&&(n?(n=OO.copyFrom(n),n.prepend(i)):n=i),r&&e.intersects(r,n))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const l=this.children[s],c=l.cullable;l.cullable=c||!this.cullArea,l.render(t),l.cullable=c}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let l=0;l<e.length;l++)e[l].enabled&&this._enabledFilters.push(e[l])}const n=e&&((i=this._enabledFilters)==null?void 0:i.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Bt.NONE));if(n&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let l=0,c=this.children.length;l<c;++l)this.children[l].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<r.length;++n)r[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let mr=tv;mr.defaultSortableChildren=!1,mr.prototype.containerUpdateTransform=mr.prototype.updateTransform,Object.defineProperties(ae,{SORTABLE_CHILDREN:{get(){return mr.defaultSortableChildren},set(t){Le("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),mr.defaultSortableChildren=t}}});var Nd=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Nd||{});const Fu=new Ue,LO=new Uint16Array([0,1,2,0,2,3]);class di extends mr{constructor(e){super(),this._anchor=new Vi(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Xe(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Te.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||le.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=LO,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ae.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Ps(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Ps(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,l=r.tx,c=r.ty,h=this.vertexData,f=e.trim,p=e.orig,m=this._anchor;let v=0,_=0,w=0,A=0;if(f?(_=f.x-m._x*p.width,v=_+f.width,A=f.y-m._y*p.height,w=A+f.height):(_=-m._x*p.width,v=_+p.width,A=-m._y*p.height,w=A+p.height),h[0]=n*_+s*A+l,h[1]=o*A+i*_+c,h[2]=n*v+s*A+l,h[3]=o*A+i*v+c,h[4]=n*v+s*w+l,h[5]=o*w+i*v+c,h[6]=n*_+s*w+l,h[7]=o*w+i*_+c,this._roundPixels){const E=ae.RESOLUTION;for(let x=0;x<h.length;++x)h[x]=Math.round(h[x]*E)/E}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,l=s.b,c=s.c,h=s.d,f=s.tx,p=s.ty,m=-i._x*n.width,v=m+n.width,_=-i._y*n.height,w=_+n.height;r[0]=o*m+c*_+f,r[1]=h*_+l*m+p,r[2]=o*v+c*_+f,r[3]=h*_+l*v+p,r[4]=o*v+c*w+f,r[5]=h*w+l*v+p,r[6]=o*m+c*w+f,r[7]=h*w+l*m+p}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Md),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ne),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Fu);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Fu.x>=i&&Fu.x<i+r&&(s=-n*this.anchor.y,Fu.y>=s&&Fu.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof le?e:le.from(e,r);return new di(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Ps(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Ps(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||le.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Od={willReadFrequently:!0},pe=class{static get experimentalLetterSpacingSupported(){let t=pe._experimentalLetterSpacingSupported;if(t!==void 0){const e=ae.ADAPTER.getCanvasRenderingContext2D().prototype;t=pe._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,n,i,s,o,l,c){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=l,this.fontProperties=c}static measureText(t,e,r,n=pe._canvas){r=r??e.wordWrap;const i=e.toFontString(),s=pe.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=n.getContext("2d",Od);o.font=i;const l=(r?pe.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),c=new Array(l.length);let h=0;for(let v=0;v<l.length;v++){const _=pe._measureText(l[v],e.letterSpacing,o);c[v]=_,h=Math.max(h,_)}let f=h+e.strokeThickness;e.dropShadow&&(f+=e.dropShadowDistance);const p=e.lineHeight||s.fontSize+e.strokeThickness;let m=Math.max(p,s.fontSize+e.strokeThickness*2)+(l.length-1)*(p+e.leading);return e.dropShadow&&(m+=e.dropShadowDistance),new pe(t,e,f,m,l,c,p+e.leading,h,s)}static _measureText(t,e,r){let n=!1;pe.experimentalLetterSpacingSupported&&(pe.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(t).width;return i>0&&(n?i-=e:i+=(pe.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,r=pe._canvas){const n=r.getContext("2d",Od);let i=0,s="",o="";const l=Object.create(null),{letterSpacing:c,whiteSpace:h}=e,f=pe.collapseSpaces(h),p=pe.collapseNewlines(h);let m=!f;const v=e.wordWrapWidth+c,_=pe.tokenize(t);for(let w=0;w<_.length;w++){let A=_[w];if(pe.isNewline(A)){if(!p){o+=pe.addLine(s),m=!f,s="",i=0;continue}A=" "}if(f){const x=pe.isBreakingSpace(A),S=pe.isBreakingSpace(s[s.length-1]);if(x&&S)continue}const E=pe.getFromCache(A,c,l,n);if(E>v)if(s!==""&&(o+=pe.addLine(s),s="",i=0),pe.canBreakWords(A,e.breakWords)){const x=pe.wordWrapSplit(A);for(let S=0;S<x.length;S++){let T=x[S],R=T,L=1;for(;x[S+L];){const M=x[S+L];if(!pe.canBreakChars(R,M,A,S,e.breakWords))T+=M;else break;R=M,L++}S+=L-1;const I=pe.getFromCache(T,c,l,n);I+i>v&&(o+=pe.addLine(s),m=!1,s="",i=0),s+=T,i+=I}}else{s.length>0&&(o+=pe.addLine(s),s="",i=0);const x=w===_.length-1;o+=pe.addLine(A,!x),m=!1,s="",i=0}else E+i>v&&(m=!1,o+=pe.addLine(s),s="",i=0),(s.length>0||!pe.isBreakingSpace(A)||m)&&(s+=A,i+=E)}return o+=pe.addLine(s,!1),o}static addLine(t,e=!0){return t=pe.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,n){let i=r[t];return typeof i!="number"&&(i=pe._measureText(t,e,n)+e,r[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!pe.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:pe._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:pe._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const i=t[n],s=t[n+1];if(pe.isBreakingSpace(i,s)||pe.isNewline(i)){r!==""&&(e.push(r),r=""),e.push(i);continue}r+=i}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static wordWrapSplit(t){return pe.graphemeSegmenter(t)}static measureFont(t){if(pe._fonts[t])return pe._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=pe._canvas,n=pe._context;n.font=t;const i=pe.METRICS_STRING+pe.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let o=Math.ceil(n.measureText(pe.BASELINE_SYMBOL).width);const l=Math.ceil(pe.HEIGHT_MULTIPLIER*o);if(o=o*pe.BASELINE_MULTIPLIER|0,s===0||l===0)return pe._fonts[t]=e,e;r.width=s,r.height=l,n.fillStyle="#f00",n.fillRect(0,0,s,l),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,o);const c=n.getImageData(0,0,s,l).data,h=c.length,f=s*4;let p=0,m=0,v=!1;for(p=0;p<o;++p){for(let _=0;_<f;_+=4)if(c[m+_]!==255){v=!0;break}if(!v)m+=f;else break}for(e.ascent=o-p,m=h-f,v=!1,p=l;p>o;--p){for(let _=0;_<f;_+=4)if(c[m+_]!==255){v=!0;break}if(!v)m-=f;else break}return e.descent=p-o,e.fontSize=e.ascent+e.descent,pe._fonts[t]=e,e}static clearMetrics(t=""){t?delete pe._fonts[t]:pe._fonts={}}static get _canvas(){var t;if(!pe.__canvas){let e;try{const r=new OffscreenCanvas(0,0);if((t=r.getContext("2d",Od))!=null&&t.measureText)return pe.__canvas=r,r;e=ae.ADAPTER.createCanvas()}catch{e=ae.ADAPTER.createCanvas()}e.width=e.height=10,pe.__canvas=e}return pe.__canvas}static get _context(){return pe.__context||(pe.__context=pe._canvas.getContext("2d",Od)),pe.__context}};let ir=pe;ir.METRICS_STRING="|\xC9q\xC5",ir.BASELINE_SYMBOL="M",ir.BASELINE_MULTIPLIER=1.4,ir.HEIGHT_MULTIPLIER=2,ir.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),ir.experimentalLetterSpacing=!1,ir._fonts={},ir._newlines=[10,13],ir._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const BO=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Uu=class{constructor(t){this.styleID=0,this.reset(),nv(this,t,t)}clone(){const t={};return nv(t,this,Uu.defaultStyle),new Uu(t)}reset(){nv(this,Uu.defaultStyle,Uu.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=rv(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=rv(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){FO(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=rv(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!BO.includes(n)&&(n=`"${n}"`),e[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let Xi=Uu;Xi.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Nd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function rv(t){const e=Xe.shared;return Array.isArray(t)?t.map(r=>e.setValue(r).toHex()):e.setValue(t).toHex()}function FO(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function nv(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const UO={texture:!0,children:!1,baseTexture:!0},iv=class extends di{constructor(t,e,r){let n=!1;r||(r=ae.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=le.from(r);i.orig=new Ne,i.trim=new Ne,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=iv.defaultResolution??ae.RESOLUTION,this._autoResolution=iv.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return ir.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Le("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),ir.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=ir.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,o=n.lines,l=n.lineHeight,c=n.lineWidths,h=n.maxLineWidth,f=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let p,m;const v=e.dropShadow?2:1;for(let _=0;_<v;++_){const w=e.dropShadow&&_===0,A=w?Math.ceil(Math.max(1,s)+e.padding*2):0,E=A*this._resolution;if(w){r.fillStyle="black",r.strokeStyle="black";const S=e.dropShadowColor,T=e.dropShadowBlur*this._resolution,R=e.dropShadowDistance*this._resolution;r.shadowColor=Xe.shared.setValue(S).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=T,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*R,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*R+E}else r.fillStyle=this._generateFillStyle(e,o,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let x=(l-f.fontSize)/2;l-f.fontSize<0&&(x=0);for(let S=0;S<o.length;S++)p=e.strokeThickness/2,m=e.strokeThickness/2+S*l+f.ascent+x,e.align==="right"?p+=h-c[S]:e.align==="center"&&(p+=(h-c[S])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[S],p+e.padding,m+e.padding-A,!0),e.fill&&this.drawLetterSpacing(o[S],p+e.padding,m+e.padding-A)}this.updateTexture()}drawLetterSpacing(t,e,r,n=!1){const i=this._style.letterSpacing;let s=!1;if(ir.experimentalLetterSpacingSupported&&(ir.experimentalLetterSpacing?(this.context.letterSpacing=`${i}px`,this.context.textLetterSpacing=`${i}px`,s=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),i===0||s){n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let o=e;const l=ir.graphemeSegmenter(t);let c=this.context.measureText(t).width,h=0;for(let f=0;f<l.length;++f){const p=l[f];n?this.context.strokeText(p,o,r):this.context.fillText(p,o,r);let m="";for(let v=f+1;v<l.length;++v)m+=l[v];h=this.context.measureText(m).width,o+=c-h+i,c=h}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=vN(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,l=this.canvas.width/this._resolution-s-o*2,c=this.canvas.height/this._resolution-s-o*2,h=n.slice(),f=t.fillGradientStops.slice();if(!f.length){const p=h.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(h.unshift(n[0]),f.unshift(0),h.push(n[n.length-1]),f.push(1),t.fillGradientType===Nd.LINEAR_VERTICAL){i=this.context.createLinearGradient(l/2,o,l/2,c+o);const p=r.fontProperties.fontSize+t.strokeThickness;for(let m=0;m<e.length;m++){const v=r.lineHeight*(m-1)+p,_=r.lineHeight*m;let w=_;m>0&&v>_&&(w=(_+v)/2);const A=_+p,E=r.lineHeight*(m+1);let x=A;m+1<e.length&&E<A&&(x=(A+E)/2);const S=(x-w)/c;for(let T=0;T<h.length;T++){let R=0;typeof f[T]=="number"?R=f[T]:R=T/h.length;let L=Math.min(1,Math.max(0,w/c+R*S));L=Number(L.toFixed(5)),i.addColorStop(L,h[T])}}}else{i=this.context.createLinearGradient(o,c/2,l+o,c/2);const p=h.length+1;let m=1;for(let v=0;v<h.length;v++){let _;typeof f[v]=="number"?_=f[v]:_=m/p,i.addColorStop(_,h[v]),m++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},UO,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Ps(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Ps(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Xi?this._style=t:this._style=new Xi(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let Dd=iv;Dd.defaultAutoResolution=!0;class Ld{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Bd{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],l=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const h in l){const f=l[h].split("="),p=f[0],m=f[1].replace(/"/gm,""),v=parseFloat(m),_=isNaN(v)?m:v;c[p]=_}n[o].push(c)}const i=new Ld;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class sv{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Ld,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),l=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let h=0;h<n.length;h++)r.info.push({face:n[h].getAttribute("face"),size:parseInt(n[h].getAttribute("size"),10)});for(let h=0;h<i.length;h++)r.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(let h=0;h<s.length;h++)r.page.push({id:parseInt(s[h].getAttribute("id"),10)||0,file:s[h].getAttribute("file")});for(let h=0;h<o.length;h++){const f=o[h];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let h=0;h<l.length;h++)r.kerning.push({first:parseInt(l[h].getAttribute("first"),10),second:parseInt(l[h].getAttribute("second"),10),amount:parseInt(l[h].getAttribute("amount"),10)});for(let h=0;h<c.length;h++)r.distanceField.push({fieldType:c[h].getAttribute("fieldType"),distanceRange:parseInt(c[h].getAttribute("distanceRange"),10)});return r}}class ov{static test(e){return typeof e=="string"&&e.includes("<font>")?sv.test(ae.ADAPTER.parseXML(e)):!1}static parse(e){return sv.parse(ae.ADAPTER.parseXML(e))}}const av=[Bd,sv,ov];function zO(t){for(let e=0;e<av.length;e++)if(av[e].test(t))return av[e];return null}function jO(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let l;const c=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,f=t.width/n-c-h*2,p=t.height/n-c-h*2,m=o.slice(),v=r.fillGradientStops.slice();if(!v.length){const _=m.length+1;for(let w=1;w<_;++w)v.push(w/_)}if(m.unshift(o[0]),v.unshift(0),m.push(o[o.length-1]),v.push(1),r.fillGradientType===Nd.LINEAR_VERTICAL){l=e.createLinearGradient(f/2,h,f/2,p+h);let _=0;const w=(s.fontProperties.fontSize+r.strokeThickness)/p;for(let A=0;A<i.length;A++){const E=s.lineHeight*A;for(let x=0;x<m.length;x++){let S=0;typeof v[x]=="number"?S=v[x]:S=x/m.length;const T=E/p+S*w;let R=Math.max(_,T);R=Math.min(R,1),l.addColorStop(R,m[x]),_=R}}}else{l=e.createLinearGradient(h,p/2,f+h,p/2);const _=m.length+1;let w=1;for(let A=0;A<m.length;A++){let E;typeof v[A]=="number"?E=v[A]:E=w/_,l.addColorStop(E,m[A]),w++}}return l}function HO(t,e,r,n,i,s,o){const l=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);const h=o.strokeThickness/2,f=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=jO(t,e,o,s,[l],r),e.strokeStyle=o.stroke,o.dropShadow){const p=o.dropShadowColor,m=o.dropShadowBlur*s,v=o.dropShadowDistance*s;e.shadowColor=Xe.shared.setValue(p).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*v,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*v}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(l,h,f+r.lineHeight-c.descent),o.fill&&e.fillText(l,h,f+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Fd(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function wT(t){return Array.from?Array.from(t):t.split("")}function GO(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let l=s,c=o;l<=c;l++)e.push(String.fromCharCode(l))}else e.push(...wT(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Un=class{constructor(t,e,r){var h;const[n]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,l=Is(s.file),c={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/l,this.chars={},this.pageTextures=c;for(let f=0;f<t.page.length;f++){const{id:p,file:m}=t.page[f];c[p]=e instanceof Array?e[f]:e[m],o!=null&&o.fieldType&&o.fieldType!=="none"&&(c[p].baseTexture.alphaMode=In.NO_PREMULTIPLIED_ALPHA,c[p].baseTexture.mipmap=ii.OFF)}for(let f=0;f<t.char.length;f++){const{id:p,page:m}=t.char[f];let{x:v,y:_,width:w,height:A,xoffset:E,yoffset:x,xadvance:S}=t.char[f];v/=l,_/=l,w/=l,A/=l,E/=l,x/=l,S/=l;const T=new Ne(v+c[m].frame.x/l,_+c[m].frame.y/l,w,A);this.chars[p]={xOffset:E,yOffset:x,xAdvance:S,kerning:{},texture:new le(c[m].baseTexture,T),page:m}}for(let f=0;f<t.kerning.length;f++){let{first:p,second:m,amount:v}=t.kerning[f];p/=l,m/=l,v/=l,this.chars[m]&&(this.chars[m].kerning[p]=v)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((h=o==null?void 0:o.fieldType)==null?void 0:h.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let n;if(t instanceof Ld)n=t;else{const s=zO(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}e instanceof le&&(e=[e]);const i=new Un(n,e,r);return Un.available[i.font]=i,i}static uninstall(t){const e=Un.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Un.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:i,resolution:s,textureWidth:o,textureHeight:l,...c}=Object.assign({},Un.defaultOptions,r),h=GO(n),f=e instanceof Xi?e:new Xi(e),p=o,m=new Ld;m.info[0]={face:f.fontFamily,size:f.fontSize},m.common[0]={lineHeight:f.fontSize};let v=0,_=0,w,A,E,x=0;const S=[];for(let R=0;R<h.length;R++){w||(w=ae.ADAPTER.createCanvas(),w.width=o,w.height=l,A=w.getContext("2d"),E=new Pe(w,{resolution:s,...c}),S.push(new le(E)),m.page.push({id:S.length-1,file:""}));const L=h[R],I=ir.measureText(L,f,!1,w),M=I.width,Y=Math.ceil(I.height),Q=Math.ceil((f.fontStyle==="italic"?2:1)*M);if(_>=l-Y*s){if(_===0)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${L}')`);--R,w=null,A=null,E=null,_=0,v=0,x=0;continue}if(x=Math.max(Y+I.fontProperties.descent,x),Q*s+v>=p){if(v===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${L}')`);--R,_+=x*s,_=Math.ceil(_),v=0,x=0;continue}HO(w,A,I,v,_,s,f);const K=Fd(I.text);m.char.push({id:K,page:S.length-1,x:v/s,y:_/s,width:Q,height:Y,xoffset:0,yoffset:0,xadvance:M-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0)}),v+=(Q+2*i)*s,v=Math.ceil(v)}for(let R=0,L=h.length;R<L;R++){const I=h[R];for(let M=0;M<L;M++){const Y=h[M],Q=A.measureText(I).width,K=A.measureText(Y).width,$=A.measureText(I+Y).width-(Q+K);$&&m.kerning.push({first:Fd(I),second:Fd(Y),amount:$})}}const T=new Un(m,S,!0);return Un.available[t]!==void 0&&Un.uninstall(t),Un.available[t]=T,T}};let Mr=Un;Mr.ALPHA=[["a","z"],["A","Z"]," "],Mr.NUMERIC=[["0","9"]],Mr.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Mr.ASCII=[[" ","~"]],Mr.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Un.ALPHANUMERIC},Mr.available={};class WO{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const lv=new Ue,ET=new Ha,TT=class extends mr{constructor(t,e,r,n=Rn.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||$i.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ae.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Rn.TRIANGLES&&e.length<TT.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const t=this.geometry.buffers[0],e=t.data,r=t._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));const n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,l=n.d,c=n.tx,h=n.ty,f=this.vertexData;for(let p=0;p<f.length/2;p++){const m=e[p*2],v=e[p*2+1];f[p*2]=i*m+o*v+c,f[p*2+1]=s*m+l*v+h}if(this._roundPixels){const p=ae.RESOLUTION;for(let m=0;m<f.length;++m)f[m]=Math.round(f[m]*p)/p}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new WO(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,lv);const e=this.geometry.getBuffer("aVertexPosition").data,r=ET.points,n=this.geometry.getIndex().data,i=n.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const l=n[o]*2,c=n[o+1]*2,h=n[o+2]*2;if(r[0]=e[l],r[1]=e[l+1],r[2]=e[c],r[3]=e[c+1],r[4]=e[h],r[5]=e[h+1],ET.contains(lv.x,lv.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let Ya=TT;Ya.BATCHABLE_SIZE=100;class Ud extends ks{constructor(e,r,n){super();const i=new Ft(e),s=new Ft(r,!0),o=new Ft(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,we.FLOAT).addAttribute("aTextureCoord",s,2,!1,we.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var $O=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,VO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class zu extends hi{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:lt.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||On.from(VO,$O),n),this._colorDirty=!1,this.uvMatrix=new Yy(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Xe(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Xe.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var XO=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,YO=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const ST=[],AT=[],CT=[],PT=class extends mr{constructor(t,e={}){super();const{align:r,tint:n,maxWidth:i,letterSpacing:s,fontName:o,fontSize:l}=Object.assign({},PT.styleDefaults,e);if(!Mr.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new Xe(n),this._font=void 0,this._fontName=o,this._fontSize=l,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Vi(()=>{this.dirty=!0},this,0,0),this._roundPixels=ae.ROUND_PIXELS,this.dirty=!0,this._resolution=ae.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var Q;const t=Mr.available[this._fontName],e=this.fontSize,r=e/t.size,n=new Ue,i=[],s=[],o=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=wT(l),h=this._maxWidth*t.size/e,f=t.distanceFieldType==="none"?ST:AT;let p=null,m=0,v=0,_=0,w=-1,A=0,E=0,x=0,S=0;for(let K=0;K<c.length;K++){const $=c[K],z=Fd($);if(/(?:\s)/.test($)&&(w=K,A=m,S++),$==="\r"||$===`
`){s.push(m),o.push(-1),v=Math.max(v,m),++_,++E,n.x=0,n.y+=t.lineHeight,p=null,S=0;continue}const W=t.chars[z];if(!W)continue;p&&W.kerning[p]&&(n.x+=W.kerning[p]);const me=CT.pop()||{texture:le.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Ue};me.texture=W.texture,me.line=_,me.charCode=z,me.position.x=Math.round(n.x+W.xOffset+this._letterSpacing/2),me.position.y=Math.round(n.y+W.yOffset),me.prevSpaces=S,i.push(me),m=me.position.x+Math.max(W.xAdvance-W.xOffset,W.texture.orig.width),n.x+=W.xAdvance+this._letterSpacing,x=Math.max(x,W.yOffset+W.texture.height),p=z,w!==-1&&h>0&&n.x>h&&(++E,za(i,1+w-E,1+K-w),K=w,w=-1,s.push(A),o.push(i.length>0?i[i.length-1].prevSpaces:0),v=Math.max(v,A),_++,n.x=0,n.y+=t.lineHeight,p=null,S=0)}const T=c[c.length-1];T!=="\r"&&T!==`
`&&(/(?:\s)/.test(T)&&(m=A),s.push(m),v=Math.max(v,m),o.push(-1));const R=[];for(let K=0;K<=_;K++){let $=0;this._align==="right"?$=v-s[K]:this._align==="center"?$=(v-s[K])/2:this._align==="justify"&&($=o[K]<0?0:(v-s[K])/o[K]),R.push($)}const L=i.length,I={},M=[],Y=this._activePagesMeshData;f.push(...Y);for(let K=0;K<L;K++){const $=i[K].texture,z=$.baseTexture.uid;if(!I[z]){let W=f.pop();if(!W){const ge=new Ud;let ne,O;t.distanceFieldType==="none"?(ne=new zu(le.EMPTY),O=Te.NORMAL):(ne=new zu(le.EMPTY,{program:On.from(YO,XO),uniforms:{uFWidth:0}}),O=Te.NORMAL_NPM);const H=new Ya(ge,ne);H.blendMode=O,W={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:H,vertices:null,uvs:null,indices:null}}W.index=0,W.indexCount=0,W.vertexCount=0,W.uvsCount=0,W.total=0;const{_textureCache:me}=this;me[z]=me[z]||new le($.baseTexture),W.mesh.texture=me[z],W.mesh.tint=this._tintColor.value,M.push(W),I[z]=W}I[z].total++}for(let K=0;K<Y.length;K++)M.includes(Y[K])||this.removeChild(Y[K].mesh);for(let K=0;K<M.length;K++)M[K].mesh.parent!==this&&this.addChild(M[K].mesh);this._activePagesMeshData=M;for(const K in I){const $=I[K],z=$.total;if(!(((Q=$.indices)==null?void 0:Q.length)>6*z)||$.vertices.length<Ya.BATCHABLE_SIZE*2)$.vertices=new Float32Array(4*2*z),$.uvs=new Float32Array(4*2*z),$.indices=new Uint16Array(6*z);else{const W=$.total,me=$.vertices;for(let ge=W*4*2;ge<me.length;ge++)me[ge]=0}$.mesh.size=6*z}for(let K=0;K<L;K++){const $=i[K];let z=$.position.x+R[$.line]*(this._align==="justify"?$.prevSpaces:1);this._roundPixels&&(z=Math.round(z));const W=z*r,me=$.position.y*r,ge=$.texture,ne=I[ge.baseTexture.uid],O=ge.frame,H=ge._uvs,k=ne.index++;ne.indices[k*6+0]=0+k*4,ne.indices[k*6+1]=1+k*4,ne.indices[k*6+2]=2+k*4,ne.indices[k*6+3]=0+k*4,ne.indices[k*6+4]=2+k*4,ne.indices[k*6+5]=3+k*4,ne.vertices[k*8+0]=W,ne.vertices[k*8+1]=me,ne.vertices[k*8+2]=W+O.width*r,ne.vertices[k*8+3]=me,ne.vertices[k*8+4]=W+O.width*r,ne.vertices[k*8+5]=me+O.height*r,ne.vertices[k*8+6]=W,ne.vertices[k*8+7]=me+O.height*r,ne.uvs[k*8+0]=H.x0,ne.uvs[k*8+1]=H.y0,ne.uvs[k*8+2]=H.x1,ne.uvs[k*8+3]=H.y1,ne.uvs[k*8+4]=H.x2,ne.uvs[k*8+5]=H.y2,ne.uvs[k*8+6]=H.x3,ne.uvs[k*8+7]=H.y3}this._textWidth=v*r,this._textHeight=(n.y+t.lineHeight)*r;for(const K in I){const $=I[K];if(this.anchor.x!==0||this.anchor.y!==0){let ge=0;const ne=this._textWidth*this.anchor.x,O=this._textHeight*this.anchor.y;for(let H=0;H<$.total;H++)$.vertices[ge++]-=ne,$.vertices[ge++]-=O,$.vertices[ge++]-=ne,$.vertices[ge++]-=O,$.vertices[ge++]-=ne,$.vertices[ge++]-=O,$.vertices[ge++]-=ne,$.vertices[ge++]-=O}this._maxLineHeight=x*r;const z=$.mesh.geometry.getBuffer("aVertexPosition"),W=$.mesh.geometry.getBuffer("aTextureCoord"),me=$.mesh.geometry.getIndex();z.data=$.vertices,W.data=$.uvs,me.data=$.indices,z.update(),W.update(),me.update()}for(let K=0;K<i.length;K++)CT.push(i[K]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:n}=Mr.available[this._fontName];if(r!=="none"){const{a:i,b:s,c:o,d:l}=this.worldTransform,c=Math.sqrt(i*i+s*s),h=Math.sqrt(o*o+l*l),f=(Math.abs(c)+Math.abs(h))/2,p=this.fontSize/n,m=t._view.resolution;for(const v of this._activePagesMeshData)v.mesh.shader.uniforms.uFWidth=f*e*p*m}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Mr.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Mr.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Mr.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=Mr.available[this._fontName].distanceFieldType==="none"?ST:AT;r.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],r.filter(n=>e[n.mesh.texture.baseTexture.uid]).forEach(n=>{n.mesh.texture=le.EMPTY});for(const n in e)e[n].destroy(),delete e[n];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};let RT=PT;RT.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const IT={loader:ue.LoadParser,resolver:ue.ResolveParser,cache:ue.CacheParser,detection:ue.DetectionParser};be.handle(ue.Asset,t=>{const e=t.ref;Object.entries(IT).filter(([r])=>!!e[r]).forEach(([r,n])=>be.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(IT).filter(r=>!!e[r]).forEach(r=>be.remove(e[r]))});class QO{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function ju(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Ao(t,e){const r=t.split("?")[0],n=pr.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const Yi=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),uv=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function kT(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const l=s[o];r<e.length-1?kT(t.replace(n[r],l),e,r+1,n,i):i.push(t.replace(n[r],l))}}function qO(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),kT(t,i,0,r,n)}else n.push(t);return n}const zd=t=>!Array.isArray(t);class KO{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=Yi(e);let i;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}i||(i={},n.forEach(l=>{i[l]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(l=>{this._cacheMap.set(l,o)}),s.forEach(l=>{this._cache.has(l)&&this._cache.get(l)!==r&&console.warn("[Cache] already has key:",l),this._cache.set(l,i[l])}),r instanceof le){const l=r;n.forEach(c=>{l.baseTexture!==le.EMPTY.baseTexture&&Pe.addToCache(l.baseTexture,c),le.addToCache(l,c)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Hu=new KO;class ZO{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,l;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];if(h.load&&((o=h.test)!=null&&o.call(h,e,r,this))){s=h;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];h.parse&&h.parse&&await((l=h.testParse)==null?void 0:l.call(h,i,r,this))&&(i=await h.parse(i,r,this)||i,n.parser=h)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=zd(e),o=Yi(e,h=>({src:h})),l=o.length,c=o.map(async h=>{const f=pr.toAbsolute(h.src);if(!i[h.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,h)),i[h.src]=await this.promiseCache[f].promise,r&&r(++n/l)}catch(p){throw delete this.promiseCache[f],delete i[h.src],new Error(`[Loader.load] Failed to load ${f}.
${p}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(e){const r=Yi(e,n=>({src:n})).map(async n=>{var o,l;const i=pr.toAbsolute(n.src),s=this.promiseCache[i];if(s){const c=await s.promise;(l=(o=s.parser)==null?void 0:o.unload)==null||l.call(o,c,n,this),delete this.promiseCache[i]}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var fi=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(fi||{});const JO=".json",eD="application/json",tD={extension:{type:ue.LoadParser,priority:fi.Low},name:"loadJson",test(t){return ju(t,eD)||Ao(t,JO)},async load(t){return await(await ae.ADAPTER.fetch(t)).json()}};be.add(tD);const rD=".txt",nD="text/plain",iD={name:"loadTxt",extension:{type:ue.LoadParser,priority:fi.Low},test(t){return ju(t,nD)||Ao(t,rD)},async load(t){return await(await ae.ADAPTER.fetch(t)).text()}};be.add(iD);const sD=["normal","bold","100","200","300","400","500","600","700","800","900"],oD=[".ttf",".otf",".woff",".woff2"],aD=["font/ttf","font/otf","font/woff","font/woff2"],lD=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function uD(t){const e=pr.extname(t),r=pr.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(lD)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const cD={extension:{type:ue.LoadParser,priority:fi.Low},name:"loadWebFont",test(t){return ju(t,aD)||Ao(t,oD)},async load(t,e){var n,i,s;const r=ae.ADAPTER.getFontFaceSet();if(r){const o=[],l=((n=e.data)==null?void 0:n.family)??uD(t),c=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(f=>sD.includes(f)))??["normal"],h=e.data??{};for(let f=0;f<c.length;f++){const p=c[f],m=new FontFace(l,`url(${encodeURI(t)})`,{...h,weight:p});await m.load(),r.add(m),o.push(m)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ae.ADAPTER.getFontFaceSet().delete(e))}};be.add(cD);let MT=0,cv;const hD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",dD={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${hD}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},fD={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let hv;class pD{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([dD.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){cv===void 0&&(cv=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<cv&&(hv||(hv=URL.createObjectURL(new Blob([fD.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(hv),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[MT]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:MT++,id:n})}}const NT=new pD;function jd(t,e,r){const n=new le(t);return n.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),n}const mD=[".jpeg",".jpg",".png",".webp",".avif"],gD=["image/jpeg","image/png","image/webp","image/avif"];async function yD(t){const e=await ae.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Hd={name:"loadTextures",extension:{type:ue.LoadParser,priority:fi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return ju(t,gD)||Ao(t,mD)},async load(t,e,r){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await NT.isImageBitmapSupported()?n=await NT.loadImageBitmap(t):n=await yD(t):n=await new Promise(s=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?s(n):n.onload=()=>{s(n)}});const i=new Pe(n,{resolution:Is(t),...e.data});return i.resource.src=t,jd(i,r,t)},unload(t){t.destroy(!0)}};be.add(Hd);const vD=".svg",_D="image/svg+xml",bD={extension:{type:ue.LoadParser,priority:fi.High},name:"loadSVG",test(t){return ju(t,_D)||Ao(t,vD)},async testParse(t){return Bu.test(t)},async parse(t,e,r){var s;const n=new Bu(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Pe(n,{resolution:Is(t),...e==null?void 0:e.data});return i.resource.src=t,jd(i,r,t)},async load(t,e){return(await ae.ADAPTER.fetch(t)).text()},unload:Hd.unload};be.add(bD);class xD{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);n.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{n.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(r).forEach(i=>{n.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],r[i])}),this._bundles[e]=n}add(e,r,n){const i=Yi(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=qO(r):r=[r]);const s=r.map(o=>{let l=o;if(typeof o=="string"){let c=!1;for(let h=0;h<this._parsers.length;h++){const f=this._parsers[h];if(f.test(o)){l=f.parse(o),c=!0;break}}c||(l={src:o})}return l.format||(l.format=l.src.split(".").pop()),l.alias||(l.alias=i),(this._basePath||this._rootPath)&&(l.src=pr.toAbsolute(l.src,this._basePath,this._rootPath)),l.src=this._appendDefaultSearchParams(l.src),l.data=l.data??n,l});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=zd(e);e=Yi(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),l={};for(const c in o){const h=o[c];l[this._extractAssetIdFromBundle(i,c)]=h}n[i]=l}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=zd(e);e=Yi(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),l=s[0];o==null||o.priority.forEach(c=>{o.params[c].forEach(h=>{const f=s.filter(p=>p[c]?p[c]===h:!1);f.length&&(s=f)})}),this._resolverHash[i]=s[0]??l}else{let s=i;(this._basePath||this._rootPath)&&(s=pr.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class wD{constructor(){this._detections=[],this._initialized=!1,this.resolver=new xD,this.loader=new ZO,this.cache=Hu,this._backgroundLoader=new QO(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,l;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let c=e.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r;let i=[];if((o=e.texturePreference)!=null&&o.format){const c=(l=e.texturePreference)==null?void 0:l.format;i=typeof c=="string"?[c]:c;for(const h of this._detections)await h.test()||(i=await h.remove(i))}else for(const c of this._detections)await c.test()&&(i=await c.add(i));this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n){this.resolver.add(e,r,n)}async load(e,r){this._initialized||await this.init();const n=zd(e),i=Yi(e).map(l=>typeof l!="string"?(this.resolver.add(l.src,l),l.src):(this.resolver.hasKey(l)||this.resolver.add(l,l),l)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let l=0,c=0;const h=()=>{r==null||r(++l/c)},f=o.map(p=>{const m=i[p];return c+=Object.keys(m).length,this._mapLoadToResolve(m,h).then(v=>{s[p]=v})});return await Promise.all(f),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Hu.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Hu.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((l,c)=>{const h=s[l.src],f=[l.src];l.alias&&f.push(...l.alias),o[i[c]]=h,Hu.set(f,h)}),o}async unload(e){this._initialized||await this.init();const r=Yi(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=Yi(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Hu.remove(n.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return Hd.config.preferWorkers}set preferWorkers(e){Le("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Gd=new wD;be.handleByList(ue.LoadParser,Gd.loader.parsers).handleByList(ue.ResolveParser,Gd.resolver.parsers).handleByList(ue.CacheParser,Gd.cache.parsers).handleByList(ue.DetectionParser,Gd.detections);const ED={extension:ue.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof le),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};be.add(ED);const TD={extension:{type:ue.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await ae.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};be.add(TD);const SD={extension:{type:ue.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await ae.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};be.add(SD);const OT=["png","jpg","jpeg"],AD={extension:{type:ue.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...OT],remove:async t=>t.filter(e=>!OT.includes(e))};be.add(AD);const CD={extension:ue.ResolveParser,test:Hd.test,parse:t=>{var e;return{resolution:parseFloat(((e=ae.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};be.add(CD);const PD=[".xml",".fnt"],RD={extension:{type:ue.LoadParser,priority:fi.Normal},name:"loadBitmapFont",test(t){return PD.includes(pr.extname(t).toLowerCase())},async testParse(t){return Bd.test(t)||ov.test(t)},async parse(t,e,r){const n=Bd.test(t)?Bd.parse(t):ov.parse(t),{src:i}=e,{page:s}=n,o=[];for(let h=0;h<s.length;++h){const f=s[h].file;let p=pr.join(pr.dirname(i),f);p=uv(p,i),o.push(p)}const l=await r.load(o),c=o.map(h=>l[h]);return Mr.install(n,c,!0)},async load(t,e){return(await ae.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};be.add(RD);const Wd={build(t){const e=t.points;let r,n,i,s,o,l;if(t.type===rr.CIRC){const _=t.shape;r=_.x,n=_.y,o=l=_.radius,i=s=0}else if(t.type===rr.ELIP){const _=t.shape;r=_.x,n=_.y,o=_.width,l=_.height,i=s=0}else{const _=t.shape,w=_.width/2,A=_.height/2;r=_.x+w,n=_.y+A,o=l=Math.max(0,Math.min(_.radius,Math.min(w,A))),i=w-o,s=A-l}if(!(o>=0&&l>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+l)),h=c*8+(i?4:0)+(s?4:0);if(e.length=h,h===0)return;if(c===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let f=0,p=c*4+(i?2:0)+2,m=p,v=h;{const _=i+o,w=s,A=r+_,E=r-_,x=n+w;if(e[f++]=A,e[f++]=x,e[--p]=x,e[--p]=E,s){const S=n-w;e[m++]=E,e[m++]=S,e[--v]=S,e[--v]=A}}for(let _=1;_<c;_++){const w=Math.PI/2*(_/c),A=i+Math.cos(w)*o,E=s+Math.sin(w)*l,x=r+A,S=r-A,T=n+E,R=n-E;e[f++]=x,e[f++]=T,e[--p]=T,e[--p]=S,e[m++]=S,e[m++]=R,e[--v]=R,e[--v]=x}{const _=i,w=s+l,A=r+_,E=r-_,x=n+w,S=n-w;e[f++]=A,e[f++]=x,e[--v]=S,e[--v]=A,i&&(e[f++]=E,e[f++]=x,e[--v]=S,e[--v]=E)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let l,c;if(t.type!==rr.RREC){const f=t.shape;l=f.x,c=f.y}else{const f=t.shape;l=f.x+f.width/2,c=f.y+f.height/2}const h=t.matrix;n.push(t.matrix?h.a*l+h.c*c+h.tx:l,t.matrix?h.b*l+h.d*c+h.ty:c),s++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function DT(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const l=t[i],c=t[i+1];n+=(l-s)*(c+o),s=l,o=c}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,l=r-s-1,c=s,h=s+1;[t[o],t[c]]=[t[c],t[o]],[t[l],t[h]]=[t[h],t[l]]}}}const LT={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){DT(r,!1);const o=[];for(let h=0;h<n.length;h++){const f=n[h];DT(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}const l=zI(r,o,2);if(!l)return;const c=i.length/2;for(let h=0;h<l.length;h+=3)s.push(l[h]+c),s.push(l[h+1]+c),s.push(l[h+2]+c);for(let h=0;h<r.length;h++)i.push(r[h])}}},ID={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},kD={build(t){Wd.build(t)},triangulate(t,e){Wd.triangulate(t,e)}};var zn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(zn||{}),Co=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Co||{});const Qa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class BT{static curveTo(e,r,n,i,s,o){const l=o[o.length-2],c=o[o.length-1]-r,h=l-e,f=i-r,p=n-e,m=Math.abs(c*p-h*f);if(m<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const v=c*c+h*h,_=f*f+p*p,w=c*f+h*p,A=s*Math.sqrt(v)/m,E=s*Math.sqrt(_)/m,x=A*w/v,S=E*w/_,T=A*p+E*h,R=A*f+E*c,L=h*(E+x),I=c*(E+x),M=p*(A+S),Y=f*(A+S),Q=Math.atan2(I-R,L-T),K=Math.atan2(Y-R,M-T);return{cx:T+e,cy:R+r,radius:s,startAngle:Q,endAngle:K,anticlockwise:h*f>p*c}}static arc(e,r,n,i,s,o,l,c,h){const f=l-o,p=Qa._segmentsCount(Math.abs(f)*s,Math.ceil(Math.abs(f)/pd)*40),m=f/(p*2),v=m*2,_=Math.cos(m),w=Math.sin(m),A=p-1,E=A%1/A;for(let x=0;x<=A;++x){const S=x+E*x,T=m+o+v*S,R=Math.cos(T),L=-Math.sin(T);h.push((_*R+w*L)*s+n,(_*-L+w*R)*s+i)}}}class MD{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class dv{static curveLength(e,r,n,i,s,o,l,c){let h=0,f=0,p=0,m=0,v=0,_=0,w=0,A=0,E=0,x=0,S=0,T=e,R=r;for(let L=1;L<=10;++L)f=L/10,p=f*f,m=p*f,v=1-f,_=v*v,w=_*v,A=w*e+3*_*f*n+3*v*p*s+m*l,E=w*r+3*_*f*i+3*v*p*o+m*c,x=T-A,S=R-E,T=A,R=E,h+=Math.sqrt(x*x+S*S);return h}static curveTo(e,r,n,i,s,o,l){const c=l[l.length-2],h=l[l.length-1];l.length-=2;const f=Qa._segmentsCount(dv.curveLength(c,h,e,r,n,i,s,o));let p=0,m=0,v=0,_=0,w=0;l.push(c,h);for(let A=1,E=0;A<=f;++A)E=A/f,p=1-E,m=p*p,v=m*p,_=E*E,w=_*E,l.push(v*c+3*m*E*e+3*p*_*n+w*s,v*h+3*m*E*r+3*p*_*i+w*o)}}function FT(t,e,r,n,i,s,o,l){const c=t-r*i,h=e-n*i,f=t+r*s,p=e+n*s;let m,v;o?(m=n,v=-r):(m=-n,v=r);const _=c+m,w=h+v,A=f+m,E=p+v;return l.push(_,w,A,E),2}function Po(t,e,r,n,i,s,o,l){const c=r-t,h=n-e;let f=Math.atan2(c,h),p=Math.atan2(i-t,s-e);l&&f<p?f+=Math.PI*2:!l&&f>p&&(p+=Math.PI*2);let m=f;const v=p-f,_=Math.abs(v),w=Math.sqrt(c*c+h*h),A=(15*_*Math.sqrt(w)/Math.PI>>0)+1,E=v/A;if(m+=E,l){o.push(t,e,r,n);for(let x=1,S=m;x<A;x++,S+=E)o.push(t,e,t+Math.sin(S)*w,e+Math.cos(S)*w);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let x=1,S=m;x<A;x++,S+=E)o.push(t+Math.sin(S)*w,e+Math.cos(S)*w,t,e);o.push(i,s,t,e)}return A*2}function ND(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Ue(n[0],n[1]),l=new Ue(n[n.length-2],n[n.length-1]),c=r.type!==rr.POLY||r.closeStroke,h=Math.abs(o.x-l.x)<i&&Math.abs(o.y-l.y)<i;if(c){n=n.slice(),h&&(n.pop(),n.pop(),l.set(n[n.length-2],n[n.length-1]));const ne=(o.x+l.x)*.5,O=(l.y+o.y)*.5;n.unshift(ne,O),n.push(ne,O)}const f=e.points,p=n.length/2;let m=n.length;const v=f.length/2,_=s.width/2,w=_*_,A=s.miterLimit*s.miterLimit;let E=n[0],x=n[1],S=n[2],T=n[3],R=0,L=0,I=-(x-T),M=E-S,Y=0,Q=0,K=Math.sqrt(I*I+M*M);I/=K,M/=K,I*=_,M*=_;const $=s.alignment,z=(1-$)*2,W=$*2;c||(s.cap===Co.ROUND?m+=Po(E-I*(z-W)*.5,x-M*(z-W)*.5,E-I*z,x-M*z,E+I*W,x+M*W,f,!0)+2:s.cap===Co.SQUARE&&(m+=FT(E,x,I,M,z,W,!0,f))),f.push(E-I*z,x-M*z,E+I*W,x+M*W);for(let ne=1;ne<p-1;++ne){E=n[(ne-1)*2],x=n[(ne-1)*2+1],S=n[ne*2],T=n[ne*2+1],R=n[(ne+1)*2],L=n[(ne+1)*2+1],I=-(x-T),M=E-S,K=Math.sqrt(I*I+M*M),I/=K,M/=K,I*=_,M*=_,Y=-(T-L),Q=S-R,K=Math.sqrt(Y*Y+Q*Q),Y/=K,Q/=K,Y*=_,Q*=_;const O=S-E,H=x-T,k=S-R,J=L-T,se=O*k+H*J,Re=H*k-J*O,fe=Re<0;if(Math.abs(Re)<.001*Math.abs(se)){f.push(S-I*z,T-M*z,S+I*W,T+M*W),se>=0&&(s.join===zn.ROUND?m+=Po(S,T,S-I*z,T-M*z,S-Y*z,T-Q*z,f,!1)+4:m+=2,f.push(S-Y*W,T-Q*W,S+Y*z,T+Q*z));continue}const Be=(-I+E)*(-M+T)-(-I+S)*(-M+x),Ie=(-Y+R)*(-Q+T)-(-Y+S)*(-Q+L),We=(O*Ie-k*Be)/Re,Ze=(J*Be-H*Ie)/Re,Ut=(We-S)*(We-S)+(Ze-T)*(Ze-T),dt=S+(We-S)*z,ke=T+(Ze-T)*z,Je=S-(We-S)*W,He=T-(Ze-T)*W,Or=Math.min(O*O+H*H,k*k+J*J),Xt=fe?z:W,gi=Or+Xt*Xt*w,No=Ut<=gi;let Vn=s.join;if(Vn===zn.MITER&&Ut/w>A&&(Vn=zn.BEVEL),No)switch(Vn){case zn.MITER:{f.push(dt,ke,Je,He);break}case zn.BEVEL:{fe?f.push(dt,ke,S+I*W,T+M*W,dt,ke,S+Y*W,T+Q*W):f.push(S-I*z,T-M*z,Je,He,S-Y*z,T-Q*z,Je,He),m+=2;break}case zn.ROUND:{fe?(f.push(dt,ke,S+I*W,T+M*W),m+=Po(S,T,S+I*W,T+M*W,S+Y*W,T+Q*W,f,!0)+4,f.push(dt,ke,S+Y*W,T+Q*W)):(f.push(S-I*z,T-M*z,Je,He),m+=Po(S,T,S-I*z,T-M*z,S-Y*z,T-Q*z,f,!1)+4,f.push(S-Y*z,T-Q*z,Je,He));break}}else{switch(f.push(S-I*z,T-M*z,S+I*W,T+M*W),Vn){case zn.MITER:{fe?f.push(Je,He,Je,He):f.push(dt,ke,dt,ke),m+=2;break}case zn.ROUND:{fe?m+=Po(S,T,S+I*W,T+M*W,S+Y*W,T+Q*W,f,!0)+2:m+=Po(S,T,S-I*z,T-M*z,S-Y*z,T-Q*z,f,!1)+2;break}}f.push(S-Y*z,T-Q*z,S+Y*W,T+Q*W),m+=2}}E=n[(p-2)*2],x=n[(p-2)*2+1],S=n[(p-1)*2],T=n[(p-1)*2+1],I=-(x-T),M=E-S,K=Math.sqrt(I*I+M*M),I/=K,M/=K,I*=_,M*=_,f.push(S-I*z,T-M*z,S+I*W,T+M*W),c||(s.cap===Co.ROUND?m+=Po(S-I*(z-W)*.5,T-M*(z-W)*.5,S-I*z,T-M*z,S+I*W,T+M*W,f,!1)+2:s.cap===Co.SQUARE&&(m+=FT(S,T,I,M,z,W,!1,f)));const me=e.indices,ge=Qa.epsilon*Qa.epsilon;for(let ne=v;ne<m+v-2;++ne)E=f[ne*2],x=f[ne*2+1],S=f[(ne+1)*2],T=f[(ne+1)*2+1],R=f[(ne+2)*2],L=f[(ne+2)*2+1],!(Math.abs(E*(T-L)+S*(L-x)+R*(x-T))<ge)&&me.push(ne,ne+1,ne+2)}function OD(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==rr.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,l=e.indices,c=i.length/2,h=o.length/2;let f=h;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),l.push(f,f+1),f++;s&&l.push(f,h)}function UT(t,e){t.lineStyle.native?OD(t,e):ND(t,e)}class fv{static curveLength(e,r,n,i,s,o){const l=e-2*n+s,c=r-2*i+o,h=2*n-2*e,f=2*i-2*r,p=4*(l*l+c*c),m=4*(l*h+c*f),v=h*h+f*f,_=2*Math.sqrt(p+m+v),w=Math.sqrt(p),A=2*p*w,E=2*Math.sqrt(v),x=m/w;return(A*_+w*m*(_-E)+(4*v*p-m*m)*Math.log((2*w+x+_)/(x+E)))/(4*A)}static curveTo(e,r,n,i,s){const o=s[s.length-2],l=s[s.length-1],c=Qa._segmentsCount(fv.curveLength(o,l,e,r,n,i));let h=0,f=0;for(let p=1;p<=c;++p){const m=p/c;h=o+(e-o)*m,f=l+(r-l)*m,s.push(h+(e+(n-e)*m-h)*m,f+(r+(i-r)*m-f)*m)}}}const pv={[rr.POLY]:LT,[rr.CIRC]:Wd,[rr.ELIP]:Wd,[rr.RECT]:ID,[rr.RREC]:kD},zT=[],$d=[];class Vd{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Vd(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const qa=new Ue,jT=class extends IE{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Md,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),$d.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),zT.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,n=null){const i=new Vd(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new Vd(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,qa):qa.copyFrom(t),n.shape.contains(qa.x,qa.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(qa.x,qa.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let l=this.shapeIndex;l<e.length;l++){this.shapeIndex++;const c=e[l],h=c.fillStyle,f=c.lineStyle;pv[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(h.visible||f.visible)&&this.processHoles(c.holes);for(let p=0;p<2;p++){const m=p===0?h:f;if(!m.visible)continue;const v=m.texture.baseTexture,_=this.indices.length,w=this.points.length/2;v.wrapMode=zi.REPEAT,p===0?this.processFill(c):this.processLine(c);const A=this.points.length/2-w;A!==0&&(r&&!this._compareStyles(n,m)&&(r.end(_,w),r=null),r||(r=zT.pop()||new MD,r.begin(m,_,w),this.batches.push(r),n=m),this.addUvs(this.points,t,m.texture,w,A,m.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const n=t[e];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<jT.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++Pe._globalBatch;for(let f=0;f<this.drawCalls.length;f++)this.drawCalls[f].texArray.clear(),$d.push(this.drawCalls[f]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=$d.pop();n||(n=new Fy,n.texArray=new Wy),n.texArray.count=0,n.start=0,n.size=0,n.type=Rn.TRIANGLES;let i=0,s=null,o=0,l=!1,c=Rn.TRIANGLES,h=0;this.drawCalls.push(n);for(let f=0;f<this.batches.length;f++){const p=this.batches[f],m=8,v=p.style,_=v.texture.baseTexture;l!==!!v.native&&(l=!!v.native,c=l?Rn.LINES:Rn.TRIANGLES,s=null,i=m,t++),s!==_&&(s=_,_._batchEnabled!==t&&(i===m&&(t++,i=0,n.size>0&&(n=$d.pop(),n||(n=new Fy,n.texArray=new Wy),this.drawCalls.push(n)),n.start=h,n.size=0,n.texArray.count=0,n.type=c),_.touched=1,_._batchEnabled=t,_._batchLocation=i,_.wrapMode=zi.REPEAT,n.texArray.elements[n.texArray.count++]=_,i++)),n.size+=p.size,h+=p.size,o=_._batchLocation,this.addColors(e,v.color,v.alpha,p.attribSize,p.attribStart),this.addTextureIds(r,o,p.attribSize,p.attribStart)}Pe._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let l=0;for(let c=0;c<t.length/2;c++)s[l++]=t[c*2],s[l++]=t[c*2+1],s[l++]=e[c*2],s[l++]=e[c*2+1],o[l++]=r[c],s[l++]=n[c];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?LT.triangulate(t,this):pv[t.type].triangulate(t,this)}processLine(t){UT(t,this);for(let e=0;e<t.holes.length;e++)UT(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];pv[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const n=t[r*2],i=t[r*2+1];t[r*2]=e.a*n+e.c*i+e.tx,t[r*2+1]=e.b*n+e.d*i+e.ty}}addColors(t,e,r,n,i=0){const s=Xe.shared.setValue(e).toLittleEndianNumber(),o=Xe.shared.setValue(s).toPremultiplied(r);t.length=Math.max(t.length,i+n);for(let l=0;l<n;l++)t[i+l]=o}addTextureIds(t,e,r,n=0){t.length=Math.max(t.length,n+r);for(let i=0;i<r;i++)t[n+i]=e}addUvs(t,e,r,n,i,s=null){let o=0;const l=e.length,c=r.frame;for(;o<i;){let f=t[(n+o)*2],p=t[(n+o)*2+1];if(s){const m=s.a*f+s.c*p+s.tx;p=s.b*f+s.d*p+s.ty,f=m}o++,e.push(f/c.width,p/c.height)}const h=r.baseTexture;(c.width<h.width||c.height<h.height)&&this.adjustUvs(e,r,l,i)}adjustUvs(t,e,r,n){const i=e.baseTexture,s=1e-6,o=r+n*2,l=e.frame,c=l.width/i.width,h=l.height/i.height;let f=l.x/l.width,p=l.y/l.height,m=Math.floor(t[r]+s),v=Math.floor(t[r+1]+s);for(let _=r+2;_<o;_+=2)m=Math.min(m,Math.floor(t[_]+s)),v=Math.min(v,Math.floor(t[_+1]+s));f-=m,p-=v;for(let _=r;_<o;_+=2)t[_]=(t[_]+f)*c,t[_+1]=(t[_+1]+p)*h}};let HT=jT;HT.BATCHABLE_SIZE=100;class Xd{constructor(){this.color=16777215,this.alpha=1,this.texture=le.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Xd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=le.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class mv extends Xd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Co.BUTT,this.join=zn.MITER,this.miterLimit=10}clone(){const e=new mv;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const gv={},Yd=class extends mr{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Xd,this._lineStyle=new mv,this._matrix=null,this._holeMode=!1,this.state=$i.for2d(),this._geometry=t||new HT,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Xe(16777215),this.blendMode=Te.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Yd(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,n=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:n,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:le.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Co.BUTT,join:zn.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Ha,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Ha,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),fv.curveTo(t,e,r,n,i),this}bezierCurveTo(t,e,r,n,i,s){return this._initCurve(),dv.curveTo(t,e,r,n,i,s,this.currentPath.points),this}arcTo(t,e,r,n,i){this._initCurve(t,e);const s=this.currentPath.points,o=BT.curveTo(t,e,r,n,i,s);if(o){const{cx:l,cy:c,radius:h,startAngle:f,endAngle:p,anticlockwise:m}=o;this.arc(l,c,h,f,p,m)}return this}arc(t,e,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=pd:s&&n<=i&&(n+=pd),i-n===0)return this;const o=t+Math.cos(n)*r,l=e+Math.sin(n)*r,c=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const f=Math.abs(h[h.length-2]-o),p=Math.abs(h[h.length-1]-l);f<c&&p<c||h.push(o,l)}else this.moveTo(o,l),h=this.currentPath.points;return BT.arc(o,l,t,e,r,n,i,s,h),this}beginFill(t=0,e){return this.beginTextureFill({texture:le.WHITE,color:t,alpha:e})}normalizeColor(t){const e=Xe.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:le.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new Ne(t,e,r,n))}drawRoundedRect(t,e,r,n,i){return this.drawShape(new jy(t,e,r,n,i))}drawCircle(t,e,r){return this.drawShape(new Uy(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new zy(t,e,r,n))}drawPolygon(...t){let e,r=!0;const n=t[0];n.points?(r=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new Ha(e);return i.closeStroke=r,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===rr.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const i=t.batches[n],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),l=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),c=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),h={vertexData:o,blendMode:e,indices:c,uvs:l,_batchRGB:Xe.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=h}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.worldAlpha,i=e.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,Xe.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let o=0,l=s.length;o<l;o++)this._renderDrawCallDirect(t,r.drawCalls[o])}_renderDrawCallDirect(t,e){const{texArray:r,type:n,size:i,start:s}=e,o=r.count;for(let l=0;l<o;l++)t.texture.bind(r.elements[l],l);t.geometry.draw(n,i,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!gv[r]){const{maxTextures:n}=t.plugins[r],i=new Int32Array(n);for(let l=0;l<n;l++)i[l]=l;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new lt,default:Dn.from({uSamplers:i},!0)},o=t.plugins[r]._shader.program;gv[r]=new hi(o,s)}e=gv[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:n,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,Yd._TEMP_POINT),this._geometry.containsPoint(Yd._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=Xe.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,l=e.ty,c=this._geometry.points,h=this.vertexData;let f=0;for(let p=0;p<c.length;p+=2){const m=c[p],v=c[p+1];h[f++]=r*m+i*v+o,h[f++]=s*v+n*m+l}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let Ro=Yd;Ro.curves=Qa,Ro._TEMP_POINT=new Ue;class DD extends Ud{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,l=this.width/s,c=this.height/o;for(let f=0;f<e;f++){const p=f%this.segWidth,m=f/this.segWidth|0;r.push(p*l,m*c),n.push(p/s,m/o)}const h=s*o;for(let f=0;f<h;f++){const p=f%s,m=f/s|0,v=m*this.segWidth+p,_=m*this.segWidth+p+1,w=(m+1)*this.segWidth+p,A=(m+1)*this.segWidth+p+1;i.push(v,_,w,_,A,w)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class LD extends Ud{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let l=0,c=e[0];const h=this._width*this.textureScale,f=e.length;for(let m=0;m<f;m++){const v=m*4;if(this.textureScale>0){const _=c.x-e[m].x,w=c.y-e[m].y,A=Math.sqrt(_*_+w*w);c=e[m],l+=A/h}else l=m/(f-1);s[v]=l,s[v+1]=0,s[v+2]=l,s[v+3]=1}let p=0;for(let m=0;m<f-1;m++){const v=m*2;o[p++]=v,o[p++]=v+1,o[p++]=v+2,o[p++]=v+2,o[p++]=v+1,o[p++]=v+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,l=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let h=0;h<l;h++){const f=e[h],p=h*4;h<e.length-1?n=e[h+1]:n=f,s=-(n.x-r.x),i=n.y-r.y;const m=Math.sqrt(i*i+s*s);m<1e-6?(i=0,s=0):(i/=m,s/=m,i*=c,s*=c),o[p]=f.x+i,o[p+1]=f.y+s,o[p+2]=f.x-i,o[p+3]=f.y-s,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class BD extends Ya{constructor(e,r,n){const i=new DD(e.width,e.height,r,n),s=new zu(le.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Qd=10;class FD extends BD{constructor(e,r,n,i,s){var o,l,c,h;super(le.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??Qd,this._rightWidth=i??((l=e.defaultBorders)==null?void 0:l.right)??Qd,this._topHeight=n??((c=e.defaultBorders)==null?void 0:c.top)??Qd,this._bottomHeight=s??((h=e.defaultBorders)==null?void 0:h.bottom)??Qd,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class UD extends Ya{constructor(e=le.EMPTY,r,n,i,s){const o=new Ud(r,n,i);o.getBuffer("aVertexPosition").static=!1;const l=new zu(e);super(o,l,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class zD extends Ya{constructor(e,r,n=0){const i=new LD(e.height,r,n),s=new zu(e);n>0&&(e.baseTexture.wrapMode=zi.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class jD extends mr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Te.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Xe(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class GT{constructor(e,r,n){this.geometry=new ks,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||we.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Ft(pN(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];l.offset=r,r+=l.size,this.dynamicStride+=l.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Ft(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];l.offset=i,i+=l.size,this.staticStride+=l.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Ft(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];e.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===we.UNSIGNED_BYTE,l.type,this.dynamicStride*4,l.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];e.addAttribute(l.attributeName,this.staticBuffer,0,l.type===we.UNSIGNED_BYTE,l.type,this.staticStride*4,l.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===we.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===we.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var HD=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,GD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class WT extends xd{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new lt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:we.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=hi.from(GD,HD,{}),this.state=$i.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,h=c.alphaMode>0;this.state.blendMode=_E(e.blendMode,h),s.state.set(this.state);const f=s.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=Xe.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,h).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let m=!1;for(let v=0,_=0;v<o;v+=i,_+=1){let w=o-v;w>i&&(w=i),_>=l.length&&l.push(this._generateOneMoreBuffer(e));const A=l[_];A.uploadDynamic(r,v,w);const E=e._bufferUpdateIDs[_]||0;m=m||A._updateID<E,m&&(A._updateID=e._updateID,A.uploadStatic(r,v,w)),s.geometry.bind(A.geometry),f.drawElements(f.TRIANGLES,w*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new GT(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new GT(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let l=0,c=0,h=0,f=0;for(let p=0;p<n;++p){const m=e[r+p],v=m._texture,_=m.scale.x,w=m.scale.y,A=v.trim,E=v.orig;A?(c=A.x-m.anchor.x*E.width,l=c+A.width,f=A.y-m.anchor.y*E.height,h=f+A.height):(l=E.width*(1-m.anchor.x),c=E.width*-m.anchor.x,h=E.height*(1-m.anchor.y),f=E.height*-m.anchor.y),i[o]=c*_,i[o+1]=f*w,i[o+s]=l*_,i[o+s+1]=f*w,i[o+s*2]=l*_,i[o+s*2+1]=h*w,i[o+s*3]=c*_,i[o+s*3+1]=h*w,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let l=0;l<n;l++){const c=e[r+l].position;i[o]=c.x,i[o+1]=c.y,i[o+s]=c.x,i[o+s+1]=c.y,i[o+s*2]=c.x,i[o+s*2+1]=c.y,i[o+s*3]=c.x,i[o+s*3+1]=c.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let l=0;l<n;l++){const c=e[r+l].rotation;i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let l=0;l<n;++l){const c=e[r+l]._texture._uvs;c?(i[o]=c.x0,i[o+1]=c.y0,i[o+s]=c.x1,i[o+s+1]=c.y1,i[o+s*2]=c.x2,i[o+s*2+1]=c.y2,i[o+s*3]=c.x3,i[o+s*3+1]=c.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let l=0;l<n;++l){const c=e[r+l],h=Xe.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}WT.extension={name:"particle",type:ue.RendererPlugin},be.add(WT);class Gu extends di{constructor(e,r=!0){super(e[0]instanceof le?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(At.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(At.shared.add(this.update,this,Ns.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(le.from(e[n]));return new Gu(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(le.from(e[n]));return new Gu(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof le)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(At.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(At.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Wu=new Ue;class yv extends di{constructor(e,r=100,n=100){super(e),this.tileTransform=new yd,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Yy(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Ne),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Wu);const r=this._width,n=this._height,i=-r*this.anchor._x;if(Wu.x>=i&&Wu.x<i+r){const s=-n*this.anchor._y;if(Wu.y>=s&&Wu.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof le?e:le.from(e,r);return new yv(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var WD=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,$D=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,VD=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,$T=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,XD=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const qd=new lt;class VT extends xd{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new YE,this.state=$i.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=hi.from($T,XD,r),this.shader=e.context.webGLVersion>1?hi.from($D,WD,r):hi.from($T,VD,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const l=e._texture,c=l.baseTexture,h=c.alphaMode>0,f=e.tileTransform.localTransform,p=e.uvMatrix;let m=c.isPowerOfTwo&&l.frame.width===c.width&&l.frame.height===c.height;m&&(c._glTextures[r.CONTEXT_UID]?m=c.wrapMode!==zi.CLAMP:c.wrapMode===zi.CLAMP&&(c.wrapMode=zi.REPEAT));const v=m?this.simpleShader:this.shader,_=l.width,w=l.height,A=e._width,E=e._height;qd.set(f.a*_/A,f.b*_/E,f.c*w/A,f.d*w/E,f.tx/A,f.ty/E),qd.invert(),m?qd.prepend(p.mapCoord):(v.uniforms.uMapCoord=p.mapCoord.toArray(!0),v.uniforms.uClampFrame=p.uClampFrame,v.uniforms.uClampOffset=p.uClampOffset),v.uniforms.uTransform=qd.toArray(!0),v.uniforms.uColor=Xe.shared.setValue(e.tint).premultiply(e.worldAlpha,h).toArray(v.uniforms.uColor),v.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),v.uniforms.uSampler=l,r.shader.bind(v),r.geometry.bind(n),this.state.blendMode=_E(e.blendMode,h),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}VT.extension={name:"tilingSprite",type:ue.RendererPlugin},be.add(VT);const vv=class{constructor(t){this.stage=new mr,t=Object.assign({forceCanvas:!1},t),this.renderer=AO(t),vv._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=vv._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let $u=vv;$u._plugins=[],be.handleByList(ue.Application,$u._plugins);class XT{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}XT.extension=ue.Application,be.add(XT);var YT={exports:{}},YD="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",QD=YD,qD=QD;function QT(){}function qT(){}qT.resetWarningCache=QT;var KD=function(){function t(n,i,s,o,l,c){if(c!==qD){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:qT,resetWarningCache:QT};return r.PropTypes=r,r};YT.exports=KD();var ZD=YT.exports;const qe=Ac(ZD);function Yr(t){return Yr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Yr(t)}function KT(t){var e=function(r,n){if(Yr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Yr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Yr(e)==="symbol"?e:String(e)}function Ct(t,e,r){return(e=KT(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _v(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Qi(t){return function(e){if(Array.isArray(e))return _v(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return _v(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_v(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function Et(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var JD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function e3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var t3=function(t){return t==null};function Vu(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=Qi(t);else{if(t===null||Yr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!t3(r)&&!isNaN(r)}).map(Number)}function ZT(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function bv(t){return t instanceof Ue||t instanceof Vi}var Kd=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function xv(t,e,r){if(bv(t[e])&&bv(r))t[e].copyFrom(r);else if(bv(t[e])){var n=Vu(r);Et(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),Yr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Ka,JT=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},eS=function(t){return function(){return!t.apply(void 0,arguments)}},wv="children",r3=(Ct(Ka={},wv,!0),Ct(Ka,"parent",!0),Ct(Ka,"worldAlpha",!0),Ct(Ka,"worldTransform",!0),Ct(Ka,"worldVisible",!0),Ka),Ev={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},pi=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(l){return requestAnimationFrame(function(){var c,h;l==null||(c=l.__reactpixi)===null||c===void 0||(h=c.root)===null||h===void 0||h.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(l,c){if(r.hasOwnProperty(l))return Et(c.typeofs.some(function(h){return Yr(r[l])===h})||c.instanceofs.some(function(h){return r[l]instanceof h}),"".concat(t," ").concat(l," prop is invalid")),r[l]};if(r.texture)return Et(r.texture instanceof le,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,le]});Et(!!s,"".concat(t," could not get texture from props"));var o=le.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},n3=eS(JT([].concat(Qi(Object.keys(r3)),Qi(Kd))));function mi(t,e,r){var n=!1;if(Et(ut.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Yr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<Kd.length;o++){var l=Kd[o];e[l]!==r[l]&&(n=!0,typeof e[l]=="function"&&i&&t.removeListener(l,e[l]),typeof r[l]=="function"&&s&&t.on(l,r[l]))}var c=Object.keys(r||{});if(r.overwriteProps){for(var h=0;h<c.length;h++){var f=c[h];e[f]!==r[f]&&(n=!0,xv(t,f,r[f]))}return n}for(var p=c.filter(n3),m=0;m<p.length;m++){var v=p[m],_=r[v];r[v]!==e[v]&&(n=!0),_!==void 0?xv(t,v,_):v in Ev?(console.warn("setting default value: ".concat(v,", from: ").concat(t[v]," to: ").concat(_," for"),t),n=!0,xv(t,v,Ev[v])):console.warn("ignoring prop: ".concat(v,", from ").concat(t[v]," to ").concat(_," for"),t)}return n}var i3=function(t,e){var r=e.text,n=e.style;return new RT(r,n)},s3=function(){return new mr};function Os(t,e){if(t==null)return{};var r,n,i=function(o,l){if(o==null)return{};var c,h,f={},p=Object.keys(o);for(h=0;h<p.length;h++)c=p[h],l.indexOf(c)>=0||(f[c]=o[c]);return f}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var o3=["draw","geometry"],a3=function(t,e){var r=e.geometry;Et(!r||r instanceof Ro,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new Ro(r.geometry):new Ro;return n.applyProps=function(i,s,o){var l=o.draw;o.geometry;var c=mi(i,s,Os(o,o3));return s.draw!==l&&typeof l=="function"&&(c=!0,l.call(n,n)),c},n},l3=["image","texture"],u3=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,l=o===void 0?10:o,c=e.bottomHeight,h=c===void 0?10:c,f=pi("NineSlicePlane",t,e),p=new FD(f,n,s,l,h);return p.applyProps=function(m,v,_){var w=_.image,A=_.texture,E=mi(m,v,Os(_,l3));return(w||A)&&(A!==v.texture&&(E=!0),m.texture=pi("NineSlicePlane",t,_)),E},p};function tS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tS(Object(r),!0).forEach(function(n){Ct(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var c3=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,l=o!==void 0&&o,c=Zd(Zd({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),h=Zd(Zd({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),f=new jD(n,c,s,l);return f.willUnmount=function(p,m,v){p.destroy(h)},f},h3=["image","texture"],d3=function(t,e){var r=new di(pi("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,l=s.texture,c=mi(n,i,Os(s,h3));return(l&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=pi("Sprite",t,s)),c},r},f3=["textures","isPlaying","initialFrame"],p3=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,l=function(h){return h.map(function(f){return Et(f instanceof le||(f==null?void 0:f.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),f})},c=n?Gu.fromImages(n):new Gu(l(r));return c[s?"gotoAndPlay":"gotoAndStop"](o||0),c.applyProps=function(h,f,p){var m=p.textures,v=p.isPlaying,_=p.initialFrame,w=mi(h,f,Os(p,f3));if(m&&f.textures!==m&&(h.textures=l(m),w=!0),v!==f.isPlaying||_!==f.initialFrame){var A=typeof _=="number"?_:c.currentFrame||0;c[v?"gotoAndPlay":"gotoAndStop"](A),w=!0}return w},c},m3=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,l=new Dd(n,s);return o?(l.updateText(),new di(l.texture)):l},g3=["tileScale","tilePosition","image","texture"],y3=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=pi("TilingSprite",t,e),l=new yv(o,n,s);return l.applyProps=function(c,h,f){var p=f.tileScale,m=f.tilePosition,v=f.image,_=f.texture,w=mi(c,h,Os(f,g3));if(m){var A,E=Vu(m);(A=c.tilePosition).set.apply(A,Qi(E)),w=!ZT(Vu(h.tilePosition),E)||w}if(p){var x,S=Vu(p);(x=c.tileScale).set.apply(x,Qi(S)),w=!ZT(Vu(h.tileScale),S)||w}return(v||_)&&(_!==h.texture&&(w=!0),c.texture=pi("Sprite",t,f)),w},l},v3=["image","texture"],_3=function(t,e){var r=pi("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,l=o===void 0?Rn.TRIANGLES:o,c=new UD(r,n,i,s,l);return c.applyProps=function(h,f,p){var m=p.image,v=p.texture,_=mi(h,f,Os(p,v3));return(m||v)&&(v!==f.texture&&(_=!0),h.texture=pi("Mesh",t,p)),_},c},b3=["image","texture"],x3=function(t,e){var r=pi("SimpleRope",t,e),n=e.points,i=new zD(r,n);return i.applyProps=function(s,o,l){var c=l.image,h=l.texture,f=Os(l,b3);Et(Array.isArray(l.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var p=mi(s,o,f);return(c||h)&&(h!==o.texture&&(p=!0),s.texture=pi("SimpleRope",t,l)),p},i},w3=Object.freeze({__proto__:null,BitmapText:i3,Container:s3,Graphics:a3,NineSlicePlane:u3,ParticleContainer:c3,Sprite:d3,Text:m3,TilingSprite:y3,SimpleMesh:_3,SimpleRope:x3,AnimatedSprite:p3});function rS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rS(Object(r),!0).forEach(function(n){Ct(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Nr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},E3=Object.keys(Nr).reduce(function(t,e){return nS(nS({},t),{},Ct({},e,w3[e]))},{}),iS={};function T3(t,e){return Et(!!t,"Expect type to be defined, got `%s`",t),Et(!Nr[t],"Component `%s` could not be created, already exists in default components.",t),iS[t]=e,t}var sS,oS,aS,lS,Tv={},Sv={},S3={get exports(){return Sv},set exports(t){Sv=t}},uS={};function A3(){return oS||(oS=1,S3.exports=(sS||(sS=1,function(t){function e(O,H){var k=O.length;O.push(H);e:for(;0<k;){var J=k-1>>>1,se=O[J];if(!(0<i(se,H)))break e;O[J]=H,O[k]=se,k=J}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var H=O[0],k=O.pop();if(k!==H){O[0]=k;e:for(var J=0,se=O.length,Re=se>>>1;J<Re;){var fe=2*(J+1)-1,Be=O[fe],Ie=fe+1,We=O[Ie];if(0>i(Be,k))Ie<se&&0>i(We,Be)?(O[J]=We,O[Ie]=k,J=Ie):(O[J]=Be,O[fe]=k,J=fe);else{if(!(Ie<se&&0>i(We,k)))break e;O[J]=We,O[Ie]=k,J=Ie}}}return H}function i(O,H){var k=O.sortIndex-H.sortIndex;return k!==0?k:O.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],f=1,p=null,m=3,v=!1,_=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function S(O){for(var H=r(h);H!==null;){if(H.callback===null)n(h);else{if(!(H.startTime<=O))break;n(h),H.sortIndex=H.expirationTime,e(c,H)}H=r(h)}}function T(O){if(w=!1,S(O),!_)if(r(c)!==null)_=!0,ge(R);else{var H=r(h);H!==null&&ne(T,H.startTime-O)}}function R(O,H){_=!1,w&&(w=!1,E(Y),Y=-1),v=!0;var k=m;try{for(S(H),p=r(c);p!==null&&(!(p.expirationTime>H)||O&&!$());){var J=p.callback;if(typeof J=="function"){p.callback=null,m=p.priorityLevel;var se=J(p.expirationTime<=H);H=t.unstable_now(),typeof se=="function"?p.callback=se:p===r(c)&&n(c),S(H)}else n(c);p=r(c)}if(p!==null)var Re=!0;else{var fe=r(h);fe!==null&&ne(T,fe.startTime-H),Re=!1}return Re}finally{p=null,m=k,v=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var L,I=!1,M=null,Y=-1,Q=5,K=-1;function $(){return!(t.unstable_now()-K<Q)}function z(){if(M!==null){var O=t.unstable_now();K=O;var H=!0;try{H=M(!0,O)}finally{H?L():(I=!1,M=null)}}else I=!1}if(typeof x=="function")L=function(){x(z)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,me=W.port2;W.port1.onmessage=z,L=function(){me.postMessage(null)}}else L=function(){A(z,0)};function ge(O){M=O,I||(I=!0,L())}function ne(O,H){Y=A(function(){O(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||v||(_=!0,ge(R))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Q=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var k=m;m=H;try{return O()}finally{m=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var k=m;m=O;try{return H()}finally{m=k}},t.unstable_scheduleCallback=function(O,H,k){var J=t.unstable_now();switch(k=typeof k=="object"&&k!==null&&typeof(k=k.delay)=="number"&&0<k?J+k:J,O){case 1:var se=-1;break;case 2:se=250;break;case 5:se=1073741823;break;case 4:se=1e4;break;default:se=5e3}return O={id:f++,callback:H,priorityLevel:O,startTime:k,expirationTime:se=k+se,sortIndex:-1},k>J?(O.sortIndex=k,e(h,O),r(c)===null&&O===r(h)&&(w?(E(Y),Y=-1):w=!0,ne(T,k-J))):(O.sortIndex=se,e(c,O),_||v||(_=!0,ge(R))),O},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(O){var H=m;return function(){var k=m;m=H;try{return O.apply(this,arguments)}finally{m=k}}}}(uS)),uS)),Sv}function C3(){return lS||(lS=1,aS=function(t){var e={},r=_n,n=A3(),i=Object.assign;function s(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),v=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),T=Symbol.iterator;function R(a){return a===null||typeof a!="object"?null:typeof(a=T&&a[T]||a["@@iterator"])=="function"?a:null}function L(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case h:return"Fragment";case c:return"Portal";case p:return"Profiler";case f:return"StrictMode";case w:return"Suspense";case A:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case v:return(a.displayName||"Context")+".Consumer";case m:return(a._context.displayName||"Context")+".Provider";case _:var u=a.render;return(a=a.displayName)||(a=(a=u.displayName||u.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case E:return(u=a.displayName||null)!==null?u:L(a.type)||"Memo";case x:u=a._payload,a=a._init;try{return L(a(u))}catch{}}return null}function I(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=u.render).displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(u);case 8:return u===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function M(a){var u=a,d=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do 4098&(u=a).flags&&(d=u.return),a=u.return;while(a)}return u.tag===3?d:null}function Y(a){if(M(a)!==a)throw Error(s(188))}function Q(a){var u=a.alternate;if(!u){if((u=M(a))===null)throw Error(s(188));return u!==a?null:a}for(var d=a,g=u;;){var y=d.return;if(y===null)break;var b=y.alternate;if(b===null){if((g=y.return)!==null){d=g;continue}break}if(y.child===b.child){for(b=y.child;b;){if(b===d)return Y(y),a;if(b===g)return Y(y),u;b=b.sibling}throw Error(s(188))}if(d.return!==g.return)d=y,g=b;else{for(var C=!1,P=y.child;P;){if(P===d){C=!0,d=y,g=b;break}if(P===g){C=!0,g=y,d=b;break}P=P.sibling}if(!C){for(P=b.child;P;){if(P===d){C=!0,d=b,g=y;break}if(P===g){C=!0,g=b,d=y;break}P=P.sibling}if(!C)throw Error(s(189))}}if(d.alternate!==g)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?a:u}function K(a){return(a=Q(a))!==null?$(a):null}function $(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=$(a);if(u!==null)return u;a=a.sibling}return null}function z(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var u=z(a);if(u!==null)return u}a=a.sibling}return null}var W,me=Array.isArray,ge=t.getPublicInstance,ne=t.getRootHostContext,O=t.getChildHostContext,H=t.prepareForCommit,k=t.resetAfterCommit,J=t.createInstance,se=t.appendInitialChild,Re=t.finalizeInitialChildren,fe=t.prepareUpdate,Be=t.shouldSetTextContent,Ie=t.createTextInstance,We=t.scheduleTimeout,Ze=t.cancelTimeout,Ut=t.noTimeout,dt=t.isPrimaryRenderer,ke=t.supportsMutation,Je=t.supportsPersistence,He=t.supportsHydration,Or=t.getInstanceFromNode,Xt=t.preparePortalMount,gi=t.getCurrentEventPriority,No=t.detachDeletedInstance,Vn=t.supportsMicrotasks,rc=t.scheduleMicrotask,Dr=t.supportsTestSelectors,xf=t.findFiberRoot,wf=t.getBoundingRect,Ef=t.getTextContent,Oo=t.isHiddenSubtree,Tf=t.matchAccessibilityRole,sl=t.setFocusIfFocusable,Sf=t.setupIntersectionObserver,nc=t.appendChild,Hv=t.appendChildToContainer,Af=t.commitTextUpdate,Gv=t.commitMount,Cf=t.commitUpdate,Wv=t.insertBefore,B=t.insertInContainerBefore,F=t.removeChild,q=t.removeChildFromContainer,de=t.resetTextContent,Ce=t.hideInstance,Se=t.hideTextInstance,Ae=t.unhideInstance,Ee=t.unhideTextInstance,_e=t.clearContainer,et=t.cloneInstance,ze=t.createContainerChildSet,gr=t.appendChildToContainerChildSet,Mt=t.finalizeContainerChildren,Yt=t.replaceContainerChildren,qr=t.cloneHiddenInstance,Bs=t.cloneHiddenTextInstance,ic=t.canHydrateInstance,ol=t.canHydrateTextInstance,Xn=t.canHydrateSuspenseInstance,Do=t.isSuspenseInstancePending,Lo=t.isSuspenseInstanceFallback,sc=t.getSuspenseInstanceFallbackErrorDetails,oc=t.registerSuspenseInstanceRetry,Ji=t.getNextHydratableSibling,rt=t.getFirstHydratableChild,Lr=t.getFirstHydratableChildWithinContainer,Fs=t.getFirstHydratableChildWithinSuspenseInstance,zt=t.hydrateInstance,Bo=t.hydrateTextInstance,Pf=t.hydrateSuspenseInstance,$v=t.getNextHydratableInstanceAfterSuspenseInstance,AF=t.commitHydratedContainer,CF=t.commitHydratedSuspenseInstance,PF=t.clearSuspenseBoundary,RF=t.clearSuspenseBoundaryFromContainer,IF=t.shouldDeleteUnhydratedTailInstances,kF=t.didNotMatchHydratedContainerTextInstance,MF=t.didNotMatchHydratedTextInstance;function ac(a){if(W===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+a}var Vv=!1;function Xv(a,u){if(!a||Vv)return"";Vv=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(j){var g=j}Reflect.construct(a,[],u)}else{try{u.call()}catch(j){g=j}a.call(u.prototype)}else{try{throw Error()}catch(j){g=j}a()}}catch(j){if(j&&g&&typeof j.stack=="string"){for(var y=j.stack.split(`
`),b=g.stack.split(`
`),C=y.length-1,P=b.length-1;1<=C&&0<=P&&y[C]!==b[P];)P--;for(;1<=C&&0<=P;C--,P--)if(y[C]!==b[P]){if(C!==1||P!==1)do if(C--,0>--P||y[C]!==b[P]){var D=`
`+y[C].replace(" at new "," at ");return a.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",a.displayName)),D}while(1<=C&&0<=P);break}}}finally{Vv=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?ac(a):""}var NF=Object.prototype.hasOwnProperty,Yv=[],al=-1;function Us(a){return{current:a}}function ft(a){0>al||(a.current=Yv[al],Yv[al]=null,al--)}function nt(a,u){al++,Yv[al]=a.current,a.current=u}var zs={},yr=Us(zs),Br=Us(!1),Fo=zs;function ll(a,u){var d=a.type.contextTypes;if(!d)return zs;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var y,b={};for(y in d)b[y]=u[y];return g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=b),b}function Kr(a){return(a=a.childContextTypes)!=null}function Qv(){ft(Br),ft(yr)}function WS(a,u,d){if(yr.current!==zs)throw Error(s(168));nt(yr,u),nt(Br,d)}function $S(a,u,d){var g=a.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return d;for(var y in g=g.getChildContext())if(!(y in u))throw Error(s(108,I(a)||"Unknown",y));return i({},d,g)}function Rf(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||zs,Fo=yr.current,nt(yr,a),nt(Br,Br.current),!0}function VS(a,u,d){var g=a.stateNode;if(!g)throw Error(s(169));d?(a=$S(a,u,Fo),g.__reactInternalMemoizedMergedChildContext=a,ft(Br),ft(yr),nt(yr,a)):ft(Br),nt(Br,d)}var Yn=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(OF(a)/DF|0)|0},OF=Math.log,DF=Math.LN2,qv=64,Kv=4194304;function lc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function If(a,u){var d=a.pendingLanes;if(d===0)return 0;var g=0,y=a.suspendedLanes,b=a.pingedLanes,C=268435455&d;if(C!==0){var P=C&~y;P!==0?g=lc(P):(b&=C)!==0&&(g=lc(b))}else(C=d&~y)!==0?g=lc(C):b!==0&&(g=lc(b));if(g===0)return 0;if(u!==0&&u!==g&&!(u&y)&&((y=g&-g)>=(b=u&-u)||y===16&&4194240&b))return u;if(4&g&&(g|=16&d),(u=a.entangledLanes)!==0)for(a=a.entanglements,u&=g;0<u;)y=1<<(d=31-Yn(u)),g|=a[d],u&=~y;return g}function LF(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function Zv(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function XS(){var a=qv;return!(4194240&(qv<<=1))&&(qv=64),a}function Jv(a){for(var u=[],d=0;31>d;d++)u.push(a);return u}function uc(a,u,d){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[u=31-Yn(u)]=d}function e0(a,u){var d=a.entangledLanes|=u;for(a=a.entanglements;d;){var g=31-Yn(d),y=1<<g;y&u|a[g]&u&&(a[g]|=u),d&=~y}}var $e=0;function YS(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var t0=n.unstable_scheduleCallback,QS=n.unstable_cancelCallback,BF=n.unstable_shouldYield,FF=n.unstable_requestPaint,Qt=n.unstable_now,r0=n.unstable_ImmediatePriority,UF=n.unstable_UserBlockingPriority,qS=n.unstable_NormalPriority,zF=n.unstable_IdlePriority,kf=null,yi=null,Qn=typeof Object.is=="function"?Object.is:function(a,u){return a===u&&(a!==0||1/a==1/u)||a!=a&&u!=u},es=null,Mf=!1,n0=!1;function KS(a){es===null?es=[a]:es.push(a)}function vi(){if(!n0&&es!==null){n0=!0;var a=0,u=$e;try{var d=es;for($e=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}es=null,Mf=!1}catch(y){throw es!==null&&(es=es.slice(a+1)),t0(r0,vi),y}finally{$e=u,n0=!1}}return null}var ul=[],cl=0,Nf=null,Of=0,hn=[],dn=0,Uo=null,_i=1,ts="";function zo(a,u){ul[cl++]=Of,ul[cl++]=Nf,Nf=a,Of=u}function ZS(a,u,d){hn[dn++]=_i,hn[dn++]=ts,hn[dn++]=Uo,Uo=a;var g=_i;a=ts;var y=32-Yn(g)-1;g&=~(1<<y),d+=1;var b=32-Yn(u)+y;if(30<b){var C=y-y%5;b=(g&(1<<C)-1).toString(32),g>>=C,y-=C,_i=1<<32-Yn(u)+y|d<<y|g,ts=b+a}else _i=1<<b|d<<y|g,ts=a}function i0(a){a.return!==null&&(zo(a,1),ZS(a,1,0))}function s0(a){for(;a===Nf;)Nf=ul[--cl],ul[cl]=null,Of=ul[--cl],ul[cl]=null;for(;a===Uo;)Uo=hn[--dn],hn[dn]=null,ts=hn[--dn],hn[dn]=null,_i=hn[--dn],hn[dn]=null}var Zr=null,fn=null,pt=!1,cc=!1,qn=null;function JS(a,u){var d=vn(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=a,(u=a.deletions)===null?(a.deletions=[d],a.flags|=16):u.push(d)}function eA(a,u){switch(a.tag){case 5:return(u=ic(u,a.type,a.pendingProps))!==null&&(a.stateNode=u,Zr=a,fn=rt(u),!0);case 6:return(u=ol(u,a.pendingProps))!==null&&(a.stateNode=u,Zr=a,fn=null,!0);case 13:if((u=Xn(u))!==null){var d=Uo!==null?{id:_i,overflow:ts}:null;return a.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},(d=vn(18,null,null,0)).stateNode=u,d.return=a,a.child=d,Zr=a,fn=null,!0}return!1;default:return!1}}function o0(a){return(1&a.mode)!=0&&(128&a.flags)==0}function a0(a){if(pt){var u=fn;if(u){var d=u;if(!eA(a,u)){if(o0(a))throw Error(s(418));u=Ji(d);var g=Zr;u&&eA(a,u)?JS(g,d):(a.flags=-4097&a.flags|2,pt=!1,Zr=a)}}else{if(o0(a))throw Error(s(418));a.flags=-4097&a.flags|2,pt=!1,Zr=a}}}function tA(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;Zr=a}function Df(a){if(!He||a!==Zr)return!1;if(!pt)return tA(a),pt=!0,!1;if(a.tag!==3&&(a.tag!==5||IF(a.type)&&!Be(a.type,a.memoizedProps))){var u=fn;if(u){if(o0(a))throw rA(),Error(s(418));for(;u;)JS(a,u),u=Ji(u)}}if(tA(a),a.tag===13){if(!He)throw Error(s(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(s(317));fn=$v(a)}else fn=Zr?Ji(a.stateNode):null;return!0}function rA(){for(var a=fn;a;)a=Ji(a)}function hl(){He&&(fn=Zr=null,cc=pt=!1)}function l0(a){qn===null?qn=[a]:qn.push(a)}var jF=o.ReactCurrentBatchConfig;function Lf(a,u){if(Qn(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var d=Object.keys(a),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var y=d[g];if(!NF.call(u,y)||!Qn(a[y],u[y]))return!1}return!0}function HF(a){switch(a.tag){case 5:return ac(a.type);case 16:return ac("Lazy");case 13:return ac("Suspense");case 19:return ac("SuspenseList");case 0:case 2:case 15:return a=Xv(a.type,!1);case 11:return a=Xv(a.type.render,!1);case 1:return a=Xv(a.type,!0);default:return""}}function Kn(a,u){if(a&&a.defaultProps){for(var d in u=i({},u),a=a.defaultProps)u[d]===void 0&&(u[d]=a[d]);return u}return u}var Bf=Us(null),Ff=null,dl=null,u0=null;function c0(){u0=dl=Ff=null}function nA(a,u,d){dt?(nt(Bf,u._currentValue),u._currentValue=d):(nt(Bf,u._currentValue2),u._currentValue2=d)}function h0(a){var u=Bf.current;ft(Bf),dt?a._currentValue=u:a._currentValue2=u}function d0(a,u,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===d)break;a=a.return}}function fl(a,u){Ff=a,u0=dl=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.lanes&u&&(Fr=!0),a.firstContext=null)}function pn(a){var u=dt?a._currentValue:a._currentValue2;if(u0!==a)if(a={context:a,memoizedValue:u,next:null},dl===null){if(Ff===null)throw Error(s(308));dl=a,Ff.dependencies={lanes:0,firstContext:a}}else dl=dl.next=a;return u}var jo=null;function f0(a){jo===null?jo=[a]:jo.push(a)}function iA(a,u,d,g){var y=u.interleaved;return y===null?(d.next=d,f0(u)):(d.next=y.next,y.next=d),u.interleaved=d,bi(a,g)}function bi(a,u){a.lanes|=u;var d=a.alternate;for(d!==null&&(d.lanes|=u),d=a,a=a.return;a!==null;)a.childLanes|=u,(d=a.alternate)!==null&&(d.childLanes|=u),d=a,a=a.return;return d.tag===3?d.stateNode:null}var js=!1;function p0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sA(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function rs(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Hs(a,u,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(2&je)!=0){var y=g.pending;return y===null?u.next=u:(u.next=y.next,y.next=u),g.pending=u,bi(a,d)}return(y=g.interleaved)===null?(u.next=u,f0(g)):(u.next=y.next,y.next=u),g.interleaved=u,bi(a,d)}function Uf(a,u,d){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&d)!=0)){var g=u.lanes;d|=g&=a.pendingLanes,u.lanes=d,e0(a,d)}}function oA(a,u){var d=a.updateQueue,g=a.alternate;if(g!==null&&d===(g=g.updateQueue)){var y=null,b=null;if((d=d.firstBaseUpdate)!==null){do{var C={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?y=b=C:b=b.next=C,d=d.next}while(d!==null);b===null?y=b=u:b=b.next=u}else y=b=u;return d={baseState:g.baseState,firstBaseUpdate:y,lastBaseUpdate:b,shared:g.shared,effects:g.effects},void(a.updateQueue=d)}(a=d.lastBaseUpdate)===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=u}function zf(a,u,d,g){var y=a.updateQueue;js=!1;var b=y.firstBaseUpdate,C=y.lastBaseUpdate,P=y.shared.pending;if(P!==null){y.shared.pending=null;var D=P,j=D.next;D.next=null,C===null?b=j:C.next=j,C=D;var V=a.alternate;V!==null&&(P=(V=V.updateQueue).lastBaseUpdate)!==C&&(P===null?V.firstBaseUpdate=j:P.next=j,V.lastBaseUpdate=D)}if(b!==null){var oe=y.baseState;for(C=0,V=j=D=null,P=b;;){var G=P.lane,te=P.eventTime;if((g&G)===G){V!==null&&(V=V.next={eventTime:te,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ye=a,Me=P;switch(G=u,te=d,Me.tag){case 1:if(typeof(ye=Me.payload)=="function"){oe=ye.call(te,oe,G);break e}oe=ye;break e;case 3:ye.flags=-65537&ye.flags|128;case 0:if((G=typeof(ye=Me.payload)=="function"?ye.call(te,oe,G):ye)==null)break e;oe=i({},oe,G);break e;case 2:js=!0}}P.callback!==null&&P.lane!==0&&(a.flags|=64,(G=y.effects)===null?y.effects=[P]:G.push(P))}else te={eventTime:te,lane:G,tag:P.tag,payload:P.payload,callback:P.callback,next:null},V===null?(j=V=te,D=oe):V=V.next=te,C|=G;if((P=P.next)===null){if((P=y.shared.pending)===null)break;P=(G=P).next,G.next=null,y.lastBaseUpdate=G,y.shared.pending=null}}if(V===null&&(D=oe),y.baseState=D,y.firstBaseUpdate=j,y.lastBaseUpdate=V,(u=y.shared.interleaved)!==null){y=u;do C|=y.lane,y=y.next;while(y!==u)}else b===null&&(y.shared.lanes=0);Go|=C,a.lanes=C,a.memoizedState=oe}}function aA(a,u,d){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var g=a[u],y=g.callback;if(y!==null){if(g.callback=null,g=d,typeof y!="function")throw Error(s(191,y));y.call(g)}}}var lA=new r.Component().refs;function m0(a,u,d,g){d=(d=d(g,u=a.memoizedState))==null?u:i({},u,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var jf={isMounted:function(a){return!!(a=a._reactInternals)&&M(a)===a},enqueueSetState:function(a,u,d){a=a._reactInternals;var g=br(),y=Vs(a),b=rs(g,y);b.payload=u,d!=null&&(b.callback=d),(u=Hs(a,b,y))!==null&&(yn(u,a,y,g),Uf(u,a,y))},enqueueReplaceState:function(a,u,d){a=a._reactInternals;var g=br(),y=Vs(a),b=rs(g,y);b.tag=1,b.payload=u,d!=null&&(b.callback=d),(u=Hs(a,b,y))!==null&&(yn(u,a,y,g),Uf(u,a,y))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var d=br(),g=Vs(a),y=rs(d,g);y.tag=2,u!=null&&(y.callback=u),(u=Hs(a,y,g))!==null&&(yn(u,a,g,d),Uf(u,a,g))}};function uA(a,u,d,g,y,b,C){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,b,C):!u.prototype||!u.prototype.isPureReactComponent||!Lf(d,g)||!Lf(y,b)}function cA(a,u,d){var g=!1,y=zs,b=u.contextType;return typeof b=="object"&&b!==null?b=pn(b):(y=Kr(u)?Fo:yr.current,b=(g=(g=u.contextTypes)!=null)?ll(a,y):zs),u=new u(d,b),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=jf,a.stateNode=u,u._reactInternals=a,g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=y,a.__reactInternalMemoizedMaskedChildContext=b),u}function hA(a,u,d,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==a&&jf.enqueueReplaceState(u,u.state,null)}function g0(a,u,d,g){var y=a.stateNode;y.props=d,y.state=a.memoizedState,y.refs=lA,p0(a);var b=u.contextType;typeof b=="object"&&b!==null?y.context=pn(b):(b=Kr(u)?Fo:yr.current,y.context=ll(a,b)),y.state=a.memoizedState,typeof(b=u.getDerivedStateFromProps)=="function"&&(m0(a,u,b,d),y.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof y.getSnapshotBeforeUpdate=="function"||typeof y.UNSAFE_componentWillMount!="function"&&typeof y.componentWillMount!="function"||(u=y.state,typeof y.componentWillMount=="function"&&y.componentWillMount(),typeof y.UNSAFE_componentWillMount=="function"&&y.UNSAFE_componentWillMount(),u!==y.state&&jf.enqueueReplaceState(y,y.state,null),zf(a,d,y,g),y.state=a.memoizedState),typeof y.componentDidMount=="function"&&(a.flags|=4194308)}function hc(a,u,d){if((a=d.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner){if(d.tag!==1)throw Error(s(309));var g=d.stateNode}if(!g)throw Error(s(147,a));var y=g,b=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===b?u.ref:(u=function(C){var P=y.refs;P===lA&&(P=y.refs={}),C===null?delete P[b]:P[b]=C},u._stringRef=b,u)}if(typeof a!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,a))}return a}function Hf(a,u){throw a=Object.prototype.toString.call(u),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function dA(a){return(0,a._init)(a._payload)}function fA(a){function u(X,N){if(a){var U=X.deletions;U===null?(X.deletions=[N],X.flags|=16):U.push(N)}}function d(X,N){if(!a)return null;for(;N!==null;)u(X,N),N=N.sibling;return null}function g(X,N){for(X=new Map;N!==null;)N.key!==null?X.set(N.key,N):X.set(N.index,N),N=N.sibling;return X}function y(X,N){return(X=Ys(X,N)).index=0,X.sibling=null,X}function b(X,N,U){return X.index=U,a?(U=X.alternate)!==null?(U=U.index)<N?(X.flags|=2,N):U:(X.flags|=2,N):(X.flags|=1048576,N)}function C(X){return a&&X.alternate===null&&(X.flags|=2),X}function P(X,N,U,Z){return N===null||N.tag!==6?((N=r_(U,X.mode,Z)).return=X,N):((N=y(N,U)).return=X,N)}function D(X,N,U,Z){var xe=U.type;return xe===h?V(X,N,U.props.children,Z,U.key):N!==null&&(N.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===x&&dA(xe)===N.type)?((Z=y(N,U.props)).ref=hc(X,N,U),Z.return=X,Z):((Z=pp(U.type,U.key,U.props,null,X.mode,Z)).ref=hc(X,N,U),Z.return=X,Z)}function j(X,N,U,Z){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?((N=n_(U,X.mode,Z)).return=X,N):((N=y(N,U.children||[])).return=X,N)}function V(X,N,U,Z,xe){return N===null||N.tag!==7?((N=Vo(U,X.mode,Z,xe)).return=X,N):((N=y(N,U)).return=X,N)}function oe(X,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return(N=r_(""+N,X.mode,U)).return=X,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case l:return(U=pp(N.type,N.key,N.props,null,X.mode,U)).ref=hc(X,null,N),U.return=X,U;case c:return(N=n_(N,X.mode,U)).return=X,N;case x:return oe(X,(0,N._init)(N._payload),U)}if(me(N)||R(N))return(N=Vo(N,X.mode,U,null)).return=X,N;Hf(X,N)}return null}function G(X,N,U,Z){var xe=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return xe!==null?null:P(X,N,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case l:return U.key===xe?D(X,N,U,Z):null;case c:return U.key===xe?j(X,N,U,Z):null;case x:return G(X,N,(xe=U._init)(U._payload),Z)}if(me(U)||R(U))return xe!==null?null:V(X,N,U,Z,null);Hf(X,U)}return null}function te(X,N,U,Z,xe){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return P(N,X=X.get(U)||null,""+Z,xe);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case l:return D(N,X=X.get(Z.key===null?U:Z.key)||null,Z,xe);case c:return j(N,X=X.get(Z.key===null?U:Z.key)||null,Z,xe);case x:return te(X,N,U,(0,Z._init)(Z._payload),xe)}if(me(Z)||R(Z))return V(N,X=X.get(U)||null,Z,xe,null);Hf(N,Z)}return null}function ye(X,N,U,Z){for(var xe=null,Ke=null,ve=N,Ve=N=0,ar=null;ve!==null&&Ve<U.length;Ve++){ve.index>Ve?(ar=ve,ve=null):ar=ve.sibling;var Ye=G(X,ve,U[Ve],Z);if(Ye===null){ve===null&&(ve=ar);break}a&&ve&&Ye.alternate===null&&u(X,ve),N=b(Ye,N,Ve),Ke===null?xe=Ye:Ke.sibling=Ye,Ke=Ye,ve=ar}if(Ve===U.length)return d(X,ve),pt&&zo(X,Ve),xe;if(ve===null){for(;Ve<U.length;Ve++)(ve=oe(X,U[Ve],Z))!==null&&(N=b(ve,N,Ve),Ke===null?xe=ve:Ke.sibling=ve,Ke=ve);return pt&&zo(X,Ve),xe}for(ve=g(X,ve);Ve<U.length;Ve++)(ar=te(ve,X,Ve,U[Ve],Z))!==null&&(a&&ar.alternate!==null&&ve.delete(ar.key===null?Ve:ar.key),N=b(ar,N,Ve),Ke===null?xe=ar:Ke.sibling=ar,Ke=ar);return a&&ve.forEach(function(Qs){return u(X,Qs)}),pt&&zo(X,Ve),xe}function Me(X,N,U,Z){var xe=R(U);if(typeof xe!="function")throw Error(s(150));if((U=xe.call(U))==null)throw Error(s(151));for(var Ke=xe=null,ve=N,Ve=N=0,ar=null,Ye=U.next();ve!==null&&!Ye.done;Ve++,Ye=U.next()){ve.index>Ve?(ar=ve,ve=null):ar=ve.sibling;var Qs=G(X,ve,Ye.value,Z);if(Qs===null){ve===null&&(ve=ar);break}a&&ve&&Qs.alternate===null&&u(X,ve),N=b(Qs,N,Ve),Ke===null?xe=Qs:Ke.sibling=Qs,Ke=Qs,ve=ar}if(Ye.done)return d(X,ve),pt&&zo(X,Ve),xe;if(ve===null){for(;!Ye.done;Ve++,Ye=U.next())(Ye=oe(X,Ye.value,Z))!==null&&(N=b(Ye,N,Ve),Ke===null?xe=Ye:Ke.sibling=Ye,Ke=Ye);return pt&&zo(X,Ve),xe}for(ve=g(X,ve);!Ye.done;Ve++,Ye=U.next())(Ye=te(ve,X,Ve,Ye.value,Z))!==null&&(a&&Ye.alternate!==null&&ve.delete(Ye.key===null?Ve:Ye.key),N=b(Ye,N,Ve),Ke===null?xe=Ye:Ke.sibling=Ye,Ke=Ye);return a&&ve.forEach(function(d4){return u(X,d4)}),pt&&zo(X,Ve),xe}return function X(N,U,Z,xe){if(typeof Z=="object"&&Z!==null&&Z.type===h&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case l:e:{for(var Ke=Z.key,ve=U;ve!==null;){if(ve.key===Ke){if((Ke=Z.type)===h){if(ve.tag===7){d(N,ve.sibling),(U=y(ve,Z.props.children)).return=N,N=U;break e}}else if(ve.elementType===Ke||typeof Ke=="object"&&Ke!==null&&Ke.$$typeof===x&&dA(Ke)===ve.type){d(N,ve.sibling),(U=y(ve,Z.props)).ref=hc(N,ve,Z),U.return=N,N=U;break e}d(N,ve);break}u(N,ve),ve=ve.sibling}Z.type===h?((U=Vo(Z.props.children,N.mode,xe,Z.key)).return=N,N=U):((xe=pp(Z.type,Z.key,Z.props,null,N.mode,xe)).ref=hc(N,U,Z),xe.return=N,N=xe)}return C(N);case c:e:{for(ve=Z.key;U!==null;){if(U.key===ve){if(U.tag===4&&U.stateNode.containerInfo===Z.containerInfo&&U.stateNode.implementation===Z.implementation){d(N,U.sibling),(U=y(U,Z.children||[])).return=N,N=U;break e}d(N,U);break}u(N,U),U=U.sibling}(U=n_(Z,N.mode,xe)).return=N,N=U}return C(N);case x:return X(N,U,(ve=Z._init)(Z._payload),xe)}if(me(Z))return ye(N,U,Z,xe);if(R(Z))return Me(N,U,Z,xe);Hf(N,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,U!==null&&U.tag===6?(d(N,U.sibling),(U=y(U,Z)).return=N,N=U):(d(N,U),(U=r_(Z,N.mode,xe)).return=N,N=U),C(N)):d(N,U)}}var pl=fA(!0),pA=fA(!1),dc={},mn=Us(dc),fc=Us(dc),ml=Us(dc);function xi(a){if(a===dc)throw Error(s(174));return a}function y0(a,u){nt(ml,u),nt(fc,a),nt(mn,dc),a=ne(u),ft(mn),nt(mn,a)}function gl(){ft(mn),ft(fc),ft(ml)}function mA(a){var u=xi(ml.current),d=xi(mn.current);d!==(u=O(d,a.type,u))&&(nt(fc,a),nt(mn,u))}function v0(a){fc.current===a&&(ft(mn),ft(fc))}var Tt=Us(0);function Gf(a){for(var u=a;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&((d=d.dehydrated)===null||Do(d)||Lo(d)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var _0=[];function b0(){for(var a=0;a<_0.length;a++){var u=_0[a];dt?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}_0.length=0}var Wf=o.ReactCurrentDispatcher,x0=o.ReactCurrentBatchConfig,Ho=0,xt=null,qt=null,Kt=null,$f=!1,pc=!1,mc=0,GF=0;function vr(){throw Error(s(321))}function w0(a,u){if(u===null)return!1;for(var d=0;d<u.length&&d<a.length;d++)if(!Qn(a[d],u[d]))return!1;return!0}function E0(a,u,d,g,y,b){if(Ho=b,xt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Wf.current=a===null||a.memoizedState===null?XF:YF,a=d(g,y),pc){b=0;do{if(pc=!1,mc=0,25<=b)throw Error(s(301));b+=1,Kt=qt=null,u.updateQueue=null,Wf.current=QF,a=d(g,y)}while(pc)}if(Wf.current=Yf,u=qt!==null&&qt.next!==null,Ho=0,Kt=qt=xt=null,$f=!1,u)throw Error(s(300));return a}function T0(){var a=mc!==0;return mc=0,a}function wi(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?xt.memoizedState=Kt=a:Kt=Kt.next=a,Kt}function gn(){if(qt===null){var a=xt.alternate;a=a!==null?a.memoizedState:null}else a=qt.next;var u=Kt===null?xt.memoizedState:Kt.next;if(u!==null)Kt=u,qt=a;else{if(a===null)throw Error(s(310));a={memoizedState:(qt=a).memoizedState,baseState:qt.baseState,baseQueue:qt.baseQueue,queue:qt.queue,next:null},Kt===null?xt.memoizedState=Kt=a:Kt=Kt.next=a}return Kt}function gc(a,u){return typeof u=="function"?u(a):u}function S0(a){var u=gn(),d=u.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var g=qt,y=g.baseQueue,b=d.pending;if(b!==null){if(y!==null){var C=y.next;y.next=b.next,b.next=C}g.baseQueue=y=b,d.pending=null}if(y!==null){b=y.next,g=g.baseState;var P=C=null,D=null,j=b;do{var V=j.lane;if((Ho&V)===V)D!==null&&(D=D.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),g=j.hasEagerState?j.eagerState:a(g,j.action);else{var oe={lane:V,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};D===null?(P=D=oe,C=g):D=D.next=oe,xt.lanes|=V,Go|=V}j=j.next}while(j!==null&&j!==b);D===null?C=g:D.next=P,Qn(g,u.memoizedState)||(Fr=!0),u.memoizedState=g,u.baseState=C,u.baseQueue=D,d.lastRenderedState=g}if((a=d.interleaved)!==null){y=a;do b=y.lane,xt.lanes|=b,Go|=b,y=y.next;while(y!==a)}else y===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function A0(a){var u=gn(),d=u.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var g=d.dispatch,y=d.pending,b=u.memoizedState;if(y!==null){d.pending=null;var C=y=y.next;do b=a(b,C.action),C=C.next;while(C!==y);Qn(b,u.memoizedState)||(Fr=!0),u.memoizedState=b,u.baseQueue===null&&(u.baseState=b),d.lastRenderedState=b}return[b,g]}function gA(){}function yA(a,u){var d=xt,g=gn(),y=u(),b=!Qn(g.memoizedState,y);if(b&&(g.memoizedState=y,Fr=!0),g=g.queue,C0(bA.bind(null,d,g,a),[a]),g.getSnapshot!==u||b||Kt!==null&&1&Kt.memoizedState.tag){if(d.flags|=2048,yc(9,_A.bind(null,d,g,y,u),void 0,null),Zt===null)throw Error(s(349));30&Ho||vA(d,u,y)}return y}function vA(a,u,d){a.flags|=16384,a={getSnapshot:u,value:d},(u=xt.updateQueue)===null?(u={lastEffect:null,stores:null},xt.updateQueue=u,u.stores=[a]):(d=u.stores)===null?u.stores=[a]:d.push(a)}function _A(a,u,d,g){u.value=d,u.getSnapshot=g,xA(u)&&wA(a)}function bA(a,u,d){return d(function(){xA(u)&&wA(a)})}function xA(a){var u=a.getSnapshot;a=a.value;try{var d=u();return!Qn(a,d)}catch{return!0}}function wA(a){var u=bi(a,1);u!==null&&yn(u,a,1,-1)}function EA(a){var u=wi();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:a},u.queue=a,a=a.dispatch=VF.bind(null,xt,a),[u.memoizedState,a]}function yc(a,u,d,g){return a={tag:a,create:u,destroy:d,deps:g,next:null},(u=xt.updateQueue)===null?(u={lastEffect:null,stores:null},xt.updateQueue=u,u.lastEffect=a.next=a):(d=u.lastEffect)===null?u.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,u.lastEffect=a),a}function TA(){return gn().memoizedState}function Vf(a,u,d,g){var y=wi();xt.flags|=a,y.memoizedState=yc(1|u,d,void 0,g===void 0?null:g)}function Xf(a,u,d,g){var y=gn();g=g===void 0?null:g;var b=void 0;if(qt!==null){var C=qt.memoizedState;if(b=C.destroy,g!==null&&w0(g,C.deps))return void(y.memoizedState=yc(u,d,b,g))}xt.flags|=a,y.memoizedState=yc(1|u,d,b,g)}function SA(a,u){return Vf(8390656,8,a,u)}function C0(a,u){return Xf(2048,8,a,u)}function AA(a,u){return Xf(4,2,a,u)}function CA(a,u){return Xf(4,4,a,u)}function PA(a,u){return typeof u=="function"?(a=a(),u(a),function(){u(null)}):u!=null?(a=a(),u.current=a,function(){u.current=null}):void 0}function RA(a,u,d){return d=d!=null?d.concat([a]):null,Xf(4,4,PA.bind(null,u,a),d)}function P0(){}function IA(a,u){var d=gn();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&w0(u,g[1])?g[0]:(d.memoizedState=[a,u],a)}function kA(a,u){var d=gn();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&w0(u,g[1])?g[0]:(a=a(),d.memoizedState=[a,u],a)}function MA(a,u,d){return 21&Ho?(Qn(d,u)||(d=XS(),xt.lanes|=d,Go|=d,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,Fr=!0),a.memoizedState=d)}function WF(a,u){var d=$e;$e=d!==0&&4>d?d:4,a(!0);var g=x0.transition;x0.transition={};try{a(!1),u()}finally{$e=d,x0.transition=g}}function NA(){return gn().memoizedState}function $F(a,u,d){var g=Vs(a);d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},OA(a)?DA(u,d):(d=iA(a,u,d,g))!==null&&(yn(d,a,g,br()),LA(d,u,g))}function VF(a,u,d){var g=Vs(a),y={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(OA(a))DA(u,y);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=u.lastRenderedReducer)!==null)try{var C=u.lastRenderedState,P=b(C,d);if(y.hasEagerState=!0,y.eagerState=P,Qn(P,C)){var D=u.interleaved;return D===null?(y.next=y,f0(u)):(y.next=D.next,D.next=y),void(u.interleaved=y)}}catch{}(d=iA(a,u,y,g))!==null&&(yn(d,a,g,y=br()),LA(d,u,g))}}function OA(a){var u=a.alternate;return a===xt||u!==null&&u===xt}function DA(a,u){pc=$f=!0;var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}function LA(a,u,d){if(4194240&d){var g=u.lanes;d|=g&=a.pendingLanes,u.lanes=d,e0(a,d)}}var Yf={readContext:pn,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},XF={readContext:pn,useCallback:function(a,u){return wi().memoizedState=[a,u===void 0?null:u],a},useContext:pn,useEffect:SA,useImperativeHandle:function(a,u,d){return d=d!=null?d.concat([a]):null,Vf(4194308,4,PA.bind(null,u,a),d)},useLayoutEffect:function(a,u){return Vf(4194308,4,a,u)},useInsertionEffect:function(a,u){return Vf(4,2,a,u)},useMemo:function(a,u){var d=wi();return u=u===void 0?null:u,a=a(),d.memoizedState=[a,u],a},useReducer:function(a,u,d){var g=wi();return u=d!==void 0?d(u):u,g.memoizedState=g.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},g.queue=a,a=a.dispatch=$F.bind(null,xt,a),[g.memoizedState,a]},useRef:function(a){return a={current:a},wi().memoizedState=a},useState:EA,useDebugValue:P0,useDeferredValue:function(a){return wi().memoizedState=a},useTransition:function(){var a=EA(!1),u=a[0];return a=WF.bind(null,a[1]),wi().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,d){var g=xt,y=wi();if(pt){if(d===void 0)throw Error(s(407));d=d()}else{if(d=u(),Zt===null)throw Error(s(349));30&Ho||vA(g,u,d)}y.memoizedState=d;var b={value:d,getSnapshot:u};return y.queue=b,SA(bA.bind(null,g,b,a),[a]),g.flags|=2048,yc(9,_A.bind(null,g,b,d,u),void 0,null),d},useId:function(){var a=wi(),u=Zt.identifierPrefix;if(pt){var d=ts;u=":"+u+"R"+(d=(_i&~(1<<32-Yn(_i)-1)).toString(32)+d),0<(d=mc++)&&(u+="H"+d.toString(32)),u+=":"}else u=":"+u+"r"+(d=GF++).toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},YF={readContext:pn,useCallback:IA,useContext:pn,useEffect:C0,useImperativeHandle:RA,useInsertionEffect:AA,useLayoutEffect:CA,useMemo:kA,useReducer:S0,useRef:TA,useState:function(){return S0(gc)},useDebugValue:P0,useDeferredValue:function(a){return MA(gn(),qt.memoizedState,a)},useTransition:function(){return[S0(gc)[0],gn().memoizedState]},useMutableSource:gA,useSyncExternalStore:yA,useId:NA,unstable_isNewReconciler:!1},QF={readContext:pn,useCallback:IA,useContext:pn,useEffect:C0,useImperativeHandle:RA,useInsertionEffect:AA,useLayoutEffect:CA,useMemo:kA,useReducer:A0,useRef:TA,useState:function(){return A0(gc)},useDebugValue:P0,useDeferredValue:function(a){var u=gn();return qt===null?u.memoizedState=a:MA(u,qt.memoizedState,a)},useTransition:function(){return[A0(gc)[0],gn().memoizedState]},useMutableSource:gA,useSyncExternalStore:yA,useId:NA,unstable_isNewReconciler:!1};function yl(a,u){try{var d="",g=u;do d+=HF(g),g=g.return;while(g);var y=d}catch(b){y=`
Error generating stack: `+b.message+`
`+b.stack}return{value:a,source:u,stack:y,digest:null}}function R0(a,u,d){return{value:a,source:null,stack:d??null,digest:u??null}}function I0(a,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var qF=typeof WeakMap=="function"?WeakMap:Map;function BA(a,u,d){(d=rs(-1,d)).tag=3,d.payload={element:null};var g=u.value;return d.callback=function(){lp||(lp=!0,Q0=g),I0(0,u)},d}function FA(a,u,d){(d=rs(-1,d)).tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var y=u.value;d.payload=function(){return g(y)},d.callback=function(){I0(0,u)}}var b=a.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){I0(0,u),typeof g!="function"&&(Ws===null?Ws=new Set([this]):Ws.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})}),d}function UA(a,u,d){var g=a.pingCache;if(g===null){g=a.pingCache=new qF;var y=new Set;g.set(u,y)}else(y=g.get(u))===void 0&&(y=new Set,g.set(u,y));y.has(d)||(y.add(d),a=s4.bind(null,a,u,d),u.then(a,a))}function zA(a){do{var u;if((u=a.tag===13)&&(u=(u=a.memoizedState)===null||u.dehydrated!==null),u)return a;a=a.return}while(a!==null);return null}function jA(a,u,d,g,y){return 1&a.mode?(a.flags|=65536,a.lanes=y,a):(a===u?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:((u=rs(-1,1)).tag=2,Hs(d,u,1))),d.lanes|=1),a)}var KF=o.ReactCurrentOwner,Fr=!1;function Ur(a,u,d,g){u.child=a===null?pA(u,null,d,g):pl(u,a.child,d,g)}function HA(a,u,d,g,y){d=d.render;var b=u.ref;return fl(u,y),g=E0(a,u,d,g,b,y),d=T0(),a===null||Fr?(pt&&d&&i0(u),u.flags|=1,Ur(a,u,g,y),u.child):(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~y,ns(a,u,y))}function GA(a,u,d,g,y){if(a===null){var b=d.type;return typeof b!="function"||t_(b)||b.defaultProps!==void 0||d.compare!==null||d.defaultProps!==void 0?((a=pp(d.type,null,g,u,u.mode,y)).ref=u.ref,a.return=u,u.child=a):(u.tag=15,u.type=b,WA(a,u,b,g,y))}if(b=a.child,(a.lanes&y)==0){var C=b.memoizedProps;if((d=(d=d.compare)!==null?d:Lf)(C,g)&&a.ref===u.ref)return ns(a,u,y)}return u.flags|=1,(a=Ys(b,g)).ref=u.ref,a.return=u,u.child=a}function WA(a,u,d,g,y){if(a!==null){var b=a.memoizedProps;if(Lf(b,g)&&a.ref===u.ref){if(Fr=!1,u.pendingProps=g=b,(a.lanes&y)==0)return u.lanes=a.lanes,ns(a,u,y);131072&a.flags&&(Fr=!0)}}return k0(a,u,d,g,y)}function $A(a,u,d){var g=u.pendingProps,y=g.children,b=a!==null?a.memoizedState:null;if(g.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt(_l,Jr),Jr|=d;else{if(!(1073741824&d))return a=b!==null?b.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,nt(_l,Jr),Jr|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=b!==null?b.baseLanes:d,nt(_l,Jr),Jr|=g}else b!==null?(g=b.baseLanes|d,u.memoizedState=null):g=d,nt(_l,Jr),Jr|=g;return Ur(a,u,y,d),u.child}function VA(a,u){var d=u.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function k0(a,u,d,g,y){var b=Kr(d)?Fo:yr.current;return b=ll(u,b),fl(u,y),d=E0(a,u,d,g,b,y),g=T0(),a===null||Fr?(pt&&g&&i0(u),u.flags|=1,Ur(a,u,d,y),u.child):(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~y,ns(a,u,y))}function XA(a,u,d,g,y){if(Kr(d)){var b=!0;Rf(u)}else b=!1;if(fl(u,y),u.stateNode===null)Zf(a,u),cA(u,d,g),g0(u,d,g,y),g=!0;else if(a===null){var C=u.stateNode,P=u.memoizedProps;C.props=P;var D=C.context,j=d.contextType;typeof j=="object"&&j!==null?j=pn(j):j=ll(u,j=Kr(d)?Fo:yr.current);var V=d.getDerivedStateFromProps,oe=typeof V=="function"||typeof C.getSnapshotBeforeUpdate=="function";oe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==g||D!==j)&&hA(u,C,g,j),js=!1;var G=u.memoizedState;C.state=G,zf(u,g,C,y),D=u.memoizedState,P!==g||G!==D||Br.current||js?(typeof V=="function"&&(m0(u,d,V,g),D=u.memoizedState),(P=js||uA(u,d,P,g,G,D,j))?(oe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=D),C.props=g,C.state=D,C.context=j,g=P):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{C=u.stateNode,sA(a,u),P=u.memoizedProps,j=u.type===u.elementType?P:Kn(u.type,P),C.props=j,oe=u.pendingProps,G=C.context,typeof(D=d.contextType)=="object"&&D!==null?D=pn(D):D=ll(u,D=Kr(d)?Fo:yr.current);var te=d.getDerivedStateFromProps;(V=typeof te=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==oe||G!==D)&&hA(u,C,g,D),js=!1,G=u.memoizedState,C.state=G,zf(u,g,C,y);var ye=u.memoizedState;P!==oe||G!==ye||Br.current||js?(typeof te=="function"&&(m0(u,d,te,g),ye=u.memoizedState),(j=js||uA(u,d,j,g,G,ye,D)||!1)?(V||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,ye,D),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,ye,D)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||P===a.memoizedProps&&G===a.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&G===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=ye),C.props=g,C.state=ye,C.context=D,g=j):(typeof C.componentDidUpdate!="function"||P===a.memoizedProps&&G===a.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&G===a.memoizedState||(u.flags|=1024),g=!1)}return M0(a,u,d,g,b,y)}function M0(a,u,d,g,y,b){VA(a,u);var C=(128&u.flags)!=0;if(!g&&!C)return y&&VS(u,d,!1),ns(a,u,b);g=u.stateNode,KF.current=u;var P=C&&typeof d.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,a!==null&&C?(u.child=pl(u,a.child,null,b),u.child=pl(u,null,P,b)):Ur(a,u,P,b),u.memoizedState=g.state,y&&VS(u,d,!0),u.child}function YA(a){var u=a.stateNode;u.pendingContext?WS(0,u.pendingContext,u.pendingContext!==u.context):u.context&&WS(0,u.context,!1),y0(a,u.containerInfo)}function QA(a,u,d,g,y){return hl(),l0(y),u.flags|=256,Ur(a,u,d,g),u.child}var vc,_c,Qf,qf,N0={dehydrated:null,treeContext:null,retryLane:0};function O0(a){return{baseLanes:a,cachePool:null,transitions:null}}function qA(a,u,d){var g,y=u.pendingProps,b=Tt.current,C=!1,P=(128&u.flags)!=0;if((g=P)||(g=(a===null||a.memoizedState!==null)&&(2&b)!=0),g?(C=!0,u.flags&=-129):a!==null&&a.memoizedState===null||(b|=1),nt(Tt,1&b),a===null)return a0(u),(a=u.memoizedState)!==null&&(a=a.dehydrated)!==null?(1&u.mode?Lo(a)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(P=y.children,a=y.fallback,C?(y=u.mode,C=u.child,P={mode:"hidden",children:P},!(1&y)&&C!==null?(C.childLanes=0,C.pendingProps=P):C=mp(P,y,0,null),a=Vo(a,y,d,null),C.return=u,a.return=u,C.sibling=a,u.child=C,u.child.memoizedState=O0(d),u.memoizedState=N0,a):D0(u,P));if((b=a.memoizedState)!==null&&(g=b.dehydrated)!==null)return function(j,V,oe,G,te,ye,Me){if(oe)return 256&V.flags?(V.flags&=-257,Kf(j,V,Me,G=R0(Error(s(422))))):V.memoizedState!==null?(V.child=j.child,V.flags|=128,null):(ye=G.fallback,te=V.mode,G=mp({mode:"visible",children:G.children},te,0,null),(ye=Vo(ye,te,Me,null)).flags|=2,G.return=V,ye.return=V,G.sibling=ye,V.child=G,1&V.mode&&pl(V,j.child,null,Me),V.child.memoizedState=O0(Me),V.memoizedState=N0,ye);if(!(1&V.mode))return Kf(j,V,Me,null);if(Lo(te))return G=sc(te).digest,ye=Error(s(419)),G=R0(ye,G,void 0),Kf(j,V,Me,G);if(oe=(Me&j.childLanes)!=0,Fr||oe){if((G=Zt)!==null){switch(Me&-Me){case 4:te=2;break;case 16:te=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:te=32;break;case 536870912:te=268435456;break;default:te=0}(te=te&(G.suspendedLanes|Me)?0:te)!==0&&te!==ye.retryLane&&(ye.retryLane=te,bi(j,te),yn(G,j,te,-1))}return e_(),Kf(j,V,Me,G=R0(Error(s(421))))}return Do(te)?(V.flags|=128,V.child=j.child,V=o4.bind(null,j),oc(te,V),null):(j=ye.treeContext,He&&(fn=Fs(te),Zr=V,pt=!0,qn=null,cc=!1,j!==null&&(hn[dn++]=_i,hn[dn++]=ts,hn[dn++]=Uo,_i=j.id,ts=j.overflow,Uo=V)),V=D0(V,G.children),V.flags|=4096,V)}(a,u,P,y,g,b,d);if(C){C=y.fallback,P=u.mode,g=(b=a.child).sibling;var D={mode:"hidden",children:y.children};return!(1&P)&&u.child!==b?((y=u.child).childLanes=0,y.pendingProps=D,u.deletions=null):(y=Ys(b,D)).subtreeFlags=14680064&b.subtreeFlags,g!==null?C=Ys(g,C):(C=Vo(C,P,d,null)).flags|=2,C.return=u,y.return=u,y.sibling=C,u.child=y,y=C,C=u.child,P=(P=a.child.memoizedState)===null?O0(d):{baseLanes:P.baseLanes|d,cachePool:null,transitions:P.transitions},C.memoizedState=P,C.childLanes=a.childLanes&~d,u.memoizedState=N0,y}return a=(C=a.child).sibling,y=Ys(C,{mode:"visible",children:y.children}),!(1&u.mode)&&(y.lanes=d),y.return=u,y.sibling=null,a!==null&&((d=u.deletions)===null?(u.deletions=[a],u.flags|=16):d.push(a)),u.child=y,u.memoizedState=null,y}function D0(a,u){return(u=mp({mode:"visible",children:u},a.mode,0,null)).return=a,a.child=u}function Kf(a,u,d,g){return g!==null&&l0(g),pl(u,a.child,null,d),(a=D0(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,a}function KA(a,u,d){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),d0(a.return,u,d)}function L0(a,u,d,g,y){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:y}:(b.isBackwards=u,b.rendering=null,b.renderingStartTime=0,b.last=g,b.tail=d,b.tailMode=y)}function ZA(a,u,d){var g=u.pendingProps,y=g.revealOrder,b=g.tail;if(Ur(a,u,g.children,d),(2&(g=Tt.current))!=0)g=1&g|2,u.flags|=128;else{if(a!==null&&128&a.flags)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&KA(a,d,u);else if(a.tag===19)KA(a,d,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(nt(Tt,g),(1&u.mode)==0)u.memoizedState=null;else switch(y){case"forwards":for(d=u.child,y=null;d!==null;)(a=d.alternate)!==null&&Gf(a)===null&&(y=d),d=d.sibling;(d=y)===null?(y=u.child,u.child=null):(y=d.sibling,d.sibling=null),L0(u,!1,y,d,b);break;case"backwards":for(d=null,y=u.child,u.child=null;y!==null;){if((a=y.alternate)!==null&&Gf(a)===null){u.child=y;break}a=y.sibling,y.sibling=d,d=y,y=a}L0(u,!0,d,null,b);break;case"together":L0(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function Zf(a,u){!(1&u.mode)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function ns(a,u,d){if(a!==null&&(u.dependencies=a.dependencies),Go|=u.lanes,(d&u.childLanes)==0)return null;if(a!==null&&u.child!==a.child)throw Error(s(153));if(u.child!==null){for(d=Ys(a=u.child,a.pendingProps),u.child=d,d.return=u;a.sibling!==null;)a=a.sibling,(d=d.sibling=Ys(a,a.pendingProps)).return=u;d.sibling=null}return u.child}function Ei(a){a.flags|=4}function JA(a,u){if(a!==null&&a.child===u.child)return!0;if(16&u.flags)return!1;for(a=u.child;a!==null;){if(12854&a.flags||12854&a.subtreeFlags)return!1;a=a.sibling}return!0}if(ke)vc=function(a,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)se(a,d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},_c=function(){},Qf=function(a,u,d,g,y){if((a=a.memoizedProps)!==g){var b=u.stateNode,C=xi(mn.current);d=fe(b,d,a,g,y,C),(u.updateQueue=d)&&Ei(u)}},qf=function(a,u,d,g){d!==g&&Ei(u)};else if(Je){vc=function(a,u,d,g){for(var y=u.child;y!==null;){if(y.tag===5){var b=y.stateNode;d&&g&&(b=qr(b,y.type,y.memoizedProps,y)),se(a,b)}else if(y.tag===6)b=y.stateNode,d&&g&&(b=Bs(b,y.memoizedProps,y)),se(a,b);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(b=y.child)!==null&&(b.return=y),vc(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===u)break;for(;y.sibling===null;){if(y.return===null||y.return===u)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};var e2=function(a,u,d,g){for(var y=u.child;y!==null;){if(y.tag===5){var b=y.stateNode;d&&g&&(b=qr(b,y.type,y.memoizedProps,y)),gr(a,b)}else if(y.tag===6)b=y.stateNode,d&&g&&(b=Bs(b,y.memoizedProps,y)),gr(a,b);else if(y.tag!==4){if(y.tag===22&&y.memoizedState!==null)(b=y.child)!==null&&(b.return=y),e2(a,y,!0,!0);else if(y.child!==null){y.child.return=y,y=y.child;continue}}if(y===u)break;for(;y.sibling===null;){if(y.return===null||y.return===u)return;y=y.return}y.sibling.return=y.return,y=y.sibling}};_c=function(a,u){var d=u.stateNode;if(!JA(a,u)){a=d.containerInfo;var g=ze(a);e2(g,u,!1,!1),d.pendingChildren=g,Ei(u),Mt(a,g)}},Qf=function(a,u,d,g,y){var b=a.stateNode,C=a.memoizedProps;if((a=JA(a,u))&&C===g)u.stateNode=b;else{var P=u.stateNode,D=xi(mn.current),j=null;C!==g&&(j=fe(P,d,C,g,y,D)),a&&j===null?u.stateNode=b:(b=et(b,j,d,C,g,u,a,P),Re(b,d,g,y,D)&&Ei(u),u.stateNode=b,a?Ei(u):vc(b,u,!1,!1))}},qf=function(a,u,d,g){d!==g?(a=xi(ml.current),d=xi(mn.current),u.stateNode=Ie(g,a,d,u),Ei(u)):u.stateNode=a.stateNode}}else _c=function(){},Qf=function(){},qf=function(){};function bc(a,u){if(!pt)switch(a.tailMode){case"hidden":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Sr(a){var u=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(u)for(var y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=14680064&y.subtreeFlags,g|=14680064&y.flags,y.return=a,y=y.sibling;else for(y=a.child;y!==null;)d|=y.lanes|y.childLanes,g|=y.subtreeFlags,g|=y.flags,y.return=a,y=y.sibling;return a.subtreeFlags|=g,a.childLanes=d,u}function ZF(a,u,d){var g=u.pendingProps;switch(s0(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Sr(u),null;case 1:case 17:return Kr(u.type)&&Qv(),Sr(u),null;case 3:return d=u.stateNode,gl(),ft(Br),ft(yr),b0(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),a!==null&&a.child!==null||(Df(u)?Ei(u):a===null||a.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,qn!==null&&(Z0(qn),qn=null))),_c(a,u),Sr(u),null;case 5:v0(u),d=xi(ml.current);var y=u.type;if(a!==null&&u.stateNode!=null)Qf(a,u,y,g,d),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(s(166));return Sr(u),null}if(a=xi(mn.current),Df(u)){if(!He)throw Error(s(175));a=zt(u.stateNode,u.type,u.memoizedProps,d,a,u,!cc),u.updateQueue=a,a!==null&&Ei(u)}else{var b=J(y,g,d,a,u);vc(b,u,!1,!1),u.stateNode=b,Re(b,y,g,d,a)&&Ei(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Sr(u),null;case 6:if(a&&u.stateNode!=null)qf(a,u,a.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(s(166));if(a=xi(ml.current),d=xi(mn.current),Df(u)){if(!He)throw Error(s(176));if(a=u.stateNode,d=u.memoizedProps,(g=Bo(a,d,u,!cc))&&(y=Zr)!==null)switch(y.tag){case 3:kF(y.stateNode.containerInfo,a,d,(1&y.mode)!=0);break;case 5:MF(y.type,y.memoizedProps,y.stateNode,a,d,(1&y.mode)!=0)}g&&Ei(u)}else u.stateNode=Ie(g,a,d,u)}return Sr(u),null;case 13:if(ft(Tt),g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(pt&&fn!==null&&1&u.mode&&!(128&u.flags))rA(),hl(),u.flags|=98560,y=!1;else if(y=Df(u),g!==null&&g.dehydrated!==null){if(a===null){if(!y)throw Error(s(318));if(!He)throw Error(s(344));if(!(y=(y=u.memoizedState)!==null?y.dehydrated:null))throw Error(s(317));Pf(y,u)}else hl(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;Sr(u),y=!1}else qn!==null&&(Z0(qn),qn=null),y=!0;if(!y)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=d,u):((d=g!==null)!=(a!==null&&a.memoizedState!==null)&&d&&(u.child.flags|=8192,1&u.mode&&(a===null||1&Tt.current?jt===0&&(jt=3):e_())),u.updateQueue!==null&&(u.flags|=4),Sr(u),null);case 4:return gl(),_c(a,u),a===null&&Xt(u.stateNode.containerInfo),Sr(u),null;case 10:return h0(u.type._context),Sr(u),null;case 19:if(ft(Tt),(y=u.memoizedState)===null)return Sr(u),null;if(g=(128&u.flags)!=0,(b=y.rendering)===null)if(g)bc(y,!1);else{if(jt!==0||a!==null&&128&a.flags)for(a=u.child;a!==null;){if((b=Gf(a))!==null){for(u.flags|=128,bc(y,!1),(a=b.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),u.subtreeFlags=0,a=d,d=u.child;d!==null;)y=a,(g=d).flags&=14680066,(b=g.alternate)===null?(g.childLanes=0,g.lanes=y,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,y=b.dependencies,g.dependencies=y===null?null:{lanes:y.lanes,firstContext:y.firstContext}),d=d.sibling;return nt(Tt,1&Tt.current|2),u.child}a=a.sibling}y.tail!==null&&Qt()>Y0&&(u.flags|=128,g=!0,bc(y,!1),u.lanes=4194304)}else{if(!g)if((a=Gf(b))!==null){if(u.flags|=128,g=!0,(a=a.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),bc(y,!0),y.tail===null&&y.tailMode==="hidden"&&!b.alternate&&!pt)return Sr(u),null}else 2*Qt()-y.renderingStartTime>Y0&&d!==1073741824&&(u.flags|=128,g=!0,bc(y,!1),u.lanes=4194304);y.isBackwards?(b.sibling=u.child,u.child=b):((a=y.last)!==null?a.sibling=b:u.child=b,y.last=b)}return y.tail!==null?(u=y.tail,y.rendering=u,y.tail=u.sibling,y.renderingStartTime=Qt(),u.sibling=null,a=Tt.current,nt(Tt,g?1&a|2:1&a),u):(Sr(u),null);case 22:case 23:return J0(),d=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==d&&(u.flags|=8192),d&&1&u.mode?1073741824&Jr&&(Sr(u),ke&&6&u.subtreeFlags&&(u.flags|=8192)):Sr(u),null;case 24:case 25:return null}throw Error(s(156,u.tag))}function JF(a,u){switch(s0(u),u.tag){case 1:return Kr(u.type)&&Qv(),65536&(a=u.flags)?(u.flags=-65537&a|128,u):null;case 3:return gl(),ft(Br),ft(yr),b0(),65536&(a=u.flags)&&!(128&a)?(u.flags=-65537&a|128,u):null;case 5:return v0(u),null;case 13:if(ft(Tt),(a=u.memoizedState)!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(s(340));hl()}return 65536&(a=u.flags)?(u.flags=-65537&a|128,u):null;case 19:return ft(Tt),null;case 4:return gl(),null;case 10:return h0(u.type._context),null;case 22:case 23:return J0(),null;default:return null}}var Jf=!1,_r=!1,e4=typeof WeakSet=="function"?WeakSet:Set,he=null;function vl(a,u){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){mt(a,u,g)}else d.current=null}function t2(a,u,d){try{d()}catch(g){mt(a,u,g)}}var r2=!1;function xc(a,u,d){var g=u.updateQueue;if((g=g!==null?g.lastEffect:null)!==null){var y=g=g.next;do{if((y.tag&a)===a){var b=y.destroy;y.destroy=void 0,b!==void 0&&t2(u,d,b)}y=y.next}while(y!==g)}}function ep(a,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var d=u=u.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==u)}}function B0(a){var u=a.ref;if(u!==null){var d=a.stateNode;a.tag===5?a=ge(d):a=d,typeof u=="function"?u(a):u.current=a}}function n2(a){var u=a.alternate;u!==null&&(a.alternate=null,n2(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode)!==null&&No(u),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function i2(a){return a.tag===5||a.tag===3||a.tag===4}function s2(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||i2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function F0(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?B(d,a,u):Hv(d,a);else if(g!==4&&(a=a.child)!==null)for(F0(a,u,d),a=a.sibling;a!==null;)F0(a,u,d),a=a.sibling}function U0(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?Wv(d,a,u):nc(d,a);else if(g!==4&&(a=a.child)!==null)for(U0(a,u,d),a=a.sibling;a!==null;)U0(a,u,d),a=a.sibling}var Ar=null,Ti=!1;function Si(a,u,d){for(d=d.child;d!==null;)z0(a,u,d),d=d.sibling}function z0(a,u,d){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(kf,d)}catch{}switch(d.tag){case 5:_r||vl(d,u);case 6:if(ke){var g=Ar,y=Ti;Ar=null,Si(a,u,d),Ti=y,(Ar=g)!==null&&(Ti?q(Ar,d.stateNode):F(Ar,d.stateNode))}else Si(a,u,d);break;case 18:ke&&Ar!==null&&(Ti?RF(Ar,d.stateNode):PF(Ar,d.stateNode));break;case 4:ke?(g=Ar,y=Ti,Ar=d.stateNode.containerInfo,Ti=!0,Si(a,u,d),Ar=g,Ti=y):(Je&&(g=d.stateNode.containerInfo,y=ze(g),Yt(g,y)),Si(a,u,d));break;case 0:case 11:case 14:case 15:if(!_r&&(g=d.updateQueue)!==null&&(g=g.lastEffect)!==null){y=g=g.next;do{var b=y,C=b.destroy;b=b.tag,C!==void 0&&(2&b||4&b)&&t2(d,u,C),y=y.next}while(y!==g)}Si(a,u,d);break;case 1:if(!_r&&(vl(d,u),typeof(g=d.stateNode).componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(P){mt(d,u,P)}Si(a,u,d);break;case 21:Si(a,u,d);break;case 22:1&d.mode?(_r=(g=_r)||d.memoizedState!==null,Si(a,u,d),_r=g):Si(a,u,d);break;default:Si(a,u,d)}}function o2(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new e4),u.forEach(function(g){var y=a4.bind(null,a,g);d.has(g)||(d.add(g),g.then(y,y))})}}function Zn(a,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var y=d[g];try{var b=a,C=u;if(ke){var P=C;e:for(;P!==null;){switch(P.tag){case 5:Ar=P.stateNode,Ti=!1;break e;case 3:case 4:Ar=P.stateNode.containerInfo,Ti=!0;break e}P=P.return}if(Ar===null)throw Error(s(160));z0(b,C,y),Ar=null,Ti=!1}else z0(b,C,y);var D=y.alternate;D!==null&&(D.return=null),y.return=null}catch(j){mt(y,u,j)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)a2(u,a),u=u.sibling}function a2(a,u){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Zn(u,a),Ai(a),4&g){try{xc(3,a,a.return),ep(3,a)}catch(G){mt(a,a.return,G)}try{xc(5,a,a.return)}catch(G){mt(a,a.return,G)}}break;case 1:Zn(u,a),Ai(a),512&g&&d!==null&&vl(d,d.return);break;case 5:if(Zn(u,a),Ai(a),512&g&&d!==null&&vl(d,d.return),ke){if(32&a.flags){var y=a.stateNode;try{de(y)}catch(G){mt(a,a.return,G)}}if(4&g&&(y=a.stateNode)!=null){var b=a.memoizedProps;if(d=d!==null?d.memoizedProps:b,g=a.type,u=a.updateQueue,a.updateQueue=null,u!==null)try{Cf(y,u,g,d,b,a)}catch(G){mt(a,a.return,G)}}}break;case 6:if(Zn(u,a),Ai(a),4&g&&ke){if(a.stateNode===null)throw Error(s(162));y=a.stateNode,b=a.memoizedProps,d=d!==null?d.memoizedProps:b;try{Af(y,d,b)}catch(G){mt(a,a.return,G)}}break;case 3:if(Zn(u,a),Ai(a),4&g){if(ke&&He&&d!==null&&d.memoizedState.isDehydrated)try{AF(u.containerInfo)}catch(G){mt(a,a.return,G)}if(Je){y=u.containerInfo,b=u.pendingChildren;try{Yt(y,b)}catch(G){mt(a,a.return,G)}}}break;case 4:if(Zn(u,a),Ai(a),4&g&&Je){y=(b=a.stateNode).containerInfo,b=b.pendingChildren;try{Yt(y,b)}catch(G){mt(a,a.return,G)}}break;case 13:Zn(u,a),Ai(a),8192&(y=a.child).flags&&(b=y.memoizedState!==null,y.stateNode.isHidden=b,!b||y.alternate!==null&&y.alternate.memoizedState!==null||(X0=Qt())),4&g&&o2(a);break;case 22:var C=d!==null&&d.memoizedState!==null;if(1&a.mode?(_r=(d=_r)||C,Zn(u,a),_r=d):Zn(u,a),Ai(a),8192&g){if(d=a.memoizedState!==null,(a.stateNode.isHidden=d)&&!C&&(1&a.mode)!=0)for(he=a,g=a.child;g!==null;){for(u=he=g;he!==null;){var P=(C=he).child;switch(C.tag){case 0:case 11:case 14:case 15:xc(4,C,C.return);break;case 1:vl(C,C.return);var D=C.stateNode;if(typeof D.componentWillUnmount=="function"){var j=C,V=C.return;try{var oe=j;D.props=oe.memoizedProps,D.state=oe.memoizedState,D.componentWillUnmount()}catch(G){mt(j,V,G)}}break;case 5:vl(C,C.return);break;case 22:if(C.memoizedState!==null){c2(u);continue}}P!==null?(P.return=C,he=P):c2(u)}g=g.sibling}if(ke){e:if(g=null,ke)for(u=a;;){if(u.tag===5){if(g===null){g=u;try{y=u.stateNode,d?Ce(y):Ae(u.stateNode,u.memoizedProps)}catch(G){mt(a,a.return,G)}}}else if(u.tag===6){if(g===null)try{b=u.stateNode,d?Se(b):Ee(b,u.memoizedProps)}catch(G){mt(a,a.return,G)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Zn(u,a),Ai(a),4&g&&o2(a);break;case 21:break;default:Zn(u,a),Ai(a)}}function Ai(a){var u=a.flags;if(2&u){try{if(ke){e:{for(var d=a.return;d!==null;){if(i2(d)){var g=d;break e}d=d.return}throw Error(s(160))}switch(g.tag){case 5:var y=g.stateNode;32&g.flags&&(de(y),g.flags&=-33),U0(a,s2(a),y);break;case 3:case 4:var b=g.stateNode.containerInfo;F0(a,s2(a),b);break;default:throw Error(s(161))}}}catch(C){mt(a,a.return,C)}a.flags&=-3}4096&u&&(a.flags&=-4097)}function t4(a,u,d){he=a,l2(a)}function l2(a,u,d){for(var g=(1&a.mode)!=0;he!==null;){var y=he,b=y.child;if(y.tag===22&&g){var C=y.memoizedState!==null||Jf;if(!C){var P=y.alternate,D=P!==null&&P.memoizedState!==null||_r;P=Jf;var j=_r;if(Jf=C,(_r=D)&&!j)for(he=y;he!==null;)D=(C=he).child,C.tag===22&&C.memoizedState!==null?h2(y):D!==null?(D.return=C,he=D):h2(y);for(;b!==null;)he=b,l2(b),b=b.sibling;he=y,Jf=P,_r=j}u2(a)}else 8772&y.subtreeFlags&&b!==null?(b.return=y,he=b):u2(a)}}function u2(a){for(;he!==null;){var u=he;if(8772&u.flags){var d=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:_r||ep(5,u);break;case 1:var g=u.stateNode;if(4&u.flags&&!_r)if(d===null)g.componentDidMount();else{var y=u.elementType===u.type?d.memoizedProps:Kn(u.type,d.memoizedProps);g.componentDidUpdate(y,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var b=u.updateQueue;b!==null&&aA(u,b,g);break;case 3:var C=u.updateQueue;if(C!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=ge(u.child.stateNode);break;case 1:d=u.child.stateNode}aA(u,C,d)}break;case 5:var P=u.stateNode;d===null&&4&u.flags&&Gv(P,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(He&&u.memoizedState===null){var D=u.alternate;if(D!==null){var j=D.memoizedState;if(j!==null){var V=j.dehydrated;V!==null&&CF(V)}}}break;default:throw Error(s(163))}_r||512&u.flags&&B0(u)}catch(oe){mt(u,u.return,oe)}}if(u===a){he=null;break}if((d=u.sibling)!==null){d.return=u.return,he=d;break}he=u.return}}function c2(a){for(;he!==null;){var u=he;if(u===a){he=null;break}var d=u.sibling;if(d!==null){d.return=u.return,he=d;break}he=u.return}}function h2(a){for(;he!==null;){var u=he;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{ep(4,u)}catch(D){mt(u,d,D)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var y=u.return;try{g.componentDidMount()}catch(D){mt(u,y,D)}}var b=u.return;try{B0(u)}catch(D){mt(u,b,D)}break;case 5:var C=u.return;try{B0(u)}catch(D){mt(u,C,D)}}}catch(D){mt(u,u.return,D)}if(u===a){he=null;break}var P=u.sibling;if(P!==null){P.return=u.return,he=P;break}he=u.return}}var tp=0,rp=1,np=2,ip=3,sp=4;if(typeof Symbol=="function"&&Symbol.for){var wc=Symbol.for;tp=wc("selector.component"),rp=wc("selector.has_pseudo_class"),np=wc("selector.role"),ip=wc("selector.test_id"),sp=wc("selector.text")}function j0(a){var u=Or(a);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if((a=xf(a))===null)throw Error(s(362));return a.stateNode.current}function H0(a,u){switch(u.$$typeof){case tp:if(a.type===u.value)return!0;break;case rp:e:{u=u.value,a=[a,0];for(var d=0;d<a.length;){var g=a[d++],y=a[d++],b=u[y];if(g.tag!==5||!Oo(g)){for(;b!=null&&H0(g,b);)b=u[++y];if(y===u.length){u=!0;break e}for(g=g.child;g!==null;)a.push(g,y),g=g.sibling}}u=!1}return u;case np:if(a.tag===5&&Tf(a.stateNode,u.value))return!0;break;case sp:if((a.tag===5||a.tag===6)&&(a=Ef(a))!==null&&0<=a.indexOf(u.value))return!0;break;case ip:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function G0(a){switch(a.$$typeof){case tp:return"<"+(L(a.value)||"Unknown")+">";case rp:return":has("+(G0(a)||"")+")";case np:return'[role="'+a.value+'"]';case sp:return'"'+a.value+'"';case ip:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function d2(a,u){var d=[];a=[a,0];for(var g=0;g<a.length;){var y=a[g++],b=a[g++],C=u[b];if(y.tag!==5||!Oo(y)){for(;C!=null&&H0(y,C);)C=u[++b];if(b===u.length)d.push(y);else for(y=y.child;y!==null;)a.push(y,b),y=y.sibling}}return d}function W0(a,u){if(!Dr)throw Error(s(363));a=d2(a=j0(a),u),u=[],a=Array.from(a);for(var d=0;d<a.length;){var g=a[d++];if(g.tag===5)Oo(g)||u.push(g.stateNode);else for(g=g.child;g!==null;)a.push(g),g=g.sibling}return u}var r4=Math.ceil,op=o.ReactCurrentDispatcher,$0=o.ReactCurrentOwner,Pt=o.ReactCurrentBatchConfig,je=0,Zt=null,Nt=null,or=0,Jr=0,_l=Us(0),jt=0,Ec=null,Go=0,ap=0,V0=0,Tc=null,en=null,X0=0,Y0=1/0,Gs=null;function bl(){Y0=Qt()+500}var f2,lp=!1,Q0=null,Ws=null,up=!1,$s=null,cp=0,Sc=0,q0=null,hp=-1,dp=0;function br(){return 6&je?Qt():hp!==-1?hp:hp=Qt()}function Vs(a){return 1&a.mode?2&je&&or!==0?or&-or:jF.transition!==null?(dp===0&&(dp=XS()),dp):(a=$e)!==0?a:gi():1}function yn(a,u,d,g){if(50<Sc)throw Sc=0,q0=null,Error(s(185));uc(a,d,g),2&je&&a===Zt||(a===Zt&&(!(2&je)&&(ap|=d),jt===4&&Xs(a,or)),zr(a,g),d===1&&je===0&&!(1&u.mode)&&(bl(),Mf&&vi()))}function zr(a,u){var d=a.callbackNode;(function(y,b){for(var C=y.suspendedLanes,P=y.pingedLanes,D=y.expirationTimes,j=y.pendingLanes;0<j;){var V=31-Yn(j),oe=1<<V,G=D[V];G===-1?oe&C&&!(oe&P)||(D[V]=LF(oe,b)):G<=b&&(y.expiredLanes|=oe),j&=~oe}})(a,u);var g=If(a,a===Zt?or:0);if(g===0)d!==null&&QS(d),a.callbackNode=null,a.callbackPriority=0;else if(u=g&-g,a.callbackPriority!==u){if(d!=null&&QS(d),u===1)a.tag===0?function(y){Mf=!0,KS(y)}(m2.bind(null,a)):KS(m2.bind(null,a)),Vn?rc(function(){!(6&je)&&vi()}):t0(r0,vi),d=null;else{switch(YS(g)){case 1:d=r0;break;case 4:d=UF;break;case 16:default:d=qS;break;case 536870912:d=zF}d=E2(d,p2.bind(null,a))}a.callbackPriority=u,a.callbackNode=d}}function p2(a,u){if(hp=-1,dp=0,(6&je)!=0)throw Error(s(327));var d=a.callbackNode;if($o()&&a.callbackNode!==d)return null;var g=If(a,a===Zt?or:0);if(g===0)return null;if(30&g||g&a.expiredLanes||u)u=fp(a,g);else{u=g;var y=je;je|=2;var b=v2();for(Zt===a&&or===u||(Gs=null,bl(),Wo(a,u));;)try{i4();break}catch(P){y2(a,P)}c0(),op.current=b,je=y,Nt!==null?u=0:(Zt=null,or=0,u=jt)}if(u!==0){if(u===2&&(y=Zv(a))!==0&&(g=y,u=K0(a,y)),u===1)throw d=Ec,Wo(a,0),Xs(a,g),zr(a,Qt()),d;if(u===6)Xs(a,g);else{if(y=a.current.alternate,(30&g)==0&&!function(P){for(var D=P;;){if(16384&D.flags){var j=D.updateQueue;if(j!==null&&(j=j.stores)!==null)for(var V=0;V<j.length;V++){var oe=j[V],G=oe.getSnapshot;oe=oe.value;try{if(!Qn(G(),oe))return!1}catch{return!1}}}if(j=D.child,16384&D.subtreeFlags&&j!==null)j.return=D,D=j;else{if(D===P)break;for(;D.sibling===null;){if(D.return===null||D.return===P)return!0;D=D.return}D.sibling.return=D.return,D=D.sibling}}return!0}(y)&&((u=fp(a,g))===2&&(b=Zv(a))!==0&&(g=b,u=K0(a,b)),u===1))throw d=Ec,Wo(a,0),Xs(a,g),zr(a,Qt()),d;switch(a.finishedWork=y,a.finishedLanes=g,u){case 0:case 1:throw Error(s(345));case 2:case 5:xl(a,en,Gs);break;case 3:if(Xs(a,g),(130023424&g)===g&&10<(u=X0+500-Qt())){if(If(a,0)!==0)break;if(((y=a.suspendedLanes)&g)!==g){br(),a.pingedLanes|=a.suspendedLanes&y;break}a.timeoutHandle=We(xl.bind(null,a,en,Gs),u);break}xl(a,en,Gs);break;case 4:if(Xs(a,g),(4194240&g)===g)break;for(u=a.eventTimes,y=-1;0<g;){var C=31-Yn(g);b=1<<C,(C=u[C])>y&&(y=C),g&=~b}if(g=y,10<(g=(120>(g=Qt()-g)?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*r4(g/1960))-g)){a.timeoutHandle=We(xl.bind(null,a,en,Gs),g);break}xl(a,en,Gs);break;default:throw Error(s(329))}}}return zr(a,Qt()),a.callbackNode===d?p2.bind(null,a):null}function K0(a,u){var d=Tc;return a.current.memoizedState.isDehydrated&&(Wo(a,u).flags|=256),(a=fp(a,u))!==2&&(u=en,en=d,u!==null&&Z0(u)),a}function Z0(a){en===null?en=a:en.push.apply(en,a)}function Xs(a,u){for(u&=~V0,u&=~ap,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var d=31-Yn(u),g=1<<d;a[d]=-1,u&=~g}}function m2(a){if(6&je)throw Error(s(327));$o();var u=If(a,0);if(!(1&u))return zr(a,Qt()),null;var d=fp(a,u);if(a.tag!==0&&d===2){var g=Zv(a);g!==0&&(u=g,d=K0(a,g))}if(d===1)throw d=Ec,Wo(a,0),Xs(a,u),zr(a,Qt()),d;if(d===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,xl(a,en,Gs),zr(a,Qt()),null}function g2(a){$s!==null&&$s.tag===0&&!(6&je)&&$o();var u=je;je|=1;var d=Pt.transition,g=$e;try{if(Pt.transition=null,$e=1,a)return a()}finally{$e=g,Pt.transition=d,!(6&(je=u))&&vi()}}function J0(){Jr=_l.current,ft(_l)}function Wo(a,u){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==Ut&&(a.timeoutHandle=Ut,Ze(d)),Nt!==null)for(d=Nt.return;d!==null;){var g=d;switch(s0(g),g.tag){case 1:(g=g.type.childContextTypes)!=null&&Qv();break;case 3:gl(),ft(Br),ft(yr),b0();break;case 5:v0(g);break;case 4:gl();break;case 13:case 19:ft(Tt);break;case 10:h0(g.type._context);break;case 22:case 23:J0()}d=d.return}if(Zt=a,Nt=a=Ys(a.current,null),or=Jr=u,jt=0,Ec=null,V0=ap=Go=0,en=Tc=null,jo!==null){for(u=0;u<jo.length;u++)if((g=(d=jo[u]).interleaved)!==null){d.interleaved=null;var y=g.next,b=d.pending;if(b!==null){var C=b.next;b.next=y,g.next=C}d.pending=g}jo=null}return a}function y2(a,u){for(;;){var d=Nt;try{if(c0(),Wf.current=Yf,$f){for(var g=xt.memoizedState;g!==null;){var y=g.queue;y!==null&&(y.pending=null),g=g.next}$f=!1}if(Ho=0,Kt=qt=xt=null,pc=!1,mc=0,$0.current=null,d===null||d.return===null){jt=1,Ec=u,Nt=null;break}e:{var b=a,C=d.return,P=d,D=u;if(u=or,P.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var j=D,V=P,oe=V.tag;if(!(1&V.mode)&&(oe===0||oe===11||oe===15)){var G=V.alternate;G?(V.updateQueue=G.updateQueue,V.memoizedState=G.memoizedState,V.lanes=G.lanes):(V.updateQueue=null,V.memoizedState=null)}var te=zA(C);if(te!==null){te.flags&=-257,jA(te,C,P,0,u),1&te.mode&&UA(b,j,u),D=j;var ye=(u=te).updateQueue;if(ye===null){var Me=new Set;Me.add(D),u.updateQueue=Me}else ye.add(D);break e}if(!(1&u)){UA(b,j,u),e_();break e}D=Error(s(426))}else if(pt&&1&P.mode){var X=zA(C);if(X!==null){!(65536&X.flags)&&(X.flags|=256),jA(X,C,P,0,u),l0(yl(D,P));break e}}b=D=yl(D,P),jt!==4&&(jt=2),Tc===null?Tc=[b]:Tc.push(b),b=C;do{switch(b.tag){case 3:b.flags|=65536,u&=-u,b.lanes|=u,oA(b,BA(0,D,u));break e;case 1:P=D;var N=b.type,U=b.stateNode;if(!(128&b.flags)&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Ws===null||!Ws.has(U)))){b.flags|=65536,u&=-u,b.lanes|=u,oA(b,FA(b,P,u));break e}}b=b.return}while(b!==null)}b2(d)}catch(Z){u=Z,Nt===d&&d!==null&&(Nt=d=d.return);continue}break}}function v2(){var a=op.current;return op.current=Yf,a===null?Yf:a}function e_(){jt!==0&&jt!==3&&jt!==2||(jt=4),Zt===null||!(268435455&Go)&&!(268435455&ap)||Xs(Zt,or)}function fp(a,u){var d=je;je|=2;var g=v2();for(Zt===a&&or===u||(Gs=null,Wo(a,u));;)try{n4();break}catch(y){y2(a,y)}if(c0(),je=d,op.current=g,Nt!==null)throw Error(s(261));return Zt=null,or=0,jt}function n4(){for(;Nt!==null;)_2(Nt)}function i4(){for(;Nt!==null&&!BF();)_2(Nt)}function _2(a){var u=f2(a.alternate,a,Jr);a.memoizedProps=a.pendingProps,u===null?b2(a):Nt=u,$0.current=null}function b2(a){var u=a;do{var d=u.alternate;if(a=u.return,(32768&u.flags)==0){if((d=ZF(d,u,Jr))!==null)return void(Nt=d)}else{if((d=JF(d,u))!==null)return d.flags&=32767,void(Nt=d);if(a===null)return jt=6,void(Nt=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}if((u=u.sibling)!==null)return void(Nt=u);Nt=u=a}while(u!==null);jt===0&&(jt=5)}function xl(a,u,d){var g=$e,y=Pt.transition;try{Pt.transition=null,$e=1,function(b,C,P,D){do $o();while($s!==null);if(6&je)throw Error(s(327));P=b.finishedWork;var j=b.finishedLanes;if(P===null)return null;if(b.finishedWork=null,b.finishedLanes=0,P===b.current)throw Error(s(177));b.callbackNode=null,b.callbackPriority=0;var V=P.lanes|P.childLanes;if(function(te,ye){var Me=te.pendingLanes&~ye;te.pendingLanes=ye,te.suspendedLanes=0,te.pingedLanes=0,te.expiredLanes&=ye,te.mutableReadLanes&=ye,te.entangledLanes&=ye,ye=te.entanglements;var X=te.eventTimes;for(te=te.expirationTimes;0<Me;){var N=31-Yn(Me),U=1<<N;ye[N]=0,X[N]=-1,te[N]=-1,Me&=~U}}(b,V),b===Zt&&(Nt=Zt=null,or=0),!(2064&P.subtreeFlags)&&!(2064&P.flags)||up||(up=!0,E2(qS,function(){return $o(),null})),V=(15990&P.flags)!=0,(15990&P.subtreeFlags)!=0||V){V=Pt.transition,Pt.transition=null;var oe=$e;$e=1;var G=je;je|=4,$0.current=null,function(te,ye){for(H(te.containerInfo),he=ye;he!==null;)if(ye=(te=he).child,(1028&te.subtreeFlags)!=0&&ye!==null)ye.return=te,he=ye;else for(;he!==null;){te=he;try{var Me=te.alternate;if(1024&te.flags)switch(te.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Me!==null){var X=Me.memoizedProps,N=Me.memoizedState,U=te.stateNode,Z=U.getSnapshotBeforeUpdate(te.elementType===te.type?X:Kn(te.type,X),N);U.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:ke&&_e(te.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(xe){mt(te,te.return,xe)}if((ye=te.sibling)!==null){ye.return=te.return,he=ye;break}he=te.return}Me=r2,r2=!1}(b,P),a2(P,b),k(b.containerInfo),b.current=P,t4(P),FF(),je=G,$e=oe,Pt.transition=V}else b.current=P;if(up&&(up=!1,$s=b,cp=j),V=b.pendingLanes,V===0&&(Ws=null),function(te){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(kf,te,void 0,(128&te.current.flags)==128)}catch{}}(P.stateNode),zr(b,Qt()),C!==null)for(D=b.onRecoverableError,P=0;P<C.length;P++)j=C[P],D(j.value,{componentStack:j.stack,digest:j.digest});if(lp)throw lp=!1,b=Q0,Q0=null,b;1&cp&&b.tag!==0&&$o(),V=b.pendingLanes,1&V?b===q0?Sc++:(Sc=0,q0=b):Sc=0,vi()}(a,u,d,g)}finally{Pt.transition=y,$e=g}return null}function $o(){if($s!==null){var a=YS(cp),u=Pt.transition,d=$e;try{if(Pt.transition=null,$e=16>a?16:a,$s===null)var g=!1;else{if(a=$s,$s=null,cp=0,(6&je)!=0)throw Error(s(331));var y=je;for(je|=4,he=a.current;he!==null;){var b=he,C=b.child;if(16&he.flags){var P=b.deletions;if(P!==null){for(var D=0;D<P.length;D++){var j=P[D];for(he=j;he!==null;){var V=he;switch(V.tag){case 0:case 11:case 15:xc(8,V,b)}var oe=V.child;if(oe!==null)oe.return=V,he=oe;else for(;he!==null;){var G=(V=he).sibling,te=V.return;if(n2(V),V===j){he=null;break}if(G!==null){G.return=te,he=G;break}he=te}}}var ye=b.alternate;if(ye!==null){var Me=ye.child;if(Me!==null){ye.child=null;do{var X=Me.sibling;Me.sibling=null,Me=X}while(Me!==null)}}he=b}}if(2064&b.subtreeFlags&&C!==null)C.return=b,he=C;else e:for(;he!==null;){if(2048&(b=he).flags)switch(b.tag){case 0:case 11:case 15:xc(9,b,b.return)}var N=b.sibling;if(N!==null){N.return=b.return,he=N;break e}he=b.return}}var U=a.current;for(he=U;he!==null;){var Z=(C=he).child;if(2064&C.subtreeFlags&&Z!==null)Z.return=C,he=Z;else e:for(C=U;he!==null;){if(2048&(P=he).flags)try{switch(P.tag){case 0:case 11:case 15:ep(9,P)}}catch(Ke){mt(P,P.return,Ke)}if(P===C){he=null;break e}var xe=P.sibling;if(xe!==null){xe.return=P.return,he=xe;break e}he=P.return}}if(je=y,vi(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(kf,a)}catch{}g=!0}return g}finally{$e=d,Pt.transition=u}}return!1}function x2(a,u,d){a=Hs(a,u=BA(0,u=yl(d,u),1),1),u=br(),a!==null&&(uc(a,1,u),zr(a,u))}function mt(a,u,d){if(a.tag===3)x2(a,a,d);else for(;u!==null;){if(u.tag===3){x2(u,a,d);break}if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Ws===null||!Ws.has(g))){u=Hs(u,a=FA(u,a=yl(d,a),1),1),a=br(),u!==null&&(uc(u,1,a),zr(u,a));break}}u=u.return}}function s4(a,u,d){var g=a.pingCache;g!==null&&g.delete(u),u=br(),a.pingedLanes|=a.suspendedLanes&d,Zt===a&&(or&d)===d&&(jt===4||jt===3&&(130023424&or)===or&&500>Qt()-X0?Wo(a,0):V0|=d),zr(a,u)}function w2(a,u){u===0&&(1&a.mode?(u=Kv,!(130023424&(Kv<<=1))&&(Kv=4194304)):u=1);var d=br();(a=bi(a,u))!==null&&(uc(a,u,d),zr(a,d))}function o4(a){var u=a.memoizedState,d=0;u!==null&&(d=u.retryLane),w2(a,d)}function a4(a,u){var d=0;switch(a.tag){case 13:var g=a.stateNode,y=a.memoizedState;y!==null&&(d=y.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(s(314))}g!==null&&g.delete(u),w2(a,d)}function E2(a,u){return t0(a,u)}function l4(a,u,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vn(a,u,d,g){return new l4(a,u,d,g)}function t_(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Ys(a,u){var d=a.alternate;return d===null?((d=vn(a.tag,u,a.key,a.mode)).elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=u,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=14680064&a.flags,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,u=a.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function pp(a,u,d,g,y,b){var C=2;if(g=a,typeof a=="function")t_(a)&&(C=1);else if(typeof a=="string")C=5;else e:switch(a){case h:return Vo(d.children,y,b,u);case f:C=8,y|=8;break;case p:return(a=vn(12,d,u,2|y)).elementType=p,a.lanes=b,a;case w:return(a=vn(13,d,u,y)).elementType=w,a.lanes=b,a;case A:return(a=vn(19,d,u,y)).elementType=A,a.lanes=b,a;case S:return mp(d,y,b,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case m:C=10;break e;case v:C=9;break e;case _:C=11;break e;case E:C=14;break e;case x:C=16,g=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return(u=vn(C,d,u,y)).elementType=a,u.type=g,u.lanes=b,u}function Vo(a,u,d,g){return(a=vn(7,a,g,u)).lanes=d,a}function mp(a,u,d,g){return(a=vn(22,a,g,u)).elementType=S,a.lanes=d,a.stateNode={isHidden:!1},a}function r_(a,u,d){return(a=vn(6,a,null,u)).lanes=d,a}function n_(a,u,d){return(u=vn(4,a.children!==null?a.children:[],a.key,u)).lanes=d,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function u4(a,u,d,g,y){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ut,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jv(0),this.expirationTimes=Jv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jv(0),this.identifierPrefix=g,this.onRecoverableError=y,He&&(this.mutableSourceEagerHydrationData=null)}function T2(a,u,d,g,y,b,C,P,D){return a=new u4(a,u,d,P,D),u===1?(u=1,b===!0&&(u|=8)):u=0,b=vn(3,null,null,u),a.current=b,b.stateNode=a,b.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},p0(b),a}function S2(a){if(!a)return zs;e:{if(M(a=a._reactInternals)!==a||a.tag!==1)throw Error(s(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Kr(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(a.tag===1){var d=a.type;if(Kr(d))return $S(a,d,u)}return u}function A2(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return(a=K(u))===null?null:a.stateNode}function C2(a,u){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<u?d:u}}function gp(a,u){C2(a,u),(a=a.alternate)&&C2(a,u)}function c4(a){return(a=K(a))===null?null:a.stateNode}function h4(){return null}return f2=function(a,u,d){if(a!==null)if(a.memoizedProps!==u.pendingProps||Br.current)Fr=!0;else{if(!(a.lanes&d)&&!(128&u.flags))return Fr=!1,function(oe,G,te){switch(G.tag){case 3:YA(G),hl();break;case 5:mA(G);break;case 1:Kr(G.type)&&Rf(G);break;case 4:y0(G,G.stateNode.containerInfo);break;case 10:nA(0,G.type._context,G.memoizedProps.value);break;case 13:var ye=G.memoizedState;if(ye!==null)return ye.dehydrated!==null?(nt(Tt,1&Tt.current),G.flags|=128,null):te&G.child.childLanes?qA(oe,G,te):(nt(Tt,1&Tt.current),(oe=ns(oe,G,te))!==null?oe.sibling:null);nt(Tt,1&Tt.current);break;case 19:if(ye=(te&G.childLanes)!=0,(128&oe.flags)!=0){if(ye)return ZA(oe,G,te);G.flags|=128}var Me=G.memoizedState;if(Me!==null&&(Me.rendering=null,Me.tail=null,Me.lastEffect=null),nt(Tt,Tt.current),ye)break;return null;case 22:case 23:return G.lanes=0,$A(oe,G,te)}return ns(oe,G,te)}(a,u,d);Fr=(131072&a.flags)!=0}else Fr=!1,pt&&1048576&u.flags&&ZS(u,Of,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;Zf(a,u),a=u.pendingProps;var y=ll(u,yr.current);fl(u,d),y=E0(null,u,g,a,y,d);var b=T0();return u.flags|=1,typeof y=="object"&&y!==null&&typeof y.render=="function"&&y.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Kr(g)?(b=!0,Rf(u)):b=!1,u.memoizedState=y.state!==null&&y.state!==void 0?y.state:null,p0(u),y.updater=jf,u.stateNode=y,y._reactInternals=u,g0(u,g,a,d),u=M0(null,u,g,!0,b,d)):(u.tag=0,pt&&b&&i0(u),Ur(null,u,y,d),u=u.child),u;case 16:g=u.elementType;e:{switch(Zf(a,u),a=u.pendingProps,g=(y=g._init)(g._payload),u.type=g,y=u.tag=function(oe){if(typeof oe=="function")return t_(oe)?1:0;if(oe!=null){if((oe=oe.$$typeof)===_)return 11;if(oe===E)return 14}return 2}(g),a=Kn(g,a),y){case 0:u=k0(null,u,g,a,d);break e;case 1:u=XA(null,u,g,a,d);break e;case 11:u=HA(null,u,g,a,d);break e;case 14:u=GA(null,u,g,Kn(g.type,a),d);break e}throw Error(s(306,g,""))}return u;case 0:return g=u.type,y=u.pendingProps,k0(a,u,g,y=u.elementType===g?y:Kn(g,y),d);case 1:return g=u.type,y=u.pendingProps,XA(a,u,g,y=u.elementType===g?y:Kn(g,y),d);case 3:e:{if(YA(u),a===null)throw Error(s(387));g=u.pendingProps,y=(b=u.memoizedState).element,sA(a,u),zf(u,g,null,d);var C=u.memoizedState;if(g=C.element,He&&b.isDehydrated){if(b={element:g,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},u.updateQueue.baseState=b,u.memoizedState=b,256&u.flags){u=QA(a,u,g,d,y=yl(Error(s(423)),u));break e}if(g!==y){u=QA(a,u,g,d,y=yl(Error(s(424)),u));break e}for(He&&(fn=Lr(u.stateNode.containerInfo),Zr=u,pt=!0,qn=null,cc=!1),d=pA(u,null,g,d),u.child=d;d;)d.flags=-3&d.flags|4096,d=d.sibling}else{if(hl(),g===y){u=ns(a,u,d);break e}Ur(a,u,g,d)}u=u.child}return u;case 5:return mA(u),a===null&&a0(u),g=u.type,y=u.pendingProps,b=a!==null?a.memoizedProps:null,C=y.children,Be(g,y)?C=null:b!==null&&Be(g,b)&&(u.flags|=32),VA(a,u),Ur(a,u,C,d),u.child;case 6:return a===null&&a0(u),null;case 13:return qA(a,u,d);case 4:return y0(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=pl(u,null,g,d):Ur(a,u,g,d),u.child;case 11:return g=u.type,y=u.pendingProps,HA(a,u,g,y=u.elementType===g?y:Kn(g,y),d);case 7:return Ur(a,u,u.pendingProps,d),u.child;case 8:case 12:return Ur(a,u,u.pendingProps.children,d),u.child;case 10:e:{if(g=u.type._context,y=u.pendingProps,b=u.memoizedProps,nA(0,g,C=y.value),b!==null)if(Qn(b.value,C)){if(b.children===y.children&&!Br.current){u=ns(a,u,d);break e}}else for((b=u.child)!==null&&(b.return=u);b!==null;){var P=b.dependencies;if(P!==null){C=b.child;for(var D=P.firstContext;D!==null;){if(D.context===g){if(b.tag===1){(D=rs(-1,d&-d)).tag=2;var j=b.updateQueue;if(j!==null){var V=(j=j.shared).pending;V===null?D.next=D:(D.next=V.next,V.next=D),j.pending=D}}b.lanes|=d,(D=b.alternate)!==null&&(D.lanes|=d),d0(b.return,d,u),P.lanes|=d;break}D=D.next}}else if(b.tag===10)C=b.type===u.type?null:b.child;else if(b.tag===18){if((C=b.return)===null)throw Error(s(341));C.lanes|=d,(P=C.alternate)!==null&&(P.lanes|=d),d0(C,d,u),C=b.sibling}else C=b.child;if(C!==null)C.return=b;else for(C=b;C!==null;){if(C===u){C=null;break}if((b=C.sibling)!==null){b.return=C.return,C=b;break}C=C.return}b=C}Ur(a,u,y.children,d),u=u.child}return u;case 9:return y=u.type,g=u.pendingProps.children,fl(u,d),g=g(y=pn(y)),u.flags|=1,Ur(a,u,g,d),u.child;case 14:return y=Kn(g=u.type,u.pendingProps),GA(a,u,g,y=Kn(g.type,y),d);case 15:return WA(a,u,u.type,u.pendingProps,d);case 17:return g=u.type,y=u.pendingProps,y=u.elementType===g?y:Kn(g,y),Zf(a,u),u.tag=1,Kr(g)?(a=!0,Rf(u)):a=!1,fl(u,d),cA(u,g,y),g0(u,g,y,d),M0(null,u,g,!0,a,d);case 19:return ZA(a,u,d);case 22:return $A(a,u,d)}throw Error(s(156,u.tag))},e.attemptContinuousHydration=function(a){if(a.tag===13){var u=bi(a,134217728);u!==null&&yn(u,a,134217728,br()),gp(a,134217728)}},e.attemptDiscreteHydration=function(a){if(a.tag===13){var u=bi(a,1);u!==null&&yn(u,a,1,br()),gp(a,1)}},e.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var u=Vs(a),d=bi(a,u);d!==null&&yn(d,a,u,br()),gp(a,u)}},e.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var d=lc(u.pendingLanes);d!==0&&(e0(u,1|d),zr(u,Qt()),!(6&je)&&(bl(),vi()))}break;case 13:g2(function(){var g=bi(a,1);if(g!==null){var y=br();yn(g,a,1,y)}}),gp(a,1)}},e.batchedUpdates=function(a,u){var d=je;je|=1;try{return a(u)}finally{(je=d)===0&&(bl(),Mf&&vi())}},e.createComponentSelector=function(a){return{$$typeof:tp,value:a}},e.createContainer=function(a,u,d,g,y,b,C){return T2(a,u,!1,null,0,g,0,b,C)},e.createHasPseudoClassSelector=function(a){return{$$typeof:rp,value:a}},e.createHydrationContainer=function(a,u,d,g,y,b,C,P,D){return(a=T2(d,g,!0,a,0,b,0,P,D)).context=S2(null),d=a.current,(b=rs(g=br(),y=Vs(d))).callback=u??null,Hs(d,b,y),a.current.lanes=y,uc(a,y,g),zr(a,g),a},e.createPortal=function(a,u,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:g==null?null:""+g,children:a,containerInfo:u,implementation:d}},e.createRoleSelector=function(a){return{$$typeof:np,value:a}},e.createTestNameSelector=function(a){return{$$typeof:ip,value:a}},e.createTextSelector=function(a){return{$$typeof:sp,value:a}},e.deferredUpdates=function(a){var u=$e,d=Pt.transition;try{return Pt.transition=null,$e=16,a()}finally{$e=u,Pt.transition=d}},e.discreteUpdates=function(a,u,d,g,y){var b=$e,C=Pt.transition;try{return Pt.transition=null,$e=1,a(u,d,g,y)}finally{$e=b,Pt.transition=C,je===0&&bl()}},e.findAllNodes=W0,e.findBoundingRects=function(a,u){if(!Dr)throw Error(s(363));u=W0(a,u),a=[];for(var d=0;d<u.length;d++)a.push(wf(u[d]));for(u=a.length-1;0<u;u--)for(var g=(d=a[u]).x,y=g+d.width,b=d.y,C=b+d.height,P=u-1;0<=P;P--)if(u!==P){var D=a[P],j=D.x,V=j+D.width,oe=D.y,G=oe+D.height;if(g>=j&&b>=oe&&y<=V&&C<=G){a.splice(u,1);break}if(!(g!==j||d.width!==D.width||G<b||oe>C)){oe>b&&(D.height+=oe-b,D.y=b),G<C&&(D.height=C-oe),a.splice(u,1);break}if(!(b!==oe||d.height!==D.height||V<g||j>y)){j>g&&(D.width+=j-g,D.x=g),V<y&&(D.width=y-j),a.splice(u,1);break}}return a},e.findHostInstance=A2,e.findHostInstanceWithNoPortals=function(a){return(a=(a=Q(a))!==null?z(a):null)===null?null:a.stateNode},e.findHostInstanceWithWarning=function(a){return A2(a)},e.flushControlled=function(a){var u=je;je|=1;var d=Pt.transition,g=$e;try{Pt.transition=null,$e=1,a()}finally{$e=g,Pt.transition=d,(je=u)===0&&(bl(),vi())}},e.flushPassiveEffects=$o,e.flushSync=g2,e.focusWithin=function(a,u){if(!Dr)throw Error(s(363));for(u=d2(a=j0(a),u),u=Array.from(u),a=0;a<u.length;){var d=u[a++];if(!Oo(d)){if(d.tag===5&&sl(d.stateNode))return!0;for(d=d.child;d!==null;)u.push(d),d=d.sibling}}return!1},e.getCurrentUpdatePriority=function(){return $e},e.getFindAllNodesFailureDescription=function(a,u){if(!Dr)throw Error(s(363));var d=0,g=[];a=[j0(a),0];for(var y=0;y<a.length;){var b=a[y++],C=a[y++],P=u[C];if((b.tag!==5||!Oo(b))&&(H0(b,P)&&(g.push(G0(P)),++C>d&&(d=C)),C<u.length))for(b=b.child;b!==null;)a.push(b,C),b=b.sibling}if(d<u.length){for(a=[];d<u.length;d++)a.push(G0(u[d]));return`findAllNodes was able to match part of the selector:
  `+g.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},e.getPublicRootInstance=function(a){return(a=a.current).child?a.child.tag===5?ge(a.child.stateNode):a.child.stateNode:null},e.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:c4,findFiberByHostInstance:a.findFiberByHostInstance||h4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)a=!0;else{try{kf=u.inject(a),yi=u}catch{}a=!!u.checkDCE}}return a},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(a,u,d,g){if(!Dr)throw Error(s(363));a=W0(a,u);var y=Sf(a,d,g).disconnect;return{disconnect:function(){y()}}},e.registerMutableSourceForHydration=function(a,u){var d=u._getVersion;d=d(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,d]:a.mutableSourceEagerHydrationData.push(u,d)},e.runWithPriority=function(a,u){var d=$e;try{return $e=a,u()}finally{$e=d}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(a,u,d,g){var y=u.current,b=br(),C=Vs(y);return d=S2(d),u.context===null?u.context=d:u.pendingContext=d,(u=rs(b,C)).payload={element:a},(g=g===void 0?null:g)!==null&&(u.callback=g),(a=Hs(y,u,C))!==null&&(yn(a,y,C,b),Uf(a,y,C)),C},e}),aS}({get exports(){return Tv},set exports(t){Tv=t}}).exports=C3();var P3=e3(Tv),cS={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Av={},Jd={get exports(){return Av},set exports(t){Av=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?Jd.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(Jd.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(Jd.exports=function(){return Date.now()-r},r=Date.now()):(Jd.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(JD);var hS,Za={},Io={};({get exports(){return Za},set exports(t){Za=t}}).exports=(hS||(hS=1,Io.ConcurrentRoot=1,Io.ContinuousEventPriority=4,Io.DefaultEventPriority=16,Io.DiscreteEventPriority=1,Io.IdleEventPriority=536870912,Io.LegacyRoot=0),Io);var R3={};function Cv(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function dS(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&Qi(t.children).forEach(function(s){dS(s,t)})}function fS(t,e){var r;dS(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,l=o===void 0||o,c=n.destroyTexture,h=c!==void 0&&c,f=n.destroyBaseTexture,p=f!==void 0&&f;s&&e.destroy({children:l,texture:h,baseTexture:p})}function pS(t,e,r){Et(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var mS=null,jn=P3({getRootHostContext:function(){return R3},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Za.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Za.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Za.ContinuousEventPriority;default:return Za.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=E3[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=iS[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:mi)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return mS=function(o,l,c,h){var f=null;for(var p in c)!h.hasOwnProperty(p)&&c.hasOwnProperty(p)&&c[p]!==null&&(p===wv||(f||(f=[]),f.push(p,null)));for(var m in h){var v=h[m],_=c!==null?c[m]:void 0;!h.hasOwnProperty(m)||v===_||v===null&&_===null||m===wv||(f||(f=[]),f.push(m,v))}return f}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){Et(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Av,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Cv.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Cv.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Cv.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=fS.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=fS.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:pS,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=pS.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,l=t&&t.applyProps;typeof l!="function"&&(l=mi),(l(t,n,i)||mS)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),I3=cS.dependencies["react-dom"].replace(/[^0-9.]/g,""),k3=cS.name;jn.injectIntoDevTools({bundleType:0,version:I3,rendererPackageName:k3,findHostInstanceByFiber:jn.findHostInstance});var Ds=new Map;function gS(t){if(Et(mr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),Ds.has(t)){var e=Ds.get(t).pixiFiberContainer;jn.updateContainer(null,e,void 0,function(){Ds.delete(t)})}}function yS(t){Et(mr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=Ds.get(t);if(Et(!e,"Pixi React: createRoot should only be called once"),!e){var r=jn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return jn.updateContainer(n,r,void 0),jn.getPublicRootInstance(r)},unmount:function(){gS(t),Ds.delete(t)}}},Ds.set(t,e)}return e.reactRoot}function M3(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Ds.has(e)?n=Ds.get(e).reactRoot:n=yS(e),n.render(t)}function N3(t){gS(t)}function Xu(){return Xu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xu.apply(this,arguments)}function O3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function D3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,KT(n.key),n)}}function qi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ef(t,e){return ef=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},ef(t,e)}function L3(t,e){if(e&&(Yr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return qi(t)}function tf(t){return tf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},tf(t)}var rf=_n.createContext(null),vS=rf.Provider,_S=rf.Consumer,B3=function(t){var e=_n.forwardRef(function(r,n){return _n.createElement(_S,null,function(i){return _n.createElement(t,Xu({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function F3(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=tf(t);if(e){var i=tf(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return L3(this,r)}}function bS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bS(Object(r),!0).forEach(function(n){Ct(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var xS=function(){},wS={width:qe.number,height:qe.number,onMount:qe.func,onUnmount:qe.func,raf:qe.bool,renderOnComponentChange:qe.bool,children:qe.node,options:qe.shape({autoStart:qe.bool,width:qe.number,height:qe.number,useContextAlpha:qe.bool,backgroundAlpha:qe.number,autoDensity:qe.bool,antialias:qe.bool,preserveDrawingBuffer:qe.bool,resolution:qe.number,forceCanvas:qe.bool,backgroundColor:qe.number,clearBeforeRender:qe.bool,powerPreference:qe.string,sharedTicker:qe.bool,sharedLoader:qe.bool,resizeTo:function(t,e){var r=t[e];r&&Et(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Yr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&Et(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Yr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},U3={width:800,height:600,onMount:xS,onUnmount:xS,raf:!0,renderOnComponentChange:!0},Pv=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&ef(s,o)})(i,_n.Component);var e,r,n=F3(i);function i(){var s;O3(this,i);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return Ct(qi(s=n.call.apply(n,[this].concat(l))),"_canvas",null),Ct(qi(s),"_mediaQuery",null),Ct(qi(s),"_ticker",null),Ct(qi(s),"_needsUpdate",!0),Ct(qi(s),"app",null),Ct(qi(s),"updateSize",function(){var h=s.props,f=h.width,p=h.height,m=h.options;m!=null&&m.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(f,p)}),Ct(qi(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),Ct(qi(s),"renderStage",function(){var h=s.props,f=h.renderOnComponentChange;!h.raf&&f&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,l=s.width,c=s.height,h=s.options,f=s.raf,p=s.renderOnComponentChange;this.app=new $u(nf(nf({width:l,height:c,view:this._canvas},h),{},{autoDensity:(h==null?void 0:h.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[f?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=jn.createContainer(this.app.stage),jn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),h!=null&&h.autoDensity&&window.matchMedia&&(h==null?void 0:h.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),p&&!f&&(this._ticker=new At,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,l){var c,h=this.props,f=h.width,p=h.height,m=h.raf,v=h.renderOnComponentChange,_=h.options;(_==null?void 0:_.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(_==null?void 0:_.resolution)&&(this.app.renderer.resolution=_.resolution,this.resetInteractionManager()),s.height===p&&s.width===f&&((c=s.options)===null||c===void 0?void 0:c.resolution)===(_==null?void 0:_.resolution)||this.updateSize(),s.raf!==m&&this.app.ticker[m?"start":"stop"](),jn.updateContainer(this.getChildren(),this.mountNode,this),s.width===f&&s.height===p&&s.raf===m&&s.renderOnComponentChange===v&&s.options===_||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return _n.createElement(vS,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),jn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,l=this,c=this.props.options;return c&&c.view?(Et(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):_n.createElement("canvas",Xu({},(s=this.props,o=[].concat(Qi(Object.keys(wS)),Qi(Object.keys(Ev))),Object.keys(s).filter(function(h){return!o.includes(h)}).reduce(function(h,f){return nf(nf({},h),{},Ct({},f,s[f]))},{})),{ref:function(h){return l._canvas=h}}))}}])&&D3(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();Pv.propTypes=wS,Pv.defaultProps=U3;var z3=Pv;function ES(){var t=ie.useContext(rf);return Et(t instanceof $u,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function j3(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=ES();Et(typeof t=="function","`useTick` needs a callback function."),Et(r instanceof $u,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=ie.useRef(null);ie.useEffect(function(){n.current=t},[t]),ie.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function H3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Rv(t,e,r){return Rv=H3()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var l=new(Function.bind.apply(n,o));return s&&ef(l,s.prototype),l},Rv.apply(null,arguments)}var G3=["children","apply"];function TS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TS(Object(r),!0).forEach(function(n){Ct(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var W3=function(t,e){Et(Yr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,l=Os(i,G3),c=ie.useRef(ie.useMemo(function(){return r.map(function(p){var m,v=(l==null||(m=l[p])===null||m===void 0?void 0:m.construct)||[];return Rv(e[p],Qi(v))})},[r])),h=ie.useMemo(function(){return r.reduce(function(p,m,v){return sf(sf({},p),{},Ct({},m,c.current[v]))},{})},[r]),f=ie.useMemo(function(){return Object.keys(l).filter(eS(JT(r))).reduce(function(p,m){return sf(sf({},p),{},Ct({},m,l[m]))},{})},[l,r]);return r.forEach(function(p,m){return Object.assign(c.current[m],l[p])}),o&&function(){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];return m.every(function(_){return typeof _=="function"})}(o)&&o.call(t,h),_n.createElement(t,Xu({},f,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:qe.node,apply:qe.func},n},$3=Nr.BitmapText,V3=Nr.Container,X3=Nr.Graphics,Y3=Nr.NineSlicePlane,Q3=Nr.ParticleContainer,q3=Nr.Sprite,K3=Nr.AnimatedSprite,Z3=Nr.Text,J3=Nr.TilingSprite,eL=Nr.SimpleMesh,tL=Nr.SimpleRope;const rL=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:K3,AppConsumer:_S,AppContext:rf,AppProvider:vS,BitmapText:$3,Container:V3,Graphics:X3,NineSlicePlane:Y3,ParticleContainer:Q3,PixiComponent:T3,PixiFiber:jn,SimpleMesh:eL,SimpleRope:tL,Sprite:q3,Stage:z3,TYPES:Nr,Text:Z3,TilingSprite:J3,applyDefaultProps:mi,createRoot:yS,eventHandlers:Kd,render:M3,unmountComponentAtNode:N3,useApp:ES,useTick:j3,withFilters:W3,withPixiApp:B3},Symbol.toStringTag,{value:"Module"})),nL=s_(rL);ow.exports=nL;var Iv=ow.exports;const SS=new lt;ut.prototype._cacheAsBitmap=!1,ut.prototype._cacheData=null,ut.prototype._cacheAsBitmapResolution=null,ut.prototype._cacheAsBitmapMultisample=null;class iL{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(ut.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new iL),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}),ut.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},ut.prototype._initCachedDisplayObject=function(t){var p,m;if((p=this._cacheData)!=null&&p.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((m=this.filters)!=null&&m.length){const v=this.filters[0].padding;r.pad(v)}r.ceil(ae.RESOLUTION);const n=t.renderTexture.current,i=t.renderTexture.sourceFrame.clone(),s=t.renderTexture.destinationFrame.clone(),o=t.projection.transform,l=To.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:this.cacheAsBitmapMultisample??t.multisample}),c=`cacheAsBitmap_${_o()}`;this._cacheData.textureCacheId=c,Pe.addToCache(l.baseTexture,c),le.addToCache(l,c);const h=this.transform.localTransform.copyTo(SS).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=o,t.renderTexture.bind(n,i,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const f=new di(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=e,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)},ut.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},ut.prototype._initCachedDisplayObjectCanvas=function(t){var h;if((h=this._cacheData)!=null&&h.sprite)return;const e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform;e.ceil(ae.RESOLUTION);const s=To.create({width:e.width,height:e.height}),o=`cacheAsBitmap_${_o()}`;this._cacheData.textureCacheId=o,Pe.addToCache(s.baseTexture,o),le.addToCache(s,o);const l=SS;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:s,clear:!0,transform:l,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new di(s);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(e.x/e.width),c.anchor.y=-(e.y/e.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)},ut.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},ut.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},ut.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Pe.removeFromCache(this._cacheData.textureCacheId),le.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},ut.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},ut.prototype.name=null,mr.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null},ut.prototype.getGlobalPosition=function(t=new Ue,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var sL=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class oL extends nr{constructor(e=1){super(RO,sL,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const aL={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},lL=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function uL(t){const e=aL[t],r=e.length;let n=lL,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let l=0;l<t;l++){let c=s.replace("%index%",l.toString());o=l,l>=r&&(o=t-l-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const cL=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function hL(t,e){const r=Math.ceil(t/2);let n=cL,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let l=s.replace("%index%",o.toString());l=l.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class kv extends nr{constructor(e,r=8,n=4,i=nr.defaultResolution,s=5){const o=hL(s,e),l=uL(s);super(o,l),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let l=r,c=s;this.state.blend=!1,e.applyFilter(this,l,c,si.CLEAR);for(let h=1;h<this.passes-1;h++){e.bindAndClear(l,si.BLIT),this.uniforms.uSampler=c;const f=c;c=l,l=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class dL extends nr{constructor(e=8,r=4,n=nr.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new kv(!0,e,r,n,i),this.blurYFilter=new kv(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const l=e.getFilterTexture();this.blurXFilter.apply(e,r,l,si.CLEAR),this.blurYFilter.apply(e,l,n,i),e.returnFilterTexture(l)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var fL=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Mv extends nr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(gT,fL,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=Xe.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,l=s(o),c=n+(1-n)*o,h=o*(1-n)-l*i,f=o*(1-n)+l*i,p=o*(1-n)+l*i,m=n+o*(1-n),v=o*(1-n)-l*i,_=o*(1-n)-l*i,w=o*(1-n)+l*i,A=n+o*(1-n),E=[c,h,f,0,0,p,m,v,0,0,_,w,A,0,0,0,0,0,1,0];this._loadMatrix(E,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456085,-.8545344976951645,-.09155508482755584,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491134,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593523,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964945,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.03770324983778316,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Xe.shared,[l,c,h]=o.setValue(n).toArray(),[f,p,m]=o.setValue(i).toArray(),v=[.3,.59,.11,0,0,l,c,h,e,0,f,p,m,r,0,l-f,c-p,h-m,0,0];this._loadMatrix(v,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Mv.prototype.grayscale=Mv.prototype.greyscale;var pL=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,mL=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class gL extends nr{constructor(e,r){const n=new lt;e.renderable=!1,super(mL,pL,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Ue(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),l=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&l!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/l,this.uniforms.rotation[3]=s.d/l),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var yL=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,vL=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class _L extends nr{constructor(){super(vL,yL)}}var bL=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class xL extends nr{constructor(e=.5,r=Math.random()){super(gT,bL,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const AS={AlphaFilter:oL,BlurFilter:dL,BlurFilterPass:kv,ColorMatrixFilter:Mv,DisplacementFilter:gL,FXAAFilter:_L,NoiseFilter:xL};Object.entries(AS).forEach(([t,e])=>{Object.defineProperty(AS,t,{get(){return Le("7.1.0",`filters.${t} has moved to ${t}`),e}})});class wL{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(At.system.add(this.tickerUpdate,this,Ns.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(At.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Ls=new wL;class Yu{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Yu.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Ue,this.page=new Ue,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class of extends Yu{constructor(){super(...arguments),this.client=new Ue,this.movement=new Ue,this.offset=new Ue,this.global=new Ue,this.screen=new Ue}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,l,c,h,f,p,m,v,_,w){throw new Error("Method not implemented.")}}class Hn extends of{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Ja extends of{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Ja.DOM_DELTA_PIXEL=0,Ja.DOM_DELTA_LINE=1,Ja.DOM_DELTA_PAGE=2;const EL=2048,TL=new Ue,Nv=new Ue;class SL{constructor(e){this.dispatch=new bu,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Ls.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,TL.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<EL&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let l=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Ls.pauseUpdate=!1),e.interactiveChildren&&e.children){const f=e.children;for(let p=f.length-1;p>=0;p--){const m=f[p],v=this.hitTestMoveRecursive(m,this._isInteractive(r)?r:m.eventMode,n,i,s,o||s(e,n));if(v){if(v.length>0&&!v[v.length-1].parent)continue;const _=e.isInteractive();(v.length>0||_)&&(_&&this._allInteractiveElements.push(e),v.push(e)),this._hitElements.length===0&&(this._hitElements=v),l=!0}}}const c=this._isInteractive(r),h=e.isInteractive();return h&&h&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:l?this._hitElements:c&&!s(e,n)&&i(e,n)?h?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Ls.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let h=c.length-1;h>=0;h--){const f=c[h],p=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s);if(p){if(p.length>0&&!p[p.length-1].parent)continue;const m=e.isInteractive();return(p.length>0||m)&&p.push(e),p}}}const o=this._isInteractive(r),l=e.isInteractive();return o&&i(e,n)?l?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,Nv),!e.hitArea.contains(Nv.x,Nv.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Hn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,h;if(!(e instanceof Hn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((c=i.overTargets)==null?void 0:c.length)>0&&s!==r.target){const f=e.type==="mousemove"?"mouseout":"pointerout",p=this.createPointerEvent(e,f,s);if(this.dispatchEvent(p,"pointerout"),n&&this.dispatchEvent(p,"mouseout"),!r.composedPath().includes(s)){const m=this.createPointerEvent(e,"pointerleave",s);for(m.eventPhase=m.AT_TARGET;m.target&&!r.composedPath().includes(m.target);)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseleave"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(p)}if(s!==r.target){const f=e.type==="mousemove"?"mouseover":"pointerover",p=this.clonePointerEvent(r,f);this.dispatchEvent(p,"pointerover"),n&&this.dispatchEvent(p,"mouseover");let m=s==null?void 0:s.parent;for(;m&&m!==this.rootTarget.parent&&m!==r.target;)m=m.parent;if(!m||m===this.rootTarget.parent){const v=this.clonePointerEvent(r,"pointerenter");for(v.eventPhase=v.AT_TARGET;v.target&&v.target!==s&&v.target!==this.rootTarget.parent;)v.currentTarget=v.target,this.notifyTarget(v),n&&this.notifyTarget(v,"mouseenter"),v.target=v.target.parent;this.freeEvent(v)}this.freeEvent(p)}const o=[],l=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),l&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),l&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),l&&o.push("globalmousemove"),this.cursor=(h=r.target)==null?void 0:h.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof Hn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Hn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Hn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.dispatchEvent(n,l?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let l=s;for(;l&&!n.composedPath().includes(l);){if(n.currentTarget=l,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}l=l.parent}delete i.pressTargetsByButton[e.button],o=l}if(o){const l=this.clonePointerEvent(n,"click");l.target=o,l.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:r});const c=i.clicksByButton[e.button];if(c.target===l.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=l.target,c.timeStamp=r,l.detail=c.clickCount,l.pointerType==="mouse"){const h=l.button===2;this.dispatchEvent(l,h?"rightclick":"click")}else l.pointerType==="touch"&&this.dispatchEvent(l,"tap");this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Hn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Ja)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(Hn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Ja);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Hn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Hn&&r instanceof Hn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof of&&r instanceof of&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const AL=1,CL={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},Ov=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new SL(null),Ls.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Hn(null),this.rootWheelEvent=new Ja(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...Ov.defaultEventFeatures},{set:(e,r,n)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),e[r]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r,Ov._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let r=0,n=e.length;r<n;r++){const i=e[r],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;Ls.pointerMoved();const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t);for(let i=0,s=n.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,n[i]);o.type+=r,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,Ls.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Ls.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Ls.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const i=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*i,t.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,n=t.changedTouches.length;r<n;r++){const i=t.changedTouches[r];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const r=t;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=AL),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=CL[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let Qu=Ov;Qu.extension={name:"events",type:[ue.RendererSystem,ue.CanvasRendererSystem]},Qu.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0},be.add(Qu);function CS(t){return t==="dynamic"||t==="static"}const PL={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??CS(Qu.defaultEventMode)},set interactive(t){Le("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Qu.defaultEventMode},set eventMode(t){this._internalInteractive=CS(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Yu))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};ut.mixin(PL);const RL={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};ut.mixin(RL);const IL=9,af=100,kL=0,ML=0,PS=2,RS=1,NL=-1e3,OL=-1e3,DL=2;class IS{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Hi.tablet||Hi.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${af}px`,r.style.height=`${af}px`,r.style.position="absolute",r.style.top=`${kL}px`,r.style.left=`${ML}px`,r.style.zIndex=PS.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${RS}px`,e.style.height=`${RS}px`,e.style.position="absolute",e.style.top=`${NL}px`,e.style.left=`${OL}px`,e.style.zIndex=DL.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(Hi.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:l,resolution:c}=this.renderer,h=i/o*c,f=s/l*c;let p=this.div;p.style.left=`${r}px`,p.style.top=`${n}px`,p.style.width=`${o}px`,p.style.height=`${l}px`;for(let m=0;m<this.children.length;m++){const v=this.children[m];if(v.renderId!==this.renderId)v._accessibleActive=!1,za(this.children,m,1),this.div.removeChild(v._accessibleDiv),this.pool.push(v._accessibleDiv),v._accessibleDiv=null,m--;else{p=v._accessibleDiv;let _=v.hitArea;const w=v.worldTransform;v.hitArea?(p.style.left=`${(w.tx+_.x*w.a)*h}px`,p.style.top=`${(w.ty+_.y*w.d)*f}px`,p.style.width=`${_.width*w.a*h}px`,p.style.height=`${_.height*w.d*f}px`):(_=v.getBounds(),this.capHitArea(_),p.style.left=`${_.x*h}px`,p.style.top=`${_.y*f}px`,p.style.width=`${_.width*h}px`,p.style.height=`${_.height*f}px`,p.title!==v.accessibleTitle&&v.accessibleTitle!==null&&(p.title=v.accessibleTitle),p.getAttribute("aria-label")!==v.accessibleHint&&v.accessibleHint!==null&&p.setAttribute("aria-label",v.accessibleHint)),(v.accessibleTitle!==p.title||v.tabIndex!==p.tabIndex)&&(p.title=v.accessibleTitle,p.tabIndex=v.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${af}px`,r.style.height=`${af}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=PS.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Yu(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===IL&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}IS.extension={name:"accessibility",type:[ue.RendererPlugin,ue.CanvasRendererPlugin]},be.add(IS);var Qr=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Qr||{});const lf={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let Ki,el;function kS(){el={s3tc:Ki.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Ki.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Ki.getExtension("WEBGL_compressed_texture_etc"),etc1:Ki.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Ki.getExtension("WEBGL_compressed_texture_pvrtc")||Ki.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Ki.getExtension("WEBGL_compressed_texture_atc"),astc:Ki.getExtension("WEBGL_compressed_texture_astc")}}const LL={extension:{type:ue.DetectionParser,priority:2},test:async()=>{const t=ae.ADAPTER.createCanvas().getContext("webgl");return t?(Ki=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{el||kS();const e=[];for(const r in el)el[r]&&e.push(r);return[...e,...t]},remove:async t=>(el||kS(),t.filter(e=>!(e in el)))};be.add(LL);class BL extends Mu{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new Iy(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Iy(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class ko extends BL{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=ko._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||ko._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let s=0,o=this.levels;s<o;s++){const{levelID:l,levelWidth:c,levelHeight:h,levelBuffer:f}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,c,h,0,f)}return!0}onBlobLoaded(){this._levelBuffers=ko._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,l){const c=new Array(n);let h=e.byteOffset,f=o,p=l,m=f+i-1&~(i-1),v=p+s-1&~(s-1),_=m*v*lf[r];for(let w=0;w<n;w++)c[w]={levelID:w,levelWidth:n>1?f:m,levelHeight:n>1?p:v,levelBuffer:new Uint8Array(e.buffer,h,_)},h+=_,f=f>>1||1,p=p>>1||1,m=f+i-1&~(i-1),v=p+s-1&~(s-1),_=m*v*lf[r];return c}}const Dv=4,uf=124,FL=32,MS=20,UL=542327876,cf={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},zL={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},hf={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},jL=1,HL=2,GL=4,WL=64,$L=512,VL=131072,XL=827611204,YL=861165636,QL=894720068,qL=808540228,KL=4,ZL={[XL]:Qr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[YL]:Qr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[QL]:Qr.COMPRESSED_RGBA_S3TC_DXT5_EXT},JL={70:Qr.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Qr.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Qr.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Qr.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Qr.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Qr.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Qr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Qr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Qr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function eB(t){const e=new Uint32Array(t);if(e[0]!==UL)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,uf/Uint32Array.BYTES_PER_ELEMENT),n=r[cf.HEIGHT],i=r[cf.WIDTH],s=r[cf.MIPMAP_COUNT],o=new Uint32Array(t,cf.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,FL/Uint32Array.BYTES_PER_ELEMENT),l=o[jL];if(l&GL){const c=o[zL.FOURCC];if(c!==qL){const x=ZL[c],S=Dv+uf,T=new Uint8Array(t,S);return[new ko(T,{format:x,width:i,height:n,levels:s})]}const h=Dv+uf,f=new Uint32Array(e.buffer,h,MS/Uint32Array.BYTES_PER_ELEMENT),p=f[hf.DXGI_FORMAT],m=f[hf.RESOURCE_DIMENSION],v=f[hf.MISC_FLAG],_=f[hf.ARRAY_SIZE],w=JL[p];if(w===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${p}`);if(v===KL)throw new Error("DDSParser does not support cubemap textures");if(m===6)throw new Error("DDSParser does not supported 3D texture data");const A=new Array,E=Dv+uf+MS;if(_===1)A.push(new Uint8Array(t,E));else{const x=lf[w];let S=0,T=i,R=n;for(let I=0;I<s;I++){const M=Math.max(1,T+3&-4),Y=Math.max(1,R+3&-4),Q=M*Y*x;S+=Q,T=T>>>1,R=R>>>1}let L=E;for(let I=0;I<_;I++)A.push(new Uint8Array(t,L,S)),L+=S}return A.map(x=>new ko(x,{format:w,width:i,height:n,levels:s}))}throw l&WL?new Error("DDSParser does not support uncompressed texture data."):l&$L?new Error("DDSParser does not supported YUV uncompressed texture data."):l&VL?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&HL?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const NS=[171,75,84,88,32,49,49,187,13,10,26,10],tB=67305985,Gn={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Lv=64,OS={[we.UNSIGNED_BYTE]:1,[we.UNSIGNED_SHORT]:2,[we.INT]:4,[we.UNSIGNED_INT]:4,[we.FLOAT]:4,[we.HALF_FLOAT]:8},rB={[re.RGBA]:4,[re.RGB]:3,[re.RG]:2,[re.RED]:1,[re.LUMINANCE]:1,[re.LUMINANCE_ALPHA]:2,[re.ALPHA]:1},nB={[we.UNSIGNED_SHORT_4_4_4_4]:2,[we.UNSIGNED_SHORT_5_5_5_1]:2,[we.UNSIGNED_SHORT_5_6_5]:2};function iB(t,e,r=!1){const n=new DataView(e);if(!sB(t,n))return null;const i=n.getUint32(Gn.ENDIANNESS,!0)===tB,s=n.getUint32(Gn.GL_TYPE,i),o=n.getUint32(Gn.GL_FORMAT,i),l=n.getUint32(Gn.GL_INTERNAL_FORMAT,i),c=n.getUint32(Gn.PIXEL_WIDTH,i),h=n.getUint32(Gn.PIXEL_HEIGHT,i)||1,f=n.getUint32(Gn.PIXEL_DEPTH,i)||1,p=n.getUint32(Gn.NUMBER_OF_ARRAY_ELEMENTS,i)||1,m=n.getUint32(Gn.NUMBER_OF_FACES,i),v=n.getUint32(Gn.NUMBER_OF_MIPMAP_LEVELS,i),_=n.getUint32(Gn.BYTES_OF_KEY_VALUE_DATA,i);if(h===0||f!==1)throw new Error("Only 2D textures are supported");if(m!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");const w=4,A=4,E=c+3&-4,x=h+3&-4,S=new Array(p);let T=c*h;s===0&&(T=E*x);let R;if(s!==0?OS[s]?R=OS[s]*rB[o]:R=nB[s]:R=lf[l],R===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const L=r?aB(n,_,i):null;let I=T*R,M=c,Y=h,Q=E,K=x,$=Lv+_;for(let z=0;z<v;z++){const W=n.getUint32($,i);let me=$+4;for(let ge=0;ge<p;ge++){let ne=S[ge];ne||(ne=S[ge]=new Array(v)),ne[z]={levelID:z,levelWidth:v>1||s!==0?M:Q,levelHeight:v>1||s!==0?Y:K,levelBuffer:new Uint8Array(e,me,I)},me+=I}$+=W+4,$=$%4!==0?$+4-$%4:$,M=M>>1||1,Y=Y>>1||1,Q=M+w-1&~(w-1),K=Y+A-1&~(A-1),I=Q*K*R}return s!==0?{uncompressed:S.map(z=>{let W=z[0].levelBuffer,me=!1;return s===we.FLOAT?W=new Float32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4):s===we.UNSIGNED_INT?(me=!0,W=new Uint32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4)):s===we.INT&&(me=!0,W=new Int32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4)),{resource:new Mu(W,{width:z[0].levelWidth,height:z[0].levelHeight}),type:s,format:me?oB(o):o}}),kvData:L}:{compressed:S.map(z=>new ko(null,{format:l,width:c,height:h,levels:v,levelBuffers:z})),kvData:L}}function sB(t,e){for(let r=0;r<NS.length;r++)if(e.getUint8(r)!==NS[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function oB(t){switch(t){case re.RGBA:return re.RGBA_INTEGER;case re.RGB:return re.RGB_INTEGER;case re.RG:return re.RG_INTEGER;case re.RED:return re.RED_INTEGER;default:return t}}function aB(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(Lv+i,r),o=Lv+i+4,l=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<s&&t.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const h=new TextDecoder().decode(new Uint8Array(t.buffer,o,c)),f=new DataView(t.buffer,o+c+1,s-c-1);n.set(h,f),i+=4+s+l}return n}const lB={extension:{type:ue.LoadParser,priority:fi.High},name:"loadDDS",test(t){return Ao(t,".dds")},async load(t,e,r){const n=await(await ae.ADAPTER.fetch(t)).arrayBuffer(),i=eB(n).map(s=>{const o=new Pe(s,{mipmap:ii.OFF,alphaMode:In.NO_PREMULTIPLIED_ALPHA,resolution:Is(t),...e.data});return jd(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};be.add(lB);const uB={extension:{type:ue.LoadParser,priority:fi.High},name:"loadKTX",test(t){return Ao(t,".ktx")},async load(t,e,r){const n=await(await ae.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=iB(t,n),l=i??s,c={mipmap:ii.OFF,alphaMode:In.NO_PREMULTIPLIED_ALPHA,resolution:Is(t),...e.data},h=l.map(f=>{l===s&&Object.assign(c,{type:f.type,format:f.format});const p=new Pe(f,c);return p.ktxKeyValueData=o,jd(p,r,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};be.add(uB);const cB={extension:ue.ResolveParser,test:t=>{const e=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(e)},parse:t=>{var e,r;if(t.split("?")[0].split(".").pop()==="ktx"){const n=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(n.some(i=>t.endsWith(i)))return{resolution:parseFloat(((e=ae.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:n.find(i=>t.endsWith(i)),src:t}}return{resolution:parseFloat(((r=ae.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:t.split(".").pop(),src:t}}};be.add(cB);const hB=new Ne,dB=4,qu=class{constructor(t){this.renderer=t}async image(t,e,r){const n=new Image;return n.src=await this.base64(t,e,r),n}async base64(t,e,r){const n=this.canvas(t);if(n.toBlob!==void 0)return new Promise((i,s)=>{n.toBlob(o=>{if(!o){s(new Error("ICanvas.toBlob failed!"));return}const l=new FileReader;l.onload=()=>i(l.result),l.onerror=s,l.readAsDataURL(o)},e,r)});if(n.toDataURL!==void 0)return n.toDataURL(e,r);if(n.convertToBlob!==void 0){const i=await n.convertToBlob({type:e,quality:r});return new Promise((s,o)=>{const l=new FileReader;l.onload=()=>s(l.result),l.onerror=o,l.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);s&&qu._flipY(r,n,i),qu._unpremultiplyAlpha(r);const o=new gN(n,i,1),l=new ImageData(new Uint8ClampedArray(r.buffer),n,i);return o.context.putImageData(l,0,0),o.canvas}pixels(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);return s&&qu._flipY(r,n,i),qu._unpremultiplyAlpha(r),r}_rawPixels(t,e){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let n,i=!1,s,o=!1;if(t&&(t instanceof To?s=t:(s=r.generateTexture(t,{resolution:r.resolution,multisample:r.multisample}),o=!0)),s){if(n=s.baseTexture.resolution,e=e??s.frame,i=!1,!o){r.renderTexture.bind(s);const p=s.framebuffer.glFramebuffers[r.CONTEXT_UID];p.blitFramebuffer&&r.framebuffer.bind(p.blitFramebuffer)}}else n=r.resolution,e||(e=hB,e.width=r.width/n,e.height=r.height/n),i=!0,r.renderTexture.bind();const l=Math.round(e.width*n),c=Math.round(e.height*n),h=new Uint8Array(dB*l*c),f=r.gl;return f.readPixels(Math.round(e.x*n),Math.round(e.y*n),l,c,f.RGBA,f.UNSIGNED_BYTE,h),o&&(s==null||s.destroy(!0)),{pixels:h,width:l,height:c,flipY:i}}destroy(){this.renderer=null}static _flipY(t,e,r){const n=e<<2,i=r>>1,s=new Uint8Array(n);for(let o=0;o<i;o++){const l=o*n,c=(r-o-1)*n;s.set(t.subarray(l,l+n)),t.copyWithin(l,c,c+n),t.set(s,c)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const n=t[r+3];if(n!==0){const i=255.001/n;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}};let DS=qu;DS.extension={name:"extract",type:ue.RendererSystem},be.add(DS);class fB{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function pB(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof le){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function mB(t,e){if(t.baseTexture instanceof Pe){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function gB(t,e){if(t._texture&&t._texture instanceof le){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function yB(t,e){return e instanceof Dd?(e.updateText(!0),!0):!1}function vB(t,e){if(e instanceof Xi){const r=e.toFontString();return ir.measureFont(r),!0}return!1}function _B(t,e){if(t instanceof Dd){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function bB(t,e){return t instanceof Xi?(e.includes(t)||e.push(t),!0):!1}const LS=class{constructor(t){this.limiter=new fB(LS.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(_B),this.registerFindHook(bB),this.registerFindHook(pB),this.registerFindHook(mB),this.registerFindHook(gB),this.registerUploadHook(yB),this.registerUploadHook(vB)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,At.system.addOnce(this.tick,this,Ns.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)At.system.addOnce(this.tick,this,Ns.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof mr)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&At.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let df=LS;df.uploadsPerFrame=4,Object.defineProperties(ae,{UPLOADS_PER_FRAME:{get(){return df.uploadsPerFrame},set(t){Le("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),df.uploadsPerFrame=t}}});function BS(t,e){return e instanceof Pe?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function xB(t,e){if(!(e instanceof Ro))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&BS(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function wB(t,e){return t instanceof Ro?(e.push(t),!0):!1}class FS extends df{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(wB),this.registerUploadHook(BS),this.registerUploadHook(xB)}}FS.extension={name:"prepare",type:ue.RendererSystem},be.add(FS);const Ku=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof le?t:null,this.baseTexture=t instanceof Pe?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=Is(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Ku.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=Ku.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const n=this._frameKeys[e],i=this._frames[n],s=i.frame;if(s){let o=null,l=null;const c=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,h=new Ne(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);i.rotated?o=new Ne(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Ne(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(l=new Ne(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new le(this.baseTexture,o,h,l,i.rotated?2:0,i.anchor,i.borders),le.addToCache(this.textures[n],n)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const n=t[e][r];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Ku.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Ku.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let Bv=Ku;Bv.BATCH_SIZE=1e3;const EB=["jpg","png","jpeg","avif","webp"];function US(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=pr.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const l=US([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,l)})}return n}const TB={extension:ue.Asset,cache:{test:t=>t instanceof Bv,getCacheableAssets:(t,e)=>US(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&EB.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=ae.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:ue.LoadParser,priority:fi.Normal},async testParse(t,e){return pr.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,h;let n=pr.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=uv(i,e.src);const s=(await r.load([i]))[i],o=new Bv(s.baseTexture,t,e.src);await o.parse();const l=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const f=[];for(const m of l){if(typeof m!="string")continue;let v=n+m;(h=e.data)!=null&&h.ignoreMultiPack||(v=uv(v,e.src),f.push(r.load({src:v,data:{ignoreMultiPack:!0}})))}const p=await Promise.all(f);o.linkedSheets=p,p.forEach(m=>{m.linkedSheets=[o].concat(o.linkedSheets.filter(v=>v!==m))})}return o},unload(t){t.destroy(!0)}}};be.add(TB);const tl=class extends Xi{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new tl(Object.keys(tl.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete tl.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:r}=tl;if(r[t]){const n=r[t];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return ae.ADAPTER.fetch(t).then(n=>n.blob()).then(async n=>new Promise((i,s)=>{const o=URL.createObjectURL(n),l=new FileReader;l.onload=()=>i([o,l.result]),l.onerror=s,l.readAsDataURL(n)})).then(async([n,i])=>{const s=Object.assign({family:pr.basename(t,pr.extname(t)),weight:"normal",style:"normal",src:n,dataSrc:i,refs:1,originalUrl:t,fontFace:null},e);r[t]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(r=>!this._overrides.includes(r));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(r=>this._overrides.includes(r));e.length>0&&(this._overrides=this._overrides.filter(r=>!e.includes(r)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=dN(t)),typeof t=="number"?hN(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const i=`${r}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${i} ${t}`}reset(){Object.assign(this,tl.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=ae.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let Zu=tl;Zu.availableFonts={},Zu.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const rl=class extends di{constructor(t="",e={}){super(le.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const r=new Image,n=le.from(r,{scaleMode:ae.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new Ne,n.trim=new Ne,this.texture=n;const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject"),c=document.createElementNS(s,"div"),h=document.createElementNS(s,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",o.appendChild(l),this.maxWidth=rl.defaultMaxWidth,this.maxHeight=rl.defaultMaxHeight,this._domElement=c,this._styleElement=h,this._svgRoot=o,this._foreignObject=l,this._foreignObject.appendChild(h),this._foreignObject.appendChild(c),this._image=r,this._loadImage=new Image,this._autoResolution=rl.defaultAutoResolution,this._resolution=rl.defaultResolution??ae.RESOLUTION,this.text=t,this.style=e}measureText(t){var l,c;const{text:e,style:r,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:r.toCSS(n)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(i.width)),o=Math.min(this.maxHeight,Math.ceil(i.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(l=this._style)==null?void 0:l.toCSS(n)}),this._styleElement.textContent=(c=this._style)==null?void 0:c.toGlobalCSS()),{width:s+r.padding*2,height:o+r.padding*2}}async updateText(t=!0){const{style:e,_image:r,_loadImage:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:i,height:s}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,s)),this._loading||(this._loading=!0,await new Promise(o=>{n.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,r.src=n.src,n.onload=null,n.src="",this.updateTexture(),o()};const l=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(l)}`}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:n}=this,{padding:i}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=r.width/n,e.trim.height=e._frame.height=r.height/n,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,n),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var r,n,i,s,o;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},rl.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=e,(n=this._svgRoot)==null||n.remove(),this._svgRoot=e,(i=this._domElement)==null||i.remove(),this._domElement=e,(s=this._foreignObject)==null||s.remove(),this._foreignObject=e,(o=this._styleElement)==null||o.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=Ps(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=Ps(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof Zu?(this.ownsStyle=!1,this._style=t):t instanceof Xi?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Zu.from(t)):(this.ownsStyle=!0,this._style=new Zu(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let ff=rl;ff.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},ff.defaultMaxWidth=2024,ff.defaultMaxHeight=2024,ff.defaultAutoResolution=!0;const SB="/assets/physics_engine_bg-33d151b3.wasm",AB=async(t={},e)=>{let r;if(e.startsWith("data:")){const n=e.replace(/^data:.*?base64,/,"");let i;if(typeof Buffer=="function"&&typeof Buffer.from=="function")i=Buffer.from(n,"base64");else if(typeof atob=="function"){const s=atob(n);i=new Uint8Array(s.length);for(let o=0;o<s.length;o++)i[o]=s.charCodeAt(o)}else throw new Error("Cannot decode base64-encoded data URL");r=await WebAssembly.instantiate(i,t)}else{const n=await fetch(e),i=n.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&i.startsWith("application/wasm"))r=await WebAssembly.instantiateStreaming(n,t);else{const s=await n.arrayBuffer();r=await WebAssembly.instantiate(s,t)}}return r.instance.exports};let ct;function CB(t){ct=t}const Zi=new Array(128).fill(void 0);Zi.push(void 0,null,!0,!1);function ht(t){return Zi[t]}let Ju=Zi.length;function PB(t){t<132||(Zi[t]=Ju,Ju=t)}function nl(t){const e=ht(t);return PB(t),e}let ec=0,pf=null;function mf(){return(pf===null||pf.byteLength===0)&&(pf=new Uint8Array(ct.memory.buffer)),pf}const RB=typeof TextEncoder>"u"?(0,i_.require)("util").TextEncoder:TextEncoder;let gf=new RB("utf-8");const IB=typeof gf.encodeInto=="function"?function(t,e){return gf.encodeInto(t,e)}:function(t,e){const r=gf.encode(t);return e.set(r),{read:t.length,written:r.length}};function Fv(t,e,r){if(r===void 0){const l=gf.encode(t),c=e(l.length,1)>>>0;return mf().subarray(c,c+l.length).set(l),ec=l.length,c}let n=t.length,i=e(n,1)>>>0;const s=mf();let o=0;for(;o<n;o++){const l=t.charCodeAt(o);if(l>127)break;s[i+o]=l}if(o!==n){o!==0&&(t=t.slice(o)),i=r(i,n,n=o+t.length*3,1)>>>0;const l=mf().subarray(i+o,i+n),c=IB(t,l);o+=c.written}return ec=o,i}function Uv(t){return t==null}let yf=null;function tc(){return(yf===null||yf.byteLength===0)&&(yf=new Int32Array(ct.memory.buffer)),yf}let vf=null;function kB(){return(vf===null||vf.byteLength===0)&&(vf=new Float64Array(ct.memory.buffer)),vf}const MB=typeof TextDecoder>"u"?(0,i_.require)("util").TextDecoder:TextDecoder;let zS=new MB("utf-8",{ignoreBOM:!0,fatal:!0});zS.decode();function zv(t,e){return t=t>>>0,zS.decode(mf().subarray(t,t+e))}function Wn(t){Ju===Zi.length&&Zi.push(Zi.length+1);const e=Ju;return Ju=Zi[e],Zi[e]=t,e}function jv(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const i=t.description;return i==null?"Symbol":`Symbol(${i})`}if(e=="function"){const i=t.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(t)){const i=t.length;let s="[";i>0&&(s+=jv(t[0]));for(let o=1;o<i;o++)s+=", "+jv(t[o]);return s+="]",s}const r=/\[object ([^\]]+)\]/.exec(toString.call(t));let n;if(r.length>1)n=r[1];else return toString.call(t);if(n=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:n}function _f(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);return t.ptr}class il{static __wrap(e){e=e>>>0;const r=Object.create(il.prototype);return r.__wbg_ptr=e,r}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();ct.__wbg_planet_free(e)}constructor(e,r,n,i,s){_f(e,$n);var o=e.__destroy_into_raw();_f(r,$n);var l=r.__destroy_into_raw();const c=Fv(s,ct.__wbindgen_malloc,ct.__wbindgen_realloc),h=ec,f=ct.planet_new(o,l,n,i,c,h);return il.__wrap(f)}force_from(e){const r=this.__destroy_into_raw();_f(e,il);const n=ct.planet_force_from(r,e.__wbg_ptr);return $n.__wrap(n)}move_planet(e,r){_f(e,$n);var n=e.__destroy_into_raw();ct.planet_move_planet(this.__wbg_ptr,n,r)}get_data(){const e=ct.planet_get_data(this.__wbg_ptr);return nl(e)}}class bf{static __wrap(e){e=e>>>0;const r=Object.create(bf.prototype);return r.__wbg_ptr=e,r}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();ct.__wbg_universe_free(e)}constructor(){const e=ct.universe_new();return bf.__wrap(e)}time_step(e){ct.universe_time_step(this.__wbg_ptr,e)}add_planet(e){ct.universe_add_planet(this.__wbg_ptr,Wn(e))}get_planets(){const e=ct.universe_get_planets(this.__wbg_ptr);return nl(e)}}class $n{static __wrap(e){e=e>>>0;const r=Object.create($n.prototype);return r.__wbg_ptr=e,r}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();ct.__wbg_vec2_free(e)}constructor(e,r){const n=ct.vec2_new(e,r);return $n.__wrap(n)}divide(e){ct.vec2_divide(this.__wbg_ptr,e)}}function NB(t){nl(t)}function OB(t,e){const r=ht(e),n=typeof r=="string"?r:void 0;var i=Uv(n)?0:Fv(n,ct.__wbindgen_malloc,ct.__wbindgen_realloc),s=ec;tc()[t/4+1]=s,tc()[t/4+0]=i}function DB(t){const e=ht(t);return typeof e=="object"&&e!==null}function LB(t){return ht(t)===void 0}function BB(t,e){return ht(t)in ht(e)}function FB(t,e){const r=ht(e),n=typeof r=="number"?r:void 0;kB()[t/8+1]=Uv(n)?0:n,tc()[t/4+0]=!Uv(n)}function UB(t,e){const r=new Error(zv(t,e));return Wn(r)}function zB(t){return Wn(t)}function jB(t){const e=ht(t);return Wn(e)}function HB(t,e){const r=zv(t,e);return Wn(r)}function GB(t,e){return ht(t)==ht(e)}function WB(t){const e=ht(t);return typeof e=="boolean"?e?1:0:2}function $B(t,e){const r=ht(t)[ht(e)];return Wn(r)}function VB(t,e,r){ht(t)[nl(e)]=nl(r)}function XB(){const t=new Array;return Wn(t)}function YB(){const t=new Object;return Wn(t)}function QB(t,e,r){ht(t)[e>>>0]=nl(r)}function qB(t){let e;try{e=ht(t)instanceof ArrayBuffer}catch{e=!1}return e}function KB(t){return Number.isSafeInteger(ht(t))}function ZB(t){const e=ht(t).buffer;return Wn(e)}function JB(t){const e=new Uint8Array(ht(t));return Wn(e)}function eF(t,e,r){ht(t).set(ht(e),r>>>0)}function tF(t){return ht(t).length}function rF(t){let e;try{e=ht(t)instanceof Uint8Array}catch{e=!1}return e}function nF(t,e){const r=jv(ht(e)),n=Fv(r,ct.__wbindgen_malloc,ct.__wbindgen_realloc),i=ec;tc()[t/4+1]=i,tc()[t/4+0]=n}function iF(t,e){throw new Error(zv(t,e))}function sF(){const t=ct.memory;return Wn(t)}URL=globalThis.URL;const sr=await AB({"./physics_engine_bg.js":{__wbindgen_object_drop_ref:NB,__wbindgen_string_get:OB,__wbindgen_is_object:DB,__wbindgen_is_undefined:LB,__wbindgen_in:BB,__wbindgen_number_get:FB,__wbindgen_error_new:UB,__wbindgen_number_new:zB,__wbindgen_object_clone_ref:jB,__wbindgen_string_new:HB,__wbindgen_jsval_loose_eq:GB,__wbindgen_boolean_get:WB,__wbg_getwithrefkey_15c62c2b8546208d:$B,__wbg_set_20cbc34131e76824:VB,__wbg_new_898a68150f225f2e:XB,__wbg_new_b51585de1b234aff:YB,__wbg_set_502d29070ea18557:QB,__wbg_instanceof_ArrayBuffer_39ac22089b74fddb:qB,__wbg_isSafeInteger_bb8e18dd21c97288:KB,__wbg_buffer_085ec1f694018c4f:ZB,__wbg_new_8125e318e6245eed:JB,__wbg_set_5cf90238115182c3:eF,__wbg_length_72e2208bbc0efc61:tF,__wbg_instanceof_Uint8Array_d8d9cb2b8e8ac1d4:rF,__wbindgen_debug_string:nF,__wbindgen_throw:iF,__wbindgen_memory:sF}},SB),oF=sr.memory,aF=sr.__wbg_vec2_free,lF=sr.vec2_new,uF=sr.vec2_divide,cF=sr.__wbg_planet_free,hF=sr.planet_new,dF=sr.planet_force_from,fF=sr.planet_move_planet,pF=sr.planet_get_data,mF=sr.__wbg_universe_free,gF=sr.universe_new,yF=sr.universe_time_step,vF=sr.universe_add_planet,_F=sr.universe_get_planets,bF=sr.add,xF=sr.__wbindgen_malloc,wF=sr.__wbindgen_realloc,EF=Object.freeze(Object.defineProperty({__proto__:null,__wbg_planet_free:cF,__wbg_universe_free:mF,__wbg_vec2_free:aF,__wbindgen_malloc:xF,__wbindgen_realloc:wF,add:bF,memory:oF,planet_force_from:dF,planet_get_data:pF,planet_move_planet:fF,planet_new:hF,universe_add_planet:vF,universe_get_planets:_F,universe_new:gF,universe_time_step:yF,vec2_divide:uF,vec2_new:lF},Symbol.toStringTag,{value:"Module"}));CB(EF);function jS({planet:t}){const e=ie.useCallback(r=>{r.clear(),r.lineStyle(1),r.beginFill(t.color,1),r.drawCircle(t.pos.x,t.pos.y,t.radius),r.endFill()},[t]);return bn.jsx(Iv.Graphics,{draw:e})}jS.propTypes={planet:qe.object};let Mo=null,HS=["#264653","2A9D8F","#F4A261","E76F51","#277da1","#43aa8b","#E9C46A","#f8961e","f94144"];function GS(t){const[e,r]=ie.useState(0);if(Iv.useTick(s=>{r(e+1),Mo.time_step(s)}),Mo==null&&(Mo==null&&(Mo=new bf),t.random)){Mo.add_planet(new il(new $n(t.size[0]/2,t.size[1]/2),new $n(0,0),15,1e7,new Xe("black").toHex()).get_data());for(let s=0;s<t.randomCount;s++)Mo.add_planet(new il(new $n(Math.random()*t.size[0],Math.random()*t.size[1]),new $n(Math.random()-.5,Math.random()-.5),15,12,new Xe(HS[Math.floor(HS.length*Math.random())]).toHex()).get_data())}let n=[],i=0;for(let s of Mo.get_planets())n.push(bn.jsx(jS,{planet:s},i)),i++;return n}GS.propTypes={random:qe.bool,size:qe.array,randomCount:qe.number};function TF(){return bn.jsxs("div",{children:[bn.jsx(Iv.Stage,{width:window.innerWidth*.95,height:window.innerHeight*.9,options:{backgroundColor:0},className:"canvas",children:bn.jsx(GS,{id:"solar-system",random:!0,randomCount:25,size:[window.innerWidth*.95,window.innerHeight*.9]})}),bn.jsxs("div",{className:"home-container",children:[bn.jsx("h1",{className:"top-text",children:"Gravity Simulation"}),bn.jsx(vI,{to:"/play",className:"button",children:"Play"})]})]})}const SF=fI([{path:"/",element:bn.jsx(TF,{})}]);Ep.createRoot(document.getElementById("root")).render(bn.jsx(_n.StrictMode,{children:bn.jsx(sI,{router:SF})}))})()});export default p4();
