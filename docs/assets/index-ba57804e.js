var _7=(jm,Es)=>()=>(Es||jm((Es={exports:{}}).exports,Es),Es.exports);var x7=_7((E7,b_)=>{(async()=>{function jm(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=e(n);fetch(n.href,i)}})();var Es=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ac(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function __(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var x_={exports:{}},Cc={},w_={exports:{}},He={},lu=Symbol.for("react.element"),EI=Symbol.for("react.portal"),TI=Symbol.for("react.fragment"),SI=Symbol.for("react.strict_mode"),AI=Symbol.for("react.profiler"),CI=Symbol.for("react.provider"),PI=Symbol.for("react.context"),RI=Symbol.for("react.forward_ref"),kI=Symbol.for("react.suspense"),II=Symbol.for("react.memo"),MI=Symbol.for("react.lazy"),E_=Symbol.iterator;function DI(t){return t===null||typeof t!="object"?null:(t=E_&&t[E_]||t["@@iterator"],typeof t=="function"?t:null)}var T_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},S_=Object.assign,A_={};function Aa(t,e,r){this.props=t,this.context=e,this.refs=A_,this.updater=r||T_}Aa.prototype.isReactComponent={},Aa.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},Aa.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function C_(){}C_.prototype=Aa.prototype;function Hm(t,e,r){this.props=t,this.context=e,this.refs=A_,this.updater=r||T_}var Gm=Hm.prototype=new C_;Gm.constructor=Hm,S_(Gm,Aa.prototype),Gm.isPureReactComponent=!0;var P_=Array.isArray,R_=Object.prototype.hasOwnProperty,Vm={current:null},k_={key:!0,ref:!0,__self:!0,__source:!0};function I_(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)R_.call(e,n)&&!k_.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var u=Array(a),c=0;c<a;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:lu,type:t,key:s,ref:o,props:i,_owner:Vm.current}}function OI(t,e){return{$$typeof:lu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Wm(t){return typeof t=="object"&&t!==null&&t.$$typeof===lu}function NI(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var M_=/\/+/g;function Xm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NI(""+t.key):e.toString(36)}function Pc(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case lu:case EI:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Xm(o,0):n,P_(i)?(r="",t!=null&&(r=t.replace(M_,"$&/")+"/"),Pc(i,e,r,"",function(c){return c})):i!=null&&(Wm(i)&&(i=OI(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(M_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",P_(t))for(var a=0;a<t.length;a++){s=t[a];var u=n+Xm(s,a);o+=Pc(s,e,r,u,i)}else if(u=DI(t),typeof u=="function")for(t=u.call(t),a=0;!(s=t.next()).done;)s=s.value,u=n+Xm(s,a++),o+=Pc(s,e,r,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Rc(t,e,r){if(t==null)return t;var n=[],i=0;return Pc(t,n,"","",function(s){return e.call(r,s,i++)}),n}function LI(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kr={current:null},kc={transition:null},BI={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:kc,ReactCurrentOwner:Vm};He.Children={map:Rc,forEach:function(t,e,r){Rc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Rc(t,function(){e++}),e},toArray:function(t){return Rc(t,function(e){return e})||[]},only:function(t){if(!Wm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},He.Component=Aa,He.Fragment=TI,He.Profiler=AI,He.PureComponent=Hm,He.StrictMode=SI,He.Suspense=kI,He.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BI,He.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=S_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Vm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(u in e)R_.call(e,u)&&!k_.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&a!==void 0?a[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){a=Array(u);for(var c=0;c<u;c++)a[c]=arguments[c+2];n.children=a}return{$$typeof:lu,type:t.type,key:i,ref:s,props:n,_owner:o}},He.createContext=function(t){return t={$$typeof:PI,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:CI,_context:t},t.Consumer=t},He.createElement=I_,He.createFactory=function(t){var e=I_.bind(null,t);return e.type=t,e},He.createRef=function(){return{current:null}},He.forwardRef=function(t){return{$$typeof:RI,render:t}},He.isValidElement=Wm,He.lazy=function(t){return{$$typeof:MI,_payload:{_status:-1,_result:t},_init:LI}},He.memo=function(t,e){return{$$typeof:II,type:t,compare:e===void 0?null:e}},He.startTransition=function(t){var e=kc.transition;kc.transition={};try{t()}finally{kc.transition=e}},He.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},He.useCallback=function(t,e){return kr.current.useCallback(t,e)},He.useContext=function(t){return kr.current.useContext(t)},He.useDebugValue=function(){},He.useDeferredValue=function(t){return kr.current.useDeferredValue(t)},He.useEffect=function(t,e){return kr.current.useEffect(t,e)},He.useId=function(){return kr.current.useId()},He.useImperativeHandle=function(t,e,r){return kr.current.useImperativeHandle(t,e,r)},He.useInsertionEffect=function(t,e){return kr.current.useInsertionEffect(t,e)},He.useLayoutEffect=function(t,e){return kr.current.useLayoutEffect(t,e)},He.useMemo=function(t,e){return kr.current.useMemo(t,e)},He.useReducer=function(t,e,r){return kr.current.useReducer(t,e,r)},He.useRef=function(t){return kr.current.useRef(t)},He.useState=function(t){return kr.current.useState(t)},He.useSyncExternalStore=function(t,e,r){return kr.current.useSyncExternalStore(t,e,r)},He.useTransition=function(){return kr.current.useTransition()},He.version="18.2.0",w_.exports=He;var H=w_.exports;const Kr=Ac(H),FI=jm({__proto__:null,default:Kr},[H]);var UI=H,zI=Symbol.for("react.element"),jI=Symbol.for("react.fragment"),HI=Object.prototype.hasOwnProperty,GI=UI.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VI={key:!0,ref:!0,__self:!0,__source:!0};function D_(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)HI.call(e,n)&&!VI.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:zI,type:t,key:s,ref:o,props:i,_owner:GI.current}}Cc.Fragment=jI,Cc.jsx=D_,Cc.jsxs=D_,x_.exports=Cc;var ye=x_.exports,$m={},O_={exports:{}},Zr={},N_={exports:{}},L_={};(function(t){function e(N,W){var M=N.length;N.push(W);e:for(;0<M;){var Y=M-1>>>1,oe=N[Y];if(0<i(oe,W))N[Y]=W,N[M]=oe,M=Y;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var W=N[0],M=N.pop();if(M!==W){N[0]=M;e:for(var Y=0,oe=N.length,Me=oe>>>1;Y<Me;){var fe=2*(Y+1)-1,Ue=N[fe],ke=fe+1,Ve=N[ke];if(0>i(Ue,M))ke<oe&&0>i(Ve,Ue)?(N[Y]=Ve,N[ke]=M,Y=ke):(N[Y]=Ue,N[fe]=M,Y=fe);else if(ke<oe&&0>i(Ve,M))N[Y]=Ve,N[ke]=M,Y=ke;else break e}}return W}function i(N,W){var M=N.sortIndex-W.sortIndex;return M!==0?M:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,p=null,m=3,g=!1,b=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(N){for(var W=r(c);W!==null;){if(W.callback===null)n(c);else if(W.startTime<=N)n(c),W.sortIndex=W.expirationTime,e(u,W);else break;W=r(c)}}function S(N){if(x=!1,w(N),!b)if(r(u)!==null)b=!0,de(P);else{var W=r(c);W!==null&&ne(S,W.startTime-N)}}function P(N,W){b=!1,x&&(x=!1,T(R),R=-1),g=!0;var M=m;try{for(w(W),p=r(u);p!==null&&(!(p.expirationTime>W)||N&&!K());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,m=p.priorityLevel;var oe=Y(p.expirationTime<=W);W=t.unstable_now(),typeof oe=="function"?p.callback=oe:p===r(u)&&n(u),w(W)}else n(u);p=r(u)}if(p!==null)var Me=!0;else{var fe=r(c);fe!==null&&ne(S,fe.startTime-W),Me=!1}return Me}finally{p=null,m=M,g=!1}}var D=!1,k=null,R=-1,F=5,X=-1;function K(){return!(t.unstable_now()-X<F)}function $(){if(k!==null){var N=t.unstable_now();X=N;var W=!0;try{W=k(!0,N)}finally{W?U():(D=!1,k=null)}}else D=!1}var U;if(typeof _=="function")U=function(){_($)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ae=j.port2;j.port1.onmessage=$,U=function(){ae.postMessage(null)}}else U=function(){A($,0)};function de(N){k=N,D||(D=!0,U())}function ne(N,W){R=A(function(){N(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,de(P))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(N){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var M=m;m=W;try{return N()}finally{m=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var M=m;m=N;try{return W()}finally{m=M}},t.unstable_scheduleCallback=function(N,W,M){var Y=t.unstable_now();switch(typeof M=="object"&&M!==null?(M=M.delay,M=typeof M=="number"&&0<M?Y+M:Y):M=Y,N){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=M+oe,N={id:d++,callback:W,priorityLevel:N,startTime:M,expirationTime:oe,sortIndex:-1},M>Y?(N.sortIndex=M,e(c,N),r(u)===null&&N===r(c)&&(x?(T(R),R=-1):x=!0,ne(S,M-Y))):(N.sortIndex=oe,e(u,N),b||g||(b=!0,de(P))),N},t.unstable_shouldYield=K,t.unstable_wrapCallback=function(N){var W=m;return function(){var M=m;m=W;try{return N.apply(this,arguments)}finally{m=M}}}})(L_),N_.exports=L_;var WI=N_.exports,B_=H,Jr=WI;function re(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var F_=new Set,uu={};function To(t,e){Ca(t,e),Ca(t+"Capture",e)}function Ca(t,e){for(uu[t]=e,t=0;t<e.length;t++)F_.add(e[t])}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ym=Object.prototype.hasOwnProperty,XI=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,U_={},z_={};function $I(t){return Ym.call(z_,t)?!0:Ym.call(U_,t)?!1:XI.test(t)?z_[t]=!0:(U_[t]=!0,!1)}function YI(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function qI(t,e,r,n){if(e===null||typeof e>"u"||YI(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ir(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ur[t]=new Ir(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ur[e]=new Ir(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){ur[t]=new Ir(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ur[t]=new Ir(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ur[t]=new Ir(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){ur[t]=new Ir(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){ur[t]=new Ir(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){ur[t]=new Ir(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){ur[t]=new Ir(t,5,!1,t.toLowerCase(),null,!1,!1)});var qm=/[\-:]([a-z])/g;function Qm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qm,Qm);ur[e]=new Ir(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qm,Qm);ur[e]=new Ir(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qm,Qm);ur[e]=new Ir(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){ur[t]=new Ir(t,1,!1,t.toLowerCase(),null,!1,!1)}),ur.xlinkHref=new Ir("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){ur[t]=new Ir(t,1,!1,t.toLowerCase(),null,!0,!0)});function Km(t,e,r,n){var i=ur.hasOwnProperty(e)?ur[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(qI(e,r,i,n)&&(r=null),n||i===null?$I(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Vi=B_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ic=Symbol.for("react.element"),Pa=Symbol.for("react.portal"),Ra=Symbol.for("react.fragment"),Zm=Symbol.for("react.strict_mode"),Jm=Symbol.for("react.profiler"),j_=Symbol.for("react.provider"),H_=Symbol.for("react.context"),eg=Symbol.for("react.forward_ref"),tg=Symbol.for("react.suspense"),rg=Symbol.for("react.suspense_list"),ng=Symbol.for("react.memo"),Ts=Symbol.for("react.lazy"),G_=Symbol.for("react.offscreen"),V_=Symbol.iterator;function hu(t){return t===null||typeof t!="object"?null:(t=V_&&t[V_]||t["@@iterator"],typeof t=="function"?t:null)}var bt=Object.assign,ig;function cu(t){if(ig===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);ig=e&&e[1]||""}return`
`+ig+t}var sg=!1;function og(t,e){if(!t||sg)return"";sg=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var u=`
`+i[o].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=o&&0<=a);break}}}finally{sg=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?cu(t):""}function QI(t){switch(t.tag){case 5:return cu(t.type);case 16:return cu("Lazy");case 13:return cu("Suspense");case 19:return cu("SuspenseList");case 0:case 2:case 15:return t=og(t.type,!1),t;case 11:return t=og(t.type.render,!1),t;case 1:return t=og(t.type,!0),t;default:return""}}function ag(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ra:return"Fragment";case Pa:return"Portal";case Jm:return"Profiler";case Zm:return"StrictMode";case tg:return"Suspense";case rg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case H_:return(t.displayName||"Context")+".Consumer";case j_:return(t._context.displayName||"Context")+".Provider";case eg:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ng:return e=t.displayName||null,e!==null?e:ag(t.type)||"Memo";case Ts:e=t._payload,t=t._init;try{return ag(t(e))}catch{}}return null}function KI(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ag(e);case 8:return e===Zm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ss(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function W_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function ZI(t){var e=W_(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Mc(t){t._valueTracker||(t._valueTracker=ZI(t))}function X_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=W_(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Dc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function lg(t,e){var r=e.checked;return bt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function $_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Ss(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Y_(t,e){e=e.checked,e!=null&&Km(t,"checked",e,!1)}function ug(t,e){Y_(t,e);var r=Ss(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?hg(t,e.type,r):e.hasOwnProperty("defaultValue")&&hg(t,e.type,Ss(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function q_(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function hg(t,e,r){(e!=="number"||Dc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var du=Array.isArray;function ka(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Ss(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(re(91));return bt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Q_(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(re(92));if(du(r)){if(1<r.length)throw Error(re(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Ss(r)}}function K_(t,e){var r=Ss(e.value),n=Ss(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Z_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function J_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?J_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Oc,ex=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Oc=Oc||document.createElement("div"),Oc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Oc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function fu(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var pu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},JI=["Webkit","ms","Moz","O"];Object.keys(pu).forEach(function(t){JI.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),pu[e]=pu[t]})});function tx(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||pu.hasOwnProperty(t)&&pu[t]?(""+e).trim():e+"px"}function rx(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=tx(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var eM=bt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fg(t,e){if(e){if(eM[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(re(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(re(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(re(61))}if(e.style!=null&&typeof e.style!="object")throw Error(re(62))}}function pg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var mg=null;function gg(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var yg=null,Ia=null,Ma=null;function nx(t){if(t=Lu(t)){if(typeof yg!="function")throw Error(re(280));var e=t.stateNode;e&&(e=nd(e),yg(t.stateNode,t.type,e))}}function ix(t){Ia?Ma?Ma.push(t):Ma=[t]:Ia=t}function sx(){if(Ia){var t=Ia,e=Ma;if(Ma=Ia=null,nx(t),e)for(t=0;t<e.length;t++)nx(e[t])}}function ox(t,e){return t(e)}function ax(){}var vg=!1;function lx(t,e,r){if(vg)return t(e,r);vg=!0;try{return ox(t,e,r)}finally{vg=!1,(Ia!==null||Ma!==null)&&(ax(),sx())}}function mu(t,e){var r=t.stateNode;if(r===null)return null;var n=nd(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(re(231,e,typeof r));return r}var bg=!1;if(Gi)try{var gu={};Object.defineProperty(gu,"passive",{get:function(){bg=!0}}),window.addEventListener("test",gu,gu),window.removeEventListener("test",gu,gu)}catch{bg=!1}function tM(t,e,r,n,i,s,o,a,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var yu=!1,Nc=null,Lc=!1,_g=null,rM={onError:function(t){yu=!0,Nc=t}};function nM(t,e,r,n,i,s,o,a,u){yu=!1,Nc=null,tM.apply(rM,arguments)}function iM(t,e,r,n,i,s,o,a,u){if(nM.apply(this,arguments),yu){if(yu){var c=Nc;yu=!1,Nc=null}else throw Error(re(198));Lc||(Lc=!0,_g=c)}}function So(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function ux(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function hx(t){if(So(t)!==t)throw Error(re(188))}function sM(t){var e=t.alternate;if(!e){if(e=So(t),e===null)throw Error(re(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return hx(i),t;if(s===n)return hx(i),e;s=s.sibling}throw Error(re(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(re(189))}}if(r.alternate!==n)throw Error(re(190))}if(r.tag!==3)throw Error(re(188));return r.stateNode.current===r?t:e}function cx(t){return t=sM(t),t!==null?dx(t):null}function dx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=dx(t);if(e!==null)return e;t=t.sibling}return null}var fx=Jr.unstable_scheduleCallback,px=Jr.unstable_cancelCallback,oM=Jr.unstable_shouldYield,aM=Jr.unstable_requestPaint,Lt=Jr.unstable_now,lM=Jr.unstable_getCurrentPriorityLevel,xg=Jr.unstable_ImmediatePriority,mx=Jr.unstable_UserBlockingPriority,Bc=Jr.unstable_NormalPriority,uM=Jr.unstable_LowPriority,gx=Jr.unstable_IdlePriority,Fc=null,hi=null;function hM(t){if(hi&&typeof hi.onCommitFiberRoot=="function")try{hi.onCommitFiberRoot(Fc,t,void 0,(t.current.flags&128)===128)}catch{}}var On=Math.clz32?Math.clz32:fM,cM=Math.log,dM=Math.LN2;function fM(t){return t>>>=0,t===0?32:31-(cM(t)/dM|0)|0}var Uc=64,zc=4194304;function vu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function jc(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=vu(a):(s&=o,s!==0&&(n=vu(s)))}else o=r&~i,o!==0?n=vu(o):s!==0&&(n=vu(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-On(e),i=1<<r,n|=t[r],e&=~i;return n}function pM(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function mM(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-On(s),a=1<<o,u=i[o];u===-1?(!(a&r)||a&n)&&(i[o]=pM(a,e)):u<=e&&(t.expiredLanes|=a),s&=~a}}function wg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yx(){var t=Uc;return Uc<<=1,!(Uc&4194240)&&(Uc=64),t}function Eg(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function bu(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-On(e),t[e]=r}function gM(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-On(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function Tg(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-On(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var tt=0;function vx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bx,Sg,_x,xx,wx,Ag=!1,Hc=[],As=null,Cs=null,Ps=null,_u=new Map,xu=new Map,Rs=[],yM="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ex(t,e){switch(t){case"focusin":case"focusout":As=null;break;case"dragenter":case"dragleave":Cs=null;break;case"mouseover":case"mouseout":Ps=null;break;case"pointerover":case"pointerout":_u.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":xu.delete(e.pointerId)}}function wu(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Lu(e),e!==null&&Sg(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vM(t,e,r,n,i){switch(e){case"focusin":return As=wu(As,t,e,r,n,i),!0;case"dragenter":return Cs=wu(Cs,t,e,r,n,i),!0;case"mouseover":return Ps=wu(Ps,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return _u.set(s,wu(_u.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,xu.set(s,wu(xu.get(s)||null,t,e,r,n,i)),!0}return!1}function Tx(t){var e=Ao(t.target);if(e!==null){var r=So(e);if(r!==null){if(e=r.tag,e===13){if(e=ux(r),e!==null){t.blockedOn=e,wx(t.priority,function(){_x(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=Pg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);mg=n,r.target.dispatchEvent(n),mg=null}else return e=Lu(r),e!==null&&Sg(e),t.blockedOn=r,!1;e.shift()}return!0}function Sx(t,e,r){Gc(t)&&r.delete(e)}function bM(){Ag=!1,As!==null&&Gc(As)&&(As=null),Cs!==null&&Gc(Cs)&&(Cs=null),Ps!==null&&Gc(Ps)&&(Ps=null),_u.forEach(Sx),xu.forEach(Sx)}function Eu(t,e){t.blockedOn===e&&(t.blockedOn=null,Ag||(Ag=!0,Jr.unstable_scheduleCallback(Jr.unstable_NormalPriority,bM)))}function Tu(t){function e(i){return Eu(i,t)}if(0<Hc.length){Eu(Hc[0],t);for(var r=1;r<Hc.length;r++){var n=Hc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(As!==null&&Eu(As,t),Cs!==null&&Eu(Cs,t),Ps!==null&&Eu(Ps,t),_u.forEach(e),xu.forEach(e),r=0;r<Rs.length;r++)n=Rs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Rs.length&&(r=Rs[0],r.blockedOn===null);)Tx(r),r.blockedOn===null&&Rs.shift()}var Da=Vi.ReactCurrentBatchConfig,Vc=!0;function _M(t,e,r,n){var i=tt,s=Da.transition;Da.transition=null;try{tt=1,Cg(t,e,r,n)}finally{tt=i,Da.transition=s}}function xM(t,e,r,n){var i=tt,s=Da.transition;Da.transition=null;try{tt=4,Cg(t,e,r,n)}finally{tt=i,Da.transition=s}}function Cg(t,e,r,n){if(Vc){var i=Pg(t,e,r,n);if(i===null)Wg(t,e,n,Wc,r),Ex(t,n);else if(vM(i,t,e,r,n))n.stopPropagation();else if(Ex(t,n),e&4&&-1<yM.indexOf(t)){for(;i!==null;){var s=Lu(i);if(s!==null&&bx(s),s=Pg(t,e,r,n),s===null&&Wg(t,e,n,Wc,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Wg(t,e,n,null,r)}}var Wc=null;function Pg(t,e,r,n){if(Wc=null,t=gg(n),t=Ao(t),t!==null)if(e=So(t),e===null)t=null;else if(r=e.tag,r===13){if(t=ux(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Wc=t,null}function Ax(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(lM()){case xg:return 1;case mx:return 4;case Bc:case uM:return 16;case gx:return 536870912;default:return 16}default:return 16}}var ks=null,Rg=null,Xc=null;function Cx(){if(Xc)return Xc;var t,e=Rg,r=e.length,n,i="value"in ks?ks.value:ks.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Xc=i.slice(t,1<n?1-n:void 0)}function $c(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Yc(){return!0}function Px(){return!1}function en(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Yc:Px,this.isPropagationStopped=Px,this}return bt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Yc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Yc)},persist:function(){},isPersistent:Yc}),e}var Oa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},kg=en(Oa),Su=bt({},Oa,{view:0,detail:0}),wM=en(Su),Ig,Mg,Au,qc=bt({},Su,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Og,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Au&&(Au&&t.type==="mousemove"?(Ig=t.screenX-Au.screenX,Mg=t.screenY-Au.screenY):Mg=Ig=0,Au=t),Ig)},movementY:function(t){return"movementY"in t?t.movementY:Mg}}),Rx=en(qc),EM=bt({},qc,{dataTransfer:0}),TM=en(EM),SM=bt({},Su,{relatedTarget:0}),Dg=en(SM),AM=bt({},Oa,{animationName:0,elapsedTime:0,pseudoElement:0}),CM=en(AM),PM=bt({},Oa,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RM=en(PM),kM=bt({},Oa,{data:0}),kx=en(kM),IM={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},MM={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DM={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function OM(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DM[t])?!!e[t]:!1}function Og(){return OM}var NM=bt({},Su,{key:function(t){if(t.key){var e=IM[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=$c(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?MM[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Og,charCode:function(t){return t.type==="keypress"?$c(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?$c(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),LM=en(NM),BM=bt({},qc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ix=en(BM),FM=bt({},Su,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Og}),UM=en(FM),zM=bt({},Oa,{propertyName:0,elapsedTime:0,pseudoElement:0}),jM=en(zM),HM=bt({},qc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),GM=en(HM),VM=[9,13,27,32],Ng=Gi&&"CompositionEvent"in window,Cu=null;Gi&&"documentMode"in document&&(Cu=document.documentMode);var WM=Gi&&"TextEvent"in window&&!Cu,Mx=Gi&&(!Ng||Cu&&8<Cu&&11>=Cu),Dx=String.fromCharCode(32),Ox=!1;function Nx(t,e){switch(t){case"keyup":return VM.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Lx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Na=!1;function XM(t,e){switch(t){case"compositionend":return Lx(e);case"keypress":return e.which!==32?null:(Ox=!0,Dx);case"textInput":return t=e.data,t===Dx&&Ox?null:t;default:return null}}function $M(t,e){if(Na)return t==="compositionend"||!Ng&&Nx(t,e)?(t=Cx(),Xc=Rg=ks=null,Na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Mx&&e.locale!=="ko"?null:e.data;default:return null}}var YM={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Bx(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!YM[t.type]:e==="textarea"}function Fx(t,e,r,n){ix(n),e=ed(e,"onChange"),0<e.length&&(r=new kg("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Pu=null,Ru=null;function qM(t){rw(t,0)}function Qc(t){var e=za(t);if(X_(e))return t}function QM(t,e){if(t==="change")return e}var Ux=!1;if(Gi){var Lg;if(Gi){var Bg="oninput"in document;if(!Bg){var zx=document.createElement("div");zx.setAttribute("oninput","return;"),Bg=typeof zx.oninput=="function"}Lg=Bg}else Lg=!1;Ux=Lg&&(!document.documentMode||9<document.documentMode)}function jx(){Pu&&(Pu.detachEvent("onpropertychange",Hx),Ru=Pu=null)}function Hx(t){if(t.propertyName==="value"&&Qc(Ru)){var e=[];Fx(e,Ru,t,gg(t)),lx(qM,e)}}function KM(t,e,r){t==="focusin"?(jx(),Pu=e,Ru=r,Pu.attachEvent("onpropertychange",Hx)):t==="focusout"&&jx()}function ZM(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qc(Ru)}function JM(t,e){if(t==="click")return Qc(e)}function eD(t,e){if(t==="input"||t==="change")return Qc(e)}function tD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Nn=typeof Object.is=="function"?Object.is:tD;function ku(t,e){if(Nn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Ym.call(e,i)||!Nn(t[i],e[i]))return!1}return!0}function Gx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Vx(t,e){var r=Gx(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Gx(r)}}function Wx(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Wx(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Xx(){for(var t=window,e=Dc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Dc(t.document)}return e}function Fg(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function rD(t){var e=Xx(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Wx(r.ownerDocument.documentElement,r)){if(n!==null&&Fg(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Vx(r,s);var o=Vx(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var nD=Gi&&"documentMode"in document&&11>=document.documentMode,La=null,Ug=null,Iu=null,zg=!1;function $x(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;zg||La==null||La!==Dc(n)||(n=La,"selectionStart"in n&&Fg(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Iu&&ku(Iu,n)||(Iu=n,n=ed(Ug,"onSelect"),0<n.length&&(e=new kg("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=La)))}function Kc(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ba={animationend:Kc("Animation","AnimationEnd"),animationiteration:Kc("Animation","AnimationIteration"),animationstart:Kc("Animation","AnimationStart"),transitionend:Kc("Transition","TransitionEnd")},jg={},Yx={};Gi&&(Yx=document.createElement("div").style,"AnimationEvent"in window||(delete Ba.animationend.animation,delete Ba.animationiteration.animation,delete Ba.animationstart.animation),"TransitionEvent"in window||delete Ba.transitionend.transition);function Zc(t){if(jg[t])return jg[t];if(!Ba[t])return t;var e=Ba[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Yx)return jg[t]=e[r];return t}var qx=Zc("animationend"),Qx=Zc("animationiteration"),Kx=Zc("animationstart"),Zx=Zc("transitionend"),Jx=new Map,ew="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Is(t,e){Jx.set(t,e),To(e,[t])}for(var Hg=0;Hg<ew.length;Hg++){var Gg=ew[Hg],iD=Gg.toLowerCase(),sD=Gg[0].toUpperCase()+Gg.slice(1);Is(iD,"on"+sD)}Is(qx,"onAnimationEnd"),Is(Qx,"onAnimationIteration"),Is(Kx,"onAnimationStart"),Is("dblclick","onDoubleClick"),Is("focusin","onFocus"),Is("focusout","onBlur"),Is(Zx,"onTransitionEnd"),Ca("onMouseEnter",["mouseout","mouseover"]),Ca("onMouseLeave",["mouseout","mouseover"]),Ca("onPointerEnter",["pointerout","pointerover"]),Ca("onPointerLeave",["pointerout","pointerover"]),To("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),To("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),To("onBeforeInput",["compositionend","keypress","textInput","paste"]),To("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),To("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),To("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),oD=new Set("cancel close invalid load scroll toggle".split(" ").concat(Mu));function tw(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,iM(n,e,void 0,t),t.currentTarget=null}function rw(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],u=a.instance,c=a.currentTarget;if(a=a.listener,u!==s&&i.isPropagationStopped())break e;tw(i,a,c),s=u}else for(o=0;o<n.length;o++){if(a=n[o],u=a.instance,c=a.currentTarget,a=a.listener,u!==s&&i.isPropagationStopped())break e;tw(i,a,c),s=u}}}if(Lc)throw t=_g,Lc=!1,_g=null,t}function ut(t,e){var r=e[Kg];r===void 0&&(r=e[Kg]=new Set);var n=t+"__bubble";r.has(n)||(nw(e,t,2,!1),r.add(n))}function Vg(t,e,r){var n=0;e&&(n|=4),nw(r,t,n,e)}var Jc="_reactListening"+Math.random().toString(36).slice(2);function Du(t){if(!t[Jc]){t[Jc]=!0,F_.forEach(function(r){r!=="selectionchange"&&(oD.has(r)||Vg(r,!1,t),Vg(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Jc]||(e[Jc]=!0,Vg("selectionchange",!1,e))}}function nw(t,e,r,n){switch(Ax(e)){case 1:var i=_M;break;case 4:i=xM;break;default:i=Cg}r=i.bind(null,e,r,t),i=void 0,!bg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Wg(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;a!==null;){if(o=Ao(a),o===null)return;if(u=o.tag,u===5||u===6){n=s=o;continue e}a=a.parentNode}}n=n.return}lx(function(){var c=s,d=gg(r),p=[];e:{var m=Jx.get(t);if(m!==void 0){var g=kg,b=t;switch(t){case"keypress":if($c(r)===0)break e;case"keydown":case"keyup":g=LM;break;case"focusin":b="focus",g=Dg;break;case"focusout":b="blur",g=Dg;break;case"beforeblur":case"afterblur":g=Dg;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=Rx;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=TM;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=UM;break;case qx:case Qx:case Kx:g=CM;break;case Zx:g=jM;break;case"scroll":g=wM;break;case"wheel":g=GM;break;case"copy":case"cut":case"paste":g=RM;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=Ix}var x=(e&4)!==0,A=!x&&t==="scroll",T=x?m!==null?m+"Capture":null:m;x=[];for(var _=c,w;_!==null;){w=_;var S=w.stateNode;if(w.tag===5&&S!==null&&(w=S,T!==null&&(S=mu(_,T),S!=null&&x.push(Ou(_,S,w)))),A)break;_=_.return}0<x.length&&(m=new g(m,b,null,r,d),p.push({event:m,listeners:x}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&r!==mg&&(b=r.relatedTarget||r.fromElement)&&(Ao(b)||b[Wi]))break e;if((g||m)&&(m=d.window===d?d:(m=d.ownerDocument)?m.defaultView||m.parentWindow:window,g?(b=r.relatedTarget||r.toElement,g=c,b=b?Ao(b):null,b!==null&&(A=So(b),b!==A||b.tag!==5&&b.tag!==6)&&(b=null)):(g=null,b=c),g!==b)){if(x=Rx,S="onMouseLeave",T="onMouseEnter",_="mouse",(t==="pointerout"||t==="pointerover")&&(x=Ix,S="onPointerLeave",T="onPointerEnter",_="pointer"),A=g==null?m:za(g),w=b==null?m:za(b),m=new x(S,_+"leave",g,r,d),m.target=A,m.relatedTarget=w,S=null,Ao(d)===c&&(x=new x(T,_+"enter",b,r,d),x.target=w,x.relatedTarget=A,S=x),A=S,g&&b)t:{for(x=g,T=b,_=0,w=x;w;w=Fa(w))_++;for(w=0,S=T;S;S=Fa(S))w++;for(;0<_-w;)x=Fa(x),_--;for(;0<w-_;)T=Fa(T),w--;for(;_--;){if(x===T||T!==null&&x===T.alternate)break t;x=Fa(x),T=Fa(T)}x=null}else x=null;g!==null&&iw(p,m,g,x,!1),b!==null&&A!==null&&iw(p,A,b,x,!0)}}e:{if(m=c?za(c):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var P=QM;else if(Bx(m))if(Ux)P=eD;else{P=ZM;var D=KM}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=JM);if(P&&(P=P(t,c))){Fx(p,P,r,d);break e}D&&D(t,m,c),t==="focusout"&&(D=m._wrapperState)&&D.controlled&&m.type==="number"&&hg(m,"number",m.value)}switch(D=c?za(c):window,t){case"focusin":(Bx(D)||D.contentEditable==="true")&&(La=D,Ug=c,Iu=null);break;case"focusout":Iu=Ug=La=null;break;case"mousedown":zg=!0;break;case"contextmenu":case"mouseup":case"dragend":zg=!1,$x(p,r,d);break;case"selectionchange":if(nD)break;case"keydown":case"keyup":$x(p,r,d)}var k;if(Ng)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Na?Nx(t,r)&&(R="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(R="onCompositionStart");R&&(Mx&&r.locale!=="ko"&&(Na||R!=="onCompositionStart"?R==="onCompositionEnd"&&Na&&(k=Cx()):(ks=d,Rg="value"in ks?ks.value:ks.textContent,Na=!0)),D=ed(c,R),0<D.length&&(R=new kx(R,t,null,r,d),p.push({event:R,listeners:D}),k?R.data=k:(k=Lx(r),k!==null&&(R.data=k)))),(k=WM?XM(t,r):$M(t,r))&&(c=ed(c,"onBeforeInput"),0<c.length&&(d=new kx("onBeforeInput","beforeinput",null,r,d),p.push({event:d,listeners:c}),d.data=k))}rw(p,e)})}function Ou(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ed(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=mu(t,r),s!=null&&n.unshift(Ou(t,s,i)),s=mu(t,e),s!=null&&n.push(Ou(t,s,i))),t=t.return}return n}function Fa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function iw(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,u=a.alternate,c=a.stateNode;if(u!==null&&u===n)break;a.tag===5&&c!==null&&(a=c,i?(u=mu(r,s),u!=null&&o.unshift(Ou(r,u,a))):i||(u=mu(r,s),u!=null&&o.push(Ou(r,u,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var aD=/\r\n?/g,lD=/\u0000|\uFFFD/g;function sw(t){return(typeof t=="string"?t:""+t).replace(aD,`
`).replace(lD,"")}function td(t,e,r){if(e=sw(e),sw(t)!==e&&r)throw Error(re(425))}function rd(){}var Xg=null,$g=null;function Yg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qg=typeof setTimeout=="function"?setTimeout:void 0,uD=typeof clearTimeout=="function"?clearTimeout:void 0,ow=typeof Promise=="function"?Promise:void 0,hD=typeof queueMicrotask=="function"?queueMicrotask:typeof ow<"u"?function(t){return ow.resolve(null).then(t).catch(cD)}:qg;function cD(t){setTimeout(function(){throw t})}function Qg(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Tu(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Tu(e)}function Ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function aw(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Ua=Math.random().toString(36).slice(2),ci="__reactFiber$"+Ua,Nu="__reactProps$"+Ua,Wi="__reactContainer$"+Ua,Kg="__reactEvents$"+Ua,dD="__reactListeners$"+Ua,fD="__reactHandles$"+Ua;function Ao(t){var e=t[ci];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Wi]||r[ci]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=aw(t);t!==null;){if(r=t[ci])return r;t=aw(t)}return e}t=r,r=t.parentNode}return null}function Lu(t){return t=t[ci]||t[Wi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function za(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(re(33))}function nd(t){return t[Nu]||null}var Zg=[],ja=-1;function Ds(t){return{current:t}}function ht(t){0>ja||(t.current=Zg[ja],Zg[ja]=null,ja--)}function at(t,e){ja++,Zg[ja]=t.current,t.current=e}var Os={},vr=Ds(Os),Br=Ds(!1),Co=Os;function Ha(t,e){var r=t.type.contextTypes;if(!r)return Os;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Fr(t){return t=t.childContextTypes,t!=null}function id(){ht(Br),ht(vr)}function lw(t,e,r){if(vr.current!==Os)throw Error(re(168));at(vr,e),at(Br,r)}function uw(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(re(108,KI(t)||"Unknown",i));return bt({},r,n)}function sd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Os,Co=vr.current,at(vr,t),at(Br,Br.current),!0}function hw(t,e,r){var n=t.stateNode;if(!n)throw Error(re(169));r?(t=uw(t,e,Co),n.__reactInternalMemoizedMergedChildContext=t,ht(Br),ht(vr),at(vr,t)):ht(Br),at(Br,r)}var Xi=null,od=!1,Jg=!1;function cw(t){Xi===null?Xi=[t]:Xi.push(t)}function pD(t){od=!0,cw(t)}function Ns(){if(!Jg&&Xi!==null){Jg=!0;var t=0,e=tt;try{var r=Xi;for(tt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Xi=null,od=!1}catch(i){throw Xi!==null&&(Xi=Xi.slice(t+1)),fx(xg,Ns),i}finally{tt=e,Jg=!1}}return null}var Ga=[],Va=0,ad=null,ld=0,pn=[],mn=0,Po=null,$i=1,Yi="";function Ro(t,e){Ga[Va++]=ld,Ga[Va++]=ad,ad=t,ld=e}function dw(t,e,r){pn[mn++]=$i,pn[mn++]=Yi,pn[mn++]=Po,Po=t;var n=$i;t=Yi;var i=32-On(n)-1;n&=~(1<<i),r+=1;var s=32-On(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,$i=1<<32-On(e)+i|r<<i|n,Yi=s+t}else $i=1<<s|r<<i|n,Yi=t}function ey(t){t.return!==null&&(Ro(t,1),dw(t,1,0))}function ty(t){for(;t===ad;)ad=Ga[--Va],Ga[Va]=null,ld=Ga[--Va],Ga[Va]=null;for(;t===Po;)Po=pn[--mn],pn[mn]=null,Yi=pn[--mn],pn[mn]=null,$i=pn[--mn],pn[mn]=null}var tn=null,rn=null,dt=!1,Ln=null;function fw(t,e){var r=bn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function pw(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,tn=t,rn=Ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,tn=t,rn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Po!==null?{id:$i,overflow:Yi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=bn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,tn=t,rn=null,!0):!1;default:return!1}}function ry(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ny(t){if(dt){var e=rn;if(e){var r=e;if(!pw(t,e)){if(ry(t))throw Error(re(418));e=Ms(r.nextSibling);var n=tn;e&&pw(t,e)?fw(n,r):(t.flags=t.flags&-4097|2,dt=!1,tn=t)}}else{if(ry(t))throw Error(re(418));t.flags=t.flags&-4097|2,dt=!1,tn=t}}}function mw(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;tn=t}function ud(t){if(t!==tn)return!1;if(!dt)return mw(t),dt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Yg(t.type,t.memoizedProps)),e&&(e=rn)){if(ry(t))throw gw(),Error(re(418));for(;e;)fw(t,e),e=Ms(e.nextSibling)}if(mw(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(re(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){rn=Ms(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}rn=null}}else rn=tn?Ms(t.stateNode.nextSibling):null;return!0}function gw(){for(var t=rn;t;)t=Ms(t.nextSibling)}function Wa(){rn=tn=null,dt=!1}function iy(t){Ln===null?Ln=[t]:Ln.push(t)}var mD=Vi.ReactCurrentBatchConfig;function Bn(t,e){if(t&&t.defaultProps){e=bt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var hd=Ds(null),cd=null,Xa=null,sy=null;function oy(){sy=Xa=cd=null}function ay(t){var e=hd.current;ht(hd),t._currentValue=e}function ly(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function $a(t,e){cd=t,sy=Xa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Ur=!0),t.firstContext=null)}function gn(t){var e=t._currentValue;if(sy!==t)if(t={context:t,memoizedValue:e,next:null},Xa===null){if(cd===null)throw Error(re(308));Xa=t,cd.dependencies={lanes:0,firstContext:t}}else Xa=Xa.next=t;return e}var ko=null;function uy(t){ko===null?ko=[t]:ko.push(t)}function yw(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,uy(e)):(r.next=i.next,i.next=r),e.interleaved=r,qi(t,n)}function qi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ls=!1;function hy(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function vw(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Qi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,$e&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,qi(t,r)}return i=n.interleaved,i===null?(e.next=e,uy(n)):(e.next=i.next,i.next=e),n.interleaved=e,qi(t,r)}function dd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tg(t,r)}}function bw(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function fd(t,e,r,n){var i=t.updateQueue;Ls=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var u=a,c=u.next;u.next=null,o===null?s=c:o.next=c,o=u;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=u))}if(s!==null){var p=i.baseState;o=0,d=c=u=null,a=s;do{var m=a.lane,g=a.eventTime;if((n&m)===m){d!==null&&(d=d.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var b=t,x=a;switch(m=e,g=r,x.tag){case 1:if(b=x.payload,typeof b=="function"){p=b.call(g,p,m);break e}p=b;break e;case 3:b.flags=b.flags&-65537|128;case 0:if(b=x.payload,m=typeof b=="function"?b.call(g,p,m):b,m==null)break e;p=bt({},p,m);break e;case 2:Ls=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=g,u=p):d=d.next=g,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(d===null&&(u=p),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Do|=o,t.lanes=o,t.memoizedState=p}}function _w(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(re(191,i));i.call(n)}}}var xw=new B_.Component().refs;function cy(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:bt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var pd={isMounted:function(t){return(t=t._reactInternals)?So(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Dr(),i=js(t),s=Qi(n,i);s.payload=e,r!=null&&(s.callback=r),e=Bs(t,s,i),e!==null&&(zn(e,t,i,n),dd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Dr(),i=js(t),s=Qi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Bs(t,s,i),e!==null&&(zn(e,t,i,n),dd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Dr(),n=js(t),i=Qi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Bs(t,i,n),e!==null&&(zn(e,t,n,r),dd(e,t,n))}};function ww(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!ku(r,n)||!ku(i,s):!0}function Ew(t,e,r){var n=!1,i=Os,s=e.contextType;return typeof s=="object"&&s!==null?s=gn(s):(i=Fr(e)?Co:vr.current,n=e.contextTypes,s=(n=n!=null)?Ha(t,i):Os),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=pd,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Tw(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&pd.enqueueReplaceState(e,e.state,null)}function dy(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=xw,hy(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=gn(s):(s=Fr(e)?Co:vr.current,i.context=Ha(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(cy(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&pd.enqueueReplaceState(i,i.state,null),fd(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(re(309));var n=r.stateNode}if(!n)throw Error(re(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;a===xw&&(a=i.refs={}),o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(re(284));if(!r._owner)throw Error(re(290,t))}return t}function md(t,e){throw t=Object.prototype.toString.call(e),Error(re(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sw(t){var e=t._init;return e(t._payload)}function Aw(t){function e(T,_){if(t){var w=T.deletions;w===null?(T.deletions=[_],T.flags|=16):w.push(_)}}function r(T,_){if(!t)return null;for(;_!==null;)e(T,_),_=_.sibling;return null}function n(T,_){for(T=new Map;_!==null;)_.key!==null?T.set(_.key,_):T.set(_.index,_),_=_.sibling;return T}function i(T,_){return T=Gs(T,_),T.index=0,T.sibling=null,T}function s(T,_,w){return T.index=w,t?(w=T.alternate,w!==null?(w=w.index,w<_?(T.flags|=2,_):w):(T.flags|=2,_)):(T.flags|=1048576,_)}function o(T){return t&&T.alternate===null&&(T.flags|=2),T}function a(T,_,w,S){return _===null||_.tag!==6?(_=Yy(w,T.mode,S),_.return=T,_):(_=i(_,w),_.return=T,_)}function u(T,_,w,S){var P=w.type;return P===Ra?d(T,_,w.props.children,S,w.key):_!==null&&(_.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ts&&Sw(P)===_.type)?(S=i(_,w.props),S.ref=Bu(T,_,w),S.return=T,S):(S=Od(w.type,w.key,w.props,null,T.mode,S),S.ref=Bu(T,_,w),S.return=T,S)}function c(T,_,w,S){return _===null||_.tag!==4||_.stateNode.containerInfo!==w.containerInfo||_.stateNode.implementation!==w.implementation?(_=qy(w,T.mode,S),_.return=T,_):(_=i(_,w.children||[]),_.return=T,_)}function d(T,_,w,S,P){return _===null||_.tag!==7?(_=Bo(w,T.mode,S,P),_.return=T,_):(_=i(_,w),_.return=T,_)}function p(T,_,w){if(typeof _=="string"&&_!==""||typeof _=="number")return _=Yy(""+_,T.mode,w),_.return=T,_;if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Ic:return w=Od(_.type,_.key,_.props,null,T.mode,w),w.ref=Bu(T,null,_),w.return=T,w;case Pa:return _=qy(_,T.mode,w),_.return=T,_;case Ts:var S=_._init;return p(T,S(_._payload),w)}if(du(_)||hu(_))return _=Bo(_,T.mode,w,null),_.return=T,_;md(T,_)}return null}function m(T,_,w,S){var P=_!==null?_.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return P!==null?null:a(T,_,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ic:return w.key===P?u(T,_,w,S):null;case Pa:return w.key===P?c(T,_,w,S):null;case Ts:return P=w._init,m(T,_,P(w._payload),S)}if(du(w)||hu(w))return P!==null?null:d(T,_,w,S,null);md(T,w)}return null}function g(T,_,w,S,P){if(typeof S=="string"&&S!==""||typeof S=="number")return T=T.get(w)||null,a(_,T,""+S,P);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Ic:return T=T.get(S.key===null?w:S.key)||null,u(_,T,S,P);case Pa:return T=T.get(S.key===null?w:S.key)||null,c(_,T,S,P);case Ts:var D=S._init;return g(T,_,w,D(S._payload),P)}if(du(S)||hu(S))return T=T.get(w)||null,d(_,T,S,P,null);md(_,S)}return null}function b(T,_,w,S){for(var P=null,D=null,k=_,R=_=0,F=null;k!==null&&R<w.length;R++){k.index>R?(F=k,k=null):F=k.sibling;var X=m(T,k,w[R],S);if(X===null){k===null&&(k=F);break}t&&k&&X.alternate===null&&e(T,k),_=s(X,_,R),D===null?P=X:D.sibling=X,D=X,k=F}if(R===w.length)return r(T,k),dt&&Ro(T,R),P;if(k===null){for(;R<w.length;R++)k=p(T,w[R],S),k!==null&&(_=s(k,_,R),D===null?P=k:D.sibling=k,D=k);return dt&&Ro(T,R),P}for(k=n(T,k);R<w.length;R++)F=g(k,T,R,w[R],S),F!==null&&(t&&F.alternate!==null&&k.delete(F.key===null?R:F.key),_=s(F,_,R),D===null?P=F:D.sibling=F,D=F);return t&&k.forEach(function(K){return e(T,K)}),dt&&Ro(T,R),P}function x(T,_,w,S){var P=hu(w);if(typeof P!="function")throw Error(re(150));if(w=P.call(w),w==null)throw Error(re(151));for(var D=P=null,k=_,R=_=0,F=null,X=w.next();k!==null&&!X.done;R++,X=w.next()){k.index>R?(F=k,k=null):F=k.sibling;var K=m(T,k,X.value,S);if(K===null){k===null&&(k=F);break}t&&k&&K.alternate===null&&e(T,k),_=s(K,_,R),D===null?P=K:D.sibling=K,D=K,k=F}if(X.done)return r(T,k),dt&&Ro(T,R),P;if(k===null){for(;!X.done;R++,X=w.next())X=p(T,X.value,S),X!==null&&(_=s(X,_,R),D===null?P=X:D.sibling=X,D=X);return dt&&Ro(T,R),P}for(k=n(T,k);!X.done;R++,X=w.next())X=g(k,T,R,X.value,S),X!==null&&(t&&X.alternate!==null&&k.delete(X.key===null?R:X.key),_=s(X,_,R),D===null?P=X:D.sibling=X,D=X);return t&&k.forEach(function($){return e(T,$)}),dt&&Ro(T,R),P}function A(T,_,w,S){if(typeof w=="object"&&w!==null&&w.type===Ra&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ic:e:{for(var P=w.key,D=_;D!==null;){if(D.key===P){if(P=w.type,P===Ra){if(D.tag===7){r(T,D.sibling),_=i(D,w.props.children),_.return=T,T=_;break e}}else if(D.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===Ts&&Sw(P)===D.type){r(T,D.sibling),_=i(D,w.props),_.ref=Bu(T,D,w),_.return=T,T=_;break e}r(T,D);break}else e(T,D);D=D.sibling}w.type===Ra?(_=Bo(w.props.children,T.mode,S,w.key),_.return=T,T=_):(S=Od(w.type,w.key,w.props,null,T.mode,S),S.ref=Bu(T,_,w),S.return=T,T=S)}return o(T);case Pa:e:{for(D=w.key;_!==null;){if(_.key===D)if(_.tag===4&&_.stateNode.containerInfo===w.containerInfo&&_.stateNode.implementation===w.implementation){r(T,_.sibling),_=i(_,w.children||[]),_.return=T,T=_;break e}else{r(T,_);break}else e(T,_);_=_.sibling}_=qy(w,T.mode,S),_.return=T,T=_}return o(T);case Ts:return D=w._init,A(T,_,D(w._payload),S)}if(du(w))return b(T,_,w,S);if(hu(w))return x(T,_,w,S);md(T,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,_!==null&&_.tag===6?(r(T,_.sibling),_=i(_,w),_.return=T,T=_):(r(T,_),_=Yy(w,T.mode,S),_.return=T,T=_),o(T)):r(T,_)}return A}var Ya=Aw(!0),Cw=Aw(!1),Fu={},di=Ds(Fu),Uu=Ds(Fu),zu=Ds(Fu);function Io(t){if(t===Fu)throw Error(re(174));return t}function fy(t,e){switch(at(zu,e),at(Uu,t),at(di,Fu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dg(e,t)}ht(di),at(di,e)}function qa(){ht(di),ht(Uu),ht(zu)}function Pw(t){Io(zu.current);var e=Io(di.current),r=dg(e,t.type);e!==r&&(at(Uu,t),at(di,r))}function py(t){Uu.current===t&&(ht(di),ht(Uu))}var _t=Ds(0);function gd(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var my=[];function gy(){for(var t=0;t<my.length;t++)my[t]._workInProgressVersionPrimary=null;my.length=0}var yd=Vi.ReactCurrentDispatcher,yy=Vi.ReactCurrentBatchConfig,Mo=0,xt=null,Yt=null,Jt=null,vd=!1,ju=!1,Hu=0,gD=0;function br(){throw Error(re(321))}function vy(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Nn(t[r],e[r]))return!1;return!0}function by(t,e,r,n,i,s){if(Mo=s,xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,yd.current=t===null||t.memoizedState===null?_D:xD,t=r(n,i),ju){s=0;do{if(ju=!1,Hu=0,25<=s)throw Error(re(301));s+=1,Jt=Yt=null,e.updateQueue=null,yd.current=wD,t=r(n,i)}while(ju)}if(yd.current=xd,e=Yt!==null&&Yt.next!==null,Mo=0,Jt=Yt=xt=null,vd=!1,e)throw Error(re(300));return t}function _y(){var t=Hu!==0;return Hu=0,t}function fi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Jt===null?xt.memoizedState=Jt=t:Jt=Jt.next=t,Jt}function yn(){if(Yt===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Yt.next;var e=Jt===null?xt.memoizedState:Jt.next;if(e!==null)Jt=e,Yt=t;else{if(t===null)throw Error(re(310));Yt=t,t={memoizedState:Yt.memoizedState,baseState:Yt.baseState,baseQueue:Yt.baseQueue,queue:Yt.queue,next:null},Jt===null?xt.memoizedState=Jt=t:Jt=Jt.next=t}return Jt}function Gu(t,e){return typeof e=="function"?e(t):e}function xy(t){var e=yn(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=Yt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,u=null,c=s;do{var d=c.lane;if((Mo&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var p={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(a=u=p,o=n):u=u.next=p,xt.lanes|=d,Do|=d}c=c.next}while(c!==null&&c!==s);u===null?o=n:u.next=a,Nn(n,e.memoizedState)||(Ur=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,xt.lanes|=s,Do|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function wy(t){var e=yn(),r=e.queue;if(r===null)throw Error(re(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Nn(s,e.memoizedState)||(Ur=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Rw(){}function kw(t,e){var r=xt,n=yn(),i=e(),s=!Nn(n.memoizedState,i);if(s&&(n.memoizedState=i,Ur=!0),n=n.queue,Ey(Dw.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Jt!==null&&Jt.memoizedState.tag&1){if(r.flags|=2048,Vu(9,Mw.bind(null,r,n,i,e),void 0,null),er===null)throw Error(re(349));Mo&30||Iw(r,e,i)}return i}function Iw(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function Mw(t,e,r,n){e.value=r,e.getSnapshot=n,Ow(e)&&Nw(t)}function Dw(t,e,r){return r(function(){Ow(e)&&Nw(t)})}function Ow(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Nn(t,r)}catch{return!0}}function Nw(t){var e=qi(t,1);e!==null&&zn(e,t,1,-1)}function Lw(t){var e=fi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:t},e.queue=t,t=t.dispatch=bD.bind(null,xt,t),[e.memoizedState,t]}function Vu(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function Bw(){return yn().memoizedState}function bd(t,e,r,n){var i=fi();xt.flags|=t,i.memoizedState=Vu(1|e,r,void 0,n===void 0?null:n)}function _d(t,e,r,n){var i=yn();n=n===void 0?null:n;var s=void 0;if(Yt!==null){var o=Yt.memoizedState;if(s=o.destroy,n!==null&&vy(n,o.deps)){i.memoizedState=Vu(e,r,s,n);return}}xt.flags|=t,i.memoizedState=Vu(1|e,r,s,n)}function Fw(t,e){return bd(8390656,8,t,e)}function Ey(t,e){return _d(2048,8,t,e)}function Uw(t,e){return _d(4,2,t,e)}function zw(t,e){return _d(4,4,t,e)}function jw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Hw(t,e,r){return r=r!=null?r.concat([t]):null,_d(4,4,jw.bind(null,e,t),r)}function Ty(){}function Gw(t,e){var r=yn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vy(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function Vw(t,e){var r=yn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&vy(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function Ww(t,e,r){return Mo&21?(Nn(r,e)||(r=yx(),xt.lanes|=r,Do|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Ur=!0),t.memoizedState=r)}function yD(t,e){var r=tt;tt=r!==0&&4>r?r:4,t(!0);var n=yy.transition;yy.transition={};try{t(!1),e()}finally{tt=r,yy.transition=n}}function Xw(){return yn().memoizedState}function vD(t,e,r){var n=js(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},$w(t))Yw(e,r);else if(r=yw(t,e,r,n),r!==null){var i=Dr();zn(r,t,n,i),qw(r,e,n)}}function bD(t,e,r){var n=js(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if($w(t))Yw(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Nn(a,o)){var u=e.interleaved;u===null?(i.next=i,uy(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=yw(t,e,i,n),r!==null&&(i=Dr(),zn(r,t,n,i),qw(r,e,n))}}function $w(t){var e=t.alternate;return t===xt||e!==null&&e===xt}function Yw(t,e){ju=vd=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function qw(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,Tg(t,r)}}var xd={readContext:gn,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},_D={readContext:gn,useCallback:function(t,e){return fi().memoizedState=[t,e===void 0?null:e],t},useContext:gn,useEffect:Fw,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,bd(4194308,4,jw.bind(null,e,t),r)},useLayoutEffect:function(t,e){return bd(4194308,4,t,e)},useInsertionEffect:function(t,e){return bd(4,2,t,e)},useMemo:function(t,e){var r=fi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=fi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=vD.bind(null,xt,t),[n.memoizedState,t]},useRef:function(t){var e=fi();return t={current:t},e.memoizedState=t},useState:Lw,useDebugValue:Ty,useDeferredValue:function(t){return fi().memoizedState=t},useTransition:function(){var t=Lw(!1),e=t[0];return t=yD.bind(null,t[1]),fi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=xt,i=fi();if(dt){if(r===void 0)throw Error(re(407));r=r()}else{if(r=e(),er===null)throw Error(re(349));Mo&30||Iw(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Fw(Dw.bind(null,n,s,t),[t]),n.flags|=2048,Vu(9,Mw.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=fi(),e=er.identifierPrefix;if(dt){var r=Yi,n=$i;r=(n&~(1<<32-On(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Hu++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=gD++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},xD={readContext:gn,useCallback:Gw,useContext:gn,useEffect:Ey,useImperativeHandle:Hw,useInsertionEffect:Uw,useLayoutEffect:zw,useMemo:Vw,useReducer:xy,useRef:Bw,useState:function(){return xy(Gu)},useDebugValue:Ty,useDeferredValue:function(t){var e=yn();return Ww(e,Yt.memoizedState,t)},useTransition:function(){var t=xy(Gu)[0],e=yn().memoizedState;return[t,e]},useMutableSource:Rw,useSyncExternalStore:kw,useId:Xw,unstable_isNewReconciler:!1},wD={readContext:gn,useCallback:Gw,useContext:gn,useEffect:Ey,useImperativeHandle:Hw,useInsertionEffect:Uw,useLayoutEffect:zw,useMemo:Vw,useReducer:wy,useRef:Bw,useState:function(){return wy(Gu)},useDebugValue:Ty,useDeferredValue:function(t){var e=yn();return Yt===null?e.memoizedState=t:Ww(e,Yt.memoizedState,t)},useTransition:function(){var t=wy(Gu)[0],e=yn().memoizedState;return[t,e]},useMutableSource:Rw,useSyncExternalStore:kw,useId:Xw,unstable_isNewReconciler:!1};function Qa(t,e){try{var r="",n=e;do r+=QI(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Sy(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function Ay(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var ED=typeof WeakMap=="function"?WeakMap:Map;function Qw(t,e,r){r=Qi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Pd||(Pd=!0,zy=n),Ay(t,e)},r}function Kw(t,e,r){r=Qi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){Ay(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){Ay(t,e),typeof n!="function"&&(Us===null?Us=new Set([this]):Us.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function Zw(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new ED;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=BD.bind(null,t,e,r),e.then(t,t))}function Jw(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function eE(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Qi(-1,1),e.tag=2,Bs(r,e,1))),r.lanes|=1),t)}var TD=Vi.ReactCurrentOwner,Ur=!1;function Mr(t,e,r,n){e.child=t===null?Cw(e,null,r,n):Ya(e,t.child,r,n)}function tE(t,e,r,n,i){r=r.render;var s=e.ref;return $a(e,i),n=by(t,e,r,n,s,i),r=_y(),t!==null&&!Ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ki(t,e,i)):(dt&&r&&ey(e),e.flags|=1,Mr(t,e,n,i),e.child)}function rE(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!$y(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,nE(t,e,s,n,i)):(t=Od(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:ku,r(o,n)&&t.ref===e.ref)return Ki(t,e,i)}return e.flags|=1,t=Gs(s,n),t.ref=e.ref,t.return=e,e.child=t}function nE(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(ku(s,n)&&t.ref===e.ref)if(Ur=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Ur=!0);else return e.lanes=t.lanes,Ki(t,e,i)}return Cy(t,e,r,n,i)}function iE(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(Za,nn),nn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(Za,nn),nn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,at(Za,nn),nn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,at(Za,nn),nn|=n;return Mr(t,e,i,r),e.child}function sE(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Cy(t,e,r,n,i){var s=Fr(r)?Co:vr.current;return s=Ha(e,s),$a(e,i),r=by(t,e,r,n,s,i),n=_y(),t!==null&&!Ur?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ki(t,e,i)):(dt&&n&&ey(e),e.flags|=1,Mr(t,e,r,i),e.child)}function oE(t,e,r,n,i){if(Fr(r)){var s=!0;sd(e)}else s=!1;if($a(e,i),e.stateNode===null)Ed(t,e),Ew(e,r,n),dy(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var u=o.context,c=r.contextType;typeof c=="object"&&c!==null?c=gn(c):(c=Fr(r)?Co:vr.current,c=Ha(e,c));var d=r.getDerivedStateFromProps,p=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||u!==c)&&Tw(e,o,n,c),Ls=!1;var m=e.memoizedState;o.state=m,fd(e,n,o,i),u=e.memoizedState,a!==n||m!==u||Br.current||Ls?(typeof d=="function"&&(cy(e,r,d,n),u=e.memoizedState),(a=Ls||ww(e,r,a,n,m,u,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),o.props=n,o.state=u,o.context=c,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,vw(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:Bn(e.type,a),o.props=c,p=e.pendingProps,m=o.context,u=r.contextType,typeof u=="object"&&u!==null?u=gn(u):(u=Fr(r)?Co:vr.current,u=Ha(e,u));var g=r.getDerivedStateFromProps;(d=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==u)&&Tw(e,o,n,u),Ls=!1,m=e.memoizedState,o.state=m,fd(e,n,o,i);var b=e.memoizedState;a!==p||m!==b||Br.current||Ls?(typeof g=="function"&&(cy(e,r,g,n),b=e.memoizedState),(c=Ls||ww(e,r,c,n,m,b,u)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,b,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,b,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=b),o.props=n,o.state=b,o.context=u,n=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return Py(t,e,r,n,s,i)}function Py(t,e,r,n,i,s){sE(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&hw(e,r,!1),Ki(t,e,s);n=e.stateNode,TD.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=Ya(e,t.child,null,s),e.child=Ya(e,null,a,s)):Mr(t,e,a,s),e.memoizedState=n.state,i&&hw(e,r,!0),e.child}function aE(t){var e=t.stateNode;e.pendingContext?lw(t,e.pendingContext,e.pendingContext!==e.context):e.context&&lw(t,e.context,!1),fy(t,e.containerInfo)}function lE(t,e,r,n,i){return Wa(),iy(i),e.flags|=256,Mr(t,e,r,n),e.child}var Ry={dehydrated:null,treeContext:null,retryLane:0};function ky(t){return{baseLanes:t,cachePool:null,transitions:null}}function uE(t,e,r){var n=e.pendingProps,i=_t.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),at(_t,i&1),t===null)return ny(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Nd(o,n,0,null),t=Bo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ky(r),e.memoizedState=Ry,t):Iy(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return SD(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var u={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=Gs(i,u),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Gs(a,s):(s=Bo(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?ky(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=Ry,n}return s=t.child,t=s.sibling,n=Gs(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Iy(t,e){return e=Nd({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function wd(t,e,r,n){return n!==null&&iy(n),Ya(e,t.child,null,r),t=Iy(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SD(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Sy(Error(re(422))),wd(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Nd({mode:"visible",children:n.children},i,0,null),s=Bo(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ya(e,t.child,null,o),e.child.memoizedState=ky(o),e.memoizedState=Ry,s);if(!(e.mode&1))return wd(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(re(419)),n=Sy(s,n,void 0),wd(t,e,o,n)}if(a=(o&t.childLanes)!==0,Ur||a){if(n=er,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,qi(t,i),zn(n,t,i,-1))}return Xy(),n=Sy(Error(re(421))),wd(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=FD.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,rn=Ms(i.nextSibling),tn=e,dt=!0,Ln=null,t!==null&&(pn[mn++]=$i,pn[mn++]=Yi,pn[mn++]=Po,$i=t.id,Yi=t.overflow,Po=e),e=Iy(e,n.children),e.flags|=4096,e)}function hE(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),ly(t.return,e,r)}function My(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function cE(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Mr(t,e,n.children,r),n=_t.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hE(t,r,e);else if(t.tag===19)hE(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(at(_t,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&gd(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),My(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gd(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}My(e,!0,r,null,s);break;case"together":My(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ed(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ki(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Do|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(re(153));if(e.child!==null){for(t=e.child,r=Gs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Gs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function AD(t,e,r){switch(e.tag){case 3:aE(e),Wa();break;case 5:Pw(e);break;case 1:Fr(e.type)&&sd(e);break;case 4:fy(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;at(hd,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(at(_t,_t.current&1),e.flags|=128,null):r&e.child.childLanes?uE(t,e,r):(at(_t,_t.current&1),t=Ki(t,e,r),t!==null?t.sibling:null);at(_t,_t.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return cE(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(_t,_t.current),n)break;return null;case 22:case 23:return e.lanes=0,iE(t,e,r)}return Ki(t,e,r)}var dE,Dy,fE,pE;dE=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Dy=function(){},fE=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Io(di.current);var s=null;switch(r){case"input":i=lg(t,i),n=lg(t,n),s=[];break;case"select":i=bt({},i,{value:void 0}),n=bt({},n,{value:void 0}),s=[];break;case"textarea":i=cg(t,i),n=cg(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=rd)}fg(r,n);var o;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(uu.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(a=i==null?void 0:i[c],n.hasOwnProperty(c)&&u!==a&&(u!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in u)u.hasOwnProperty(o)&&a[o]!==u[o]&&(r||(r={}),r[o]=u[o])}else r||(s||(s=[]),s.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,a=a?a.__html:void 0,u!=null&&a!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(uu.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ut("scroll",t),s||a===u||(s=[])):(s=s||[]).push(c,u))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}},pE=function(t,e,r,n){r!==n&&(e.flags|=4)};function Wu(t,e){if(!dt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function _r(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function CD(t,e,r){var n=e.pendingProps;switch(ty(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _r(e),null;case 1:return Fr(e.type)&&id(),_r(e),null;case 3:return n=e.stateNode,qa(),ht(Br),ht(vr),gy(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(ud(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ln!==null&&(Gy(Ln),Ln=null))),Dy(t,e),_r(e),null;case 5:py(e);var i=Io(zu.current);if(r=e.type,t!==null&&e.stateNode!=null)fE(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(re(166));return _r(e),null}if(t=Io(di.current),ud(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ci]=e,n[Nu]=s,t=(e.mode&1)!==0,r){case"dialog":ut("cancel",n),ut("close",n);break;case"iframe":case"object":case"embed":ut("load",n);break;case"video":case"audio":for(i=0;i<Mu.length;i++)ut(Mu[i],n);break;case"source":ut("error",n);break;case"img":case"image":case"link":ut("error",n),ut("load",n);break;case"details":ut("toggle",n);break;case"input":$_(n,s),ut("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},ut("invalid",n);break;case"textarea":Q_(n,s),ut("invalid",n)}fg(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&td(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&td(n.textContent,a,t),i=["children",""+a]):uu.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&ut("scroll",n)}switch(r){case"input":Mc(n),q_(n,s,!0);break;case"textarea":Mc(n),Z_(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=rd)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=J_(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ci]=e,t[Nu]=n,dE(t,e,!1,!1),e.stateNode=t;e:{switch(o=pg(r,n),r){case"dialog":ut("cancel",t),ut("close",t),i=n;break;case"iframe":case"object":case"embed":ut("load",t),i=n;break;case"video":case"audio":for(i=0;i<Mu.length;i++)ut(Mu[i],t);i=n;break;case"source":ut("error",t),i=n;break;case"img":case"image":case"link":ut("error",t),ut("load",t),i=n;break;case"details":ut("toggle",t),i=n;break;case"input":$_(t,n),i=lg(t,n),ut("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=bt({},n,{value:void 0}),ut("invalid",t);break;case"textarea":Q_(t,n),i=cg(t,n),ut("invalid",t);break;default:i=n}fg(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var u=a[s];s==="style"?rx(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ex(t,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&fu(t,u):typeof u=="number"&&fu(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(uu.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ut("scroll",t):u!=null&&Km(t,s,u,o))}switch(r){case"input":Mc(t),q_(t,n,!1);break;case"textarea":Mc(t),Z_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Ss(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?ka(t,!!n.multiple,s,!1):n.defaultValue!=null&&ka(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=rd)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return _r(e),null;case 6:if(t&&e.stateNode!=null)pE(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(re(166));if(r=Io(zu.current),Io(di.current),ud(e)){if(n=e.stateNode,r=e.memoizedProps,n[ci]=e,(s=n.nodeValue!==r)&&(t=tn,t!==null))switch(t.tag){case 3:td(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&td(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ci]=e,e.stateNode=n}return _r(e),null;case 13:if(ht(_t),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(dt&&rn!==null&&e.mode&1&&!(e.flags&128))gw(),Wa(),e.flags|=98560,s=!1;else if(s=ud(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(re(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(re(317));s[ci]=e}else Wa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;_r(e),s=!1}else Ln!==null&&(Gy(Ln),Ln=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||_t.current&1?qt===0&&(qt=3):Xy())),e.updateQueue!==null&&(e.flags|=4),_r(e),null);case 4:return qa(),Dy(t,e),t===null&&Du(e.stateNode.containerInfo),_r(e),null;case 10:return ay(e.type._context),_r(e),null;case 17:return Fr(e.type)&&id(),_r(e),null;case 19:if(ht(_t),s=e.memoizedState,s===null)return _r(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Wu(s,!1);else{if(qt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gd(t),o!==null){for(e.flags|=128,Wu(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return at(_t,_t.current&1|2),e.child}t=t.sibling}s.tail!==null&&Lt()>Ja&&(e.flags|=128,n=!0,Wu(s,!1),e.lanes=4194304)}else{if(!n)if(t=gd(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Wu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!dt)return _r(e),null}else 2*Lt()-s.renderingStartTime>Ja&&r!==1073741824&&(e.flags|=128,n=!0,Wu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Lt(),e.sibling=null,r=_t.current,at(_t,n?r&1|2:r&1),e):(_r(e),null);case 22:case 23:return Wy(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?nn&1073741824&&(_r(e),e.subtreeFlags&6&&(e.flags|=8192)):_r(e),null;case 24:return null;case 25:return null}throw Error(re(156,e.tag))}function PD(t,e){switch(ty(e),e.tag){case 1:return Fr(e.type)&&id(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return qa(),ht(Br),ht(vr),gy(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return py(e),null;case 13:if(ht(_t),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(re(340));Wa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ht(_t),null;case 4:return qa(),null;case 10:return ay(e.type._context),null;case 22:case 23:return Wy(),null;case 24:return null;default:return null}}var Td=!1,xr=!1,RD=typeof WeakSet=="function"?WeakSet:Set,pe=null;function Ka(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Rt(t,e,n)}else r.current=null}function mE(t,e,r){try{r()}catch(n){Rt(t,e,n)}}var gE=!1;function kD(t,e){if(Xg=Vc,t=Xx(),Fg(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,u=-1,c=0,d=0,p=t,m=null;t:for(;;){for(var g;p!==r||i!==0&&p.nodeType!==3||(a=o+i),p!==s||n!==0&&p.nodeType!==3||(u=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(g=p.firstChild)!==null;)m=p,p=g;for(;;){if(p===t)break t;if(m===r&&++c===i&&(a=o),m===s&&++d===n&&(u=o),(g=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=g}r=a===-1||u===-1?null:{start:a,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for($g={focusedElem:t,selectionRange:r},Vc=!1,pe=e;pe!==null;)if(e=pe,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,pe=t;else for(;pe!==null;){e=pe;try{var b=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(b!==null){var x=b.memoizedProps,A=b.memoizedState,T=e.stateNode,_=T.getSnapshotBeforeUpdate(e.elementType===e.type?x:Bn(e.type,x),A);T.__reactInternalSnapshotBeforeUpdate=_}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(re(163))}}catch(S){Rt(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,pe=t;break}pe=e.return}return b=gE,gE=!1,b}function Xu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mE(e,r,s)}i=i.next}while(i!==n)}}function Sd(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Oy(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function yE(t){var e=t.alternate;e!==null&&(t.alternate=null,yE(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ci],delete e[Nu],delete e[Kg],delete e[dD],delete e[fD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vE(t){return t.tag===5||t.tag===3||t.tag===4}function bE(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vE(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Ny(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=rd));else if(n!==4&&(t=t.child,t!==null))for(Ny(t,e,r),t=t.sibling;t!==null;)Ny(t,e,r),t=t.sibling}function Ly(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(Ly(t,e,r),t=t.sibling;t!==null;)Ly(t,e,r),t=t.sibling}var hr=null,Fn=!1;function Fs(t,e,r){for(r=r.child;r!==null;)_E(t,e,r),r=r.sibling}function _E(t,e,r){if(hi&&typeof hi.onCommitFiberUnmount=="function")try{hi.onCommitFiberUnmount(Fc,r)}catch{}switch(r.tag){case 5:xr||Ka(r,e);case 6:var n=hr,i=Fn;hr=null,Fs(t,e,r),hr=n,Fn=i,hr!==null&&(Fn?(t=hr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):hr.removeChild(r.stateNode));break;case 18:hr!==null&&(Fn?(t=hr,r=r.stateNode,t.nodeType===8?Qg(t.parentNode,r):t.nodeType===1&&Qg(t,r),Tu(t)):Qg(hr,r.stateNode));break;case 4:n=hr,i=Fn,hr=r.stateNode.containerInfo,Fn=!0,Fs(t,e,r),hr=n,Fn=i;break;case 0:case 11:case 14:case 15:if(!xr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&mE(r,e,o),i=i.next}while(i!==n)}Fs(t,e,r);break;case 1:if(!xr&&(Ka(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){Rt(r,e,a)}Fs(t,e,r);break;case 21:Fs(t,e,r);break;case 22:r.mode&1?(xr=(n=xr)||r.memoizedState!==null,Fs(t,e,r),xr=n):Fs(t,e,r);break;default:Fs(t,e,r)}}function xE(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new RD),e.forEach(function(n){var i=UD.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Un(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:hr=a.stateNode,Fn=!1;break e;case 3:hr=a.stateNode.containerInfo,Fn=!0;break e;case 4:hr=a.stateNode.containerInfo,Fn=!0;break e}a=a.return}if(hr===null)throw Error(re(160));_E(s,o,i),hr=null,Fn=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Rt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)wE(e,t),e=e.sibling}function wE(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Un(e,t),pi(t),n&4){try{Xu(3,t,t.return),Sd(3,t)}catch(x){Rt(t,t.return,x)}try{Xu(5,t,t.return)}catch(x){Rt(t,t.return,x)}}break;case 1:Un(e,t),pi(t),n&512&&r!==null&&Ka(r,r.return);break;case 5:if(Un(e,t),pi(t),n&512&&r!==null&&Ka(r,r.return),t.flags&32){var i=t.stateNode;try{fu(i,"")}catch(x){Rt(t,t.return,x)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&Y_(i,s),pg(a,o);var c=pg(a,s);for(o=0;o<u.length;o+=2){var d=u[o],p=u[o+1];d==="style"?rx(i,p):d==="dangerouslySetInnerHTML"?ex(i,p):d==="children"?fu(i,p):Km(i,d,p,c)}switch(a){case"input":ug(i,s);break;case"textarea":K_(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var g=s.value;g!=null?ka(i,!!s.multiple,g,!1):m!==!!s.multiple&&(s.defaultValue!=null?ka(i,!!s.multiple,s.defaultValue,!0):ka(i,!!s.multiple,s.multiple?[]:"",!1))}i[Nu]=s}catch(x){Rt(t,t.return,x)}}break;case 6:if(Un(e,t),pi(t),n&4){if(t.stateNode===null)throw Error(re(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(x){Rt(t,t.return,x)}}break;case 3:if(Un(e,t),pi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Tu(e.containerInfo)}catch(x){Rt(t,t.return,x)}break;case 4:Un(e,t),pi(t);break;case 13:Un(e,t),pi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Uy=Lt())),n&4&&xE(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(xr=(c=xr)||d,Un(e,t),xr=c):Un(e,t),pi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(pe=t,d=t.child;d!==null;){for(p=pe=d;pe!==null;){switch(m=pe,g=m.child,m.tag){case 0:case 11:case 14:case 15:Xu(4,m,m.return);break;case 1:Ka(m,m.return);var b=m.stateNode;if(typeof b.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,b.props=e.memoizedProps,b.state=e.memoizedState,b.componentWillUnmount()}catch(x){Rt(n,r,x)}}break;case 5:Ka(m,m.return);break;case 22:if(m.memoizedState!==null){SE(p);continue}}g!==null?(g.return=m,pe=g):SE(p)}d=d.sibling}e:for(d=null,p=t;;){if(p.tag===5){if(d===null){d=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,u=p.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,a.style.display=tx("display",o))}catch(x){Rt(t,t.return,x)}}}else if(p.tag===6){if(d===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(x){Rt(t,t.return,x)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;d===p&&(d=null),p=p.return}d===p&&(d=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Un(e,t),pi(t),n&4&&xE(t);break;case 21:break;default:Un(e,t),pi(t)}}function pi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(vE(r)){var n=r;break e}r=r.return}throw Error(re(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(fu(i,""),n.flags&=-33);var s=bE(t);Ly(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=bE(t);Ny(t,a,o);break;default:throw Error(re(161))}}catch(u){Rt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function ID(t,e,r){pe=t,EE(t)}function EE(t,e,r){for(var n=(t.mode&1)!==0;pe!==null;){var i=pe,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Td;if(!o){var a=i.alternate,u=a!==null&&a.memoizedState!==null||xr;a=Td;var c=xr;if(Td=o,(xr=u)&&!c)for(pe=i;pe!==null;)o=pe,u=o.child,o.tag===22&&o.memoizedState!==null?AE(i):u!==null?(u.return=o,pe=u):AE(i);for(;s!==null;)pe=s,EE(s),s=s.sibling;pe=i,Td=a,xr=c}TE(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,pe=s):TE(t)}}function TE(t){for(;pe!==null;){var e=pe;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:xr||Sd(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!xr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Bn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_w(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}_w(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var p=d.dehydrated;p!==null&&Tu(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(re(163))}xr||e.flags&512&&Oy(e)}catch(m){Rt(e,e.return,m)}}if(e===t){pe=null;break}if(r=e.sibling,r!==null){r.return=e.return,pe=r;break}pe=e.return}}function SE(t){for(;pe!==null;){var e=pe;if(e===t){pe=null;break}var r=e.sibling;if(r!==null){r.return=e.return,pe=r;break}pe=e.return}}function AE(t){for(;pe!==null;){var e=pe;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Sd(4,e)}catch(u){Rt(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){Rt(e,i,u)}}var s=e.return;try{Oy(e)}catch(u){Rt(e,s,u)}break;case 5:var o=e.return;try{Oy(e)}catch(u){Rt(e,o,u)}}}catch(u){Rt(e,e.return,u)}if(e===t){pe=null;break}var a=e.sibling;if(a!==null){a.return=e.return,pe=a;break}pe=e.return}}var MD=Math.ceil,Ad=Vi.ReactCurrentDispatcher,By=Vi.ReactCurrentOwner,vn=Vi.ReactCurrentBatchConfig,$e=0,er=null,jt=null,cr=0,nn=0,Za=Ds(0),qt=0,$u=null,Do=0,Cd=0,Fy=0,Yu=null,zr=null,Uy=0,Ja=1/0,Zi=null,Pd=!1,zy=null,Us=null,Rd=!1,zs=null,kd=0,qu=0,jy=null,Id=-1,Md=0;function Dr(){return $e&6?Lt():Id!==-1?Id:Id=Lt()}function js(t){return t.mode&1?$e&2&&cr!==0?cr&-cr:mD.transition!==null?(Md===0&&(Md=yx()),Md):(t=tt,t!==0||(t=window.event,t=t===void 0?16:Ax(t.type)),t):1}function zn(t,e,r,n){if(50<qu)throw qu=0,jy=null,Error(re(185));bu(t,r,n),(!($e&2)||t!==er)&&(t===er&&(!($e&2)&&(Cd|=r),qt===4&&Hs(t,cr)),jr(t,n),r===1&&$e===0&&!(e.mode&1)&&(Ja=Lt()+500,od&&Ns()))}function jr(t,e){var r=t.callbackNode;mM(t,e);var n=jc(t,t===er?cr:0);if(n===0)r!==null&&px(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&px(r),e===1)t.tag===0?pD(PE.bind(null,t)):cw(PE.bind(null,t)),hD(function(){!($e&6)&&Ns()}),r=null;else{switch(vx(n)){case 1:r=xg;break;case 4:r=mx;break;case 16:r=Bc;break;case 536870912:r=gx;break;default:r=Bc}r=LE(r,CE.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function CE(t,e){if(Id=-1,Md=0,$e&6)throw Error(re(327));var r=t.callbackNode;if(el()&&t.callbackNode!==r)return null;var n=jc(t,t===er?cr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Dd(t,n);else{e=n;var i=$e;$e|=2;var s=kE();(er!==t||cr!==e)&&(Zi=null,Ja=Lt()+500,No(t,e));do try{ND();break}catch(a){RE(t,a)}while(1);oy(),Ad.current=s,$e=i,jt!==null?e=0:(er=null,cr=0,e=qt)}if(e!==0){if(e===2&&(i=wg(t),i!==0&&(n=i,e=Hy(t,i))),e===1)throw r=$u,No(t,0),Hs(t,n),jr(t,Lt()),r;if(e===6)Hs(t,n);else{if(i=t.current.alternate,!(n&30)&&!DD(i)&&(e=Dd(t,n),e===2&&(s=wg(t),s!==0&&(n=s,e=Hy(t,s))),e===1))throw r=$u,No(t,0),Hs(t,n),jr(t,Lt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(re(345));case 2:Lo(t,zr,Zi);break;case 3:if(Hs(t,n),(n&130023424)===n&&(e=Uy+500-Lt(),10<e)){if(jc(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Dr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qg(Lo.bind(null,t,zr,Zi),e);break}Lo(t,zr,Zi);break;case 4:if(Hs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-On(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Lt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*MD(n/1960))-n,10<n){t.timeoutHandle=qg(Lo.bind(null,t,zr,Zi),n);break}Lo(t,zr,Zi);break;case 5:Lo(t,zr,Zi);break;default:throw Error(re(329))}}}return jr(t,Lt()),t.callbackNode===r?CE.bind(null,t):null}function Hy(t,e){var r=Yu;return t.current.memoizedState.isDehydrated&&(No(t,e).flags|=256),t=Dd(t,e),t!==2&&(e=zr,zr=r,e!==null&&Gy(e)),t}function Gy(t){zr===null?zr=t:zr.push.apply(zr,t)}function DD(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Nn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hs(t,e){for(e&=~Fy,e&=~Cd,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-On(e),n=1<<r;t[r]=-1,e&=~n}}function PE(t){if($e&6)throw Error(re(327));el();var e=jc(t,0);if(!(e&1))return jr(t,Lt()),null;var r=Dd(t,e);if(t.tag!==0&&r===2){var n=wg(t);n!==0&&(e=n,r=Hy(t,n))}if(r===1)throw r=$u,No(t,0),Hs(t,e),jr(t,Lt()),r;if(r===6)throw Error(re(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Lo(t,zr,Zi),jr(t,Lt()),null}function Vy(t,e){var r=$e;$e|=1;try{return t(e)}finally{$e=r,$e===0&&(Ja=Lt()+500,od&&Ns())}}function Oo(t){zs!==null&&zs.tag===0&&!($e&6)&&el();var e=$e;$e|=1;var r=vn.transition,n=tt;try{if(vn.transition=null,tt=1,t)return t()}finally{tt=n,vn.transition=r,$e=e,!($e&6)&&Ns()}}function Wy(){nn=Za.current,ht(Za)}function No(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,uD(r)),jt!==null)for(r=jt.return;r!==null;){var n=r;switch(ty(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&id();break;case 3:qa(),ht(Br),ht(vr),gy();break;case 5:py(n);break;case 4:qa();break;case 13:ht(_t);break;case 19:ht(_t);break;case 10:ay(n.type._context);break;case 22:case 23:Wy()}r=r.return}if(er=t,jt=t=Gs(t.current,null),cr=nn=e,qt=0,$u=null,Fy=Cd=Do=0,zr=Yu=null,ko!==null){for(e=0;e<ko.length;e++)if(r=ko[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}ko=null}return t}function RE(t,e){do{var r=jt;try{if(oy(),yd.current=xd,vd){for(var n=xt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}vd=!1}if(Mo=0,Jt=Yt=xt=null,ju=!1,Hu=0,By.current=null,r===null||r.return===null){qt=1,$u=e,jt=null;break}e:{var s=t,o=r.return,a=r,u=e;if(e=cr,a.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=a,p=d.tag;if(!(d.mode&1)&&(p===0||p===11||p===15)){var m=d.alternate;m?(d.updateQueue=m.updateQueue,d.memoizedState=m.memoizedState,d.lanes=m.lanes):(d.updateQueue=null,d.memoizedState=null)}var g=Jw(o);if(g!==null){g.flags&=-257,eE(g,o,a,s,e),g.mode&1&&Zw(s,c,e),e=g,u=c;var b=e.updateQueue;if(b===null){var x=new Set;x.add(u),e.updateQueue=x}else b.add(u);break e}else{if(!(e&1)){Zw(s,c,e),Xy();break e}u=Error(re(426))}}else if(dt&&a.mode&1){var A=Jw(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),eE(A,o,a,s,e),iy(Qa(u,a));break e}}s=u=Qa(u,a),qt!==4&&(qt=2),Yu===null?Yu=[s]:Yu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var T=Qw(s,u,e);bw(s,T);break e;case 1:a=u;var _=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof _.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Us===null||!Us.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=Kw(s,a,e);bw(s,S);break e}}s=s.return}while(s!==null)}ME(r)}catch(P){e=P,jt===r&&r!==null&&(jt=r=r.return);continue}break}while(1)}function kE(){var t=Ad.current;return Ad.current=xd,t===null?xd:t}function Xy(){(qt===0||qt===3||qt===2)&&(qt=4),er===null||!(Do&268435455)&&!(Cd&268435455)||Hs(er,cr)}function Dd(t,e){var r=$e;$e|=2;var n=kE();(er!==t||cr!==e)&&(Zi=null,No(t,e));do try{OD();break}catch(i){RE(t,i)}while(1);if(oy(),$e=r,Ad.current=n,jt!==null)throw Error(re(261));return er=null,cr=0,qt}function OD(){for(;jt!==null;)IE(jt)}function ND(){for(;jt!==null&&!oM();)IE(jt)}function IE(t){var e=NE(t.alternate,t,nn);t.memoizedProps=t.pendingProps,e===null?ME(t):jt=e,By.current=null}function ME(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=PD(r,e),r!==null){r.flags&=32767,jt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{qt=6,jt=null;return}}else if(r=CD(r,e,nn),r!==null){jt=r;return}if(e=e.sibling,e!==null){jt=e;return}jt=e=t}while(e!==null);qt===0&&(qt=5)}function Lo(t,e,r){var n=tt,i=vn.transition;try{vn.transition=null,tt=1,LD(t,e,r,n)}finally{vn.transition=i,tt=n}return null}function LD(t,e,r,n){do el();while(zs!==null);if($e&6)throw Error(re(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(re(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(gM(t,s),t===er&&(jt=er=null,cr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Rd||(Rd=!0,LE(Bc,function(){return el(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=vn.transition,vn.transition=null;var o=tt;tt=1;var a=$e;$e|=4,By.current=null,kD(t,r),wE(r,t),rD($g),Vc=!!Xg,$g=Xg=null,t.current=r,ID(r),aM(),$e=a,tt=o,vn.transition=s}else t.current=r;if(Rd&&(Rd=!1,zs=t,kd=i),s=t.pendingLanes,s===0&&(Us=null),hM(r.stateNode),jr(t,Lt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Pd)throw Pd=!1,t=zy,zy=null,t;return kd&1&&t.tag!==0&&el(),s=t.pendingLanes,s&1?t===jy?qu++:(qu=0,jy=t):qu=0,Ns(),null}function el(){if(zs!==null){var t=vx(kd),e=vn.transition,r=tt;try{if(vn.transition=null,tt=16>t?16:t,zs===null)var n=!1;else{if(t=zs,zs=null,kd=0,$e&6)throw Error(re(331));var i=$e;for($e|=4,pe=t.current;pe!==null;){var s=pe,o=s.child;if(pe.flags&16){var a=s.deletions;if(a!==null){for(var u=0;u<a.length;u++){var c=a[u];for(pe=c;pe!==null;){var d=pe;switch(d.tag){case 0:case 11:case 15:Xu(8,d,s)}var p=d.child;if(p!==null)p.return=d,pe=p;else for(;pe!==null;){d=pe;var m=d.sibling,g=d.return;if(yE(d),d===c){pe=null;break}if(m!==null){m.return=g,pe=m;break}pe=g}}}var b=s.alternate;if(b!==null){var x=b.child;if(x!==null){b.child=null;do{var A=x.sibling;x.sibling=null,x=A}while(x!==null)}}pe=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,pe=o;else e:for(;pe!==null;){if(s=pe,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Xu(9,s,s.return)}var T=s.sibling;if(T!==null){T.return=s.return,pe=T;break e}pe=s.return}}var _=t.current;for(pe=_;pe!==null;){o=pe;var w=o.child;if(o.subtreeFlags&2064&&w!==null)w.return=o,pe=w;else e:for(o=_;pe!==null;){if(a=pe,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Sd(9,a)}}catch(P){Rt(a,a.return,P)}if(a===o){pe=null;break e}var S=a.sibling;if(S!==null){S.return=a.return,pe=S;break e}pe=a.return}}if($e=i,Ns(),hi&&typeof hi.onPostCommitFiberRoot=="function")try{hi.onPostCommitFiberRoot(Fc,t)}catch{}n=!0}return n}finally{tt=r,vn.transition=e}}return!1}function DE(t,e,r){e=Qa(r,e),e=Qw(t,e,1),t=Bs(t,e,1),e=Dr(),t!==null&&(bu(t,1,e),jr(t,e))}function Rt(t,e,r){if(t.tag===3)DE(t,t,r);else for(;e!==null;){if(e.tag===3){DE(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Us===null||!Us.has(n))){t=Qa(r,t),t=Kw(e,t,1),e=Bs(e,t,1),t=Dr(),e!==null&&(bu(e,1,t),jr(e,t));break}}e=e.return}}function BD(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Dr(),t.pingedLanes|=t.suspendedLanes&r,er===t&&(cr&r)===r&&(qt===4||qt===3&&(cr&130023424)===cr&&500>Lt()-Uy?No(t,0):Fy|=r),jr(t,e)}function OE(t,e){e===0&&(t.mode&1?(e=zc,zc<<=1,!(zc&130023424)&&(zc=4194304)):e=1);var r=Dr();t=qi(t,e),t!==null&&(bu(t,e,r),jr(t,r))}function FD(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),OE(t,r)}function UD(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(re(314))}n!==null&&n.delete(e),OE(t,r)}var NE;NE=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Br.current)Ur=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Ur=!1,AD(t,e,r);Ur=!!(t.flags&131072)}else Ur=!1,dt&&e.flags&1048576&&dw(e,ld,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ed(t,e),t=e.pendingProps;var i=Ha(e,vr.current);$a(e,r),i=by(null,e,n,t,i,r);var s=_y();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Fr(n)?(s=!0,sd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,hy(e),i.updater=pd,e.stateNode=i,i._reactInternals=e,dy(e,n,t,r),e=Py(null,e,n,!0,s,r)):(e.tag=0,dt&&s&&ey(e),Mr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ed(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=jD(n),t=Bn(n,t),i){case 0:e=Cy(null,e,n,t,r);break e;case 1:e=oE(null,e,n,t,r);break e;case 11:e=tE(null,e,n,t,r);break e;case 14:e=rE(null,e,n,Bn(n.type,t),r);break e}throw Error(re(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bn(n,i),Cy(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bn(n,i),oE(t,e,n,i,r);case 3:e:{if(aE(e),t===null)throw Error(re(387));n=e.pendingProps,s=e.memoizedState,i=s.element,vw(t,e),fd(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Qa(Error(re(423)),e),e=lE(t,e,n,r,i);break e}else if(n!==i){i=Qa(Error(re(424)),e),e=lE(t,e,n,r,i);break e}else for(rn=Ms(e.stateNode.containerInfo.firstChild),tn=e,dt=!0,Ln=null,r=Cw(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Wa(),n===i){e=Ki(t,e,r);break e}Mr(t,e,n,r)}e=e.child}return e;case 5:return Pw(e),t===null&&ny(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Yg(n,i)?o=null:s!==null&&Yg(n,s)&&(e.flags|=32),sE(t,e),Mr(t,e,o,r),e.child;case 6:return t===null&&ny(e),null;case 13:return uE(t,e,r);case 4:return fy(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ya(e,null,n,r):Mr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bn(n,i),tE(t,e,n,i,r);case 7:return Mr(t,e,e.pendingProps,r),e.child;case 8:return Mr(t,e,e.pendingProps.children,r),e.child;case 12:return Mr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,at(hd,n._currentValue),n._currentValue=o,s!==null)if(Nn(s.value,o)){if(s.children===i.children&&!Br.current){e=Ki(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var u=a.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=Qi(-1,r&-r),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),ly(s.return,r,e),a.lanes|=r;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(re(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),ly(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Mr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,$a(e,r),i=gn(i),n=n(i),e.flags|=1,Mr(t,e,n,r),e.child;case 14:return n=e.type,i=Bn(n,e.pendingProps),i=Bn(n.type,i),rE(t,e,n,i,r);case 15:return nE(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bn(n,i),Ed(t,e),e.tag=1,Fr(n)?(t=!0,sd(e)):t=!1,$a(e,r),Ew(e,n,i),dy(e,n,i,r),Py(null,e,n,!0,t,r);case 19:return cE(t,e,r);case 22:return iE(t,e,r)}throw Error(re(156,e.tag))};function LE(t,e){return fx(t,e)}function zD(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function bn(t,e,r,n){return new zD(t,e,r,n)}function $y(t){return t=t.prototype,!(!t||!t.isReactComponent)}function jD(t){if(typeof t=="function")return $y(t)?1:0;if(t!=null){if(t=t.$$typeof,t===eg)return 11;if(t===ng)return 14}return 2}function Gs(t,e){var r=t.alternate;return r===null?(r=bn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Od(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")$y(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Ra:return Bo(r.children,i,s,e);case Zm:o=8,i|=8;break;case Jm:return t=bn(12,r,e,i|2),t.elementType=Jm,t.lanes=s,t;case tg:return t=bn(13,r,e,i),t.elementType=tg,t.lanes=s,t;case rg:return t=bn(19,r,e,i),t.elementType=rg,t.lanes=s,t;case G_:return Nd(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case j_:o=10;break e;case H_:o=9;break e;case eg:o=11;break e;case ng:o=14;break e;case Ts:o=16,n=null;break e}throw Error(re(130,t==null?t:typeof t,""))}return e=bn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Bo(t,e,r,n){return t=bn(7,t,n,e),t.lanes=r,t}function Nd(t,e,r,n){return t=bn(22,t,n,e),t.elementType=G_,t.lanes=r,t.stateNode={isHidden:!1},t}function Yy(t,e,r){return t=bn(6,t,null,e),t.lanes=r,t}function qy(t,e,r){return e=bn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function HD(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Eg(0),this.expirationTimes=Eg(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Eg(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Qy(t,e,r,n,i,s,o,a,u){return t=new HD(t,e,r,a,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=bn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},hy(s),t}function GD(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Pa,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function BE(t){if(!t)return Os;t=t._reactInternals;e:{if(So(t)!==t||t.tag!==1)throw Error(re(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Fr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(re(171))}if(t.tag===1){var r=t.type;if(Fr(r))return uw(t,r,e)}return e}function FE(t,e,r,n,i,s,o,a,u){return t=Qy(r,n,!0,t,i,s,o,a,u),t.context=BE(null),r=t.current,n=Dr(),i=js(r),s=Qi(n,i),s.callback=e??null,Bs(r,s,i),t.current.lanes=i,bu(t,i,n),jr(t,n),t}function Ld(t,e,r,n){var i=e.current,s=Dr(),o=js(i);return r=BE(r),e.context===null?e.context=r:e.pendingContext=r,e=Qi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Bs(i,e,o),t!==null&&(zn(t,i,o,s),dd(t,i,o)),o}function Bd(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function UE(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Ky(t,e){UE(t,e),(t=t.alternate)&&UE(t,e)}function VD(){return null}var zE=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zy(t){this._internalRoot=t}Fd.prototype.render=Zy.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(re(409));Ld(t,e,null,null)},Fd.prototype.unmount=Zy.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Oo(function(){Ld(null,t,null,null)}),e[Wi]=null}};function Fd(t){this._internalRoot=t}Fd.prototype.unstable_scheduleHydration=function(t){if(t){var e=xx();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Rs.length&&e!==0&&e<Rs[r].priority;r++);Rs.splice(r,0,t),r===0&&Tx(t)}};function Jy(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ud(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jE(){}function WD(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=Bd(o);s.call(c)}}var o=FE(e,n,t,0,null,!1,!1,"",jE);return t._reactRootContainer=o,t[Wi]=o.current,Du(t.nodeType===8?t.parentNode:t),Oo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var c=Bd(u);a.call(c)}}var u=Qy(t,0,!1,null,null,!1,!1,"",jE);return t._reactRootContainer=u,t[Wi]=u.current,Du(t.nodeType===8?t.parentNode:t),Oo(function(){Ld(e,u,r,n)}),u}function zd(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var u=Bd(o);a.call(u)}}Ld(e,o,t,i)}else o=WD(r,e,t,i,n);return Bd(o)}bx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=vu(e.pendingLanes);r!==0&&(Tg(e,r|1),jr(e,Lt()),!($e&6)&&(Ja=Lt()+500,Ns()))}break;case 13:Oo(function(){var n=qi(t,1);if(n!==null){var i=Dr();zn(n,t,1,i)}}),Ky(t,1)}},Sg=function(t){if(t.tag===13){var e=qi(t,134217728);if(e!==null){var r=Dr();zn(e,t,134217728,r)}Ky(t,134217728)}},_x=function(t){if(t.tag===13){var e=js(t),r=qi(t,e);if(r!==null){var n=Dr();zn(r,t,e,n)}Ky(t,e)}},xx=function(){return tt},wx=function(t,e){var r=tt;try{return tt=t,e()}finally{tt=r}},yg=function(t,e,r){switch(e){case"input":if(ug(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=nd(n);if(!i)throw Error(re(90));X_(n),ug(n,i)}}}break;case"textarea":K_(t,r);break;case"select":e=r.value,e!=null&&ka(t,!!r.multiple,e,!1)}},ox=Vy,ax=Oo;var XD={usingClientEntryPoint:!1,Events:[Lu,za,nd,ix,sx,Vy]},Qu={findFiberByHostInstance:Ao,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},$D={bundleType:Qu.bundleType,version:Qu.version,rendererPackageName:Qu.rendererPackageName,rendererConfig:Qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Vi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cx(t),t===null?null:t.stateNode},findFiberByHostInstance:Qu.findFiberByHostInstance||VD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jd.isDisabled&&jd.supportsFiber)try{Fc=jd.inject($D),hi=jd}catch{}}Zr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=XD,Zr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Jy(e))throw Error(re(200));return GD(t,e,null,r)},Zr.createRoot=function(t,e){if(!Jy(t))throw Error(re(299));var r=!1,n="",i=zE;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Qy(t,1,!1,null,null,r,!1,n,i),t[Wi]=e.current,Du(t.nodeType===8?t.parentNode:t),new Zy(e)},Zr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(re(188)):(t=Object.keys(t).join(","),Error(re(268,t)));return t=cx(e),t=t===null?null:t.stateNode,t},Zr.flushSync=function(t){return Oo(t)},Zr.hydrate=function(t,e,r){if(!Ud(e))throw Error(re(200));return zd(null,t,e,!0,r)},Zr.hydrateRoot=function(t,e,r){if(!Jy(t))throw Error(re(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=zE;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=FE(e,null,t,1,r??null,i,!1,s,o),t[Wi]=e.current,Du(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Fd(e)},Zr.render=function(t,e,r){if(!Ud(e))throw Error(re(200));return zd(null,t,e,!1,r)},Zr.unmountComponentAtNode=function(t){if(!Ud(t))throw Error(re(40));return t._reactRootContainer?(Oo(function(){zd(null,null,t,!1,function(){t._reactRootContainer=null,t[Wi]=null})}),!0):!1},Zr.unstable_batchedUpdates=Vy,Zr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Ud(r))throw Error(re(200));if(t==null||t._reactInternals===void 0)throw Error(re(38));return zd(t,e,r,!1,n)},Zr.version="18.2.0-next-9e3b772b8-20220608";function HE(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HE)}catch(t){console.error(t)}}HE(),O_.exports=Zr;var YD=O_.exports,GE=YD;$m.createRoot=GE.createRoot,$m.hydrateRoot=GE.hydrateRoot;function ft(){return ft=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ft.apply(this,arguments)}var Ht;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ht||(Ht={}));const VE="popstate";function qD(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return Ku("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Fo(i)}return KD(e,r,null,t)}function ze(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tl(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function QD(){return Math.random().toString(36).substr(2,8)}function WE(t,e){return{usr:t.state,key:t.key,idx:e}}function Ku(t,e,r,n){return r===void 0&&(r=null),ft({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Ji(e):e,{state:r,key:e&&e.key||n||QD()})}function Fo(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Ji(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function KD(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Ht.Pop,u=null,c=d();c==null&&(c=0,o.replaceState(ft({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function p(){a=Ht.Pop;let A=d(),T=A==null?null:A-c;c=A,u&&u({action:a,location:x.location,delta:T})}function m(A,T){a=Ht.Push;let _=Ku(x.location,A,T);r&&r(_,A),c=d()+1;let w=WE(_,c),S=x.createHref(_);try{o.pushState(w,"",S)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(S)}s&&u&&u({action:a,location:x.location,delta:1})}function g(A,T){a=Ht.Replace;let _=Ku(x.location,A,T);r&&r(_,A),c=d();let w=WE(_,c),S=x.createHref(_);o.replaceState(w,"",S),s&&u&&u({action:a,location:x.location,delta:0})}function b(A){let T=i.location.origin!=="null"?i.location.origin:i.location.href,_=typeof A=="string"?A:Fo(A);return ze(T,"No window.location.(origin|href) available to create URL for href: "+_),new URL(_,T)}let x={get action(){return a},get location(){return t(i,o)},listen(A){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(VE,p),u=A,()=>{i.removeEventListener(VE,p),u=null}},createHref(A){return e(i,A)},createURL:b,encodeLocation(A){let T=b(A);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:m,replace:g,go(A){return o.go(A)}};return x}var Bt;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Bt||(Bt={}));const ZD=new Set(["lazy","caseSensitive","path","id","index","children"]);function JD(t){return t.index===!0}function ev(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let o=[...r,s],a=typeof i.id=="string"?i.id:o.join("-");if(ze(i.index!==!0||!i.children,"Cannot specify children on an index route"),ze(!n[a],'Found a route id collision on id "'+a+`".  Route id's must be globally unique within Data Router usages`),JD(i)){let u=ft({},i,e(i),{id:a});return n[a]=u,u}else{let u=ft({},i,e(i),{id:a,children:void 0});return n[a]=u,i.children&&(u.children=ev(i.children,e,o,n)),u}})}function rl(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?Ji(e):e,i=nl(n.pathname||"/",r);if(i==null)return null;let s=XE(t);eO(s);let o=null;for(let a=0;o==null&&a<s.length;++a)o=uO(s[a],dO(i));return o}function XE(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let u={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};u.relativePath.startsWith("/")&&(ze(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=es([n,u.relativePath]),d=r.concat(u);s.children&&s.children.length>0&&(ze(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),XE(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:aO(c,s.index),routesMeta:d})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let u of $E(s.path))i(s,o,u)}),e}function $E(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=$E(n.join("/")),a=[];return a.push(...o.map(u=>u===""?s:[s,u].join("/"))),i&&a.push(...o),a.map(u=>t.startsWith("/")&&u===""?"/":u)}function eO(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:lO(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const tO=/^:\w+$/,rO=3,nO=2,iO=1,sO=10,oO=-2,YE=t=>t==="*";function aO(t,e){let r=t.split("/"),n=r.length;return r.some(YE)&&(n+=oO),e&&(n+=nO),r.filter(i=>!YE(i)).reduce((i,s)=>i+(tO.test(s)?rO:s===""?iO:sO),n)}function lO(t,e){return t.length===e.length&&t.slice(0,-1).every((r,n)=>r===e[n])?t[t.length-1]-e[e.length-1]:0}function uO(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let a=r[o],u=o===r.length-1,c=i==="/"?e:e.slice(i.length)||"/",d=hO({path:a.relativePath,caseSensitive:a.caseSensitive,end:u},c);if(!d)return null;Object.assign(n,d.params);let p=a.route;s.push({params:n,pathname:es([i,d.pathname]),pathnameBase:gO(es([i,d.pathnameBase])),route:p}),d.pathnameBase!=="/"&&(i=es([i,d.pathnameBase]))}return s}function hO(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=cO(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,d)=>{if(c==="*"){let p=a[d]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return u[c]=fO(a[d]||"",c),u},{}),pathname:s,pathnameBase:o,pattern:t}}function cO(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),tl(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,o)=>(n.push(o),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function dO(t){try{return decodeURI(t)}catch(e){return tl(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function fO(t,e){try{return decodeURIComponent(t)}catch(r){return tl(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function nl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function pO(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Ji(t):t;return{pathname:r?r.startsWith("/")?r:mO(r,e):e,search:yO(n),hash:vO(i)}}function mO(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function tv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Hd(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function rv(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Ji(t):(i=ft({},t),ze(!i.pathname||!i.pathname.includes("?"),tv("?","pathname","search",i)),ze(!i.pathname||!i.pathname.includes("#"),tv("#","pathname","hash",i)),ze(!i.search||!i.search.includes("#"),tv("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(n||o==null)a=r;else{let p=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}a=p>=0?e[p]:"/"}let u=pO(i,a),c=o&&o!=="/"&&o.endsWith("/"),d=(s||o===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const es=t=>t.join("/").replace(/\/\/+/g,"/"),gO=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),yO=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vO=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class nv{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function qE(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const QE=["post","put","patch","delete"],bO=new Set(QE),_O=["get",...QE],xO=new Set(_O),wO=new Set([301,302,303,307,308]),EO=new Set([307,308]),iv={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},TO={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},Zu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},KE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,SO=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function AO(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;ze(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let B=t.detectErrorBoundary;i=z=>({hasErrorBoundary:B(z)})}else i=SO;let s={},o=ev(t.routes,i,void 0,s),a,u=t.basename||"/",c=ft({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),d=null,p=new Set,m=null,g=null,b=null,x=t.hydrationData!=null,A=rl(o,t.history.location,u),T=null;if(A==null){let B=_n(404,{pathname:t.history.location.pathname}),{matches:z,route:ee}=oT(o);A=z,T={[ee.id]:B}}let _=!A.some(B=>B.route.lazy)&&(!A.some(B=>B.route.loader)||t.hydrationData!=null),w,S={historyAction:t.history.action,location:t.history.location,matches:A,initialized:_,navigation:iv,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||T,fetchers:new Map,blockers:new Map},P=Ht.Pop,D=!1,k,R=!1,F=!1,X=[],K=[],$=new Map,U=0,j=-1,ae=new Map,de=new Set,ne=new Map,N=new Map,W=new Map,M=!1;function Y(){return d=t.history.listen(B=>{let{action:z,location:ee,delta:ge}=B;if(M){M=!1;return}tl(W.size===0||ge!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Oe=qp({currentLocation:S.location,nextLocation:ee,historyAction:z});if(Oe&&ge!=null){M=!0,t.history.go(ge*-1),Xl(Oe,{state:"blocked",location:ee,proceed(){Xl(Oe,{state:"proceeding",proceed:void 0,reset:void 0,location:ee}),t.history.go(ge)},reset(){let Ie=new Map(S.blockers);Ie.set(Oe,Zu),fe({blockers:Ie})}});return}return rt(z,ee)}),S.initialized||rt(Ht.Pop,S.location),w}function oe(){d&&d(),p.clear(),k&&k.abort(),S.fetchers.forEach((B,z)=>tc(z)),S.blockers.forEach((B,z)=>Yp(z))}function Me(B){return p.add(B),()=>p.delete(B)}function fe(B){S=ft({},S,B),p.forEach(z=>z(S))}function Ue(B,z){var ee,ge;let Oe=S.actionData!=null&&S.navigation.formMethod!=null&&jn(S.navigation.formMethod)&&S.navigation.state==="loading"&&((ee=B.state)==null?void 0:ee._isRedirect)!==!0,Ie;z.actionData?Object.keys(z.actionData).length>0?Ie=z.actionData:Ie=null:Oe?Ie=S.actionData:Ie=null;let De=z.loaderData?sT(S.loaderData,z.loaderData,z.matches||[],z.errors):S.loaderData,Ae=S.blockers;Ae.size>0&&(Ae=new Map(Ae),Ae.forEach((ot,Xt)=>Ae.set(Xt,Zu)));let xe=D===!0||S.navigation.formMethod!=null&&jn(S.navigation.formMethod)&&((ge=B.state)==null?void 0:ge._isRedirect)!==!0;a&&(o=a,a=void 0),R||P===Ht.Pop||(P===Ht.Push?t.history.push(B,B.state):P===Ht.Replace&&t.history.replace(B,B.state)),fe(ft({},z,{actionData:Ie,loaderData:De,historyAction:P,location:B,initialized:!0,navigation:iv,revalidation:"idle",restoreScrollPosition:Kp(B,z.matches||S.matches),preventScrollReset:xe,blockers:Ae})),P=Ht.Pop,D=!1,R=!1,F=!1,X=[],K=[]}async function ke(B,z){if(typeof B=="number"){t.history.go(B);return}let ee=sv(S.location,S.matches,u,c.v7_prependBasename,B,z==null?void 0:z.fromRouteId,z==null?void 0:z.relative),{path:ge,submission:Oe,error:Ie}=ZE(c.v7_normalizeFormMethod,!1,ee,z),De=S.location,Ae=Ku(S.location,ge,z&&z.state);Ae=ft({},Ae,t.history.encodeLocation(Ae));let xe=z&&z.replace!=null?z.replace:void 0,ot=Ht.Push;xe===!0?ot=Ht.Replace:xe===!1||Oe!=null&&jn(Oe.formMethod)&&Oe.formAction===S.location.pathname+S.location.search&&(ot=Ht.Replace);let Xt=z&&"preventScrollReset"in z?z.preventScrollReset===!0:void 0,Ke=qp({currentLocation:De,nextLocation:Ae,historyAction:ot});if(Ke){Xl(Ke,{state:"blocked",location:Ae,proceed(){Xl(Ke,{state:"proceeding",proceed:void 0,reset:void 0,location:Ae}),ke(B,z)},reset(){let Ct=new Map(S.blockers);Ct.set(Ke,Zu),fe({blockers:Ct})}});return}return await rt(ot,Ae,{submission:Oe,pendingError:Ie,preventScrollReset:Xt,replace:z&&z.replace})}function Ve(){if(fa(),fe({revalidation:"loading"}),S.navigation.state!=="submitting"){if(S.navigation.state==="idle"){rt(S.historyAction,S.location,{startUninterruptedRevalidation:!0});return}rt(P||S.historyAction,S.navigation.location,{overrideNavigation:S.navigation})}}async function rt(B,z,ee){k&&k.abort(),k=null,P=B,R=(ee&&ee.startUninterruptedRevalidation)===!0,i1(S.location,S.matches),D=(ee&&ee.preventScrollReset)===!0;let ge=a||o,Oe=ee&&ee.overrideNavigation,Ie=rl(ge,z,u);if(!Ie){let Ct=_n(404,{pathname:z.pathname}),{matches:Ot,route:ki}=oT(ge);rc(),Ue(z,{matches:Ot,loaderData:{},errors:{[ki.id]:Ct}});return}if(S.initialized&&!F&&IO(S.location,z)&&!(ee&&ee.submission&&jn(ee.submission.formMethod))){Ue(z,{matches:Ie});return}k=new AbortController;let De=eh(t.history,z,k.signal,ee&&ee.submission),Ae,xe;if(ee&&ee.pendingError)xe={[il(Ie).route.id]:ee.pendingError};else if(ee&&ee.submission&&jn(ee.submission.formMethod)){let Ct=await At(De,z,ee.submission,Ie,{replace:ee.replace});if(Ct.shortCircuited)return;Ae=Ct.pendingActionData,xe=Ct.pendingActionError,Oe=Gd(z,ee.submission),De=new Request(De.url,{signal:De.signal})}let{shortCircuited:ot,loaderData:Xt,errors:Ke}=await nt(De,z,Ie,Oe,ee&&ee.submission,ee&&ee.fetcherSubmission,ee&&ee.replace,Ae,xe);ot||(k=null,Ue(z,ft({matches:Ie},Ae?{actionData:Ae}:{},{loaderData:Xt,errors:Ke})))}async function At(B,z,ee,ge,Oe){Oe===void 0&&(Oe={}),fa();let Ie=LO(z,ee);fe({navigation:Ie});let De,Ae=lv(ge,z);if(!Ae.route.action&&!Ae.route.lazy)De={type:Bt.error,error:_n(405,{method:B.method,pathname:z.pathname,routeId:Ae.route.id})};else if(De=await Ju("action",B,Ae,ge,s,i,u),B.signal.aborted)return{shortCircuited:!0};if(sl(De)){let xe;return Oe&&Oe.replace!=null?xe=Oe.replace:xe=De.location===S.location.pathname+S.location.search,await ir(S,De,{submission:ee,replace:xe}),{shortCircuited:!0}}if(th(De)){let xe=il(ge,Ae.route.id);return(Oe&&Oe.replace)!==!0&&(P=Ht.Push),{pendingActionData:{},pendingActionError:{[xe.route.id]:De.error}}}if(Uo(De))throw _n(400,{type:"defer-action"});return{pendingActionData:{[Ae.route.id]:De.data}}}async function nt(B,z,ee,ge,Oe,Ie,De,Ae,xe){let ot=ge||Gd(z,Oe),Xt=Oe||Ie||cT(ot),Ke=a||o,[Ct,Ot]=JE(t.history,S,ee,Xt,z,F,X,K,ne,de,Ke,u,Ae,xe);if(rc(Je=>!(ee&&ee.some(un=>un.route.id===Je))||Ct&&Ct.some(un=>un.route.id===Je)),j=++U,Ct.length===0&&Ot.length===0){let Je=Xp();return Ue(z,ft({matches:ee,loaderData:{},errors:xe||null},Ae?{actionData:Ae}:{},Je?{fetchers:new Map(S.fetchers)}:{})),{shortCircuited:!0}}if(!R){Ot.forEach(un=>{let Mi=S.fetchers.get(un.key),oc=rh(void 0,Mi?Mi.data:void 0);S.fetchers.set(un.key,oc)});let Je=Ae||S.actionData;fe(ft({navigation:ot},Je?Object.keys(Je).length===0?{actionData:null}:{actionData:Je}:{},Ot.length>0?{fetchers:new Map(S.fetchers)}:{}))}Ot.forEach(Je=>{$.has(Je.key)&&Xr(Je.key),Je.controller&&$.set(Je.key,Je.controller)});let ki=()=>Ot.forEach(Je=>Xr(Je.key));k&&k.signal.addEventListener("abort",ki);let{results:Ii,loaderResults:ma,fetcherResults:nc}=await Ri(S.matches,ee,Ct,Ot,B);if(B.signal.aborted)return{shortCircuited:!0};k&&k.signal.removeEventListener("abort",ki),Ot.forEach(Je=>$.delete(Je.key));let ii=aT(Ii);if(ii){if(ii.idx>=Ct.length){let Je=Ot[ii.idx-Ct.length].key;de.add(Je)}return await ir(S,ii.result,{replace:De}),{shortCircuited:!0}}let{loaderData:Sn,errors:ho}=iT(S,ee,Ct,ma,xe,Ot,nc,N);N.forEach((Je,un)=>{Je.subscribe(Mi=>{(Mi||Je.done)&&N.delete(un)})});let ic=Xp(),sc=$p(j),co=ic||sc||Ot.length>0;return ft({loaderData:Sn,errors:ho},co?{fetchers:new Map(S.fetchers)}:{})}function Re(B){return S.fetchers.get(B)||TO}function Ze(B,z,ee,ge){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");$.has(B)&&Xr(B);let Oe=a||o,Ie=sv(S.location,S.matches,u,c.v7_prependBasename,ee,z,ge==null?void 0:ge.relative),De=rl(Oe,Ie,u);if(!De){ni(B,z,_n(404,{pathname:Ie}));return}let{path:Ae,submission:xe,error:ot}=ZE(c.v7_normalizeFormMethod,!0,Ie,ge);if(ot){ni(B,z,ot);return}let Xt=lv(De,Ae);if(D=(ge&&ge.preventScrollReset)===!0,xe&&jn(xe.formMethod)){je(B,z,Ae,Xt,De,xe);return}ne.set(B,{routeId:z,path:Ae}),Wr(B,z,Ae,Xt,De,xe)}async function je(B,z,ee,ge,Oe,Ie){if(fa(),ne.delete(B),!ge.route.action&&!ge.route.lazy){let Ut=_n(405,{method:Ie.formMethod,pathname:ee,routeId:z});ni(B,z,Ut);return}let De=S.fetchers.get(B),Ae=BO(Ie,De);S.fetchers.set(B,Ae),fe({fetchers:new Map(S.fetchers)});let xe=new AbortController,ot=eh(t.history,ee,xe.signal,Ie);$.set(B,xe);let Xt=U,Ke=await Ju("action",ot,ge,Oe,s,i,u);if(ot.signal.aborted){$.get(B)===xe&&$.delete(B);return}if(sl(Ke))if($.delete(B),j>Xt){let Ut=ol(void 0);S.fetchers.set(B,Ut),fe({fetchers:new Map(S.fetchers)});return}else{de.add(B);let Ut=rh(Ie);return S.fetchers.set(B,Ut),fe({fetchers:new Map(S.fetchers)}),ir(S,Ke,{submission:Ie,isFetchActionRedirect:!0})}if(th(Ke)){ni(B,z,Ke.error);return}if(Uo(Ke))throw _n(400,{type:"defer-action"});let Ct=S.navigation.location||S.location,Ot=eh(t.history,Ct,xe.signal),ki=a||o,Ii=S.navigation.state!=="idle"?rl(ki,S.navigation.location,u):S.matches;ze(Ii,"Didn't find any matches after fetcher action");let ma=++U;ae.set(B,ma);let nc=rh(Ie,Ke.data);S.fetchers.set(B,nc);let[ii,Sn]=JE(t.history,S,Ii,Ie,Ct,F,X,K,ne,de,ki,u,{[ge.route.id]:Ke.data},void 0);Sn.filter(Ut=>Ut.key!==B).forEach(Ut=>{let ga=Ut.key,Zp=S.fetchers.get(ga),o1=rh(void 0,Zp?Zp.data:void 0);S.fetchers.set(ga,o1),$.has(ga)&&Xr(ga),Ut.controller&&$.set(ga,Ut.controller)}),fe({fetchers:new Map(S.fetchers)});let ho=()=>Sn.forEach(Ut=>Xr(Ut.key));xe.signal.addEventListener("abort",ho);let{results:ic,loaderResults:sc,fetcherResults:co}=await Ri(S.matches,Ii,ii,Sn,Ot);if(xe.signal.aborted)return;xe.signal.removeEventListener("abort",ho),ae.delete(B),$.delete(B),Sn.forEach(Ut=>$.delete(Ut.key));let Je=aT(ic);if(Je){if(Je.idx>=ii.length){let Ut=Sn[Je.idx-ii.length].key;de.add(Ut)}return ir(S,Je.result)}let{loaderData:un,errors:Mi}=iT(S,S.matches,ii,sc,void 0,Sn,co,N);if(S.fetchers.has(B)){let Ut=ol(Ke.data);S.fetchers.set(B,Ut)}let oc=$p(ma);S.navigation.state==="loading"&&ma>j?(ze(P,"Expected pending action"),k&&k.abort(),Ue(S.navigation.location,{matches:Ii,loaderData:un,errors:Mi,fetchers:new Map(S.fetchers)})):(fe(ft({errors:Mi,loaderData:sT(S.loaderData,un,Ii,Mi)},oc||Sn.length>0?{fetchers:new Map(S.fetchers)}:{})),F=!1)}async function Wr(B,z,ee,ge,Oe,Ie){let De=S.fetchers.get(B),Ae=rh(Ie,De?De.data:void 0);S.fetchers.set(B,Ae),fe({fetchers:new Map(S.fetchers)});let xe=new AbortController,ot=eh(t.history,ee,xe.signal);$.set(B,xe);let Xt=U,Ke=await Ju("loader",ot,ge,Oe,s,i,u);if(Uo(Ke)&&(Ke=await hT(Ke,ot.signal,!0)||Ke),$.get(B)===xe&&$.delete(B),ot.signal.aborted)return;if(sl(Ke))if(j>Xt){let Ot=ol(void 0);S.fetchers.set(B,Ot),fe({fetchers:new Map(S.fetchers)});return}else{de.add(B),await ir(S,Ke);return}if(th(Ke)){let Ot=il(S.matches,z);S.fetchers.delete(B),fe({fetchers:new Map(S.fetchers),errors:{[Ot.route.id]:Ke.error}});return}ze(!Uo(Ke),"Unhandled fetcher deferred data");let Ct=ol(Ke.data);S.fetchers.set(B,Ct),fe({fetchers:new Map(S.fetchers)})}async function ir(B,z,ee){let{submission:ge,replace:Oe,isFetchActionRedirect:Ie}=ee===void 0?{}:ee;z.revalidate&&(F=!0);let De=Ku(B.location,z.location,ft({_isRedirect:!0},Ie?{_isFetchActionRedirect:!0}:{}));if(ze(De,"Expected a location on the redirect navigation"),r){let ot=!1;if(z.reloadDocument)ot=!0;else if(KE.test(z.location)){const Xt=t.history.createURL(z.location);ot=Xt.origin!==e.location.origin||nl(Xt.pathname,u)==null}if(ot){Oe?e.location.replace(z.location):e.location.assign(z.location);return}}k=null;let Ae=Oe===!0?Ht.Replace:Ht.Push,xe=ge||cT(B.navigation);if(EO.has(z.status)&&xe&&jn(xe.formMethod))await rt(Ae,De,{submission:ft({},xe,{formAction:z.location}),preventScrollReset:D});else if(Ie)await rt(Ae,De,{overrideNavigation:Gd(De),fetcherSubmission:xe,preventScrollReset:D});else{let ot=Gd(De,xe);await rt(Ae,De,{overrideNavigation:ot,preventScrollReset:D})}}async function Ri(B,z,ee,ge,Oe){let Ie=await Promise.all([...ee.map(xe=>Ju("loader",Oe,xe,z,s,i,u)),...ge.map(xe=>xe.matches&&xe.match&&xe.controller?Ju("loader",eh(t.history,xe.path,xe.controller.signal),xe.match,xe.matches,s,i,u):{type:Bt.error,error:_n(404,{pathname:xe.path})})]),De=Ie.slice(0,ee.length),Ae=Ie.slice(ee.length);return await Promise.all([uT(B,ee,De,De.map(()=>Oe.signal),!1,S.loaderData),uT(B,ge.map(xe=>xe.match),Ae,ge.map(xe=>xe.controller?xe.controller.signal:null),!0)]),{results:Ie,loaderResults:De,fetcherResults:Ae}}function fa(){F=!0,X.push(...rc()),ne.forEach((B,z)=>{$.has(z)&&(K.push(z),Xr(z))})}function ni(B,z,ee){let ge=il(S.matches,z);tc(B),fe({errors:{[ge.route.id]:ee},fetchers:new Map(S.fetchers)})}function tc(B){let z=S.fetchers.get(B);$.has(B)&&!(z&&z.state==="loading"&&ae.has(B))&&Xr(B),ne.delete(B),ae.delete(B),de.delete(B),S.fetchers.delete(B)}function Xr(B){let z=$.get(B);ze(z,"Expected fetch controller: "+B),z.abort(),$.delete(B)}function Wp(B){for(let z of B){let ee=Re(z),ge=ol(ee.data);S.fetchers.set(z,ge)}}function Xp(){let B=[],z=!1;for(let ee of de){let ge=S.fetchers.get(ee);ze(ge,"Expected fetcher: "+ee),ge.state==="loading"&&(de.delete(ee),B.push(ee),z=!0)}return Wp(B),z}function $p(B){let z=[];for(let[ee,ge]of ae)if(ge<B){let Oe=S.fetchers.get(ee);ze(Oe,"Expected fetcher: "+ee),Oe.state==="loading"&&(Xr(ee),ae.delete(ee),z.push(ee))}return Wp(z),z.length>0}function pa(B,z){let ee=S.blockers.get(B)||Zu;return W.get(B)!==z&&W.set(B,z),ee}function Yp(B){S.blockers.delete(B),W.delete(B)}function Xl(B,z){let ee=S.blockers.get(B)||Zu;ze(ee.state==="unblocked"&&z.state==="blocked"||ee.state==="blocked"&&z.state==="blocked"||ee.state==="blocked"&&z.state==="proceeding"||ee.state==="blocked"&&z.state==="unblocked"||ee.state==="proceeding"&&z.state==="unblocked","Invalid blocker state transition: "+ee.state+" -> "+z.state);let ge=new Map(S.blockers);ge.set(B,z),fe({blockers:ge})}function qp(B){let{currentLocation:z,nextLocation:ee,historyAction:ge}=B;if(W.size===0)return;W.size>1&&tl(!1,"A router only supports one blocker at a time");let Oe=Array.from(W.entries()),[Ie,De]=Oe[Oe.length-1],Ae=S.blockers.get(Ie);if(!(Ae&&Ae.state==="proceeding")&&De({currentLocation:z,nextLocation:ee,historyAction:ge}))return Ie}function rc(B){let z=[];return N.forEach((ee,ge)=>{(!B||B(ge))&&(ee.cancel(),z.push(ge),N.delete(ge))}),z}function n1(B,z,ee){if(m=B,b=z,g=ee||null,!x&&S.navigation===iv){x=!0;let ge=Kp(S.location,S.matches);ge!=null&&fe({restoreScrollPosition:ge})}return()=>{m=null,b=null,g=null}}function Qp(B,z){return g&&g(B,z.map(ee=>NO(ee,S.loaderData)))||B.key}function i1(B,z){if(m&&b){let ee=Qp(B,z);m[ee]=b()}}function Kp(B,z){if(m){let ee=Qp(B,z),ge=m[ee];if(typeof ge=="number")return ge}return null}function s1(B){s={},a=ev(B,i,void 0,s)}return w={get basename(){return u},get state(){return S},get routes(){return o},initialize:Y,subscribe:Me,enableScrollRestoration:n1,navigate:ke,fetch:Ze,revalidate:Ve,createHref:B=>t.history.createHref(B),encodeLocation:B=>t.history.encodeLocation(B),getFetcher:Re,deleteFetcher:tc,dispose:oe,getBlocker:pa,deleteBlocker:Yp,_internalFetchControllers:$,_internalActiveDeferreds:N,_internalSetRoutes:s1},w}function CO(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function sv(t,e,r,n,i,s,o){let a,u;if(s!=null&&o!=="path"){a=[];for(let d of e)if(a.push(d),d.route.id===s){u=d;break}}else a=e,u=e[e.length-1];let c=rv(i||".",Hd(a).map(d=>d.pathnameBase),nl(t.pathname,r)||t.pathname,o==="path");return i==null&&(c.search=t.search,c.hash=t.hash),(i==null||i===""||i===".")&&u&&u.route.index&&!av(c.search)&&(c.search=c.search?c.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(c.pathname=c.pathname==="/"?r:es([r,c.pathname])),Fo(c)}function ZE(t,e,r,n){if(!n||!CO(n))return{path:r};if(n.formMethod&&!OO(n.formMethod))return{path:r,error:_n(405,{method:n.formMethod})};let i=()=>({path:r,error:_n(400,{type:"invalid-body"})}),s=n.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),a=lT(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!jn(o))return i();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((g,b)=>{let[x,A]=b;return""+g+x+"="+A+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!jn(o))return i();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:a,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}ze(typeof FormData=="function","FormData is not available in this environment");let u,c;if(n.formData)u=ov(n.formData),c=n.formData;else if(n.body instanceof FormData)u=ov(n.body),c=n.body;else if(n.body instanceof URLSearchParams)u=n.body,c=nT(u);else if(n.body==null)u=new URLSearchParams,c=new FormData;else try{u=new URLSearchParams(n.body),c=nT(u)}catch{return i()}let d={formMethod:o,formAction:a,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:c,json:void 0,text:void 0};if(jn(d.formMethod))return{path:r,submission:d};let p=Ji(r);return e&&p.search&&av(p.search)&&u.append("index",""),p.search="?"+u,{path:Fo(p),submission:d}}function PO(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function JE(t,e,r,n,i,s,o,a,u,c,d,p,m,g){let b=g?Object.values(g)[0]:m?Object.values(m)[0]:void 0,x=t.createURL(e.location),A=t.createURL(i),T=g?Object.keys(g)[0]:void 0,_=PO(r,T).filter((S,P)=>{if(S.route.lazy)return!0;if(S.route.loader==null)return!1;if(RO(e.loaderData,e.matches[P],S)||o.some(R=>R===S.route.id))return!0;let D=e.matches[P],k=S;return tT(S,ft({currentUrl:x,currentParams:D.params,nextUrl:A,nextParams:k.params},n,{actionResult:b,defaultShouldRevalidate:s||x.pathname+x.search===A.pathname+A.search||x.search!==A.search||eT(D,k)}))}),w=[];return u.forEach((S,P)=>{if(!r.some(X=>X.route.id===S.routeId))return;let D=rl(d,S.path,p);if(!D){w.push({key:P,routeId:S.routeId,path:S.path,matches:null,match:null,controller:null});return}let k=e.fetchers.get(P),R=lv(D,S.path),F=!1;c.has(P)?F=!1:a.includes(P)?F=!0:k&&k.state!=="idle"&&k.data===void 0?F=s:F=tT(R,ft({currentUrl:x,currentParams:e.matches[e.matches.length-1].params,nextUrl:A,nextParams:r[r.length-1].params},n,{actionResult:b,defaultShouldRevalidate:s})),F&&w.push({key:P,routeId:S.routeId,path:S.path,matches:D,match:R,controller:new AbortController})}),[_,w]}function RO(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function eT(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function tT(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function rT(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];ze(i,"No route found in manifest");let s={};for(let o in n){let a=i[o]!==void 0&&o!=="hasErrorBoundary";tl(!a,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!a&&!ZD.has(o)&&(s[o]=n[o])}Object.assign(i,s),Object.assign(i,ft({},e(i),{lazy:void 0}))}async function Ju(t,e,r,n,i,s,o,a){a===void 0&&(a={});let u,c,d,p=b=>{let x,A=new Promise((T,_)=>x=_);return d=()=>x(),e.signal.addEventListener("abort",d),Promise.race([b({request:e,params:r.params,context:a.requestContext}),A])};try{let b=r.route[t];if(r.route.lazy)if(b)c=(await Promise.all([p(b),rT(r.route,s,i)]))[0];else if(await rT(r.route,s,i),b=r.route[t],b)c=await p(b);else if(t==="action"){let x=new URL(e.url),A=x.pathname+x.search;throw _n(405,{method:e.method,pathname:A,routeId:r.route.id})}else return{type:Bt.data,data:void 0};else if(b)c=await p(b);else{let x=new URL(e.url),A=x.pathname+x.search;throw _n(404,{pathname:A})}ze(c!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(b){u=Bt.error,c=b}finally{d&&e.signal.removeEventListener("abort",d)}if(DO(c)){let b=c.status;if(wO.has(b)){let T=c.headers.get("Location");if(ze(T,"Redirects returned/thrown from loaders/actions must have a Location header"),!KE.test(T))T=sv(new URL(e.url),n.slice(0,n.indexOf(r)+1),o,!0,T);else if(!a.isStaticRequest){let _=new URL(e.url),w=T.startsWith("//")?new URL(_.protocol+T):new URL(T),S=nl(w.pathname,o)!=null;w.origin===_.origin&&S&&(T=w.pathname+w.search+w.hash)}if(a.isStaticRequest)throw c.headers.set("Location",T),c;return{type:Bt.redirect,status:b,location:T,revalidate:c.headers.get("X-Remix-Revalidate")!==null,reloadDocument:c.headers.get("X-Remix-Reload-Document")!==null}}if(a.isRouteRequest)throw{type:u===Bt.error?Bt.error:Bt.data,response:c};let x,A=c.headers.get("Content-Type");return A&&/\bapplication\/json\b/.test(A)?x=await c.json():x=await c.text(),u===Bt.error?{type:u,error:new nv(b,c.statusText,x),headers:c.headers}:{type:Bt.data,data:x,statusCode:c.status,headers:c.headers}}if(u===Bt.error)return{type:u,error:c};if(MO(c)){var m,g;return{type:Bt.deferred,deferredData:c,statusCode:(m=c.init)==null?void 0:m.status,headers:((g=c.init)==null?void 0:g.headers)&&new Headers(c.init.headers)}}return{type:Bt.data,data:c}}function eh(t,e,r,n){let i=t.createURL(lT(e)).toString(),s={signal:r};if(n&&jn(n.formMethod)){let{formMethod:o,formEncType:a}=n;s.method=o.toUpperCase(),a==="application/json"?(s.headers=new Headers({"Content-Type":a}),s.body=JSON.stringify(n.json)):a==="text/plain"?s.body=n.text:a==="application/x-www-form-urlencoded"&&n.formData?s.body=ov(n.formData):s.body=n.formData}return new Request(i,s)}function ov(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function nT(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function kO(t,e,r,n,i){let s={},o=null,a,u=!1,c={};return r.forEach((d,p)=>{let m=e[p].route.id;if(ze(!sl(d),"Cannot handle redirect results in processLoaderData"),th(d)){let g=il(t,m),b=d.error;n&&(b=Object.values(n)[0],n=void 0),o=o||{},o[g.route.id]==null&&(o[g.route.id]=b),s[m]=void 0,u||(u=!0,a=qE(d.error)?d.error.status:500),d.headers&&(c[m]=d.headers)}else Uo(d)?(i.set(m,d.deferredData),s[m]=d.deferredData.data):s[m]=d.data,d.statusCode!=null&&d.statusCode!==200&&!u&&(a=d.statusCode),d.headers&&(c[m]=d.headers)}),n&&(o=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:o,statusCode:a||200,loaderHeaders:c}}function iT(t,e,r,n,i,s,o,a){let{loaderData:u,errors:c}=kO(e,r,n,i,a);for(let d=0;d<s.length;d++){let{key:p,match:m,controller:g}=s[d];ze(o!==void 0&&o[d]!==void 0,"Did not find corresponding fetcher result");let b=o[d];if(!(g&&g.signal.aborted))if(th(b)){let x=il(t.matches,m==null?void 0:m.route.id);c&&c[x.route.id]||(c=ft({},c,{[x.route.id]:b.error})),t.fetchers.delete(p)}else if(sl(b))ze(!1,"Unhandled fetcher revalidation redirect");else if(Uo(b))ze(!1,"Unhandled fetcher deferred data");else{let x=ol(b.data);t.fetchers.set(p,x)}}return{loaderData:u,errors:c}}function sT(t,e,r,n){let i=ft({},e);for(let s of r){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),n&&n.hasOwnProperty(o))break}return i}function il(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function oT(t){let e=t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function _n(t,e){let{pathname:r,routeId:n,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",a="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&r&&n?a="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?a="defer() is not supported in actions":s==="invalid-body"&&(a="Unable to encode submission body")):t===403?(o="Forbidden",a='Route "'+n+'" does not match URL "'+r+'"'):t===404?(o="Not Found",a='No route matches URL "'+r+'"'):t===405&&(o="Method Not Allowed",i&&r&&n?a="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(a='Invalid request method "'+i.toUpperCase()+'"')),new nv(t||500,o,new Error(a),!0)}function aT(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(sl(r))return{result:r,idx:e}}}function lT(t){let e=typeof t=="string"?Ji(t):t;return Fo(ft({},e,{hash:""}))}function IO(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function Uo(t){return t.type===Bt.deferred}function th(t){return t.type===Bt.error}function sl(t){return(t&&t.type)===Bt.redirect}function MO(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function DO(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function OO(t){return xO.has(t.toLowerCase())}function jn(t){return bO.has(t.toLowerCase())}async function uT(t,e,r,n,i,s){for(let o=0;o<r.length;o++){let a=r[o],u=e[o];if(!u)continue;let c=t.find(p=>p.route.id===u.route.id),d=c!=null&&!eT(c,u)&&(s&&s[u.route.id])!==void 0;if(Uo(a)&&(i||d)){let p=n[o];ze(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await hT(a,p,i).then(m=>{m&&(r[o]=m||r[o])})}}}async function hT(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Bt.data,data:t.deferredData.unwrappedData}}catch(n){return{type:Bt.error,error:n}}return{type:Bt.data,data:t.deferredData.data}}}function av(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function NO(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function lv(t,e){let r=typeof e=="string"?Ji(e).search:e.search;if(t[t.length-1].route.index&&av(r||""))return t[t.length-1];let n=Hd(t);return n[n.length-1]}function cT(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:o}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function Gd(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function LO(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function rh(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function BO(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function ol(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function Vd(){return Vd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vd.apply(this,arguments)}const Wd=H.createContext(null),dT=H.createContext(null),al=H.createContext(null),Xd=H.createContext(null),zo=H.createContext({outlet:null,matches:[],isDataRoute:!1}),fT=H.createContext(null);function FO(t,e){let{relative:r}=e===void 0?{}:e;nh()||ze(!1);let{basename:n,navigator:i}=H.useContext(al),{hash:s,pathname:o,search:a}=mT(t,{relative:r}),u=o;return n!=="/"&&(u=o==="/"?n:es([n,o])),i.createHref({pathname:u,search:a,hash:s})}function nh(){return H.useContext(Xd)!=null}function $d(){return nh()||ze(!1),H.useContext(Xd).location}function pT(t){H.useContext(al).static||H.useLayoutEffect(t)}function UO(){let{isDataRoute:t}=H.useContext(zo);return t?KO():zO()}function zO(){nh()||ze(!1);let t=H.useContext(Wd),{basename:e,navigator:r}=H.useContext(al),{matches:n}=H.useContext(zo),{pathname:i}=$d(),s=JSON.stringify(Hd(n).map(a=>a.pathnameBase)),o=H.useRef(!1);return pT(()=>{o.current=!0}),H.useCallback(function(a,u){if(u===void 0&&(u={}),!o.current)return;if(typeof a=="number"){r.go(a);return}let c=rv(a,JSON.parse(s),i,u.relative==="path");t==null&&e!=="/"&&(c.pathname=c.pathname==="/"?e:es([e,c.pathname])),(u.replace?r.replace:r.push)(c,u.state,u)},[e,r,s,i,t])}function mT(t,e){let{relative:r}=e===void 0?{}:e,{matches:n}=H.useContext(zo),{pathname:i}=$d(),s=JSON.stringify(Hd(n).map(o=>o.pathnameBase));return H.useMemo(()=>rv(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function jO(t,e,r){nh()||ze(!1);let{navigator:n}=H.useContext(al),{matches:i}=H.useContext(zo),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let a=s?s.pathnameBase:"/";s&&s.route;let u=$d(),c;if(e){var d;let x=typeof e=="string"?Ji(e):e;a==="/"||(d=x.pathname)!=null&&d.startsWith(a)||ze(!1),c=x}else c=u;let p=c.pathname||"/",m=a==="/"?p:p.slice(a.length)||"/",g=rl(t,{pathname:m}),b=XO(g&&g.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:es([a,n.encodeLocation?n.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?a:es([a,n.encodeLocation?n.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,r);return e&&b?H.createElement(Xd.Provider,{value:{location:Vd({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Ht.Pop}},b):b}function HO(){let t=QO(),e=qE(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return H.createElement(H.Fragment,null,H.createElement("h2",null,"Unexpected Application Error!"),H.createElement("h3",{style:{fontStyle:"italic"}},e),r?H.createElement("pre",{style:n},r):null,i)}const GO=H.createElement(HO,null);class VO extends H.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?H.createElement(zo.Provider,{value:this.props.routeContext},H.createElement(fT.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function WO(t){let{routeContext:e,match:r,children:n}=t,i=H.useContext(Wd);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),H.createElement(zo.Provider,{value:e},n)}function XO(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let s=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let a=s.findIndex(u=>u.route.id&&(o==null?void 0:o[u.route.id]));a>=0||ze(!1),s=s.slice(0,Math.min(s.length,a+1))}return s.reduceRight((a,u,c)=>{let d=u.route.id?o==null?void 0:o[u.route.id]:null,p=null;r&&(p=u.route.errorElement||GO);let m=e.concat(s.slice(0,c+1)),g=()=>{let b;return d?b=p:u.route.Component?b=H.createElement(u.route.Component,null):u.route.element?b=u.route.element:b=a,H.createElement(WO,{match:u,routeContext:{outlet:a,matches:m,isDataRoute:r!=null},children:b})};return r&&(u.route.ErrorBoundary||u.route.errorElement||c===0)?H.createElement(VO,{location:r.location,revalidation:r.revalidation,component:p,error:d,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()},null)}var gT=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(gT||{}),Yd=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Yd||{});function $O(t){let e=H.useContext(Wd);return e||ze(!1),e}function YO(t){let e=H.useContext(dT);return e||ze(!1),e}function qO(t){let e=H.useContext(zo);return e||ze(!1),e}function yT(t){let e=qO(),r=e.matches[e.matches.length-1];return r.route.id||ze(!1),r.route.id}function QO(){var t;let e=H.useContext(fT),r=YO(Yd.UseRouteError),n=yT(Yd.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function KO(){let{router:t}=$O(gT.UseNavigateStable),e=yT(Yd.UseNavigateStable),r=H.useRef(!1);return pT(()=>{r.current=!0}),H.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,Vd({fromRouteId:e},i)))},[t,e])}const ZO="startTransition",vT=FI[ZO];function JO(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=H.useState(r.state),{v7_startTransition:o}=n||{},a=H.useCallback(p=>{o&&vT?vT(()=>s(p)):s(p)},[s,o]);H.useLayoutEffect(()=>r.subscribe(a),[r,a]);let u=H.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:p=>r.navigate(p),push:(p,m,g)=>r.navigate(p,{state:m,preventScrollReset:g==null?void 0:g.preventScrollReset}),replace:(p,m,g)=>r.navigate(p,{replace:!0,state:m,preventScrollReset:g==null?void 0:g.preventScrollReset})}),[r]),c=r.basename||"/",d=H.useMemo(()=>({router:r,navigator:u,static:!1,basename:c}),[r,u,c]);return H.createElement(H.Fragment,null,H.createElement(Wd.Provider,{value:d},H.createElement(dT.Provider,{value:i},H.createElement(tN,{basename:c,location:i.location,navigationType:i.historyAction,navigator:u},i.initialized?H.createElement(eN,{routes:r.routes,state:i}):e))),null)}function eN(t){let{routes:e,state:r}=t;return jO(e,void 0,r)}function tN(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ht.Pop,navigator:s,static:o=!1}=t;nh()&&ze(!1);let a=e.replace(/^\/*/,"/"),u=H.useMemo(()=>({basename:a,navigator:s,static:o}),[a,s,o]);typeof n=="string"&&(n=Ji(n));let{pathname:c="/",search:d="",hash:p="",state:m=null,key:g="default"}=n,b=H.useMemo(()=>{let x=nl(c,a);return x==null?null:{location:{pathname:x,search:d,hash:p,state:m,key:g},navigationType:i}},[a,c,d,p,m,g,i]);return b==null?null:H.createElement(al.Provider,{value:u},H.createElement(Xd.Provider,{children:r,value:b}))}new Promise(()=>{});function rN(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:H.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:H.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}function ih(){return ih=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ih.apply(this,arguments)}function nN(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function iN(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function sN(t,e){return t.button===0&&(!e||e==="_self")&&!iN(t)}const oN=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function aN(t,e){return AO({basename:e==null?void 0:e.basename,future:ih({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:qD({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||lN(),routes:t,mapRouteProperties:rN}).initialize()}function lN(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=ih({},e,{errors:uN(e.errors)})),e}function uN(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new nv(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){if(i.__subType){let s=window[i.__subType];if(typeof s=="function")try{let o=new s(i.message);o.stack="",r[n]=o}catch{}}if(r[n]==null){let s=new Error(i.message);s.stack="",r[n]=s}}else r[n]=i;return r}const hN=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",cN=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qd=H.forwardRef(function(t,e){let{onClick:r,relative:n,reloadDocument:i,replace:s,state:o,target:a,to:u,preventScrollReset:c}=t,d=nN(t,oN),{basename:p}=H.useContext(al),m,g=!1;if(typeof u=="string"&&cN.test(u)&&(m=u,hN))try{let T=new URL(window.location.href),_=u.startsWith("//")?new URL(T.protocol+u):new URL(u),w=nl(_.pathname,p);_.origin===T.origin&&w!=null?u=w+_.search+_.hash:g=!0}catch{}let b=FO(u,{relative:n}),x=dN(u,{replace:s,state:o,target:a,preventScrollReset:c,relative:n});function A(T){r&&r(T),T.defaultPrevented||x(T)}return H.createElement("a",ih({},d,{href:m||b,onClick:g||i?r:A,ref:e,target:a}))});var bT;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(bT||(bT={}));var _T;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(_T||(_T={}));function dN(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,a=UO(),u=$d(),c=mT(t,{relative:o});return H.useCallback(d=>{if(sN(d,r)){d.preventDefault();let p=n!==void 0?n:Fo(u)===Fo(c);a(t,{replace:p,state:i,preventScrollReset:s,relative:o})}},[u,a,c,n,i,r,t,s,o])}var xT={exports:{}},jo=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(jo||{}),wT=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(wT||{}),uv=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(uv||{}),Ce=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Ce||{}),Hn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(Hn||{}),se=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(se||{}),ll=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(ll||{}),Te=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(Te||{}),hv=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))(hv||{}),ts=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(ts||{}),rs=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(rs||{}),mi=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(mi||{}),Gn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Gn||{}),gi=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(gi||{}),cv=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(cv||{}),xn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(xn||{}),Qt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(Qt||{}),Gt=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Gt||{}),yi=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(yi||{});const fN={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},ue={ADAPTER:fN,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var dv=/iPhone/i,ET=/iPod/i,TT=/iPad/i,ST=/\biOS-universal(?:.+)Mac\b/i,fv=/\bAndroid(?:.+)Mobile\b/i,AT=/Android/i,ul=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Qd=/Silk/i,ns=/Windows Phone/i,CT=/\bWindows(?:.+)ARM\b/i,PT=/BlackBerry/i,RT=/BB10/i,kT=/Opera Mini/i,IT=/\b(CriOS|Chrome)(?:.+)Mobile/i,MT=/Mobile(?:.+)Firefox\b/i,DT=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function pN(t){return function(e){return e.test(t)}}function OT(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=pN(r),s={apple:{phone:i(dv)&&!i(ns),ipod:i(ET),tablet:!i(dv)&&(i(TT)||DT(e))&&!i(ns),universal:i(ST),device:(i(dv)||i(ET)||i(TT)||i(ST)||DT(e))&&!i(ns)},amazon:{phone:i(ul),tablet:!i(ul)&&i(Qd),device:i(ul)||i(Qd)},android:{phone:!i(ns)&&i(ul)||!i(ns)&&i(fv),tablet:!i(ns)&&!i(ul)&&!i(fv)&&(i(Qd)||i(AT)),device:!i(ns)&&(i(ul)||i(Qd)||i(fv)||i(AT))||i(/\bokhttp\b/i)},windows:{phone:i(ns),tablet:i(CT),device:i(ns)||i(CT)},other:{blackberry:i(PT),blackberry10:i(RT),opera:i(kT),firefox:i(MT),chrome:i(IT),device:i(PT)||i(RT)||i(kT)||i(MT)||i(IT)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const mN=OT.default??OT,is=mN(globalThis.navigator);ue.RETINA_PREFIX=/@([0-9\.]+)x/,ue.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var NT={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(u,c,d){this.fn=u,this.context=c,this.once=d||!1}function s(u,c,d,p,m){if(typeof d!="function")throw new TypeError("The listener must be a function");var g=new i(d,p||u,m),b=r?r+c:c;return u._events[b]?u._events[b].fn?u._events[b]=[u._events[b],g]:u._events[b].push(g):(u._events[b]=g,u._eventsCount++),u}function o(u,c){--u._eventsCount===0?u._events=new n:delete u._events[c]}function a(){this._events=new n,this._eventsCount=0}a.prototype.eventNames=function(){var u=[],c,d;if(this._eventsCount===0)return u;for(d in c=this._events)e.call(c,d)&&u.push(r?d.slice(1):d);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(c)):u},a.prototype.listeners=function(u){var c=r?r+u:u,d=this._events[c];if(!d)return[];if(d.fn)return[d.fn];for(var p=0,m=d.length,g=new Array(m);p<m;p++)g[p]=d[p].fn;return g},a.prototype.listenerCount=function(u){var c=r?r+u:u,d=this._events[c];return d?d.fn?1:d.length:0},a.prototype.emit=function(u,c,d,p,m,g){var b=r?r+u:u;if(!this._events[b])return!1;var x=this._events[b],A=arguments.length,T,_;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),A){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,c),!0;case 3:return x.fn.call(x.context,c,d),!0;case 4:return x.fn.call(x.context,c,d,p),!0;case 5:return x.fn.call(x.context,c,d,p,m),!0;case 6:return x.fn.call(x.context,c,d,p,m,g),!0}for(_=1,T=new Array(A-1);_<A;_++)T[_-1]=arguments[_];x.fn.apply(x.context,T)}else{var w=x.length,S;for(_=0;_<w;_++)switch(x[_].once&&this.removeListener(u,x[_].fn,void 0,!0),A){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,c);break;case 3:x[_].fn.call(x[_].context,c,d);break;case 4:x[_].fn.call(x[_].context,c,d,p);break;default:if(!T)for(S=1,T=new Array(A-1);S<A;S++)T[S-1]=arguments[S];x[_].fn.apply(x[_].context,T)}}return!0},a.prototype.on=function(u,c,d){return s(this,u,c,d,!1)},a.prototype.once=function(u,c,d){return s(this,u,c,d,!0)},a.prototype.removeListener=function(u,c,d,p){var m=r?r+u:u;if(!this._events[m])return this;if(!c)return o(this,m),this;var g=this._events[m];if(g.fn)g.fn===c&&(!p||g.once)&&(!d||g.context===d)&&o(this,m);else{for(var b=0,x=[],A=g.length;b<A;b++)(g[b].fn!==c||p&&!g[b].once||d&&g[b].context!==d)&&x.push(g[b]);x.length?this._events[m]=x.length===1?x[0]:x:o(this,m)}return this},a.prototype.removeAllListeners=function(u){var c;return u?(c=r?r+u:u,this._events[c]&&o(this,c)):(this._events=new n,this._eventsCount=0),this},a.prototype.off=a.prototype.removeListener,a.prototype.addListener=a.prototype.on,a.prefixed=r,a.EventEmitter=a,t.exports=a})(NT);var gN=NT.exports;const sh=Ac(gN);var pv={exports:{}};pv.exports=Kd,pv.exports.default=Kd;function Kd(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=LT(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var a,u,c,d,p,m,g;if(n&&(s=xN(t,e,s,r)),t.length>80*r){a=c=t[0],u=d=t[1];for(var b=r;b<i;b+=r)p=t[b],m=t[b+1],p<a&&(a=p),m<u&&(u=m),p>c&&(c=p),m>d&&(d=m);g=Math.max(c-a,d-u),g=g!==0?32767/g:0}return oh(s,o,r,a,u,g,0),o}function LT(t,e,r,n,i){var s,o;if(i===yv(t,e,r,n)>0)for(s=e;s<r;s+=n)o=UT(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=UT(s,t[s],t[s+1],o);return o&&Zd(o,o.next)&&(lh(o),o=o.next),o}function Ho(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(Zd(r,r.next)||wt(r.prev,r,r.next)===0)){if(lh(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function oh(t,e,r,n,i,s,o){if(t){!o&&s&&AN(t,n,i,s);for(var a=t,u,c;t.prev!==t.next;){if(u=t.prev,c=t.next,s?vN(t,n,i,s):yN(t)){e.push(u.i/r|0),e.push(t.i/r|0),e.push(c.i/r|0),lh(t),t=c.next,a=c.next;continue}if(t=c,t===a){o?o===1?(t=bN(Ho(t),e,r),oh(t,e,r,n,i,s,2)):o===2&&_N(t,e,r,n,i,s):oh(Ho(t),e,r,n,i,s,1);break}}}}function yN(t){var e=t.prev,r=t,n=t.next;if(wt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,a=e.y,u=r.y,c=n.y,d=i<s?i<o?i:o:s<o?s:o,p=a<u?a<c?a:c:u<c?u:c,m=i>s?i>o?i:o:s>o?s:o,g=a>u?a>c?a:c:u>c?u:c,b=n.next;b!==e;){if(b.x>=d&&b.x<=m&&b.y>=p&&b.y<=g&&hl(i,a,s,u,o,c,b.x,b.y)&&wt(b.prev,b,b.next)>=0)return!1;b=b.next}return!0}function vN(t,e,r,n){var i=t.prev,s=t,o=t.next;if(wt(i,s,o)>=0)return!1;for(var a=i.x,u=s.x,c=o.x,d=i.y,p=s.y,m=o.y,g=a<u?a<c?a:c:u<c?u:c,b=d<p?d<m?d:m:p<m?p:m,x=a>u?a>c?a:c:u>c?u:c,A=d>p?d>m?d:m:p>m?p:m,T=mv(g,b,e,r,n),_=mv(x,A,e,r,n),w=t.prevZ,S=t.nextZ;w&&w.z>=T&&S&&S.z<=_;){if(w.x>=g&&w.x<=x&&w.y>=b&&w.y<=A&&w!==i&&w!==o&&hl(a,d,u,p,c,m,w.x,w.y)&&wt(w.prev,w,w.next)>=0||(w=w.prevZ,S.x>=g&&S.x<=x&&S.y>=b&&S.y<=A&&S!==i&&S!==o&&hl(a,d,u,p,c,m,S.x,S.y)&&wt(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;w&&w.z>=T;){if(w.x>=g&&w.x<=x&&w.y>=b&&w.y<=A&&w!==i&&w!==o&&hl(a,d,u,p,c,m,w.x,w.y)&&wt(w.prev,w,w.next)>=0)return!1;w=w.prevZ}for(;S&&S.z<=_;){if(S.x>=g&&S.x<=x&&S.y>=b&&S.y<=A&&S!==i&&S!==o&&hl(a,d,u,p,c,m,S.x,S.y)&&wt(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function bN(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!Zd(i,s)&&BT(i,n,n.next,s)&&ah(i,s)&&ah(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),lh(n),lh(n.next),n=t=s),n=n.next}while(n!==t);return Ho(n)}function _N(t,e,r,n,i,s){var o=t;do{for(var a=o.next.next;a!==o.prev;){if(o.i!==a.i&&RN(o,a)){var u=FT(o,a);o=Ho(o,o.next),u=Ho(u,u.next),oh(o,e,r,n,i,s,0),oh(u,e,r,n,i,s,0);return}a=a.next}o=o.next}while(o!==t)}function xN(t,e,r,n){var i=[],s,o,a,u,c;for(s=0,o=e.length;s<o;s++)a=e[s]*n,u=s<o-1?e[s+1]*n:t.length,c=LT(t,a,u,n,!1),c===c.next&&(c.steiner=!0),i.push(PN(c));for(i.sort(wN),s=0;s<i.length;s++)r=EN(i[s],r);return r}function wN(t,e){return t.x-e.x}function EN(t,e){var r=TN(t,e);if(!r)return e;var n=FT(r,t);return Ho(n,n.next),Ho(r,r.next)}function TN(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var a=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(a<=n&&a>s&&(s=a,o=r.x<r.next.x?r:r.next,a===n))return o}r=r.next}while(r!==e);if(!o)return null;var u=o,c=o.x,d=o.y,p=1/0,m;r=o;do n>=r.x&&r.x>=c&&n!==r.x&&hl(i<d?n:s,i,c,d,i<d?s:n,i,r.x,r.y)&&(m=Math.abs(i-r.y)/(n-r.x),ah(r,t)&&(m<p||m===p&&(r.x>o.x||r.x===o.x&&SN(o,r)))&&(o=r,p=m)),r=r.next;while(r!==u);return o}function SN(t,e){return wt(t.prev,t,e.prev)<0&&wt(e.next,t,t.next)<0}function AN(t,e,r,n){var i=t;do i.z===0&&(i.z=mv(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,CN(i)}function CN(t){var e,r,n,i,s,o,a,u,c=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,a=0,e=0;e<c&&(a++,n=n.nextZ,!!n);e++);for(u=c;a>0||u>0&&n;)a!==0&&(u===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,a--):(i=n,n=n.nextZ,u--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,c*=2}while(o>1);return t}function mv(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function PN(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function hl(t,e,r,n,i,s,o,a){return(i-o)*(e-a)>=(t-o)*(s-a)&&(t-o)*(n-a)>=(r-o)*(e-a)&&(r-o)*(s-a)>=(i-o)*(n-a)}function RN(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!kN(t,e)&&(ah(t,e)&&ah(e,t)&&IN(t,e)&&(wt(t.prev,t,e.prev)||wt(t,e.prev,e))||Zd(t,e)&&wt(t.prev,t,t.next)>0&&wt(e.prev,e,e.next)>0)}function wt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function Zd(t,e){return t.x===e.x&&t.y===e.y}function BT(t,e,r,n){var i=ef(wt(t,e,r)),s=ef(wt(t,e,n)),o=ef(wt(r,n,t)),a=ef(wt(r,n,e));return!!(i!==s&&o!==a||i===0&&Jd(t,r,e)||s===0&&Jd(t,n,e)||o===0&&Jd(r,t,n)||a===0&&Jd(r,e,n))}function Jd(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function ef(t){return t>0?1:t<0?-1:0}function kN(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&BT(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function ah(t,e){return wt(t.prev,t,t.next)<0?wt(t,e,t.next)>=0&&wt(t,t.prev,e)>=0:wt(t,e,t.prev)<0||wt(t,t.next,e)<0}function IN(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function FT(t,e){var r=new gv(t.i,t.x,t.y),n=new gv(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function UT(t,e,r,n){var i=new gv(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function lh(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function gv(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}Kd.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(yv(t,0,s,r));if(i)for(var a=0,u=e.length;a<u;a++){var c=e[a]*r,d=a<u-1?e[a+1]*r:t.length;o-=Math.abs(yv(t,c,d,r))}var p=0;for(a=0;a<n.length;a+=3){var m=n[a]*r,g=n[a+1]*r,b=n[a+2]*r;p+=Math.abs((t[m]-t[b])*(t[g+1]-t[m+1])-(t[m]-t[g])*(t[b+1]-t[m+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function yv(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}Kd.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var MN=pv.exports;const DN=Ac(MN);var tf={exports:{}};tf.exports,function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof Es=="object"&&Es;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,a=2147483647,u=36,c=1,d=26,p=38,m=700,g=72,b=128,x="-",A=/^xn--/,T=/[^\x20-\x7E]/,_=/[\x2E\u3002\uFF0E\uFF61]/g,w={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},S=u-c,P=Math.floor,D=String.fromCharCode,k;function R(M){throw new RangeError(w[M])}function F(M,Y){for(var oe=M.length,Me=[];oe--;)Me[oe]=Y(M[oe]);return Me}function X(M,Y){var oe=M.split("@"),Me="";oe.length>1&&(Me=oe[0]+"@",M=oe[1]),M=M.replace(_,".");var fe=M.split("."),Ue=F(fe,Y).join(".");return Me+Ue}function K(M){for(var Y=[],oe=0,Me=M.length,fe,Ue;oe<Me;)fe=M.charCodeAt(oe++),fe>=55296&&fe<=56319&&oe<Me?(Ue=M.charCodeAt(oe++),(Ue&64512)==56320?Y.push(((fe&1023)<<10)+(Ue&1023)+65536):(Y.push(fe),oe--)):Y.push(fe);return Y}function $(M){return F(M,function(Y){var oe="";return Y>65535&&(Y-=65536,oe+=D(Y>>>10&1023|55296),Y=56320|Y&1023),oe+=D(Y),oe}).join("")}function U(M){return M-48<10?M-22:M-65<26?M-65:M-97<26?M-97:u}function j(M,Y){return M+22+75*(M<26)-((Y!=0)<<5)}function ae(M,Y,oe){var Me=0;for(M=oe?P(M/m):M>>1,M+=P(M/Y);M>S*d>>1;Me+=u)M=P(M/S);return P(Me+(S+1)*M/(M+p))}function de(M){var Y=[],oe=M.length,Me,fe=0,Ue=b,ke=g,Ve,rt,At,nt,Re,Ze,je,Wr,ir;for(Ve=M.lastIndexOf(x),Ve<0&&(Ve=0),rt=0;rt<Ve;++rt)M.charCodeAt(rt)>=128&&R("not-basic"),Y.push(M.charCodeAt(rt));for(At=Ve>0?Ve+1:0;At<oe;){for(nt=fe,Re=1,Ze=u;At>=oe&&R("invalid-input"),je=U(M.charCodeAt(At++)),(je>=u||je>P((a-fe)/Re))&&R("overflow"),fe+=je*Re,Wr=Ze<=ke?c:Ze>=ke+d?d:Ze-ke,!(je<Wr);Ze+=u)ir=u-Wr,Re>P(a/ir)&&R("overflow"),Re*=ir;Me=Y.length+1,ke=ae(fe-nt,Me,nt==0),P(fe/Me)>a-Ue&&R("overflow"),Ue+=P(fe/Me),fe%=Me,Y.splice(fe++,0,Ue)}return $(Y)}function ne(M){var Y,oe,Me,fe,Ue,ke,Ve,rt,At,nt,Re,Ze=[],je,Wr,ir,Ri;for(M=K(M),je=M.length,Y=b,oe=0,Ue=g,ke=0;ke<je;++ke)Re=M[ke],Re<128&&Ze.push(D(Re));for(Me=fe=Ze.length,fe&&Ze.push(x);Me<je;){for(Ve=a,ke=0;ke<je;++ke)Re=M[ke],Re>=Y&&Re<Ve&&(Ve=Re);for(Wr=Me+1,Ve-Y>P((a-oe)/Wr)&&R("overflow"),oe+=(Ve-Y)*Wr,Y=Ve,ke=0;ke<je;++ke)if(Re=M[ke],Re<Y&&++oe>a&&R("overflow"),Re==Y){for(rt=oe,At=u;nt=At<=Ue?c:At>=Ue+d?d:At-Ue,!(rt<nt);At+=u)Ri=rt-nt,ir=u-nt,Ze.push(D(j(nt+Ri%ir,0))),rt=P(Ri/ir);Ze.push(D(j(rt,0))),Ue=ae(oe,Wr,Me==fe),oe=0,++Me}++oe,++Y}return Ze.join("")}function N(M){return X(M,function(Y){return A.test(Y)?de(Y.slice(4).toLowerCase()):Y})}function W(M){return X(M,function(Y){return T.test(Y)?"xn--"+ne(Y):Y})}if(o={version:"1.4.1",ucs2:{decode:K,encode:$},decode:de,encode:ne,toASCII:W,toUnicode:N},n&&i)if(t.exports==n)i.exports=o;else for(k in o)o.hasOwnProperty(k)&&(n[k]=o[k]);else r.punycode=o})(Es)}(tf,tf.exports);var ON=tf.exports,NN=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),r=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var n=42;t[e]=n;for(e in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,e);if(s.value!==n||s.enumerable!==!0)return!1}return!0},zT=typeof Symbol<"u"&&Symbol,LN=NN,BN=function(){return typeof zT!="function"||typeof Symbol!="function"||typeof zT("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:LN()},jT={foo:{}},FN=Object,UN=function(){return{__proto__:jT}.foo===jT.foo&&!({__proto__:null}instanceof FN)},zN="Function.prototype.bind called on incompatible ",vv=Array.prototype.slice,jN=Object.prototype.toString,HN="[object Function]",GN=function(t){var e=this;if(typeof e!="function"||jN.call(e)!==HN)throw new TypeError(zN+e);for(var r=vv.call(arguments,1),n,i=function(){if(this instanceof n){var c=e.apply(this,r.concat(vv.call(arguments)));return Object(c)===c?c:this}else return e.apply(t,r.concat(vv.call(arguments)))},s=Math.max(0,e.length-r.length),o=[],a=0;a<s;a++)o.push("$"+a);if(n=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var u=function(){};u.prototype=e.prototype,n.prototype=new u,u.prototype=null}return n},VN=GN,bv=Function.prototype.bind||VN,WN=bv,XN=WN.call(Function.call,Object.prototype.hasOwnProperty),We,cl=SyntaxError,HT=Function,dl=TypeError,_v=function(t){try{return HT('"use strict"; return ('+t+").constructor;")()}catch{}},Go=Object.getOwnPropertyDescriptor;if(Go)try{Go({},"")}catch{Go=null}var xv=function(){throw new dl},$N=Go?function(){try{return arguments.callee,xv}catch{try{return Go(arguments,"callee").get}catch{return xv}}}():xv,fl=BN(),YN=UN(),tr=Object.getPrototypeOf||(YN?function(t){return t.__proto__}:null),pl={},qN=typeof Uint8Array>"u"||!tr?We:tr(Uint8Array),Vo={"%AggregateError%":typeof AggregateError>"u"?We:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?We:ArrayBuffer,"%ArrayIteratorPrototype%":fl&&tr?tr([][Symbol.iterator]()):We,"%AsyncFromSyncIteratorPrototype%":We,"%AsyncFunction%":pl,"%AsyncGenerator%":pl,"%AsyncGeneratorFunction%":pl,"%AsyncIteratorPrototype%":pl,"%Atomics%":typeof Atomics>"u"?We:Atomics,"%BigInt%":typeof BigInt>"u"?We:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?We:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?We:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?We:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?We:Float32Array,"%Float64Array%":typeof Float64Array>"u"?We:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?We:FinalizationRegistry,"%Function%":HT,"%GeneratorFunction%":pl,"%Int8Array%":typeof Int8Array>"u"?We:Int8Array,"%Int16Array%":typeof Int16Array>"u"?We:Int16Array,"%Int32Array%":typeof Int32Array>"u"?We:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":fl&&tr?tr(tr([][Symbol.iterator]())):We,"%JSON%":typeof JSON=="object"?JSON:We,"%Map%":typeof Map>"u"?We:Map,"%MapIteratorPrototype%":typeof Map>"u"||!fl||!tr?We:tr(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?We:Promise,"%Proxy%":typeof Proxy>"u"?We:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?We:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?We:Set,"%SetIteratorPrototype%":typeof Set>"u"||!fl||!tr?We:tr(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?We:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":fl&&tr?tr(""[Symbol.iterator]()):We,"%Symbol%":fl?Symbol:We,"%SyntaxError%":cl,"%ThrowTypeError%":$N,"%TypedArray%":qN,"%TypeError%":dl,"%Uint8Array%":typeof Uint8Array>"u"?We:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?We:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?We:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?We:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?We:WeakMap,"%WeakRef%":typeof WeakRef>"u"?We:WeakRef,"%WeakSet%":typeof WeakSet>"u"?We:WeakSet};if(tr)try{null.error}catch(t){var QN=tr(tr(t));Vo["%Error.prototype%"]=QN}var KN=function t(e){var r;if(e==="%AsyncFunction%")r=_v("async function () {}");else if(e==="%GeneratorFunction%")r=_v("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=_v("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&tr&&(r=tr(i.prototype))}return Vo[e]=r,r},GT={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},uh=bv,rf=XN,ZN=uh.call(Function.call,Array.prototype.concat),JN=uh.call(Function.apply,Array.prototype.splice),VT=uh.call(Function.call,String.prototype.replace),nf=uh.call(Function.call,String.prototype.slice),eL=uh.call(Function.call,RegExp.prototype.exec),tL=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,rL=/\\(\\)?/g,nL=function(t){var e=nf(t,0,1),r=nf(t,-1);if(e==="%"&&r!=="%")throw new cl("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&e!=="%")throw new cl("invalid intrinsic syntax, expected opening `%`");var n=[];return VT(t,tL,function(i,s,o,a){n[n.length]=o?VT(a,rL,"$1"):s||i}),n},iL=function(t,e){var r=t,n;if(rf(GT,r)&&(n=GT[r],r="%"+n[0]+"%"),rf(Vo,r)){var i=Vo[r];if(i===pl&&(i=KN(r)),typeof i>"u"&&!e)throw new dl("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new cl("intrinsic "+t+" does not exist!")},wv=function(t,e){if(typeof t!="string"||t.length===0)throw new dl("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new dl('"allowMissing" argument must be a boolean');if(eL(/^%?[^%]*%?$/,t)===null)throw new cl("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=nL(t),n=r.length>0?r[0]:"",i=iL("%"+n+"%",e),s=i.name,o=i.value,a=!1,u=i.alias;u&&(n=u[0],JN(r,ZN([0,1],u)));for(var c=1,d=!0;c<r.length;c+=1){var p=r[c],m=nf(p,0,1),g=nf(p,-1);if((m==='"'||m==="'"||m==="`"||g==='"'||g==="'"||g==="`")&&m!==g)throw new cl("property names with quotes must have matching quotes");if((p==="constructor"||!d)&&(a=!0),n+="."+p,s="%"+n+"%",rf(Vo,s))o=Vo[s];else if(o!=null){if(!(p in o)){if(!e)throw new dl("base intrinsic for "+t+" exists, but the property is not available.");return}if(Go&&c+1>=r.length){var b=Go(o,p);d=!!b,d&&"get"in b&&!("originalValue"in b.get)?o=b.get:o=o[p]}else d=rf(o,p),o=o[p];d&&!a&&(Vo[s]=o)}}return o},WT={exports:{}};(function(t){var e=bv,r=wv,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),a=r("%Object.defineProperty%",!0),u=r("%Math.max%");if(a)try{a({},"a",{value:1})}catch{a=null}t.exports=function(d){var p=s(e,i,arguments);if(o&&a){var m=o(p,"length");m.configurable&&a(p,"length",{value:1+u(0,d.length-(arguments.length-1))})}return p};var c=function(){return s(e,n,arguments)};a?a(t.exports,"apply",{value:c}):t.exports.apply=c})(WT);var sL=WT.exports,XT=wv,$T=sL,oL=$T(XT("String.prototype.indexOf")),aL=function(t,e){var r=XT(t,!!e);return typeof r=="function"&&oL(t,".prototype.")>-1?$T(r):r};const lL={},uL=Object.freeze(Object.defineProperty({__proto__:null,default:lL},Symbol.toStringTag,{value:"Module"})),hL=__(uL);var Ev=typeof Map=="function"&&Map.prototype,Tv=Object.getOwnPropertyDescriptor&&Ev?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,sf=Ev&&Tv&&typeof Tv.get=="function"?Tv.get:null,YT=Ev&&Map.prototype.forEach,Sv=typeof Set=="function"&&Set.prototype,Av=Object.getOwnPropertyDescriptor&&Sv?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,of=Sv&&Av&&typeof Av.get=="function"?Av.get:null,qT=Sv&&Set.prototype.forEach,cL=typeof WeakMap=="function"&&WeakMap.prototype,hh=cL?WeakMap.prototype.has:null,dL=typeof WeakSet=="function"&&WeakSet.prototype,ch=dL?WeakSet.prototype.has:null,fL=typeof WeakRef=="function"&&WeakRef.prototype,QT=fL?WeakRef.prototype.deref:null,pL=Boolean.prototype.valueOf,mL=Object.prototype.toString,gL=Function.prototype.toString,yL=String.prototype.match,Cv=String.prototype.slice,Vs=String.prototype.replace,vL=String.prototype.toUpperCase,KT=String.prototype.toLowerCase,ZT=RegExp.prototype.test,JT=Array.prototype.concat,vi=Array.prototype.join,bL=Array.prototype.slice,eS=Math.floor,Pv=typeof BigInt=="function"?BigInt.prototype.valueOf:null,Rv=Object.getOwnPropertySymbols,kv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,ml=typeof Symbol=="function"&&typeof Symbol.iterator=="object",wr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===ml||"symbol")?Symbol.toStringTag:null,tS=Object.prototype.propertyIsEnumerable,rS=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function nS(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||ZT.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-eS(-t):eS(t);if(n!==t){var i=String(n),s=Cv.call(e,i.length+1);return Vs.call(i,r,"$&_")+"."+Vs.call(Vs.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return Vs.call(e,r,"$&_")}var Iv=hL,iS=Iv.custom,sS=lS(iS)?iS:null,_L=function t(e,r,n,i){var s=r||{};if(Ws(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Ws(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Ws(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Ws(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Ws(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var a=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return hS(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var u=String(e);return a?nS(e,u):u}if(typeof e=="bigint"){var c=String(e)+"n";return a?nS(e,c):c}var d=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=d&&d>0&&typeof e=="object")return Mv(e)?"[Array]":"[Object]";var p=FL(s,n);if(typeof i>"u")i=[];else if(uS(i,e)>=0)return"[Circular]";function m(U,j,ae){if(j&&(i=bL.call(i),i.push(j)),ae){var de={depth:s.depth};return Ws(s,"quoteStyle")&&(de.quoteStyle=s.quoteStyle),t(U,de,n+1,i)}return t(U,s,n+1,i)}if(typeof e=="function"&&!aS(e)){var g=RL(e),b=af(e,m);return"[Function"+(g?": "+g:" (anonymous)")+"]"+(b.length>0?" { "+vi.call(b,", ")+" }":"")}if(lS(e)){var x=ml?Vs.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):kv.call(e);return typeof e=="object"&&!ml?dh(x):x}if(NL(e)){for(var A="<"+KT.call(String(e.nodeName)),T=e.attributes||[],_=0;_<T.length;_++)A+=" "+T[_].name+"="+oS(xL(T[_].value),"double",s);return A+=">",e.childNodes&&e.childNodes.length&&(A+="..."),A+="</"+KT.call(String(e.nodeName))+">",A}if(Mv(e)){if(e.length===0)return"[]";var w=af(e,m);return p&&!BL(w)?"["+Ov(w,p)+"]":"[ "+vi.call(w,", ")+" ]"}if(EL(e)){var S=af(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!tS.call(e,"cause")?"{ ["+String(e)+"] "+vi.call(JT.call("[cause]: "+m(e.cause),S),", ")+" }":S.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+vi.call(S,", ")+" }"}if(typeof e=="object"&&o){if(sS&&typeof e[sS]=="function"&&Iv)return Iv(e,{depth:d-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(kL(e)){var P=[];return YT&&YT.call(e,function(U,j){P.push(m(j,e,!0)+" => "+m(U,e))}),cS("Map",sf.call(e),P,p)}if(DL(e)){var D=[];return qT&&qT.call(e,function(U){D.push(m(U,e))}),cS("Set",of.call(e),D,p)}if(IL(e))return Dv("WeakMap");if(OL(e))return Dv("WeakSet");if(ML(e))return Dv("WeakRef");if(SL(e))return dh(m(Number(e)));if(CL(e))return dh(m(Pv.call(e)));if(AL(e))return dh(pL.call(e));if(TL(e))return dh(m(String(e)));if(!wL(e)&&!aS(e)){var k=af(e,m),R=rS?rS(e)===Object.prototype:e instanceof Object||e.constructor===Object,F=e instanceof Object?"":"null prototype",X=!R&&wr&&Object(e)===e&&wr in e?Cv.call(Xs(e),8,-1):F?"Object":"",K=R||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",$=K+(X||F?"["+vi.call(JT.call([],X||[],F||[]),": ")+"] ":"");return k.length===0?$+"{}":p?$+"{"+Ov(k,p)+"}":$+"{ "+vi.call(k,", ")+" }"}return String(e)};function oS(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function xL(t){return Vs.call(String(t),/"/g,"&quot;")}function Mv(t){return Xs(t)==="[object Array]"&&(!wr||!(typeof t=="object"&&wr in t))}function wL(t){return Xs(t)==="[object Date]"&&(!wr||!(typeof t=="object"&&wr in t))}function aS(t){return Xs(t)==="[object RegExp]"&&(!wr||!(typeof t=="object"&&wr in t))}function EL(t){return Xs(t)==="[object Error]"&&(!wr||!(typeof t=="object"&&wr in t))}function TL(t){return Xs(t)==="[object String]"&&(!wr||!(typeof t=="object"&&wr in t))}function SL(t){return Xs(t)==="[object Number]"&&(!wr||!(typeof t=="object"&&wr in t))}function AL(t){return Xs(t)==="[object Boolean]"&&(!wr||!(typeof t=="object"&&wr in t))}function lS(t){if(ml)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!kv)return!1;try{return kv.call(t),!0}catch{}return!1}function CL(t){if(!t||typeof t!="object"||!Pv)return!1;try{return Pv.call(t),!0}catch{}return!1}var PL=Object.prototype.hasOwnProperty||function(t){return t in this};function Ws(t,e){return PL.call(t,e)}function Xs(t){return mL.call(t)}function RL(t){if(t.name)return t.name;var e=yL.call(gL.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function uS(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function kL(t){if(!sf||!t||typeof t!="object")return!1;try{sf.call(t);try{of.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function IL(t){if(!hh||!t||typeof t!="object")return!1;try{hh.call(t,hh);try{ch.call(t,ch)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function ML(t){if(!QT||!t||typeof t!="object")return!1;try{return QT.call(t),!0}catch{}return!1}function DL(t){if(!of||!t||typeof t!="object")return!1;try{of.call(t);try{sf.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function OL(t){if(!ch||!t||typeof t!="object")return!1;try{ch.call(t,ch);try{hh.call(t,hh)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function NL(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function hS(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return hS(Cv.call(t,0,e.maxStringLength),e)+n}var i=Vs.call(Vs.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,LL);return oS(i,"single",e)}function LL(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+vL.call(e.toString(16))}function dh(t){return"Object("+t+")"}function Dv(t){return t+" { ? }"}function cS(t,e,r,n){var i=n?Ov(r,n):vi.call(r,", ");return t+" ("+e+") {"+i+"}"}function BL(t){for(var e=0;e<t.length;e++)if(uS(t[e],`
`)>=0)return!1;return!0}function FL(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=vi.call(Array(t.indent+1)," ");else return null;return{base:r,prev:vi.call(Array(e+1),r)}}function Ov(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+vi.call(t,","+r)+`
`+e.prev}function af(t,e){var r=Mv(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Ws(t,i)?e(t[i],t):""}var s=typeof Rv=="function"?Rv(t):[],o;if(ml){o={};for(var a=0;a<s.length;a++)o["$"+s[a]]=s[a]}for(var u in t)Ws(t,u)&&(r&&String(Number(u))===u&&u<t.length||ml&&o["$"+u]instanceof Symbol||(ZT.call(/[^\w$]/,u)?n.push(e(u,t)+": "+e(t[u],t)):n.push(u+": "+e(t[u],t))));if(typeof Rv=="function")for(var c=0;c<s.length;c++)tS.call(t,s[c])&&n.push("["+e(s[c])+"]: "+e(t[s[c]],t));return n}var Nv=wv,gl=aL,UL=_L,zL=Nv("%TypeError%"),lf=Nv("%WeakMap%",!0),uf=Nv("%Map%",!0),jL=gl("WeakMap.prototype.get",!0),HL=gl("WeakMap.prototype.set",!0),GL=gl("WeakMap.prototype.has",!0),VL=gl("Map.prototype.get",!0),WL=gl("Map.prototype.set",!0),XL=gl("Map.prototype.has",!0),Lv=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},$L=function(t,e){var r=Lv(t,e);return r&&r.value},YL=function(t,e,r){var n=Lv(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},qL=function(t,e){return!!Lv(t,e)},QL=function(){var t,e,r,n={assert:function(i){if(!n.has(i))throw new zL("Side channel does not contain "+UL(i))},get:function(i){if(lf&&i&&(typeof i=="object"||typeof i=="function")){if(t)return jL(t,i)}else if(uf){if(e)return VL(e,i)}else if(r)return $L(r,i)},has:function(i){if(lf&&i&&(typeof i=="object"||typeof i=="function")){if(t)return GL(t,i)}else if(uf){if(e)return XL(e,i)}else if(r)return qL(r,i);return!1},set:function(i,s){lf&&i&&(typeof i=="object"||typeof i=="function")?(t||(t=new lf),HL(t,i,s)):uf?(e||(e=new uf),WL(e,i,s)):(r||(r={key:{},next:null}),YL(r,i,s))}};return n},KL=String.prototype.replace,ZL=/%20/g,Bv={RFC1738:"RFC1738",RFC3986:"RFC3986"},Fv={default:Bv.RFC3986,formatters:{RFC1738:function(t){return KL.call(t,ZL,"+")},RFC3986:function(t){return String(t)}},RFC1738:Bv.RFC1738,RFC3986:Bv.RFC3986},JL=Fv,Uv=Object.prototype.hasOwnProperty,Wo=Array.isArray,bi=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),e3=function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(Wo(r)){for(var n=[],i=0;i<r.length;++i)typeof r[i]<"u"&&n.push(r[i]);e.obj[e.prop]=n}}},dS=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)typeof t[n]<"u"&&(r[n]=t[n]);return r},t3=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(Wo(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!Uv.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return Wo(e)&&!Wo(r)&&(i=dS(e,n)),Wo(e)&&Wo(r)?(r.forEach(function(s,o){if(Uv.call(e,o)){var a=e[o];a&&typeof a=="object"&&s&&typeof s=="object"?e[o]=t(a,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var a=r[o];return Uv.call(s,o)?s[o]=t(s[o],a,n):s[o]=a,s},i)},r3=function(t,e){return Object.keys(e).reduce(function(r,n){return r[n]=e[n],r},t)},n3=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},i3=function(t,e,r,n,i){if(t.length===0)return t;var s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(c){return"%26%23"+parseInt(c.slice(2),16)+"%3B"});for(var o="",a=0;a<s.length;++a){var u=s.charCodeAt(a);if(u===45||u===46||u===95||u===126||u>=48&&u<=57||u>=65&&u<=90||u>=97&&u<=122||i===JL.RFC1738&&(u===40||u===41)){o+=s.charAt(a);continue}if(u<128){o=o+bi[u];continue}if(u<2048){o=o+(bi[192|u>>6]+bi[128|u&63]);continue}if(u<55296||u>=57344){o=o+(bi[224|u>>12]+bi[128|u>>6&63]+bi[128|u&63]);continue}a+=1,u=65536+((u&1023)<<10|s.charCodeAt(a)&1023),o+=bi[240|u>>18]+bi[128|u>>12&63]+bi[128|u>>6&63]+bi[128|u&63]}return o},s3=function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],s=i.obj[i.prop],o=Object.keys(s),a=0;a<o.length;++a){var u=o[a],c=s[u];typeof c=="object"&&c!==null&&r.indexOf(c)===-1&&(e.push({obj:s,prop:u}),r.push(c))}return e3(e),t},o3=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},a3=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},l3=function(t,e){return[].concat(t,e)},u3=function(t,e){if(Wo(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},fS={arrayToObject:dS,assign:r3,combine:l3,compact:s3,decode:n3,encode:i3,isBuffer:a3,isRegExp:o3,maybeMap:u3,merge:t3},pS=QL,hf=fS,fh=Fv,h3=Object.prototype.hasOwnProperty,mS={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},ss=Array.isArray,c3=Array.prototype.push,gS=function(t,e){c3.apply(t,ss(e)?e:[e])},d3=Date.prototype.toISOString,yS=fh.default,Er={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:hf.encode,encodeValuesOnly:!1,format:yS,formatter:fh.formatters[yS],indices:!1,serializeDate:function(t){return d3.call(t)},skipNulls:!1,strictNullHandling:!1},f3=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},zv={},p3=function t(e,r,n,i,s,o,a,u,c,d,p,m,g,b,x,A){for(var T=e,_=A,w=0,S=!1;(_=_.get(zv))!==void 0&&!S;){var P=_.get(e);if(w+=1,typeof P<"u"){if(P===w)throw new RangeError("Cyclic object value");S=!0}typeof _.get(zv)>"u"&&(w=0)}if(typeof u=="function"?T=u(r,T):T instanceof Date?T=p(T):n==="comma"&&ss(T)&&(T=hf.maybeMap(T,function(de){return de instanceof Date?p(de):de})),T===null){if(s)return a&&!b?a(r,Er.encoder,x,"key",m):r;T=""}if(f3(T)||hf.isBuffer(T)){if(a){var D=b?r:a(r,Er.encoder,x,"key",m);return[g(D)+"="+g(a(T,Er.encoder,x,"value",m))]}return[g(r)+"="+g(String(T))]}var k=[];if(typeof T>"u")return k;var R;if(n==="comma"&&ss(T))b&&a&&(T=hf.maybeMap(T,a)),R=[{value:T.length>0?T.join(",")||null:void 0}];else if(ss(u))R=u;else{var F=Object.keys(T);R=c?F.sort(c):F}for(var X=i&&ss(T)&&T.length===1?r+"[]":r,K=0;K<R.length;++K){var $=R[K],U=typeof $=="object"&&typeof $.value<"u"?$.value:T[$];if(!(o&&U===null)){var j=ss(T)?typeof n=="function"?n(X,$):X:X+(d?"."+$:"["+$+"]");A.set(e,w);var ae=pS();ae.set(zv,A),gS(k,t(U,j,n,i,s,o,n==="comma"&&b&&ss(T)?null:a,u,c,d,p,m,g,b,x,ae))}}return k},m3=function(t){if(!t)return Er;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var e=t.charset||Er.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=fh.default;if(typeof t.format<"u"){if(!h3.call(fh.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=fh.formatters[r],i=Er.filter;return(typeof t.filter=="function"||ss(t.filter))&&(i=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:Er.addQueryPrefix,allowDots:typeof t.allowDots>"u"?Er.allowDots:!!t.allowDots,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Er.charsetSentinel,delimiter:typeof t.delimiter>"u"?Er.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:Er.encode,encoder:typeof t.encoder=="function"?t.encoder:Er.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:Er.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:Er.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:Er.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Er.strictNullHandling}},g3=function(t,e){var r=t,n=m3(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):ss(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var a;e&&e.arrayFormat in mS?a=e.arrayFormat:e&&"indices"in e?a=e.indices?"indices":"repeat":a="indices";var u=mS[a];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var c=u==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var d=pS(),p=0;p<i.length;++p){var m=i[p];n.skipNulls&&r[m]===null||gS(o,p3(r[m],m,u,c,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,d))}var g=o.join(n.delimiter),b=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?b+="utf8=%26%2310003%3B&":b+="utf8=%E2%9C%93&"),g.length>0?b+g:""},yl=fS,jv=Object.prototype.hasOwnProperty,y3=Array.isArray,rr={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:yl.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},v3=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},vS=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},b3="utf8=%26%2310003%3B",_3="utf8=%E2%9C%93",x3=function(t,e){var r={__proto__:null},n=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=e.parameterLimit===1/0?void 0:e.parameterLimit,s=n.split(e.delimiter,i),o=-1,a,u=e.charset;if(e.charsetSentinel)for(a=0;a<s.length;++a)s[a].indexOf("utf8=")===0&&(s[a]===_3?u="utf-8":s[a]===b3&&(u="iso-8859-1"),o=a,a=s.length);for(a=0;a<s.length;++a)if(a!==o){var c=s[a],d=c.indexOf("]="),p=d===-1?c.indexOf("="):d+1,m,g;p===-1?(m=e.decoder(c,rr.decoder,u,"key"),g=e.strictNullHandling?null:""):(m=e.decoder(c.slice(0,p),rr.decoder,u,"key"),g=yl.maybeMap(vS(c.slice(p+1),e),function(b){return e.decoder(b,rr.decoder,u,"value")})),g&&e.interpretNumericEntities&&u==="iso-8859-1"&&(g=v3(g)),c.indexOf("[]=")>-1&&(g=y3(g)?[g]:g),jv.call(r,m)?r[m]=yl.combine(r[m],g):r[m]=g}return r},w3=function(t,e,r,n){for(var i=n?e:vS(e,r),s=t.length-1;s>=0;--s){var o,a=t[s];if(a==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var u=a.charAt(0)==="["&&a.charAt(a.length-1)==="]"?a.slice(1,-1):a,c=parseInt(u,10);!r.parseArrays&&u===""?o={0:i}:!isNaN(c)&&a!==u&&String(c)===u&&c>=0&&r.parseArrays&&c<=r.arrayLimit?(o=[],o[c]=i):u!=="__proto__"&&(o[u]=i)}i=o}return i},E3=function(t,e,r,n){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,a=r.depth>0&&s.exec(i),u=a?i.slice(0,a.index):i,c=[];if(u){if(!r.plainObjects&&jv.call(Object.prototype,u)&&!r.allowPrototypes)return;c.push(u)}for(var d=0;r.depth>0&&(a=o.exec(i))!==null&&d<r.depth;){if(d+=1,!r.plainObjects&&jv.call(Object.prototype,a[1].slice(1,-1))&&!r.allowPrototypes)return;c.push(a[1])}return a&&c.push("["+i.slice(a.index)+"]"),w3(c,e,r,n)}},T3=function(t){if(!t)return rr;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=typeof t.charset>"u"?rr.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?rr.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:rr.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:rr.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:rr.arrayLimit,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:rr.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:rr.comma,decoder:typeof t.decoder=="function"?t.decoder:rr.decoder,delimiter:typeof t.delimiter=="string"||yl.isRegExp(t.delimiter)?t.delimiter:rr.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:rr.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:rr.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:rr.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:rr.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:rr.strictNullHandling}},S3=function(t,e){var r=T3(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?x3(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var a=s[o],u=E3(a,n[a],r,typeof t=="string");i=yl.merge(i,u,r)}return r.allowSparse===!0?i:yl.compact(i)},A3=g3,C3=S3,P3=Fv,R3={formats:P3,parse:C3,stringify:A3},k3=ON;function Vn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var I3=/^([a-z0-9.+-]+:)/i,M3=/:[0-9]*$/,D3=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,O3=["<",">",'"',"`"," ","\r",`
`,"	"],N3=["{","}","|","\\","^","`"].concat(O3),Hv=["'"].concat(N3),bS=["%","/","?",";","#"].concat(Hv),_S=["/","?","#"],L3=255,xS=/^[+a-z0-9A-Z_-]{0,63}$/,B3=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,F3={javascript:!0,"javascript:":!0},Gv={javascript:!0,"javascript:":!0},vl={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Vv=R3;function cf(t,e,r){if(t&&typeof t=="object"&&t instanceof Vn)return t;var n=new Vn;return n.parse(t,e,r),n}Vn.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var a=t;if(a=a.trim(),!r&&t.split("#").length===1){var u=D3.exec(a);if(u)return this.path=a,this.href=a,this.pathname=u[1],u[2]?(this.search=u[2],e?this.query=Vv.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var c=I3.exec(a);if(c){c=c[0];var d=c.toLowerCase();this.protocol=d,a=a.substr(c.length)}if(r||c||a.match(/^\/\/[^@/]+@[^@/]+/)){var p=a.substr(0,2)==="//";p&&!(c&&Gv[c])&&(a=a.substr(2),this.slashes=!0)}if(!Gv[c]&&(p||c&&!vl[c])){for(var m=-1,g=0;g<_S.length;g++){var b=a.indexOf(_S[g]);b!==-1&&(m===-1||b<m)&&(m=b)}var x,A;m===-1?A=a.lastIndexOf("@"):A=a.lastIndexOf("@",m),A!==-1&&(x=a.slice(0,A),a=a.slice(A+1),this.auth=decodeURIComponent(x)),m=-1;for(var g=0;g<bS.length;g++){var b=a.indexOf(bS[g]);b!==-1&&(m===-1||b<m)&&(m=b)}m===-1&&(m=a.length),this.host=a.slice(0,m),a=a.slice(m),this.parseHost(),this.hostname=this.hostname||"";var T=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!T)for(var _=this.hostname.split(/\./),g=0,w=_.length;g<w;g++){var S=_[g];if(S&&!S.match(xS)){for(var P="",D=0,k=S.length;D<k;D++)S.charCodeAt(D)>127?P+="x":P+=S[D];if(!P.match(xS)){var R=_.slice(0,g),F=_.slice(g+1),X=S.match(B3);X&&(R.push(X[1]),F.unshift(X[2])),F.length&&(a="/"+F.join(".")+a),this.hostname=R.join(".");break}}}this.hostname.length>L3?this.hostname="":this.hostname=this.hostname.toLowerCase(),T||(this.hostname=k3.toASCII(this.hostname));var K=this.port?":"+this.port:"",$=this.hostname||"";this.host=$+K,this.href+=this.host,T&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),a[0]!=="/"&&(a="/"+a))}if(!F3[d])for(var g=0,w=Hv.length;g<w;g++){var U=Hv[g];if(a.indexOf(U)!==-1){var j=encodeURIComponent(U);j===U&&(j=escape(U)),a=a.split(U).join(j)}}var ae=a.indexOf("#");ae!==-1&&(this.hash=a.substr(ae),a=a.slice(0,ae));var de=a.indexOf("?");if(de!==-1?(this.search=a.substr(de),this.query=a.substr(de+1),e&&(this.query=Vv.parse(this.query)),a=a.slice(0,de)):e&&(this.search="",this.query={}),a&&(this.pathname=a),vl[d]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var K=this.pathname||"",ne=this.search||"";this.path=K+ne}return this.href=this.format(),this};function U3(t){return typeof t=="string"&&(t=cf(t)),t instanceof Vn?t.format():Vn.prototype.format.call(t)}Vn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=Vv.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||vl[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(a){return encodeURIComponent(a)}),o=o.replace("#","%23"),e+i+r+o+n};function z3(t,e){return cf(t,!1,!0).resolve(e)}Vn.prototype.resolve=function(t){return this.resolveObject(cf(t,!1,!0)).format()},Vn.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Vn;e.parse(t,!1,!0),t=e}for(var r=new Vn,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),a=0;a<o.length;a++){var u=o[a];u!=="protocol"&&(r[u]=t[u])}return vl[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!vl[t.protocol]){for(var c=Object.keys(t),d=0;d<c.length;d++){var p=c[d];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Gv[t.protocol]){for(var w=(t.pathname||"").split("/");w.length&&!(t.host=w.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),w[0]!==""&&w.unshift(""),w.length<2&&w.unshift(""),r.pathname=w.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",g=r.search||"";r.path=m+g}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var b=r.pathname&&r.pathname.charAt(0)==="/",x=t.host||t.pathname&&t.pathname.charAt(0)==="/",A=x||b||r.host&&t.pathname,T=A,_=r.pathname&&r.pathname.split("/")||[],w=t.pathname&&t.pathname.split("/")||[],S=r.protocol&&!vl[r.protocol];if(S&&(r.hostname="",r.port=null,r.host&&(_[0]===""?_[0]=r.host:_.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(w[0]===""?w[0]=t.host:w.unshift(t.host)),t.host=null),A=A&&(w[0]===""||_[0]==="")),x)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,_=w;else if(w.length)_||(_=[]),_.pop(),_=_.concat(w),r.search=t.search,r.query=t.query;else if(t.search!=null){if(S){r.host=_.shift(),r.hostname=r.host;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!_.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var D=_.slice(-1)[0],k=(r.host||t.host||_.length>1)&&(D==="."||D==="..")||D==="",R=0,F=_.length;F>=0;F--)D=_[F],D==="."?_.splice(F,1):D===".."?(_.splice(F,1),R++):R&&(_.splice(F,1),R--);if(!A&&!T)for(;R--;R)_.unshift("..");A&&_[0]!==""&&(!_[0]||_[0].charAt(0)!=="/")&&_.unshift(""),k&&_.join("/").substr(-1)!=="/"&&_.push("");var X=_[0]===""||_[0]&&_[0].charAt(0)==="/";if(S){r.hostname=X?"":_.length?_.shift():"",r.host=r.hostname;var P=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;P&&(r.auth=P.shift(),r.hostname=P.shift(),r.host=r.hostname)}return A=A||r.host&&_.length,A&&!X&&_.unshift(""),_.length>0?r.pathname=_.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},Vn.prototype.parseHost=function(){var t=this.host,e=M3.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var j3=cf,H3=z3,G3=U3;const V3={parse:j3,format:G3,resolve:H3};function Wn(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function ph(t){return t.split("?")[0].split("#")[0]}function W3(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function X3(t,e,r){return t.replace(new RegExp(W3(e),"g"),r)}function $3(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let a=0;a<=t.length;++a){if(a<t.length)o=t.charCodeAt(a);else{if(o===47)break;o=47}if(o===47){if(!(i===a-1||s===1))if(i!==a-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const u=r.lastIndexOf("/");if(u!==r.length-1){u===-1?(r="",n=0):(r=r.slice(0,u),n=r.length-1-r.lastIndexOf("/")),i=a,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=a,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,a)}`:r=t.slice(i+1,a),n=a-i-1;i=a,s=0}else o===46&&s!==-1?++s:s=-1}return r}const Tr={toPosix(t){return X3(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){Wn(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){const s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const n=ph(this.toPosix(e??ue.ADAPTER.getBaseUrl())),i=ph(this.toPosix(r??this.rootname(n)));return Wn(t),t=this.toPosix(t),t.startsWith("/")?Tr.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(t=this.toPosix(t),Wn(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=$3(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return Wn(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(Wn(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(Wn(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let a=t.length-1;a>=1;--a)if(e=t.charCodeAt(a),e===47){if(!i){n=a;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){Wn(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){Wn(t),e&&Wn(e),t=ph(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,a=-1;for(s=t.length-1;s>=0;--s){const u=t.charCodeAt(s);if(u===47){if(!i){r=s+1;break}}else a===-1&&(i=!1,a=s+1),o>=0&&(u===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=a))}return r===n?n=a:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){Wn(t),t=ph(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const a=t.charCodeAt(o);if(a===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),a===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){Wn(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=ph(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,a=-1,u=!0,c=t.length-1,d=0;for(;c>=i;--c){if(r=t.charCodeAt(c),r===47){if(!u){o=c+1;break}continue}a===-1&&(u=!1,a=c+1),r===46?s===-1?s=c:d!==1&&(d=1):s!==-1&&(d=-1)}return s===-1||a===-1||d===0||d===1&&s===a-1&&s===o+1?a!==-1&&(o===0&&n?e.base=e.name=t.slice(1,a):e.base=e.name=t.slice(o,a)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,a)):(e.name=t.slice(o,s),e.base=t.slice(o,a)),e.ext=t.slice(s,a)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},wS={};function Ge(t,e,r=3){if(wS[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),wS[e]=!0}let Wv;function Y3(){return typeof Wv>"u"&&(Wv=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:ue.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!ue.ADAPTER.getWebGLRenderingContext())return!1;const r=ue.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Wv}var q3={grad:.9,turn:360,rad:360/(2*Math.PI)},os=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},nr=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},wn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},ES=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},TS=function(t){return{r:wn(t.r,0,255),g:wn(t.g,0,255),b:wn(t.b,0,255),a:wn(t.a)}},Xv=function(t){return{r:nr(t.r),g:nr(t.g),b:nr(t.b),a:nr(t.a,3)}},Q3=/^#([0-9a-f]{3,8})$/i,df=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},SS=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),a=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(a<0?a+6:a),s:s?o/s*100:0,v:s/255*100,a:i}},AS=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),a=n*(1-(e-s)*r),u=n*(1-(1-e+s)*r),c=s%6;return{r:255*[n,a,o,o,u,n][c],g:255*[u,n,n,a,o,o][c],b:255*[o,o,u,n,n,a][c],a:i}},CS=function(t){return{h:ES(t.h),s:wn(t.s,0,100),l:wn(t.l,0,100),a:wn(t.a)}},PS=function(t){return{h:nr(t.h),s:nr(t.s),l:nr(t.l),a:nr(t.a,3)}},RS=function(t){return AS((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},mh=function(t){return{h:(e=SS(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},K3=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Z3=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,J3=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,eB=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,$v={string:[[function(t){var e=Q3.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?nr(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?nr(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=J3.exec(t)||eB.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:TS({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=K3.exec(t)||Z3.exec(t);if(!e)return null;var r,n,i=CS({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(q3[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return RS(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return os(e)&&os(r)&&os(n)?TS({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!os(e)||!os(r)||!os(n))return null;var o=CS({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return RS(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!os(e)||!os(r)||!os(n))return null;var o=function(a){return{h:ES(a.h),s:wn(a.s,0,100),v:wn(a.v,0,100),a:wn(a.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return AS(o)},"hsv"]]},kS=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},tB=function(t){return typeof t=="string"?kS(t.trim(),$v.string):typeof t=="object"&&t!==null?kS(t,$v.object):[null,void 0]},Yv=function(t,e){var r=mh(t);return{h:r.h,s:wn(r.s+100*e,0,100),l:r.l,a:r.a}},qv=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},IS=function(t,e){var r=mh(t);return{h:r.h,s:r.s,l:wn(r.l+100*e,0,100),a:r.a}},Qv=function(){function t(e){this.parsed=tB(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return nr(qv(this.rgba),2)},t.prototype.isDark=function(){return qv(this.rgba)<.5},t.prototype.isLight=function(){return qv(this.rgba)>=.5},t.prototype.toHex=function(){return e=Xv(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?df(nr(255*s)):"","#"+df(r)+df(n)+df(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Xv(this.rgba)},t.prototype.toRgbString=function(){return e=Xv(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return PS(mh(this.rgba))},t.prototype.toHslString=function(){return e=PS(mh(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=SS(this.rgba),{h:nr(e.h),s:nr(e.s),v:nr(e.v),a:nr(e.a,3)};var e},t.prototype.invert=function(){return _i({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),_i(Yv(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),_i(Yv(this.rgba,-e))},t.prototype.grayscale=function(){return _i(Yv(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),_i(IS(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),_i(IS(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?_i({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):nr(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=mh(this.rgba);return typeof e=="number"?_i({h:e,s:r.s,l:r.l,a:r.a}):nr(r.h)},t.prototype.isEqual=function(e){return this.toHex()===_i(e).toHex()},t}(),_i=function(t){return t instanceof Qv?t:new Qv(t)},MS=[],rB=function(t){t.forEach(function(e){MS.indexOf(e)<0&&(e(Qv,$v),MS.push(e))})};function nB(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var a,u,c=n[this.toHex()];if(c)return c;if(o!=null&&o.closest){var d=this.toRgb(),p=1/0,m="black";if(!s.length)for(var g in r)s[g]=new t(r[g]).toRgb();for(var b in r){var x=(a=d,u=s[b],Math.pow(a.r-u.r,2)+Math.pow(a.g-u.g,2)+Math.pow(a.b-u.b,2));x<p&&(p=x,m=b)}return m}},e.string.push([function(o){var a=o.toLowerCase(),u=a==="transparent"?"#0000":r[a];return u?new t(u).toRgb():null},"name"])}rB([nB]);const bl=class{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof bl)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((n,i)=>n===e[i]);if(t!==null&&e!==null){const n=Object.keys(t),i=Object.keys(e);return n.length!==i.length?!1:n.every(s=>t[s]===e[s])}return t===e}toRgba(){const[t,e,r,n]=this._components;return{r:t,g:e,b:r,a:n}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,n]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(r*255),t[2]=Math.round(n*255),t}toRgbArray(t){t=t??[];const[e,r,n]=this._components;return t[0]=e,t[1]=r,t[2]=n,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,r,n,i]=bl.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=n,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=this._int&255;return e&&(r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0),(t*255<<24)+(r<<16)+(n<<8)+i}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,n]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(n*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,n,i]=this._components;return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}normalize(t){let e,r,n,i;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const s=t;e=(s>>16&255)/255,r=(s>>8&255)/255,n=(s&255)/255,i=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,r,n,i=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,r,n,i=255]=t,e/=255,r/=255,n/=255,i/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const o=bl.HEX_PATTERN.exec(t);o&&(t=`#${o[2]}`)}const s=_i(t);s.isValid()&&({r:e,g:r,b:n,a:i}=s.rgba,e/=255,r/=255,n/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=r,this._components[2]=n,this._components[3]=i,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(t*255<<16)+(e*255<<8)+(r*255|0)}_clamp(t,e=0,r=1){return typeof t=="number"?Math.min(Math.max(t,e),r):(t.forEach((n,i)=>{t[i]=Math.min(Math.max(n,e),r)}),t)}};let Ye=bl;Ye.shared=new bl,Ye.temp=new bl,Ye.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function iB(t){return Ge("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Ye.shared.setValue(t).toHex()}function sB(t){return Ge("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Ye.shared.setValue(t).toNumber()}function oB(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[Ce.NORMAL_NPM]=Ce.NORMAL,t[Ce.ADD_NPM]=Ce.ADD,t[Ce.SCREEN_NPM]=Ce.SCREEN,e[Ce.NORMAL]=Ce.NORMAL_NPM,e[Ce.ADD]=Ce.ADD_NPM,e[Ce.SCREEN]=Ce.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const DS=oB();function OS(t,e){return DS[e?1:0][t]}function aB(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function NS(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function ff(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function LS(t){return!(t&t-1)&&!!t}function BS(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function _l(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function $s(t){return t===0?0:t<0?-1:1}let lB=0;function Xo(){return++lB}const FS=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let Kv=FS;Kv.EMPTY=new FS(0,0,0,0);const US={},xi=Object.create(null),Ys=Object.create(null);class uB{constructor(e,r,n){this._canvas=ue.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||ue.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function zS(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function jS(t,e,r,n,i){const s=4*e;for(let o=n,a=n*s+4*r;o<=i;++o,a+=s)if(t[a+3]!==0)return!1;return!0}function hB(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,a=e-1,u=r-1;for(;o<r&&zS(i,e,o);)++o;if(o===r)return Kv.EMPTY;for(;zS(i,e,u);)--u;for(;jS(i,e,s,o,u);)++s;for(;jS(i,e,a,o,u);)--a;return++a,++u,new Kv(s,o,a,u)}function cB(t){const e=hB(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}let pf;function dB(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,pf||(pf=document.createElement("a")),pf.href=t;const r=V3.parse(pf.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function qs(t,e=1){var n;const r=(n=ue.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var ce=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ce||{});const Zv=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},HS=(t,e)=>Zv(t).priority??e,we={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Zv).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(Zv).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>HS(s,r)-HS(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class Jv{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const fB=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function pB(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function mB(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=fB.replace(/%forloop%/gi,pB(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const e0=0,t0=1,r0=2,n0=3,i0=4,s0=5;class as{constructor(){this.data=0,this.blendMode=Ce.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<e0)}set blend(e){!!(this.data&1<<e0)!==e&&(this.data^=1<<e0)}get offsets(){return!!(this.data&1<<t0)}set offsets(e){!!(this.data&1<<t0)!==e&&(this.data^=1<<t0)}get culling(){return!!(this.data&1<<r0)}set culling(e){!!(this.data&1<<r0)!==e&&(this.data^=1<<r0)}get depthTest(){return!!(this.data&1<<n0)}set depthTest(e){!!(this.data&1<<n0)!==e&&(this.data^=1<<n0)}get depthMask(){return!!(this.data&1<<s0)}set depthMask(e){!!(this.data&1<<s0)!==e&&(this.data^=1<<s0)}get clockwiseFrontFace(){return!!(this.data&1<<i0)}set clockwiseFrontFace(e){!!(this.data&1<<i0)!==e&&(this.data^=1<<i0)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Ce.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new as;return e.depthTest=!1,e.blend=!0,e}}const o0=[];function GS(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=o0.length-1;n>=0;--n){const i=o0[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Xn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,a,u){if(arguments.length>8)throw new Error("max arguments reached");const{name:c,items:d}=this;this._aliasCount++;for(let p=0,m=d.length;p<m;p++)d[p][c](e,r,n,i,s,o,a,u);return d===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Xn.prototype,{dispatch:{value:Xn.prototype.emit},run:{value:Xn.prototype.emit}});class gh{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Xn("setRealSize"),this.onUpdate=new Xn("update"),this.onError=new Xn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class yh extends gh{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Gn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const gB={scaleMode:ts.NEAREST,format:se.RGBA,alphaMode:Gn.NPM},xl=class extends sh{constructor(t=null,e=null){super(),e=Object.assign({},xl.defaultOptions,e);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:a,wrapMode:u,format:c,type:d,target:p,resolution:m,resourceOptions:g}=e;t&&!(t instanceof gh)&&(t=GS(t,g),t.internal=!0),this.resolution=m||ue.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((a||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=u,this._scaleMode=s,this.format=c,this.type=d,this.target=p,this.alphaMode=r,this.uid=Xo(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&a>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=LS(this.realWidth)&&LS(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Ys[this.cacheId],delete xi[this.cacheId],this.cacheId=null),this.dispose(),xl.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=ue.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${Xo()}`}i=t._pixiId}let s=Ys[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new xl(t,e),s.cacheId=i,xl.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new yh(t,{width:e,height:r}),s=t instanceof Float32Array?Te.FLOAT:Te.UNSIGNED_BYTE;return new xl(i,Object.assign({},gB,{type:s},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Ys[e]&&Ys[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Ys[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Ys[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Ys[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Ys[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let Ne=xl;Ne.defaultOptions={mipmap:mi.POW2,anisotropicLevel:0,scaleMode:ts.LINEAR,wrapMode:rs.CLAMP,alphaMode:Gn.UNPACK,target:ll.TEXTURE_2D,format:se.RGBA,type:Te.UNSIGNED_BYTE},Ne._globalBatch=0;class a0{constructor(){this.texArray=null,this.blend=0,this.type=Hn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let yB=0,Kt=class wI{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=yB++,this.disposeRunner=new Xn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?yi.ELEMENT_ARRAY_BUFFER:yi.ARRAY_BUFFER}get index(){return this.type===yi.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new wI(e)}};class mf{constructor(e,r=0,n=!1,i=Te.FLOAT,s,o,a,u=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=a,this.divisor=u}destroy(){this.buffer=null}static from(e,r,n,i,s){return new mf(e,r,n,i,s)}}const vB={Float32Array,Uint32Array,Int32Array,Uint8Array};function bB(t,e){let r=0,n=0;const i={};for(let u=0;u<t.length;u++)n+=e[u],r+=t[u].length;const s=new ArrayBuffer(r*4);let o=null,a=0;for(let u=0;u<t.length;u++){const c=e[u],d=t[u],p=NS(d);i[p]||(i[p]=new vB[p](s)),o=i[p];for(let m=0;m<d.length;m++){const g=(m/c|0)*n+a,b=m%c;o[g+b]=d[m]}a+=c}return new Float32Array(s)}const VS={5126:4,5123:2,5121:1};let _B=0;const xB={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Qs{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=_B++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Xn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,a,u=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof Kt||(r instanceof Array&&(r=new Float32Array(r)),r=new Kt(r));const c=e.split("|");if(c.length>1){for(let p=0;p<c.length;p++)this.addAttribute(c[p],r,n,i,s);return this}let d=this.buffers.indexOf(r);return d===-1&&(this.buffers.push(r),d=this.buffers.length-1),this.attributes[e]=new mf(d,n,i,s,o,a,u),this.instanced=this.instanced||u,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof Kt||(e instanceof Array&&(e=new Uint16Array(e)),e=new Kt(e)),e.type=yi.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new Kt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*VS[s.type]/4),s.buffer=0}for(n.data=bB(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Qs;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new Kt(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new mf(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=yi.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Qs,n=[],i=[],s=[];let o;for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)i[u]=i[u]||0,i[u]+=o.buffers[u].data.length,s[u]=0}for(let a=0;a<o.buffers.length;a++)n[a]=new xB[NS(o.buffers[a].data)](i[a]),r.buffers[a]=new Kt(n[a]);for(let a=0;a<e.length;a++){o=e[a];for(let u=0;u<o.buffers.length;u++)n[u].set(o.buffers[u].data,s[u]),s[u]+=o.buffers[u].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=yi.ELEMENT_ARRAY_BUFFER;let a=0,u=0,c=0,d=0;for(let p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){d=p;break}for(const p in o.attributes){const m=o.attributes[p];(m.buffer|0)===d&&(u+=m.size*VS[m.type]/4)}for(let p=0;p<e.length;p++){const m=e[p].indexBuffer.data;for(let g=0;g<m.length;g++)r.indexBuffer.data[g+c]+=a;a+=e[p].buffers[d].data.length/u,c+=m.length}}return r}}class WS extends Qs{constructor(e=!1){super(),this._buffer=new Kt(null,e,!1),this._indexBuffer=new Kt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Te.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Te.FLOAT).addAttribute("aColor",this._buffer,4,!0,Te.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Te.FLOAT).addIndex(this._indexBuffer)}}const gf=Math.PI*2,wB=180/Math.PI,EB=Math.PI/180;var dr=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(dr||{});class Se{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new Se(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const yf=[new Se,new Se,new Se,new Se];class Le{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=dr.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new Le(0,0,0,0)}clone(){return new Le(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const R=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=R)return!1;const F=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>F}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const a=yf[0].set(e.left,e.top),u=yf[1].set(e.left,e.bottom),c=yf[2].set(e.right,e.top),d=yf[3].set(e.right,e.bottom);if(c.x<=a.x||u.y<=a.y)return!1;const p=Math.sign(r.a*r.d-r.b*r.c);if(p===0||(r.apply(a,a),r.apply(u,u),r.apply(c,c),r.apply(d,d),Math.max(a.x,u.x,c.x,d.x)<=n||Math.min(a.x,u.x,c.x,d.x)>=i||Math.max(a.y,u.y,c.y,d.y)<=s||Math.min(a.y,u.y,c.y,d.y)>=o))return!1;const m=p*(u.y-a.y),g=p*(a.x-u.x),b=m*n+g*s,x=m*i+g*s,A=m*n+g*o,T=m*i+g*o;if(Math.max(b,x,A,T)<=m*a.x+g*a.y||Math.min(b,x,A,T)>=m*d.x+g*d.y)return!1;const _=p*(a.y-c.y),w=p*(c.x-a.x),S=_*n+w*s,P=_*i+w*s,D=_*n+w*o,k=_*i+w*o;return!(Math.max(S,P,D,k)<=_*a.x+w*a.y||Math.min(S,P,D,k)>=_*d.x+w*d.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class l0{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=dr.CIRC}clone(){return new l0(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new Le(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class u0{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=dr.ELIP}clone(){return new u0(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new Le(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class wl{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=dr.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new wl(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const a=this.points[s*2],u=this.points[s*2+1],c=this.points[o*2],d=this.points[o*2+1];u>r!=d>r&&e<(c-a)*((r-u)/(d-u))+a&&(n=!n)}return n}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class h0{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=dr.RREC}clone(){return new h0(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class pt{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new Se;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new Se;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,a,u,c){return this.a=Math.cos(a+c)*s,this.b=Math.sin(a+c)*s,this.c=-Math.sin(a-u)*o,this.d=Math.cos(a-u)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,a=-Math.atan2(-i,s),u=Math.atan2(n,r),c=Math.abs(a+u);return c<1e-5||Math.abs(gf-c)<1e-5?(e.rotation=u,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=a,e.skew.y=u),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new pt;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new pt}static get TEMP_MATRIX(){return new pt}}const $o=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Yo=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],qo=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],Qo=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],c0=[],XS=[],vf=Math.sign;function TB(){for(let t=0;t<16;t++){const e=[];c0.push(e);for(let r=0;r<16;r++){const n=vf($o[t]*$o[r]+qo[t]*Yo[r]),i=vf(Yo[t]*$o[r]+Qo[t]*Yo[r]),s=vf($o[t]*qo[r]+qo[t]*Qo[r]),o=vf(Yo[t]*qo[r]+Qo[t]*Qo[r]);for(let a=0;a<16;a++)if($o[a]===n&&Yo[a]===i&&qo[a]===s&&Qo[a]===o){e.push(a);break}}}for(let t=0;t<16;t++){const e=new pt;e.set($o[t],Yo[t],qo[t],Qo[t],0,0),XS.push(e)}}TB();const Et={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>$o[t],uY:t=>Yo[t],vX:t=>qo[t],vY:t=>Qo[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>c0[t][e],sub:(t,e)=>c0[t][Et.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Et.S:Et.N:Math.abs(e)*2<=Math.abs(t)?t>0?Et.E:Et.W:e>0?t>0?Et.SE:Et.SW:t>0?Et.NE:Et.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=XS[Et.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class ls{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new ls(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const $S=class{constructor(){this.worldTransform=new pt,this.localTransform=new pt,this.position=new ls(this.onChange,this,0,0),this.scale=new ls(this.onChange,this,1,1),this.pivot=new ls(this.onChange,this,0,0),this.skew=new ls(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let bf=$S;bf.IDENTITY=new $S;var SB=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,AB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function YS(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function d0(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function qS(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return d0(2*e);case"bvec3":return d0(3*e);case"bvec4":return d0(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const El=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],CB={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},PB={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function RB(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(n=t.uniforms[i])!=null&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let a=!1;for(let u=0;u<El.length;u++)if(El[u].test(s,o)){r.push(El[u].code(i,o)),a=!0;break}if(!a){const u=(s.size===1&&!s.isArray?CB:PB)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${u};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const QS={};let Tl=QS;function kB(){if(Tl===QS||Tl!=null&&Tl.isContextLost()){const t=ue.ADAPTER.createCanvas();let e;ue.PREFER_ENV>=jo.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Tl=e}return Tl}let _f;function IB(){if(!_f){_f=xn.MEDIUM;const t=kB();t&&t.getShaderPrecisionFormat&&(_f=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?xn.HIGH:xn.MEDIUM)}return _f}function KS(t,e){const r=t.getShaderSource(e).split(`
`).map((c,d)=>`${d}: ${c}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(c=>parseFloat(c.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(c=>c&&!s[c]?(s[c]=!0,!0):!1),a=[""];o.forEach(c=>{r[c-1]=`%c${r[c-1]}%c`,a.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const u=r.join(`
`);a[0]=u,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...a),console.groupEnd()}function MB(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||KS(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||KS(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const DB={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function ZS(t){return DB[t]}let xf=null;const JS={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function eA(t,e){if(!xf){const r=Object.keys(JS);xf={};for(let n=0;n<r.length;++n){const i=r[n];xf[t[i]]=JS[i]}}return xf[e]}function tA(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===xn.HIGH&&r!==xn.HIGH&&(n=xn.MEDIUM),`precision ${n} float;
${t}`}else if(r!==xn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let vh;function OB(){if(typeof vh=="boolean")return vh;try{vh=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{vh=!1}return vh}let NB=0;const wf={},Sl=class{constructor(t,e,r="pixi-shader",n={}){this.extra={},this.id=NB++,this.vertexSrc=t||Sl.defaultVertexSrc,this.fragmentSrc=e||Sl.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),wf[r]?(wf[r]++,r+=`-${wf[r]}`):wf[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=tA(this.vertexSrc,Sl.defaultVertexPrecision,xn.HIGH),this.fragmentSrc=tA(this.fragmentSrc,Sl.defaultFragmentPrecision,IB())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return AB}static get defaultFragmentSrc(){return SB}static from(t,e,r){const n=t+e;let i=US[n];return i||(US[n]=i=new Sl(t,e,r)),i}};let $n=Sl;$n.defaultVertexPrecision=xn.HIGH,$n.defaultFragmentPrecision=is.apple.device?xn.HIGH:xn.MEDIUM;let LB=0;class Yn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=LB++,this.static=!!r,this.ubo=!!n,e instanceof Kt?(this.buffer=e,this.buffer.type=yi.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new Kt(new Float32Array(1)),this.buffer.type=yi.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Yn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Yn(e,r,n)}static uboFrom(e,r){return new Yn(e,r??!0,!0)}}class wi{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Yn?this.uniformGroup=r:this.uniformGroup=new Yn(r):this.uniformGroup=new Yn({}),this.disposeRunner=new Xn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=$n.from(e,r);return new wi(i,n)}}class BB{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Yn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new $n(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new pt,default:this.defaultGroupCache[e]};return new wi(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class f0{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function FB(){return!is.apple.device}function UB(t){let e=!0;const r=ue.ADAPTER.getNavigator();if(is.tablet||is.phone){if(is.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(is.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Ef{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var zB=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,jB=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const qn=class extends Ef{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=WS,this.vertexSize=6,this.state=as.for2d(),this.size=qn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??UB(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??FB(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Ge("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return jB}static get defaultFragmentTemplate(){return zB}setShaderGenerator({vertex:t=qn.defaultVertexSrc,fragment:e=qn.defaultFragmentTemplate}={}){this.shaderGenerator=new BB(t,e)}contextChange(){const t=this.renderer.gl;ue.PREFER_ENV===jo.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),qn.defaultMaxTextures),this.maxTextures=mB(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=qn,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new a0);for(;e.length<n;)e.push(new f0);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=qn._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++Ne._globalBatch,a=0,u=r[0],c=0;n.copyBoundTextures(i,e);for(let d=0;d<this._bufferSize;++d){const p=t[d];t[d]=null,p._batchEnabled!==o&&(u.count>=e&&(n.boundArray(u,i,o,e),this.buildDrawCalls(u,c,d),c=d,u=r[++a],++o),p._batchEnabled=o,p.touched=s,u.elements[u.count++]=p)}u.count>0&&(n.boundArray(u,i,o,e),this.buildDrawCalls(u,c,this._bufferSize),++a,++o);for(let d=0;d<i.length;d++)i[d]=null;Ne._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,a=qn._drawCallPool;let u=this._dcIndex,c=this._aIndex,d=this._iIndex,p=a[u];p.start=this._iIndex,p.texArray=t;for(let m=e;m<r;++m){const g=n[m],b=g._texture.baseTexture,x=DS[b.alphaMode?1:0][g.blendMode];n[m]=null,e<m&&p.blend!==x&&(p.size=d-p.start,e=m,p=a[++u],p.texArray=t,p.start=d),this.packInterleavedGeometry(g,i,s,c,d),c+=g.vertexData.length/2*o,d+=g.indices.length,p.blend=x}e<r&&(p.size=d-p.start,++u),this._dcIndex=u,this._aIndex=c,this._iIndex=d}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;qn.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=qn._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:a,size:u,start:c,blend:d}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=d,r.set(this.state),e.drawElements(a,u,e.UNSIGNED_SHORT,c*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),qn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=ff(Math.ceil(t/8)),r=BS(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new Jv(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=ff(Math.ceil(t/12)),r=BS(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,a=n/this.vertexSize,u=t.uvs,c=t.indices,d=t.vertexData,p=t._texture.baseTexture._batchLocation,m=Math.min(t.worldAlpha,1),g=Ye.shared.setValue(t._tintRGB).toPremultiplied(m,t._texture.baseTexture.alphaMode>0);for(let b=0;b<d.length;b+=2)o[n++]=d[b],o[n++]=d[b+1],o[n++]=u[b],o[n++]=u[b+1],s[n++]=g,o[n++]=p;for(let b=0;b<c.length;b++)r[i++]=a+c[b]}};let Qn=qn;Qn.defaultBatchSize=4096,Qn.extension={name:"batch",type:ce.RendererPlugin},Qn._drawCallPool=[],Qn._textureArrayPool=[],we.add(Qn);var HB=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,GB=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const bh=class extends wi{constructor(t,e,r){const n=$n.from(t||bh.defaultVertexSrc,e||bh.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=bh.defaultResolution,this.multisample=bh.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new as}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return GB}static get defaultFragmentSrc(){return HB}};let fr=bh;fr.defaultResolution=1,fr.defaultMultisample=Gt.NONE;class Tf{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Ye(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Tf.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Tf.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"background"},we.add(Tf);class rA{constructor(e){this.renderer=e,this.emptyRenderer=new Ef(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:a}=e;let u=0;for(let c=0;c<a;c++){const d=s[c],p=d._batchLocation;if(p>=0&&p<i&&r[p]===d){o[c]=p;continue}for(;u<i;){const m=r[u];if(m&&m._batchEnabled===n&&m._batchLocation===u){u++;continue}o[c]=u,d._batchLocation=u,r[u]=d;break}}}destroy(){this.renderer=null}}rA.extension={type:ce.RendererSystem,name:"batch"},we.add(rA);let nA=0;class Sf{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=nA++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=nA++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(ue.PREFER_ENV>=jo.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Sf.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Sf.extension={type:ce.RendererSystem,name:"context"},we.add(Sf);class VB extends yh{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Gn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class p0{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Xn("disposeFramebuffer"),this.multisample=Gt.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Ne(null,{scaleMode:ts.NEAREST,resolution:1,mipmap:mi.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ne(new VB(null,{width:this.width,height:this.height}),{scaleMode:ts.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:mi.OFF,format:se.DEPTH_COMPONENT,type:Te.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class iA extends Ne{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=Gt.NONE),super(null,e),this.mipmap=mi.OFF,this.valid=!0,this._clear=new Ye([0,0,0,0]),this.framebuffer=new p0(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Ks extends gh{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=dB(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,a=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Gn.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===a?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=a,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class sA extends Ks{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;Ks.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??ue.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Gn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const a=s[o];if(a!==n&&a.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class oA{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,a=e.height/2/s,u=e.x/i+o,c=e.y/s+a;n=Et.add(n,Et.NW),this.x0=u+o*Et.uX(n),this.y0=c+a*Et.uY(n),n=Et.add(n,2),this.x1=u+o*Et.uX(n),this.y1=c+a*Et.uY(n),n=Et.add(n,2),this.x2=u+o*Et.uX(n),this.y2=c+a*Et.uY(n),n=Et.add(n,2),this.x3=u+o*Et.uX(n),this.y3=c+a*Et.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const aA=new oA;function Af(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class he extends sh{constructor(e,r,n,i,s,o,a){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new Le(0,0,1,1)),e instanceof he&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=aA,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new Se(o.x,o.y):new Se(0,0),this.defaultBorders=a,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&xi[r.url]&&he.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,he.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new he(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===aA&&(this._uvs=new oA),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=ue.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Ne){if(!e.cacheId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${a}-${Xo()}`,Ne.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const a=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${a}_${Xo()}`}s=e._pixiId}let o=xi[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Ne)?(r.resolution||(r.resolution=qs(e)),o=new he(new Ne(e,r)),o.baseTexture.cacheId=s,Ne.addToCache(o.baseTexture,s),he.addToCache(o,s)):!o&&e instanceof Ne&&(o=new he(e),he.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=he.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new he(Ne.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Ne(e,Object.assign({scaleMode:Ne.defaultOptions.scaleMode,resolution:qs(r)},i)),{resource:o}=s;o instanceof sA&&(o.url=r);const a=new he(s);return n||(n=r),Ne.addToCache(a.baseTexture,n),he.addToCache(a,n),n!==r&&(Ne.addToCache(a.baseTexture,r),he.addToCache(a,r)),a.baseTexture.valid?Promise.resolve(a):new Promise(u=>{a.baseTexture.once("loaded",()=>u(a))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),xi[r]&&xi[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),xi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=xi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete xi[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)xi[e.textureCacheIds[r]]===e&&delete xi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,a=n+s>this.baseTexture.height;if(o||a){const u=o&&a?"and":"or",c=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,d=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${c} ${u} ${d}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return he._EMPTY||(he._EMPTY=new he(new Ne),Af(he._EMPTY),Af(he._EMPTY.baseTexture)),he._EMPTY}static get WHITE(){if(!he._WHITE){const e=ue.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),he._WHITE=new he(Ne.from(e)),Af(he._WHITE),Af(he._WHITE.baseTexture)}return he._WHITE}}class Ko extends he{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Ko(new iA(e))}}class lA{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Gt.NONE){const i=new iA(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Ko(i)}getOptimalTexture(e,r,n=1,i=Gt.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=ff(e),r=ff(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Gt.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}lA.SCREEN_KEY=-1;class WB extends Qs{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class uA extends Qs{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new Kt(this.vertices),this.uvBuffer=new Kt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class XB{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Gt.NONE,this.sourceFrame=new Le,this.destinationFrame=new Le,this.bindingSourceFrame=new Le,this.bindingDestinationFrame=new Le,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Cf=[new Se,new Se,new Se,new Se],m0=new pt;class hA{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new lA,this.statePool=[],this.quad=new WB,this.quadUv=new uA,this.tempRect=new Le,this.activeState={},this.globalUniforms=new Yn({outputFrame:new Le,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new XB,o=this.renderer.renderTexture;let a=r[0].resolution,u=r[0].multisample,c=r[0].padding,d=r[0].autoFit,p=r[0].legacy??!0;for(let b=1;b<r.length;b++){const x=r[b];a=Math.min(a,x.resolution),u=Math.min(u,x.multisample),c=this.useMaxPadding?Math.max(c,x.padding):c+x.padding,d=d&&x.autoFit,p=p||(x.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=a,s.multisample=u,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(c);const m=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(m0.copyFrom(n.projection.transform).invert(),m),d?(s.sourceFrame.fit(m),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(m)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,a,u),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const g=this.tempRect;g.x=0,g.y=0,g.width=s.sourceFrame.width,g.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,g),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,a=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],a[0]=.5*o[2],a[1]=.5*o[3],a[2]=r.sourceFrame.width*s[2]-.5*o[2],a[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const c=i.filterArea;c[0]=r.destinationFrame.width,c[1]=r.destinationFrame.height,c[2]=r.sourceFrame.x,c[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const u=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,u.renderTexture,gi.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let c=r.renderTexture,d=this.getOptimalFilterTexture(c.width,c.height,r.resolution);d.filterFrame=c.filterFrame;let p=0;for(p=0;p<n.length-1;++p){p===1&&r.multisample>1&&(d=this.getOptimalFilterTexture(c.width,c.height,r.resolution),d.filterFrame=c.filterFrame),n[p].apply(this,c,d,gi.CLEAR,r);const m=c;c=d,d=m}n[p].apply(this,c,u.renderTexture,gi.BLEND,r),p>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(c),this.returnFilterTexture(d)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=gi.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===gi.CLEAR||r===gi.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(Hn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(Hn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),a=r.worldTransform.copyTo(pt.TEMP_MATRIX);return a.invert(),o.prepend(a),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=Gt.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Gt.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Cf[0],i=Cf[1],s=Cf[2],o=Cf[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const a=Math.min(n.x,i.x,s.x,o.x),u=Math.min(n.y,i.y,s.y,o.y),c=Math.max(n.x,i.x,s.x,o.x),d=Math.max(n.y,i.y,s.y,o.y);r.x=a,r.y=u,r.width=c-a,r.height=d-u}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:a,c:u,d:c}=s;if((Math.abs(a)>1e-4||Math.abs(u)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(c)>1e-4))return}s=s?m0.copyFrom(s):m0.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}hA.extension={type:ce.RendererSystem,name:"filter"},we.add(hA);class $B{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Gt.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const YB=new Le;class cA{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new p0(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new Le,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;ue.PREFER_ENV===jo.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const a=e.colorTextures[o];this.renderer.texture.unbind(a.parentTextureArray||a)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,a=r.height>>n,u=o/r.width;this.setViewport(r.x*u,r.y*u,o,a)}else{const o=e.width>>n,a=e.height>>n;this.setViewport(0,0,o,a)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=uv.COLOR|uv.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new $B(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const a=i[o],u=a.parentTextureArray||a;this.renderer.texture.bind(u,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,u._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const a=[];for(let u=0;u<o;u++){const c=s[u],d=c.parentTextureArray||c;this.renderer.texture.bind(d,0),u===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,d._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+u,c.target,d._glTextures[this.CONTEXT_UID].texture,r),a.push(n.COLOR_ATTACHMENT0+u))}if(a.length>1&&n.drawBuffers(a),e.depthTexture&&this.writeDepthTexture){const u=e.depthTexture;this.renderer.texture.bind(u,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,u._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Gt.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Gt.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:a}=this;if(s.context.webGLVersion!==2||!i)return;const u=i.glFramebuffers[a];if(!u)return;if(!e){if(!u.msaaBuffer)return;const d=i.colorTextures[0];if(!d)return;u.blitFramebuffer||(u.blitFramebuffer=new p0(i.width,i.height),u.blitFramebuffer.addColorTexture(0,d)),e=u.blitFramebuffer,e.colorTextures[0]!==d&&(e.colorTextures[0]=d,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=YB,r.width=i.width,r.height=i.height),n||(n=r);const c=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,u.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,c?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new Le}destroy(){this.renderer=null}}cA.extension={type:ce.RendererSystem,name:"framebuffer"},we.add(cA);const g0={5126:4,5123:2,5121:1};class dA{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;ue.PREFER_ENV===jo.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,a,u)=>n.drawElementsInstancedANGLE(i,s,o,a,u),e.drawArraysInstanced=(i,s,o,a)=>n.drawArraysInstancedANGLE(i,s,o,a)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,a=r.program;a.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,a);const u=this.getSignature(e,a),c=e.glVertexArrayObjects[this.CONTEXT_UID];let d=c[u];if(d)return c[a.id]=d,d;const p=e.buffers,m=e.attributes,g={},b={};for(const x in p)g[x]=0,b[x]=0;for(const x in m)!m[x].size&&a.attributeData[x]?m[x].size=a.attributeData[x].size:m[x].size||console.warn(`PIXI Geometry attribute '${x}' size cannot be determined (likely the bound shader does not have the attribute)`),g[m[x].buffer]+=m[x].size*g0[m[x].type];for(const x in m){const A=m[x],T=A.size;A.stride===void 0&&(g[A.buffer]===T*g0[A.type]?A.stride=0:A.stride=g[A.buffer]),A.start===void 0&&(A.start=b[A.buffer],b[A.buffer]+=T*g0[A.type])}d=i.createVertexArray(),i.bindVertexArray(d);for(let x=0;x<p.length;x++){const A=p[x];o.bind(A),n&&A._glBuffers[s].refCount++}return this.activateVao(e,a),c[a.id]=d,c[u]=d,i.bindVertexArray(null),o.unbind(yi.ARRAY_BUFFER),d}disposeGeometry(e,r){var a;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(a=this.renderer)==null?void 0:a.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let u=0;u<s.length;u++){const c=s[u]._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&o.dispose(s[u],r))}if(!r){for(const u in n)if(u[0]==="g"){const c=n[u];this._activeVao===c&&this.unbind(),i.deleteVertexArray(c)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,a=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let u=null;for(const c in a){const d=a[c],p=o[d.buffer],m=p._glBuffers[i];if(r.attributeData[c]){u!==m&&(s.bind(p),u=m);const g=r.attributeData[c].location;if(n.enableVertexAttribArray(g),n.vertexAttribPointer(g,d.size,d.type||n.FLOAT,d.normalized,d.stride,d.start),d.instance)if(this.hasInstance)n.vertexAttribDivisor(g,d.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const a=o.indexBuffer.data.BYTES_PER_ELEMENT,u=a===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;a===2||a===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,u,(n||0)*a,i||1):s.drawElements(e,r||o.indexBuffer.data.length,u,(n||0)*a):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}dA.extension={type:ce.RendererSystem,name:"geometry"},we.add(dA);const fA=new pt;class y0{constructor(e,r){this._texture=e,this.mapCoord=new pt,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(fA.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(fA));const o=r.baseTexture,a=this.uClampFrame,u=this.clampMargin/o.resolution,c=this.clampOffset;return a[0]=(r._frame.x+u+c)/o.width,a[1]=(r._frame.y+u+c)/o.height,a[2]=(r._frame.x+r._frame.width-u+c)/o.width,a[3]=(r._frame.y+r._frame.height-u+c)/o.height,this.uClampOffset[0]=c/o.realWidth,this.uClampOffset[1]=c/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var qB=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,QB=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class KB extends fr{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||QB,r||qB,n),this.maskSprite=i,this.maskMatrix=new pt}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new y0(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class ZB{constructor(e=null){this.type=Qt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=fr.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=Qt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class pA{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new ZB;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==Qt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case Qt.SCISSOR:this.renderer.scissor.push(n);break;case Qt.STENCIL:this.renderer.stencil.push(n);break;case Qt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case Qt.COLOR:this.pushColorMask(n);break}n.type===Qt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case Qt.SCISSOR:this.renderer.scissor.pop(r);break;case Qt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case Qt.SPRITE:this.popSpriteMask(r);break;case Qt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===Qt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=Qt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=Qt.SCISSOR:e.type=Qt.STENCIL:e.type=Qt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new KB]));const s=this.renderer,o=s.renderTexture;let a,u;if(o.current){const d=o.current;a=e.resolution||d.resolution,u=e.multisample??d.multisample}else a=e.resolution||s.resolution,u=e.multisample??s.multisample;i[0].resolution=a,i[0].multisample=u,i[0].maskSprite=r;const c=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=c,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}pA.extension={type:ce.RendererSystem,name:"mask"},we.add(pA);class mA{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const gA=new pt,yA=[],Pf=class extends mA{constructor(t){super(t),this.glConst=ue.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,yA.pop()??new Le);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Pf.isMatrixRotated(e.worldTransform)||Pf.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){Pf.isMatrixRotated(i)||(i=i?gA.copyFrom(i):gA.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&yA.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let vA=Pf;vA.extension={type:ce.RendererSystem,name:"scissor"},we.add(vA);class bA extends mA{constructor(e){super(e),this.glConst=ue.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}bA.extension={type:ce.RendererSystem,name:"stencil"},we.add(bA);class _A{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Ge("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Ge("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Ge("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}_A.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"_plugin"},we.add(_A);class xA{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new pt,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}xA.extension={type:ce.RendererSystem,name:"projection"},we.add(xA);const JB=new bf;class wA{constructor(e){this.renderer=e,this._tempMatrix=new pt}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=Ko.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const a=e.transform;return e.transform=JB,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=a,o}destroy(){}}wA.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"textureGenerator"},we.add(wA);const Zo=new Le,_h=new Le;class EA{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new Le,this.destinationFrame=new Le,this.viewportFrame=new Le}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,a;e?(s=e.baseTexture,a=s.resolution,r||(Zo.width=e.frame.width,Zo.height=e.frame.height,r=Zo),n||(_h.x=e.frame.x,_h.y=e.frame.y,_h.width=r.width,_h.height=r.height,n=_h),o=s.framebuffer):(a=i.resolution,r||(Zo.width=i._view.screen.width,Zo.height=i._view.screen.height,r=Zo),n||(n=Zo,n.width=r.width,n.height=r.height));const u=this.viewportFrame;u.x=n.x*a,u.y=n.y*a,u.width=n.width*a,u.height=n.height*a,e||(u.y=i.view.height-(u.y+u.height)),u.ceil(),this.renderer.framebuffer.bind(o,u),this.renderer.projection.update(n,r,a,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Ye.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,a=s.width!==o.width||s.height!==o.height;if(a){let{x:u,y:c,width:d,height:p}=this.viewportFrame;u=Math.round(u),c=Math.round(c),d=Math.round(d),p=Math.round(p),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(u,c,d,p)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),a&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}EA.extension={type:ce.RendererSystem,name:"renderTexture"},we.add(EA);class eF{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function tF(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=eA(e,s.type),a={type:o,name:s.name,size:ZS(o),location:e.getAttribLocation(t,s.name)};r[s.name]=a}return r}function rF(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),a=!!s.name.match(/\[.*?\]$/),u=eA(e,s.type);r[o]={name:o,index:i,type:u,size:s.size,isArray:a,value:qS(u,s.size)}}return r}function nF(t,e){var a;const r=YS(t,t.VERTEX_SHADER,e.vertexSrc),n=YS(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(a=e.extra)==null?void 0:a.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||MB(t,i,r,n),e.attributeData=tF(i,t),e.uniformData=rF(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const u=Object.keys(e.attributeData);u.sort((c,d)=>c>d?1:-1);for(let c=0;c<u.length;c++)e.attributeData[u[c]].location=c,t.bindAttribLocation(i,c,u[c]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const u in e.uniformData){const c=e.uniformData[u];o[u]={location:t.getUniformLocation(i,u),value:qS(c.type,c.size)}}return new eF(i,o)}function iF(t,e,r,n,i){r.buffer.update(i)}const sF={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},TA={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function oF(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=TA[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const a=n%r%16;n+=a,i+=a}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function aF(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function lF(t,e){if(!t.autoManage)return{size:0,syncFunc:iF};const r=aF(t.uniforms,e),{uboElements:n,size:i}=oF(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const a=n[o],u=t.uniforms[a.data.name],c=a.data.name;let d=!1;for(let p=0;p<El.length;p++){const m=El[p];if(m.codeUbo&&m.test(a.data,u)){s.push(`offset = ${a.offset/4};`,El[p].codeUbo(a.data.name,u)),d=!0;break}}if(!d)if(a.data.size>1){const p=ZS(a.data.type),m=Math.max(TA[a.data.type]/16,1),g=p/m,b=(4-g%4)%4;s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};

                t = 0;

                for(var i=0; i < ${a.data.size*m}; i++)
                {
                    for(var j = 0; j < ${g}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${b};
                }

                `)}else{const p=sF[a.data.type];s.push(`
                cv = ud.${c}.value;
                v = uv.${c};
                offset = ${a.offset/4};
                ${p};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let uF=0;const Rf={textureCount:0,uboCount:0};class SA{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=uF++}systemCheck(){if(!OB())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(Rf.textureCount=0,Rf.uboCount=0,this.syncUniformGroup(e.uniformGroup,Rf)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=RB(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,Rf,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let a=this._uboCache[o];if(a||(a=this._uboCache[o]=lF(e,this.shader.program.uniformData)),e.autoManage){const u=new Float32Array(a.size/4);e.buffer.update(u)}return r.uniformGroups[e.id]=a.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=nF(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}SA.extension={type:ce.RendererSystem,name:"shader"},we.add(SA);class kf{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.2.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}kf.defaultOptions={hello:!1},kf.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"startup"},we.add(kf);function hF(t,e=[]){return e[Ce.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.ADD]=[t.ONE,t.ONE],e[Ce.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.NONE]=[0,0],e[Ce.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Ce.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Ce.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Ce.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Ce.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ce.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Ce.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Ce.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Ce.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Ce.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Ce.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const cF=0,dF=1,fF=2,pF=3,mF=4,gF=5,v0=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Ce.NONE,this._blendEq=!1,this.map=[],this.map[cF]=this.setBlend,this.map[dF]=this.setOffset,this.map[fF]=this.setCullFace,this.map[pF]=this.setDepthTest,this.map[mF]=this.setFrontFace,this.map[gF]=this.setDepthMask,this.checks=[],this.defaultState=new as,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=hF(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(v0.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(v0.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let AA=v0;AA.extension={type:ce.RendererSystem,name:"state"},we.add(AA);class yF extends sh{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Xn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const If=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=If.defaultMaxIdle,this.checkCountMax=If.defaultCheckCountMax,this.mode=If.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==cv.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let n=0;n<e.length;n++){const i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[n++]=e[i]);e.length=n}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};let Kn=If;Kn.defaultMode=cv.AUTO,Kn.defaultMaxIdle=60*60,Kn.defaultCheckCountMax=60*10,Kn.extension={type:ce.RendererSystem,name:"textureGC"},we.add(Kn);class b0{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Te.UNSIGNED_BYTE,this.internalFormat=se.RGBA,this.samplerType=0}}function vF(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[Te.UNSIGNED_BYTE]:{[se.RGBA]:t.RGBA8,[se.RGB]:t.RGB8,[se.RG]:t.RG8,[se.RED]:t.R8,[se.RGBA_INTEGER]:t.RGBA8UI,[se.RGB_INTEGER]:t.RGB8UI,[se.RG_INTEGER]:t.RG8UI,[se.RED_INTEGER]:t.R8UI,[se.ALPHA]:t.ALPHA,[se.LUMINANCE]:t.LUMINANCE,[se.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Te.BYTE]:{[se.RGBA]:t.RGBA8_SNORM,[se.RGB]:t.RGB8_SNORM,[se.RG]:t.RG8_SNORM,[se.RED]:t.R8_SNORM,[se.RGBA_INTEGER]:t.RGBA8I,[se.RGB_INTEGER]:t.RGB8I,[se.RG_INTEGER]:t.RG8I,[se.RED_INTEGER]:t.R8I},[Te.UNSIGNED_SHORT]:{[se.RGBA_INTEGER]:t.RGBA16UI,[se.RGB_INTEGER]:t.RGB16UI,[se.RG_INTEGER]:t.RG16UI,[se.RED_INTEGER]:t.R16UI,[se.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[Te.SHORT]:{[se.RGBA_INTEGER]:t.RGBA16I,[se.RGB_INTEGER]:t.RGB16I,[se.RG_INTEGER]:t.RG16I,[se.RED_INTEGER]:t.R16I},[Te.UNSIGNED_INT]:{[se.RGBA_INTEGER]:t.RGBA32UI,[se.RGB_INTEGER]:t.RGB32UI,[se.RG_INTEGER]:t.RG32UI,[se.RED_INTEGER]:t.R32UI,[se.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[Te.INT]:{[se.RGBA_INTEGER]:t.RGBA32I,[se.RGB_INTEGER]:t.RGB32I,[se.RG_INTEGER]:t.RG32I,[se.RED_INTEGER]:t.R32I},[Te.FLOAT]:{[se.RGBA]:t.RGBA32F,[se.RGB]:t.RGB32F,[se.RG]:t.RG32F,[se.RED]:t.R32F,[se.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[Te.HALF_FLOAT]:{[se.RGBA]:t.RGBA16F,[se.RGB]:t.RGB16F,[se.RG]:t.RG16F,[se.RED]:t.R16F},[Te.UNSIGNED_SHORT_5_6_5]:{[se.RGB]:t.RGB565},[Te.UNSIGNED_SHORT_4_4_4_4]:{[se.RGBA]:t.RGBA4},[Te.UNSIGNED_SHORT_5_5_5_1]:{[se.RGBA]:t.RGB5_A1},[Te.UNSIGNED_INT_2_10_10_10_REV]:{[se.RGBA]:t.RGB10_A2,[se.RGBA_INTEGER]:t.RGB10_A2UI},[Te.UNSIGNED_INT_10F_11F_11F_REV]:{[se.RGB]:t.R11F_G11F_B10F},[Te.UNSIGNED_INT_5_9_9_9_REV]:{[se.RGB]:t.RGB9_E5},[Te.UNSIGNED_INT_24_8]:{[se.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[Te.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[se.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[Te.UNSIGNED_BYTE]:{[se.RGBA]:t.RGBA,[se.RGB]:t.RGB,[se.ALPHA]:t.ALPHA,[se.LUMINANCE]:t.LUMINANCE,[se.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Te.UNSIGNED_SHORT_5_6_5]:{[se.RGB]:t.RGB},[Te.UNSIGNED_SHORT_4_4_4_4]:{[se.RGBA]:t.RGBA},[Te.UNSIGNED_SHORT_5_5_5_1]:{[se.RGBA]:t.RGBA}},e}class CA{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ne,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=vF(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new b0(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new b0(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==hv.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new b0(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,this.webGLVersion===2&&e.type===Te.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==hv.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,a=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,a.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&_l(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===mi.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=rs.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==mi.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ts.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===ts.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===ts.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===ts.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}CA.extension={type:ce.RendererSystem,name:"texture"},we.add(CA);class PA{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];a&&(n.buffer.update(a),a._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,a._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const a=e.buffers[o];if(!a)continue;const u=a._glBuffers[this.CONTEXT_UID];u&&(u.refCount--,u.refCount===0&&!r&&s.dispose(a,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}PA.extension={type:ce.RendererSystem,name:"transformFeedback"},we.add(PA);class Mf{constructor(e){this.renderer=e}init(e){this.screen=new Le(0,0,e.width,e.height),this.element=e.view||ue.ADAPTER.createCanvas(),this.resolution=e.resolution||ue.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Mf.defaultOptions={width:800,height:600,resolution:ue.RESOLUTION,autoDensity:!1},Mf.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"_view"},we.add(Mf),ue.PREFER_ENV=jo.WEBGL2,ue.STRICT_TEXTURE_CACHE=!1,ue.RENDER_OPTIONS={...Sf.defaultOptions,...Tf.defaultOptions,...Mf.defaultOptions,...kf.defaultOptions},Object.defineProperties(ue,{WRAP_MODE:{get(){return Ne.defaultOptions.wrapMode},set(t){Ge("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ne.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Ne.defaultOptions.scaleMode},set(t){Ge("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ne.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Ne.defaultOptions.mipmap},set(t){Ge("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ne.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Ne.defaultOptions.anisotropicLevel},set(t){Ge("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ne.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Ge("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),fr.defaultResolution},set(t){fr.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Ge("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),fr.defaultMultisample},set(t){fr.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Qn.defaultMaxTextures},set(t){Ge("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Qn.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Qn.defaultBatchSize},set(t){Ge("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Qn.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Qn.canUploadSameBuffer},set(t){Ge("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Qn.canUploadSameBuffer=t}},GC_MODE:{get(){return Kn.defaultMode},set(t){Ge("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),Kn.defaultMode=t}},GC_MAX_IDLE:{get(){return Kn.defaultMaxIdle},set(t){Ge("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),Kn.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return Kn.defaultCheckCountMax},set(t){Ge("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),Kn.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return $n.defaultVertexPrecision},set(t){Ge("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),$n.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return $n.defaultFragmentPrecision},set(t){Ge("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),$n.defaultFragmentPrecision=t}}});var Zs=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Zs||{});class _0{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const sn=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new _0(null,null,1/0),this.deltaMS=1/sn.targetFPMS,this.elapsedMS=1/sn.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=Zs.NORMAL){return this._addListener(new _0(t,e,r))}addOnce(t,e,r=Zs.NORMAL){return this._addListener(new _0(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*sn.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,sn.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!sn._shared){const t=sn._shared=new sn;t.autoStart=!0,t._protected=!0}return sn._shared}static get system(){if(!sn._system){const t=sn._system=new sn;t.autoStart=!0,t._protected=!0}return sn._system}};let kt=sn;kt.targetFPMS=.06,Object.defineProperties(ue,{TARGET_FPMS:{get(){return kt.targetFPMS},set(t){Ge("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),kt.targetFPMS=t}}});class RA{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Zs.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?kt.shared:new kt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}RA.extension=ce.Application,we.add(RA);const kA=[];we.handleByList(ce.Renderer,kA);function bF(t){for(const e of kA)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var _F=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,xF=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const wF=_F,IA=xF;class MA{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Gt.HIGH?this.multisample=Gt.HIGH:r>=Gt.MEDIUM?this.multisample=Gt.MEDIUM:r>=Gt.LOW?this.multisample=Gt.LOW:this.multisample=Gt.NONE}destroy(){}}MA.extension={type:ce.RendererSystem,name:"_multisample"},we.add(MA);class EF{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class DA{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new EF(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}DA.extension={type:ce.RendererSystem,name:"buffer"},we.add(DA);class OA{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,a;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,a=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!a){const u=e.enableTempParent();e.updateTransform(),e.disableTempParent(u)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}OA.extension={type:ce.RendererSystem,name:"objectRenderer"},we.add(OA);const x0=class extends yF{constructor(t){super(),this.type=wT.WEBGL,t=Object.assign({},ue.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Yn({projectionMatrix:new pt},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:x0.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Ge("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=x0.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:Y3()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Ge("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Ge("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Ge("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Ge("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Ge("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Ge("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){Ge("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Ge("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let Al=x0;Al.extension={type:ce.Renderer,priority:1},Al.__plugins={},Al.__systems={},we.handleByMap(ce.RendererPlugin,Al.__plugins),we.handleByMap(ce.RendererSystem,Al.__systems),we.add(Al);class NA extends gh{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Ne;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof gh?this.addResourceAt(e[n],n):this.addResourceAt(GS(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),Promise.resolve(this)}),this._load}}class TF extends NA{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=ll.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:a}=e;n.dirtyId<0&&a.texImage3D(a.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let u=0;u<i;u++){const c=o[u];s[u]<c.dirtyId&&(s[u]=c.dirtyId,c.valid&&a.texSubImage3D(a.TEXTURE_2D_ARRAY,0,0,0,u,c.resource.width,c.resource.height,1,r.format,n.type,c.resource.source))}return!0}}class SF extends Ks{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const xh=class extends NA{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==xh.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<xh.SIDES;o++)this.items[o].target=ll.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=ll.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=ll.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<xh.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===xh.SIDES}};let LA=xh;LA.SIDES=6;class Cl extends Ks{constructor(e,r){r=r||{};let n,i;typeof e=="string"?(n=Cl.EMPTY,i=e):(n=e,i=null),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await ue.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Gn.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return Cl._EMPTY=Cl._EMPTY??ue.ADAPTER.createCanvas(0,0),Cl._EMPTY}}const Df=class extends Ks{constructor(t,e){e=e||{},super(ue.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},Df.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Ks.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${Xo()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=Df.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Df.SVG_XML.test(t)}};let wh=Df;wh.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,wh.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const w0=class extends Ks{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];Ks.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:a}=t[i];o=o||t[i];const u=o.split("?").shift().toLowerCase(),c=u.slice(u.lastIndexOf(".")+1);a=a||w0.MIME_TYPES[c]||`video/${c}`,s.src=o,s.type=a,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=kt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(kt.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(kt.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(kt.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(kt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(kt.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||w0.TYPES.includes(e)}};let E0=w0;E0.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],E0.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},o0.push(Cl,sA,SF,E0,wh,yh,LA,TF);class Of{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?Le.EMPTY:(e=e||new Le(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:a,ty:u}=e,c=n*r.x+s*r.y+a,d=i*r.x+o*r.y+u;this.minX=Math.min(this.minX,c),this.maxX=Math.max(this.maxX,c),this.minY=Math.min(this.minY,d),this.maxY=Math.max(this.maxY,d)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],a=e[1];r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[2],a=e[3],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[4],a=e[5],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,o=e[6],a=e[7],r=o<r?o:r,n=a<n?a:n,i=o>i?o:i,s=a>s?a:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,a=e.b,u=e.c,c=e.d,d=e.tx,p=e.ty;let m=this.minX,g=this.minY,b=this.maxX,x=this.maxY,A=o*r+u*n+d,T=a*r+c*n+p;m=A<m?A:m,g=T<g?T:g,b=A>b?A:b,x=T>x?T:x,A=o*i+u*n+d,T=a*i+c*n+p,m=A<m?A:m,g=T<g?T:g,b=A>b?A:b,x=T>x?T:x,A=o*r+u*s+d,T=a*r+c*s+p,m=A<m?A:m,g=T<g?T:g,b=A>b?A:b,x=T>x?T:x,A=o*i+u*s+d,T=a*i+c*s+p,m=A<m?A:m,g=T<g?T:g,b=A>b?A:b,x=T>x?T:x,this.minX=m,this.minY=g,this.maxX=b,this.maxY=x}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,a=this.maxY;for(let u=r;u<n;u+=2){const c=e[u],d=e[u+1];i=c<i?c:i,s=d<s?d:s,o=c>o?c:o,a=d>a?d:a}this.minX=i,this.minY=s,this.maxX=o,this.maxY=a}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const a=e.a,u=e.b,c=e.c,d=e.d,p=e.tx,m=e.ty;let g=this.minX,b=this.minY,x=this.maxX,A=this.maxY;for(let T=n;T<i;T+=2){const _=r[T],w=r[T+1],S=a*_+c*w+p,P=d*w+u*_+m;g=Math.min(g,S-s),x=Math.max(x,S+s),b=Math.min(b,P-o),A=Math.max(A,P+o)}this.minX=g,this.minY=b,this.maxX=x,this.maxY=A}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const a=this.minX,u=this.minY,c=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>c?s:c,this.maxY=o>d?o:d}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const a=this.minX,u=this.minY,c=this.maxX,d=this.maxY;this.minX=n<a?n:a,this.minY=i<u?i:u,this.maxX=s>c?s:c,this.maxY=o>d?o:d}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class mt extends sh{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new bf,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Of,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(mt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new Le),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new Le),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Of);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,a=0,u=0,c=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=a,this.pivot.x=u,this.pivot.y=c,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new AF),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*wB}set angle(e){this.transform.rotation=e*EB}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class AF extends mt{constructor(){super(...arguments),this.sortDirty=null}}mt.prototype.displayObjectUpdateTransform=mt.prototype.updateTransform;const CF=new pt;function PF(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const T0=class extends mt{constructor(){super(),this.children=[],this.sortableChildren=T0.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);_l(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,_l(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,_l(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,n=e,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(PF),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==T0.prototype._render&&(r=this.getBounds(!0));const i=t.projection.transform;if(i&&(n?(n=CF.copyFrom(n),n.prepend(i)):n=i),r&&e.intersects(r,n))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const a=this.children[s],u=a.cullable;a.cullable=u||!this.cullArea,a.render(t),a.cullable=u}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let a=0;a<e.length;a++)e[a].enabled&&this._enabledFilters.push(e[a])}const n=e&&((i=this._enabledFilters)==null?void 0:i.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==Qt.NONE));if(n&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let a=0,u=this.children.length;a<u;++a)this.children[a].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<r.length;++n)r[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let pr=T0;pr.defaultSortableChildren=!1,pr.prototype.containerUpdateTransform=pr.prototype.updateTransform,Object.defineProperties(ue,{SORTABLE_CHILDREN:{get(){return pr.defaultSortableChildren},set(t){Ge("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),pr.defaultSortableChildren=t}}});var Nf=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Nf||{});const Eh=new Se,RF=new Uint16Array([0,1,2,0,2,3]);class Ei extends pr{constructor(e){super(),this._anchor=new ls(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Ye(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Ce.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||he.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=RF,this.pluginName="batch",this.isSprite=!0,this._roundPixels=ue.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=$s(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=$s(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,a=r.tx,u=r.ty,c=this.vertexData,d=e.trim,p=e.orig,m=this._anchor;let g=0,b=0,x=0,A=0;if(d?(b=d.x-m._x*p.width,g=b+d.width,A=d.y-m._y*p.height,x=A+d.height):(b=-m._x*p.width,g=b+p.width,A=-m._y*p.height,x=A+p.height),c[0]=n*b+s*A+a,c[1]=o*A+i*b+u,c[2]=n*g+s*A+a,c[3]=o*A+i*g+u,c[4]=n*g+s*x+a,c[5]=o*x+i*g+u,c[6]=n*b+s*x+a,c[7]=o*x+i*b+u,this._roundPixels){const T=ue.RESOLUTION;for(let _=0;_<c.length;++_)c[_]=Math.round(c[_]*T)/T}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,a=s.b,u=s.c,c=s.d,d=s.tx,p=s.ty,m=-i._x*n.width,g=m+n.width,b=-i._y*n.height,x=b+n.height;r[0]=o*m+u*b+d,r[1]=c*b+a*m+p,r[2]=o*g+u*b+d,r[3]=c*b+a*g+p,r[4]=o*g+u*x+d,r[5]=c*x+a*g+p,r[6]=o*m+u*x+d,r[7]=c*x+a*m+p}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Of),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Le),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Eh);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return Eh.x>=i&&Eh.x<i+r&&(s=-n*this.anchor.y,Eh.y>=s&&Eh.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof he?e:he.from(e,r);return new Ei(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=$s(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=$s(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||he.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Lf={willReadFrequently:!0},ve=class{static get experimentalLetterSpacingSupported(){let t=ve._experimentalLetterSpacingSupported;if(t!==void 0){const e=ue.ADAPTER.getCanvasRenderingContext2D().prototype;t=ve._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,n,i,s,o,a,u){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=a,this.fontProperties=u}static measureText(t,e,r,n=ve._canvas){r=r??e.wordWrap;const i=e.toFontString(),s=ve.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=n.getContext("2d",Lf);o.font=i;const a=(r?ve.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),u=new Array(a.length);let c=0;for(let g=0;g<a.length;g++){const b=ve._measureText(a[g],e.letterSpacing,o);u[g]=b,c=Math.max(c,b)}let d=c+e.strokeThickness;e.dropShadow&&(d+=e.dropShadowDistance);const p=e.lineHeight||s.fontSize+e.strokeThickness;let m=Math.max(p,s.fontSize+e.strokeThickness*2)+(a.length-1)*(p+e.leading);return e.dropShadow&&(m+=e.dropShadowDistance),new ve(t,e,d,m,a,u,p+e.leading,c,s)}static _measureText(t,e,r){let n=!1;ve.experimentalLetterSpacingSupported&&(ve.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(t).width;return i>0&&(n?i-=e:i+=(ve.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,r=ve._canvas){const n=r.getContext("2d",Lf);let i=0,s="",o="";const a=Object.create(null),{letterSpacing:u,whiteSpace:c}=e,d=ve.collapseSpaces(c),p=ve.collapseNewlines(c);let m=!d;const g=e.wordWrapWidth+u,b=ve.tokenize(t);for(let x=0;x<b.length;x++){let A=b[x];if(ve.isNewline(A)){if(!p){o+=ve.addLine(s),m=!d,s="",i=0;continue}A=" "}if(d){const _=ve.isBreakingSpace(A),w=ve.isBreakingSpace(s[s.length-1]);if(_&&w)continue}const T=ve.getFromCache(A,u,a,n);if(T>g)if(s!==""&&(o+=ve.addLine(s),s="",i=0),ve.canBreakWords(A,e.breakWords)){const _=ve.wordWrapSplit(A);for(let w=0;w<_.length;w++){let S=_[w],P=S,D=1;for(;_[w+D];){const R=_[w+D];if(!ve.canBreakChars(P,R,A,w,e.breakWords))S+=R;else break;P=R,D++}w+=D-1;const k=ve.getFromCache(S,u,a,n);k+i>g&&(o+=ve.addLine(s),m=!1,s="",i=0),s+=S,i+=k}}else{s.length>0&&(o+=ve.addLine(s),s="",i=0);const _=x===b.length-1;o+=ve.addLine(A,!_),m=!1,s="",i=0}else T+i>g&&(m=!1,o+=ve.addLine(s),s="",i=0),(s.length>0||!ve.isBreakingSpace(A)||m)&&(s+=A,i+=T)}return o+=ve.addLine(s,!1),o}static addLine(t,e=!0){return t=ve.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,n){let i=r[t];return typeof i!="number"&&(i=ve._measureText(t,e,n)+e,r[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!ve.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:ve._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:ve._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const i=t[n],s=t[n+1];if(ve.isBreakingSpace(i,s)||ve.isNewline(i)){r!==""&&(e.push(r),r=""),e.push(i);continue}r+=i}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static wordWrapSplit(t){return ve.graphemeSegmenter(t)}static measureFont(t){if(ve._fonts[t])return ve._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=ve._canvas,n=ve._context;n.font=t;const i=ve.METRICS_STRING+ve.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let o=Math.ceil(n.measureText(ve.BASELINE_SYMBOL).width);const a=Math.ceil(ve.HEIGHT_MULTIPLIER*o);if(o=o*ve.BASELINE_MULTIPLIER|0,s===0||a===0)return ve._fonts[t]=e,e;r.width=s,r.height=a,n.fillStyle="#f00",n.fillRect(0,0,s,a),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,o);const u=n.getImageData(0,0,s,a).data,c=u.length,d=s*4;let p=0,m=0,g=!1;for(p=0;p<o;++p){for(let b=0;b<d;b+=4)if(u[m+b]!==255){g=!0;break}if(!g)m+=d;else break}for(e.ascent=o-p,m=c-d,g=!1,p=a;p>o;--p){for(let b=0;b<d;b+=4)if(u[m+b]!==255){g=!0;break}if(!g)m-=d;else break}return e.descent=p-o,e.fontSize=e.ascent+e.descent,ve._fonts[t]=e,e}static clearMetrics(t=""){t?delete ve._fonts[t]:ve._fonts={}}static get _canvas(){var t;if(!ve.__canvas){let e;try{const r=new OffscreenCanvas(0,0);if((t=r.getContext("2d",Lf))!=null&&t.measureText)return ve.__canvas=r,r;e=ue.ADAPTER.createCanvas()}catch{e=ue.ADAPTER.createCanvas()}e.width=e.height=10,ve.__canvas=e}return ve.__canvas}static get _context(){return ve.__context||(ve.__context=ve._canvas.getContext("2d",Lf)),ve.__context}};let mr=ve;mr.METRICS_STRING="|\xC9q\xC5",mr.BASELINE_SYMBOL="M",mr.BASELINE_MULTIPLIER=1.4,mr.HEIGHT_MULTIPLIER=2,mr.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),mr.experimentalLetterSpacing=!1,mr._fonts={},mr._newlines=[10,13],mr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const kF=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Th=class{constructor(t){this.styleID=0,this.reset(),A0(this,t,t)}clone(){const t={};return A0(t,this,Th.defaultStyle),new Th(t)}reset(){A0(this,Th.defaultStyle,Th.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=S0(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=S0(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){IF(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=S0(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!kF.includes(n)&&(n=`"${n}"`),e[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let us=Th;us.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Nf.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function S0(t){const e=Ye.shared;return Array.isArray(t)?t.map(r=>e.setValue(r).toHex()):e.setValue(t).toHex()}function IF(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function A0(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const MF={texture:!0,children:!1,baseTexture:!0},C0=class extends Ei{constructor(t,e,r){let n=!1;r||(r=ue.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=he.from(r);i.orig=new Le,i.trim=new Le,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=C0.defaultResolution??ue.RESOLUTION,this._autoResolution=C0.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return mr.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Ge("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),mr.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=mr.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,o=n.lines,a=n.lineHeight,u=n.lineWidths,c=n.maxLineWidth,d=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let p,m;const g=e.dropShadow?2:1;for(let b=0;b<g;++b){const x=e.dropShadow&&b===0,A=x?Math.ceil(Math.max(1,s)+e.padding*2):0,T=A*this._resolution;if(x){r.fillStyle="black",r.strokeStyle="black";const w=e.dropShadowColor,S=e.dropShadowBlur*this._resolution,P=e.dropShadowDistance*this._resolution;r.shadowColor=Ye.shared.setValue(w).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=S,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*P,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*P+T}else r.fillStyle=this._generateFillStyle(e,o,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let _=(a-d.fontSize)/2;a-d.fontSize<0&&(_=0);for(let w=0;w<o.length;w++)p=e.strokeThickness/2,m=e.strokeThickness/2+w*a+d.ascent+_,e.align==="right"?p+=c-u[w]:e.align==="center"&&(p+=(c-u[w])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[w],p+e.padding,m+e.padding-A,!0),e.fill&&this.drawLetterSpacing(o[w],p+e.padding,m+e.padding-A)}this.updateTexture()}drawLetterSpacing(t,e,r,n=!1){const i=this._style.letterSpacing;let s=!1;if(mr.experimentalLetterSpacingSupported&&(mr.experimentalLetterSpacing?(this.context.letterSpacing=`${i}px`,this.context.textLetterSpacing=`${i}px`,s=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),i===0||s){n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let o=e;const a=mr.graphemeSegmenter(t);let u=this.context.measureText(t).width,c=0;for(let d=0;d<a.length;++d){const p=a[d];n?this.context.strokeText(p,o,r):this.context.fillText(p,o,r);let m="";for(let g=d+1;g<a.length;++g)m+=a[g];c=this.context.measureText(m).width,o+=u-c+i,u=c}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=cB(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,a=this.canvas.width/this._resolution-s-o*2,u=this.canvas.height/this._resolution-s-o*2,c=n.slice(),d=t.fillGradientStops.slice();if(!d.length){const p=c.length+1;for(let m=1;m<p;++m)d.push(m/p)}if(c.unshift(n[0]),d.unshift(0),c.push(n[n.length-1]),d.push(1),t.fillGradientType===Nf.LINEAR_VERTICAL){i=this.context.createLinearGradient(a/2,o,a/2,u+o);const p=r.fontProperties.fontSize+t.strokeThickness;for(let m=0;m<e.length;m++){const g=r.lineHeight*(m-1)+p,b=r.lineHeight*m;let x=b;m>0&&g>b&&(x=(b+g)/2);const A=b+p,T=r.lineHeight*(m+1);let _=A;m+1<e.length&&T<A&&(_=(A+T)/2);const w=(_-x)/u;for(let S=0;S<c.length;S++){let P=0;typeof d[S]=="number"?P=d[S]:P=S/c.length;let D=Math.min(1,Math.max(0,x/u+P*w));D=Number(D.toFixed(5)),i.addColorStop(D,c[S])}}}else{i=this.context.createLinearGradient(o,u/2,a+o,u/2);const p=c.length+1;let m=1;for(let g=0;g<c.length;g++){let b;typeof d[g]=="number"?b=d[g]:b=m/p,i.addColorStop(b,c[g]),m++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},MF,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=$s(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=$s(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof us?this._style=t:this._style=new us(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let Bf=C0;Bf.defaultAutoResolution=!0;class Ff{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class Uf{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],a=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),u={};for(const c in a){const d=a[c].split("="),p=d[0],m=d[1].replace(/"/gm,""),g=parseFloat(m),b=isNaN(g)?m:g;u[p]=b}n[o].push(u)}const i=new Ff;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class P0{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new Ff,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),a=e.getElementsByTagName("kerning"),u=e.getElementsByTagName("distanceField");for(let c=0;c<n.length;c++)r.info.push({face:n[c].getAttribute("face"),size:parseInt(n[c].getAttribute("size"),10)});for(let c=0;c<i.length;c++)r.common.push({lineHeight:parseInt(i[c].getAttribute("lineHeight"),10)});for(let c=0;c<s.length;c++)r.page.push({id:parseInt(s[c].getAttribute("id"),10)||0,file:s[c].getAttribute("file")});for(let c=0;c<o.length;c++){const d=o[c];r.char.push({id:parseInt(d.getAttribute("id"),10),page:parseInt(d.getAttribute("page"),10)||0,x:parseInt(d.getAttribute("x"),10),y:parseInt(d.getAttribute("y"),10),width:parseInt(d.getAttribute("width"),10),height:parseInt(d.getAttribute("height"),10),xoffset:parseInt(d.getAttribute("xoffset"),10),yoffset:parseInt(d.getAttribute("yoffset"),10),xadvance:parseInt(d.getAttribute("xadvance"),10)})}for(let c=0;c<a.length;c++)r.kerning.push({first:parseInt(a[c].getAttribute("first"),10),second:parseInt(a[c].getAttribute("second"),10),amount:parseInt(a[c].getAttribute("amount"),10)});for(let c=0;c<u.length;c++)r.distanceField.push({fieldType:u[c].getAttribute("fieldType"),distanceRange:parseInt(u[c].getAttribute("distanceRange"),10)});return r}}class R0{static test(e){return typeof e=="string"&&e.includes("<font>")?P0.test(ue.ADAPTER.parseXML(e)):!1}static parse(e){return P0.parse(ue.ADAPTER.parseXML(e))}}const k0=[Uf,P0,R0];function DF(t){for(let e=0;e<k0.length;e++)if(k0[e].test(t))return k0[e];return null}function OF(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let a;const u=r.dropShadow?r.dropShadowDistance:0,c=r.padding||0,d=t.width/n-u-c*2,p=t.height/n-u-c*2,m=o.slice(),g=r.fillGradientStops.slice();if(!g.length){const b=m.length+1;for(let x=1;x<b;++x)g.push(x/b)}if(m.unshift(o[0]),g.unshift(0),m.push(o[o.length-1]),g.push(1),r.fillGradientType===Nf.LINEAR_VERTICAL){a=e.createLinearGradient(d/2,c,d/2,p+c);let b=0;const x=(s.fontProperties.fontSize+r.strokeThickness)/p;for(let A=0;A<i.length;A++){const T=s.lineHeight*A;for(let _=0;_<m.length;_++){let w=0;typeof g[_]=="number"?w=g[_]:w=_/m.length;const S=T/p+w*x;let P=Math.max(b,S);P=Math.min(P,1),a.addColorStop(P,m[_]),b=P}}}else{a=e.createLinearGradient(c,p/2,d+c,p/2);const b=m.length+1;let x=1;for(let A=0;A<m.length;A++){let T;typeof g[A]=="number"?T=g[A]:T=x/b,a.addColorStop(T,m[A]),x++}}return a}function NF(t,e,r,n,i,s,o){const a=r.text,u=r.fontProperties;e.translate(n,i),e.scale(s,s);const c=o.strokeThickness/2,d=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=OF(t,e,o,s,[a],r),e.strokeStyle=o.stroke,o.dropShadow){const p=o.dropShadowColor,m=o.dropShadowBlur*s,g=o.dropShadowDistance*s;e.shadowColor=Ye.shared.setValue(p).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*g,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*g}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(a,c,d+r.lineHeight-u.descent),o.fill&&e.fillText(a,c,d+r.lineHeight-u.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function zf(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function BA(t){return Array.from?Array.from(t):t.split("")}function LF(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let a=s,u=o;a<=u;a++)e.push(String.fromCharCode(a))}else e.push(...BA(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const Zn=class{constructor(t,e,r){var c;const[n]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,a=qs(s.file),u={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/a,this.chars={},this.pageTextures=u;for(let d=0;d<t.page.length;d++){const{id:p,file:m}=t.page[d];u[p]=e instanceof Array?e[d]:e[m],o!=null&&o.fieldType&&o.fieldType!=="none"&&(u[p].baseTexture.alphaMode=Gn.NO_PREMULTIPLIED_ALPHA,u[p].baseTexture.mipmap=mi.OFF)}for(let d=0;d<t.char.length;d++){const{id:p,page:m}=t.char[d];let{x:g,y:b,width:x,height:A,xoffset:T,yoffset:_,xadvance:w}=t.char[d];g/=a,b/=a,x/=a,A/=a,T/=a,_/=a,w/=a;const S=new Le(g+u[m].frame.x/a,b+u[m].frame.y/a,x,A);this.chars[p]={xOffset:T,yOffset:_,xAdvance:w,kerning:{},texture:new he(u[m].baseTexture,S),page:m}}for(let d=0;d<t.kerning.length;d++){let{first:p,second:m,amount:g}=t.kerning[d];p/=a,m/=a,g/=a,this.chars[m]&&(this.chars[m].kerning[p]=g)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((c=o==null?void 0:o.fieldType)==null?void 0:c.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let n;if(t instanceof Ff)n=t;else{const s=DF(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}e instanceof he&&(e=[e]);const i=new Zn(n,e,r);return Zn.available[i.font]=i,i}static uninstall(t){const e=Zn.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete Zn.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:i,resolution:s,textureWidth:o,textureHeight:a,...u}=Object.assign({},Zn.defaultOptions,r),c=LF(n),d=e instanceof us?e:new us(e),p=o,m=new Ff;m.info[0]={face:d.fontFamily,size:d.fontSize},m.common[0]={lineHeight:d.fontSize};let g=0,b=0,x,A,T,_=0;const w=[];for(let P=0;P<c.length;P++){x||(x=ue.ADAPTER.createCanvas(),x.width=o,x.height=a,A=x.getContext("2d"),T=new Ne(x,{resolution:s,...u}),w.push(new he(T)),m.page.push({id:w.length-1,file:""}));const D=c[P],k=mr.measureText(D,d,!1,x),R=k.width,F=Math.ceil(k.height),X=Math.ceil((d.fontStyle==="italic"?2:1)*R);if(b>=a-F*s){if(b===0)throw new Error(`[BitmapFont] textureHeight ${a}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${D}')`);--P,x=null,A=null,T=null,b=0,g=0,_=0;continue}if(_=Math.max(F+k.fontProperties.descent,_),X*s+g>=p){if(g===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${d.fontFamily}', fontSize: ${d.fontSize}px, char: '${D}')`);--P,b+=_*s,b=Math.ceil(b),g=0,_=0;continue}NF(x,A,k,g,b,s,d);const K=zf(k.text);m.char.push({id:K,page:w.length-1,x:g/s,y:b/s,width:X,height:F,xoffset:0,yoffset:0,xadvance:R-(d.dropShadow?d.dropShadowDistance:0)-(d.stroke?d.strokeThickness:0)}),g+=(X+2*i)*s,g=Math.ceil(g)}for(let P=0,D=c.length;P<D;P++){const k=c[P];for(let R=0;R<D;R++){const F=c[R],X=A.measureText(k).width,K=A.measureText(F).width,$=A.measureText(k+F).width-(X+K);$&&m.kerning.push({first:zf(k),second:zf(F),amount:$})}}const S=new Zn(m,w,!0);return Zn.available[t]!==void 0&&Zn.uninstall(t),Zn.available[t]=S,S}};let Hr=Zn;Hr.ALPHA=[["a","z"],["A","Z"]," "],Hr.NUMERIC=[["0","9"]],Hr.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Hr.ASCII=[[" ","~"]],Hr.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:Zn.ALPHANUMERIC},Hr.available={};class BF{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const I0=new Se,FA=new wl,UA=class extends pr{constructor(t,e,r,n=Hn.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||as.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=ue.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===Hn.TRIANGLES&&e.length<UA.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const t=this.geometry.buffers[0],e=t.data,r=t._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));const n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,a=n.d,u=n.tx,c=n.ty,d=this.vertexData;for(let p=0;p<d.length/2;p++){const m=e[p*2],g=e[p*2+1];d[p*2]=i*m+o*g+u,d[p*2+1]=s*m+a*g+c}if(this._roundPixels){const p=ue.RESOLUTION;for(let m=0;m<d.length;++m)d[m]=Math.round(d[m]*p)/p}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new BF(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,I0);const e=this.geometry.getBuffer("aVertexPosition").data,r=FA.points,n=this.geometry.getIndex().data,i=n.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const a=n[o]*2,u=n[o+1]*2,c=n[o+2]*2;if(r[0]=e[a],r[1]=e[a+1],r[2]=e[u],r[3]=e[u+1],r[4]=e[c],r[5]=e[c+1],FA.contains(I0.x,I0.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let Pl=UA;Pl.BATCHABLE_SIZE=100;class jf extends Qs{constructor(e,r,n){super();const i=new Kt(e),s=new Kt(r,!0),o=new Kt(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,Te.FLOAT).addAttribute("aTextureCoord",s,2,!1,Te.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var FF=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,UF=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Sh extends wi{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:pt.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||$n.from(UF,FF),n),this._colorDirty=!1,this.uvMatrix=new y0(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Ye(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Ye.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var zF=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,jF=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const zA=[],jA=[],HA=[],GA=class extends pr{constructor(t,e={}){super();const{align:r,tint:n,maxWidth:i,letterSpacing:s,fontName:o,fontSize:a}=Object.assign({},GA.styleDefaults,e);if(!Hr.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new Ye(n),this._font=void 0,this._fontName=o,this._fontSize=a,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new ls(()=>{this.dirty=!0},this,0,0),this._roundPixels=ue.ROUND_PIXELS,this.dirty=!0,this._resolution=ue.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var X;const t=Hr.available[this._fontName],e=this.fontSize,r=e/t.size,n=new Se,i=[],s=[],o=[],a=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",u=BA(a),c=this._maxWidth*t.size/e,d=t.distanceFieldType==="none"?zA:jA;let p=null,m=0,g=0,b=0,x=-1,A=0,T=0,_=0,w=0;for(let K=0;K<u.length;K++){const $=u[K],U=zf($);if(/(?:\s)/.test($)&&(x=K,A=m,w++),$==="\r"||$===`
`){s.push(m),o.push(-1),g=Math.max(g,m),++b,++T,n.x=0,n.y+=t.lineHeight,p=null,w=0;continue}const j=t.chars[U];if(!j)continue;p&&j.kerning[p]&&(n.x+=j.kerning[p]);const ae=HA.pop()||{texture:he.EMPTY,line:0,charCode:0,prevSpaces:0,position:new Se};ae.texture=j.texture,ae.line=b,ae.charCode=U,ae.position.x=Math.round(n.x+j.xOffset+this._letterSpacing/2),ae.position.y=Math.round(n.y+j.yOffset),ae.prevSpaces=w,i.push(ae),m=ae.position.x+Math.max(j.xAdvance-j.xOffset,j.texture.orig.width),n.x+=j.xAdvance+this._letterSpacing,_=Math.max(_,j.yOffset+j.texture.height),p=U,x!==-1&&c>0&&n.x>c&&(++T,_l(i,1+x-T,1+K-x),K=x,x=-1,s.push(A),o.push(i.length>0?i[i.length-1].prevSpaces:0),g=Math.max(g,A),b++,n.x=0,n.y+=t.lineHeight,p=null,w=0)}const S=u[u.length-1];S!=="\r"&&S!==`
`&&(/(?:\s)/.test(S)&&(m=A),s.push(m),g=Math.max(g,m),o.push(-1));const P=[];for(let K=0;K<=b;K++){let $=0;this._align==="right"?$=g-s[K]:this._align==="center"?$=(g-s[K])/2:this._align==="justify"&&($=o[K]<0?0:(g-s[K])/o[K]),P.push($)}const D=i.length,k={},R=[],F=this._activePagesMeshData;d.push(...F);for(let K=0;K<D;K++){const $=i[K].texture,U=$.baseTexture.uid;if(!k[U]){let j=d.pop();if(!j){const de=new jf;let ne,N;t.distanceFieldType==="none"?(ne=new Sh(he.EMPTY),N=Ce.NORMAL):(ne=new Sh(he.EMPTY,{program:$n.from(jF,zF),uniforms:{uFWidth:0}}),N=Ce.NORMAL_NPM);const W=new Pl(de,ne);W.blendMode=N,j={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:W,vertices:null,uvs:null,indices:null}}j.index=0,j.indexCount=0,j.vertexCount=0,j.uvsCount=0,j.total=0;const{_textureCache:ae}=this;ae[U]=ae[U]||new he($.baseTexture),j.mesh.texture=ae[U],j.mesh.tint=this._tintColor.value,R.push(j),k[U]=j}k[U].total++}for(let K=0;K<F.length;K++)R.includes(F[K])||this.removeChild(F[K].mesh);for(let K=0;K<R.length;K++)R[K].mesh.parent!==this&&this.addChild(R[K].mesh);this._activePagesMeshData=R;for(const K in k){const $=k[K],U=$.total;if(!(((X=$.indices)==null?void 0:X.length)>6*U)||$.vertices.length<Pl.BATCHABLE_SIZE*2)$.vertices=new Float32Array(4*2*U),$.uvs=new Float32Array(4*2*U),$.indices=new Uint16Array(6*U);else{const j=$.total,ae=$.vertices;for(let de=j*4*2;de<ae.length;de++)ae[de]=0}$.mesh.size=6*U}for(let K=0;K<D;K++){const $=i[K];let U=$.position.x+P[$.line]*(this._align==="justify"?$.prevSpaces:1);this._roundPixels&&(U=Math.round(U));const j=U*r,ae=$.position.y*r,de=$.texture,ne=k[de.baseTexture.uid],N=de.frame,W=de._uvs,M=ne.index++;ne.indices[M*6+0]=0+M*4,ne.indices[M*6+1]=1+M*4,ne.indices[M*6+2]=2+M*4,ne.indices[M*6+3]=0+M*4,ne.indices[M*6+4]=2+M*4,ne.indices[M*6+5]=3+M*4,ne.vertices[M*8+0]=j,ne.vertices[M*8+1]=ae,ne.vertices[M*8+2]=j+N.width*r,ne.vertices[M*8+3]=ae,ne.vertices[M*8+4]=j+N.width*r,ne.vertices[M*8+5]=ae+N.height*r,ne.vertices[M*8+6]=j,ne.vertices[M*8+7]=ae+N.height*r,ne.uvs[M*8+0]=W.x0,ne.uvs[M*8+1]=W.y0,ne.uvs[M*8+2]=W.x1,ne.uvs[M*8+3]=W.y1,ne.uvs[M*8+4]=W.x2,ne.uvs[M*8+5]=W.y2,ne.uvs[M*8+6]=W.x3,ne.uvs[M*8+7]=W.y3}this._textWidth=g*r,this._textHeight=(n.y+t.lineHeight)*r;for(const K in k){const $=k[K];if(this.anchor.x!==0||this.anchor.y!==0){let de=0;const ne=this._textWidth*this.anchor.x,N=this._textHeight*this.anchor.y;for(let W=0;W<$.total;W++)$.vertices[de++]-=ne,$.vertices[de++]-=N,$.vertices[de++]-=ne,$.vertices[de++]-=N,$.vertices[de++]-=ne,$.vertices[de++]-=N,$.vertices[de++]-=ne,$.vertices[de++]-=N}this._maxLineHeight=_*r;const U=$.mesh.geometry.getBuffer("aVertexPosition"),j=$.mesh.geometry.getBuffer("aTextureCoord"),ae=$.mesh.geometry.getIndex();U.data=$.vertices,j.data=$.uvs,ae.data=$.indices,U.update(),j.update(),ae.update()}for(let K=0;K<i.length;K++)HA.push(i[K]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:n}=Hr.available[this._fontName];if(r!=="none"){const{a:i,b:s,c:o,d:a}=this.worldTransform,u=Math.sqrt(i*i+s*s),c=Math.sqrt(o*o+a*a),d=(Math.abs(u)+Math.abs(c))/2,p=this.fontSize/n,m=t._view.resolution;for(const g of this._activePagesMeshData)g.mesh.shader.uniforms.uFWidth=d*e*p*m}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Hr.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Hr.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Hr.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=Hr.available[this._fontName].distanceFieldType==="none"?zA:jA;r.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],r.filter(n=>e[n.mesh.texture.baseTexture.uid]).forEach(n=>{n.mesh.texture=he.EMPTY});for(const n in e)e[n].destroy(),delete e[n];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};let VA=GA;VA.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const WA={loader:ce.LoadParser,resolver:ce.ResolveParser,cache:ce.CacheParser,detection:ce.DetectionParser};we.handle(ce.Asset,t=>{const e=t.ref;Object.entries(WA).filter(([r])=>!!e[r]).forEach(([r,n])=>we.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(WA).filter(r=>!!e[r]).forEach(r=>we.remove(e[r]))});class HF{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Ah(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Jo(t,e){const r=t.split("?")[0],n=Tr.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const hs=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),M0=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function XA(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const a=s[o];r<e.length-1?XA(t.replace(n[r],a),e,r+1,n,i):i.push(t.replace(n[r],a))}}function GF(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),XA(t,i,0,r,n)}else n.push(t);return n}const Hf=t=>!Array.isArray(t);class VF{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=hs(e);let i;for(let a=0;a<this.parsers.length;a++){const u=this.parsers[a];if(u.test(r)){i=u.getCacheableAssets(n,r);break}}i||(i={},n.forEach(a=>{i[a]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(a=>{this._cacheMap.set(a,o)}),s.forEach(a=>{this._cache.has(a)&&this._cache.get(a)!==r&&console.warn("[Cache] already has key:",a),this._cache.set(a,i[a])}),r instanceof he){const a=r;n.forEach(u=>{a.baseTexture!==he.EMPTY.baseTexture&&Ne.addToCache(a.baseTexture,u),he.addToCache(a,u)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const Ch=new VF;class WF{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,a;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let u=0;u<this.parsers.length;u++){const c=this.parsers[u];if(c.load&&((o=c.test)!=null&&o.call(c,e,r,this))){s=c;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let u=0;u<this.parsers.length;u++){const c=this.parsers[u];c.parse&&c.parse&&await((a=c.testParse)==null?void 0:a.call(c,i,r,this))&&(i=await c.parse(i,r,this)||i,n.parser=c)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Hf(e),o=hs(e,c=>({src:c})),a=o.length,u=o.map(async c=>{const d=Tr.toAbsolute(c.src);if(!i[c.src])try{this.promiseCache[d]||(this.promiseCache[d]=this._getLoadPromiseAndParser(d,c)),i[c.src]=await this.promiseCache[d].promise,r&&r(++n/a)}catch(p){throw delete this.promiseCache[d],delete i[c.src],new Error(`[Loader.load] Failed to load ${d}.
${p}`)}});return await Promise.all(u),s?i[o[0].src]:i}async unload(e){const r=hs(e,n=>({src:n})).map(async n=>{var o,a;const i=Tr.toAbsolute(n.src),s=this.promiseCache[i];if(s){const u=await s.promise;(a=(o=s.parser)==null?void 0:o.unload)==null||a.call(o,u,n,this),delete this.promiseCache[i]}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var Ti=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(Ti||{});const XF=".json",$F="application/json",YF={extension:{type:ce.LoadParser,priority:Ti.Low},name:"loadJson",test(t){return Ah(t,$F)||Jo(t,XF)},async load(t){return await(await ue.ADAPTER.fetch(t)).json()}};we.add(YF);const qF=".txt",QF="text/plain",KF={name:"loadTxt",extension:{type:ce.LoadParser,priority:Ti.Low},test(t){return Ah(t,QF)||Jo(t,qF)},async load(t){return await(await ue.ADAPTER.fetch(t)).text()}};we.add(KF);const ZF=["normal","bold","100","200","300","400","500","600","700","800","900"],JF=[".ttf",".otf",".woff",".woff2"],eU=["font/ttf","font/otf","font/woff","font/woff2"],tU=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function rU(t){const e=Tr.extname(t),r=Tr.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(tU)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const nU={extension:{type:ce.LoadParser,priority:Ti.Low},name:"loadWebFont",test(t){return Ah(t,eU)||Jo(t,JF)},async load(t,e){var n,i,s;const r=ue.ADAPTER.getFontFaceSet();if(r){const o=[],a=((n=e.data)==null?void 0:n.family)??rU(t),u=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(d=>ZF.includes(d)))??["normal"],c=e.data??{};for(let d=0;d<u.length;d++){const p=u[d],m=new FontFace(a,`url(${encodeURI(t)})`,{...c,weight:p});await m.load(),r.add(m),o.push(m)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>ue.ADAPTER.getFontFaceSet().delete(e))}};we.add(nU);let $A=0,D0;const iU="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",sU={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${iU}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},oU={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let O0;class aU{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([sU.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){D0===void 0&&(D0=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<D0&&(O0||(O0=URL.createObjectURL(new Blob([oU.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(O0),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[$A]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:$A++,id:n})}}const YA=new aU;function Gf(t,e,r){const n=new he(t);return n.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),n}const lU=[".jpeg",".jpg",".png",".webp",".avif"],uU=["image/jpeg","image/png","image/webp","image/avif"];async function hU(t){const e=await ue.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Vf={name:"loadTextures",extension:{type:ce.LoadParser,priority:Ti.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Ah(t,uU)||Jo(t,lU)},async load(t,e,r){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await YA.isImageBitmapSupported()?n=await YA.loadImageBitmap(t):n=await hU(t):n=await new Promise(s=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?s(n):n.onload=()=>{s(n)}});const i=new Ne(n,{resolution:qs(t),...e.data});return i.resource.src=t,Gf(i,r,t)},unload(t){t.destroy(!0)}};we.add(Vf);const cU=".svg",dU="image/svg+xml",fU={extension:{type:ce.LoadParser,priority:Ti.High},name:"loadSVG",test(t){return Ah(t,dU)||Jo(t,cU)},async testParse(t){return wh.test(t)},async parse(t,e,r){var s;const n=new wh(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Ne(n,{resolution:qs(t),...e==null?void 0:e.data});return i.resource.src=t,Gf(i,r,t)},async load(t,e){return(await ue.ADAPTER.fetch(t)).text()},unload:Vf.unload};we.add(fU);class pU{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);n.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{n.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(r).forEach(i=>{n.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],r[i])}),this._bundles[e]=n}add(e,r,n){const i=hs(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=GF(r):r=[r]);const s=r.map(o=>{let a=o;if(typeof o=="string"){let u=!1;for(let c=0;c<this._parsers.length;c++){const d=this._parsers[c];if(d.test(o)){a=d.parse(o),u=!0;break}}u||(a={src:o})}return a.format||(a.format=a.src.split(".").pop()),a.alias||(a.alias=i),(this._basePath||this._rootPath)&&(a.src=Tr.toAbsolute(a.src,this._basePath,this._rootPath)),a.src=this._appendDefaultSearchParams(a.src),a.data=a.data??n,a});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=Hf(e);e=hs(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),a={};for(const u in o){const c=o[u];a[this._extractAssetIdFromBundle(i,u)]=c}n[i]=a}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Hf(e);e=hs(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),a=s[0];o==null||o.priority.forEach(u=>{o.params[u].forEach(c=>{const d=s.filter(p=>p[u]?p[u]===c:!1);d.length&&(s=d)})}),this._resolverHash[i]=s[0]??a}else{let s=i;(this._basePath||this._rootPath)&&(s=Tr.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class mU{constructor(){this._detections=[],this._initialized=!1,this.resolver=new pU,this.loader=new WF,this.cache=Ch,this._backgroundLoader=new HF(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,a;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let u=e.manifest;typeof u=="string"&&(u=await this.load(u)),this.resolver.addManifest(u)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r;let i=[];if((o=e.texturePreference)!=null&&o.format){const u=(a=e.texturePreference)==null?void 0:a.format;i=typeof u=="string"?[u]:u;for(const c of this._detections)await c.test()||(i=await c.remove(i))}else for(const u of this._detections)await u.test()&&(i=await u.add(i));this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n){this.resolver.add(e,r,n)}async load(e,r){this._initialized||await this.init();const n=Hf(e),i=hs(e).map(a=>typeof a!="string"?(this.resolver.add(a.src,a),a.src):(this.resolver.hasKey(a)||this.resolver.add(a,a),a)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let a=0,u=0;const c=()=>{r==null||r(++a/u)},d=o.map(p=>{const m=i[p];return u+=Object.keys(m).length,this._mapLoadToResolve(m,c).then(g=>{s[p]=g})});return await Promise.all(d),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return Ch.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=Ch.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((a,u)=>{const c=s[a.src],d=[a.src];a.alias&&d.push(...a.alias),o[i[u]]=c,Ch.set(d,c)}),o}async unload(e){this._initialized||await this.init();const r=hs(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=hs(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{Ch.remove(n.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return Vf.config.preferWorkers}set preferWorkers(e){Ge("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Wf=new mU;we.handleByList(ce.LoadParser,Wf.loader.parsers).handleByList(ce.ResolveParser,Wf.resolver.parsers).handleByList(ce.CacheParser,Wf.cache.parsers).handleByList(ce.DetectionParser,Wf.detections);const gU={extension:ce.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof he),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};we.add(gU);const yU={extension:{type:ce.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await ue.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};we.add(yU);const vU={extension:{type:ce.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await ue.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};we.add(vU);const qA=["png","jpg","jpeg"],bU={extension:{type:ce.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...qA],remove:async t=>t.filter(e=>!qA.includes(e))};we.add(bU);const _U={extension:ce.ResolveParser,test:Vf.test,parse:t=>{var e;return{resolution:parseFloat(((e=ue.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};we.add(_U);const xU=[".xml",".fnt"],wU={extension:{type:ce.LoadParser,priority:Ti.Normal},name:"loadBitmapFont",test(t){return xU.includes(Tr.extname(t).toLowerCase())},async testParse(t){return Uf.test(t)||R0.test(t)},async parse(t,e,r){const n=Uf.test(t)?Uf.parse(t):R0.parse(t),{src:i}=e,{page:s}=n,o=[];for(let c=0;c<s.length;++c){const d=s[c].file;let p=Tr.join(Tr.dirname(i),d);p=M0(p,i),o.push(p)}const a=await r.load(o),u=o.map(c=>a[c]);return Hr.install(n,u,!0)},async load(t,e){return(await ue.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};we.add(wU);const Xf={build(t){const e=t.points;let r,n,i,s,o,a;if(t.type===dr.CIRC){const b=t.shape;r=b.x,n=b.y,o=a=b.radius,i=s=0}else if(t.type===dr.ELIP){const b=t.shape;r=b.x,n=b.y,o=b.width,a=b.height,i=s=0}else{const b=t.shape,x=b.width/2,A=b.height/2;r=b.x+x,n=b.y+A,o=a=Math.max(0,Math.min(b.radius,Math.min(x,A))),i=x-o,s=A-a}if(!(o>=0&&a>=0&&i>=0&&s>=0)){e.length=0;return}const u=Math.ceil(2.3*Math.sqrt(o+a)),c=u*8+(i?4:0)+(s?4:0);if(e.length=c,c===0)return;if(u===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let d=0,p=u*4+(i?2:0)+2,m=p,g=c;{const b=i+o,x=s,A=r+b,T=r-b,_=n+x;if(e[d++]=A,e[d++]=_,e[--p]=_,e[--p]=T,s){const w=n-x;e[m++]=T,e[m++]=w,e[--g]=w,e[--g]=A}}for(let b=1;b<u;b++){const x=Math.PI/2*(b/u),A=i+Math.cos(x)*o,T=s+Math.sin(x)*a,_=r+A,w=r-A,S=n+T,P=n-T;e[d++]=_,e[d++]=S,e[--p]=S,e[--p]=w,e[m++]=w,e[m++]=P,e[--g]=P,e[--g]=_}{const b=i,x=s+a,A=r+b,T=r-b,_=n+x,w=n-x;e[d++]=A,e[d++]=_,e[--g]=w,e[--g]=A,i&&(e[d++]=T,e[d++]=_,e[--g]=w,e[--g]=T)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let a,u;if(t.type!==dr.RREC){const d=t.shape;a=d.x,u=d.y}else{const d=t.shape;a=d.x+d.width/2,u=d.y+d.height/2}const c=t.matrix;n.push(t.matrix?c.a*a+c.c*u+c.tx:a,t.matrix?c.b*a+c.d*u+c.ty:u),s++,n.push(r[0],r[1]);for(let d=2;d<r.length;d+=2)n.push(r[d],r[d+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function QA(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const a=t[i],u=t[i+1];n+=(a-s)*(u+o),s=a,o=u}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,a=r-s-1,u=s,c=s+1;[t[o],t[u]]=[t[u],t[o]],[t[a],t[c]]=[t[c],t[a]]}}}const KA={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){QA(r,!1);const o=[];for(let c=0;c<n.length;c++){const d=n[c];QA(d.points,!0),o.push(r.length/2),r=r.concat(d.points)}const a=DN(r,o,2);if(!a)return;const u=i.length/2;for(let c=0;c<a.length;c+=3)s.push(a[c]+u),s.push(a[c+1]+u),s.push(a[c+2]+u);for(let c=0;c<r.length;c++)i.push(r[c])}}},EU={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},TU={build(t){Xf.build(t)},triangulate(t,e){Xf.triangulate(t,e)}};var Jn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Jn||{}),ea=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(ea||{});const Rl={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class ZA{static curveTo(e,r,n,i,s,o){const a=o[o.length-2],u=o[o.length-1]-r,c=a-e,d=i-r,p=n-e,m=Math.abs(u*p-c*d);if(m<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const g=u*u+c*c,b=d*d+p*p,x=u*d+c*p,A=s*Math.sqrt(g)/m,T=s*Math.sqrt(b)/m,_=A*x/g,w=T*x/b,S=A*p+T*c,P=A*d+T*u,D=c*(T+_),k=u*(T+_),R=p*(A+w),F=d*(A+w),X=Math.atan2(k-P,D-S),K=Math.atan2(F-P,R-S);return{cx:S+e,cy:P+r,radius:s,startAngle:X,endAngle:K,anticlockwise:c*d>p*u}}static arc(e,r,n,i,s,o,a,u,c){const d=a-o,p=Rl._segmentsCount(Math.abs(d)*s,Math.ceil(Math.abs(d)/gf)*40),m=d/(p*2),g=m*2,b=Math.cos(m),x=Math.sin(m),A=p-1,T=A%1/A;for(let _=0;_<=A;++_){const w=_+T*_,S=m+o+g*w,P=Math.cos(S),D=-Math.sin(S);c.push((b*P+x*D)*s+n,(b*-D+x*P)*s+i)}}}class SU{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class N0{static curveLength(e,r,n,i,s,o,a,u){let c=0,d=0,p=0,m=0,g=0,b=0,x=0,A=0,T=0,_=0,w=0,S=e,P=r;for(let D=1;D<=10;++D)d=D/10,p=d*d,m=p*d,g=1-d,b=g*g,x=b*g,A=x*e+3*b*d*n+3*g*p*s+m*a,T=x*r+3*b*d*i+3*g*p*o+m*u,_=S-A,w=P-T,S=A,P=T,c+=Math.sqrt(_*_+w*w);return c}static curveTo(e,r,n,i,s,o,a){const u=a[a.length-2],c=a[a.length-1];a.length-=2;const d=Rl._segmentsCount(N0.curveLength(u,c,e,r,n,i,s,o));let p=0,m=0,g=0,b=0,x=0;a.push(u,c);for(let A=1,T=0;A<=d;++A)T=A/d,p=1-T,m=p*p,g=m*p,b=T*T,x=b*T,a.push(g*u+3*m*T*e+3*p*b*n+x*s,g*c+3*m*T*r+3*p*b*i+x*o)}}function JA(t,e,r,n,i,s,o,a){const u=t-r*i,c=e-n*i,d=t+r*s,p=e+n*s;let m,g;o?(m=n,g=-r):(m=-n,g=r);const b=u+m,x=c+g,A=d+m,T=p+g;return a.push(b,x,A,T),2}function ta(t,e,r,n,i,s,o,a){const u=r-t,c=n-e;let d=Math.atan2(u,c),p=Math.atan2(i-t,s-e);a&&d<p?d+=Math.PI*2:!a&&d>p&&(p+=Math.PI*2);let m=d;const g=p-d,b=Math.abs(g),x=Math.sqrt(u*u+c*c),A=(15*b*Math.sqrt(x)/Math.PI>>0)+1,T=g/A;if(m+=T,a){o.push(t,e,r,n);for(let _=1,w=m;_<A;_++,w+=T)o.push(t,e,t+Math.sin(w)*x,e+Math.cos(w)*x);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let _=1,w=m;_<A;_++,w+=T)o.push(t+Math.sin(w)*x,e+Math.cos(w)*x,t,e);o.push(i,s,t,e)}return A*2}function AU(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new Se(n[0],n[1]),a=new Se(n[n.length-2],n[n.length-1]),u=r.type!==dr.POLY||r.closeStroke,c=Math.abs(o.x-a.x)<i&&Math.abs(o.y-a.y)<i;if(u){n=n.slice(),c&&(n.pop(),n.pop(),a.set(n[n.length-2],n[n.length-1]));const ne=(o.x+a.x)*.5,N=(a.y+o.y)*.5;n.unshift(ne,N),n.push(ne,N)}const d=e.points,p=n.length/2;let m=n.length;const g=d.length/2,b=s.width/2,x=b*b,A=s.miterLimit*s.miterLimit;let T=n[0],_=n[1],w=n[2],S=n[3],P=0,D=0,k=-(_-S),R=T-w,F=0,X=0,K=Math.sqrt(k*k+R*R);k/=K,R/=K,k*=b,R*=b;const $=s.alignment,U=(1-$)*2,j=$*2;u||(s.cap===ea.ROUND?m+=ta(T-k*(U-j)*.5,_-R*(U-j)*.5,T-k*U,_-R*U,T+k*j,_+R*j,d,!0)+2:s.cap===ea.SQUARE&&(m+=JA(T,_,k,R,U,j,!0,d))),d.push(T-k*U,_-R*U,T+k*j,_+R*j);for(let ne=1;ne<p-1;++ne){T=n[(ne-1)*2],_=n[(ne-1)*2+1],w=n[ne*2],S=n[ne*2+1],P=n[(ne+1)*2],D=n[(ne+1)*2+1],k=-(_-S),R=T-w,K=Math.sqrt(k*k+R*R),k/=K,R/=K,k*=b,R*=b,F=-(S-D),X=w-P,K=Math.sqrt(F*F+X*X),F/=K,X/=K,F*=b,X*=b;const N=w-T,W=_-S,M=w-P,Y=D-S,oe=N*M+W*Y,Me=W*M-Y*N,fe=Me<0;if(Math.abs(Me)<.001*Math.abs(oe)){d.push(w-k*U,S-R*U,w+k*j,S+R*j),oe>=0&&(s.join===Jn.ROUND?m+=ta(w,S,w-k*U,S-R*U,w-F*U,S-X*U,d,!1)+4:m+=2,d.push(w-F*j,S-X*j,w+F*U,S+X*U));continue}const Ue=(-k+T)*(-R+S)-(-k+w)*(-R+_),ke=(-F+P)*(-X+S)-(-F+w)*(-X+D),Ve=(N*ke-M*Ue)/Me,rt=(Y*Ue-W*ke)/Me,At=(Ve-w)*(Ve-w)+(rt-S)*(rt-S),nt=w+(Ve-w)*U,Re=S+(rt-S)*U,Ze=w-(Ve-w)*j,je=S-(rt-S)*j,Wr=Math.min(N*N+W*W,M*M+Y*Y),ir=fe?U:j,Ri=Wr+ir*ir*x,fa=At<=Ri;let ni=s.join;if(ni===Jn.MITER&&At/x>A&&(ni=Jn.BEVEL),fa)switch(ni){case Jn.MITER:{d.push(nt,Re,Ze,je);break}case Jn.BEVEL:{fe?d.push(nt,Re,w+k*j,S+R*j,nt,Re,w+F*j,S+X*j):d.push(w-k*U,S-R*U,Ze,je,w-F*U,S-X*U,Ze,je),m+=2;break}case Jn.ROUND:{fe?(d.push(nt,Re,w+k*j,S+R*j),m+=ta(w,S,w+k*j,S+R*j,w+F*j,S+X*j,d,!0)+4,d.push(nt,Re,w+F*j,S+X*j)):(d.push(w-k*U,S-R*U,Ze,je),m+=ta(w,S,w-k*U,S-R*U,w-F*U,S-X*U,d,!1)+4,d.push(w-F*U,S-X*U,Ze,je));break}}else{switch(d.push(w-k*U,S-R*U,w+k*j,S+R*j),ni){case Jn.MITER:{fe?d.push(Ze,je,Ze,je):d.push(nt,Re,nt,Re),m+=2;break}case Jn.ROUND:{fe?m+=ta(w,S,w+k*j,S+R*j,w+F*j,S+X*j,d,!0)+2:m+=ta(w,S,w-k*U,S-R*U,w-F*U,S-X*U,d,!1)+2;break}}d.push(w-F*U,S-X*U,w+F*j,S+X*j),m+=2}}T=n[(p-2)*2],_=n[(p-2)*2+1],w=n[(p-1)*2],S=n[(p-1)*2+1],k=-(_-S),R=T-w,K=Math.sqrt(k*k+R*R),k/=K,R/=K,k*=b,R*=b,d.push(w-k*U,S-R*U,w+k*j,S+R*j),u||(s.cap===ea.ROUND?m+=ta(w-k*(U-j)*.5,S-R*(U-j)*.5,w-k*U,S-R*U,w+k*j,S+R*j,d,!1)+2:s.cap===ea.SQUARE&&(m+=JA(w,S,k,R,U,j,!1,d)));const ae=e.indices,de=Rl.epsilon*Rl.epsilon;for(let ne=g;ne<m+g-2;++ne)T=d[ne*2],_=d[ne*2+1],w=d[(ne+1)*2],S=d[(ne+1)*2+1],P=d[(ne+2)*2],D=d[(ne+2)*2+1],!(Math.abs(T*(S-D)+w*(D-_)+P*(_-S))<de)&&ae.push(ne,ne+1,ne+2)}function CU(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==dr.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,a=e.indices,u=i.length/2,c=o.length/2;let d=c;for(o.push(i[0],i[1]),r=1;r<u;r++)o.push(i[r*2],i[r*2+1]),a.push(d,d+1),d++;s&&a.push(d,c)}function eC(t,e){t.lineStyle.native?CU(t,e):AU(t,e)}class L0{static curveLength(e,r,n,i,s,o){const a=e-2*n+s,u=r-2*i+o,c=2*n-2*e,d=2*i-2*r,p=4*(a*a+u*u),m=4*(a*c+u*d),g=c*c+d*d,b=2*Math.sqrt(p+m+g),x=Math.sqrt(p),A=2*p*x,T=2*Math.sqrt(g),_=m/x;return(A*b+x*m*(b-T)+(4*g*p-m*m)*Math.log((2*x+_+b)/(_+T)))/(4*A)}static curveTo(e,r,n,i,s){const o=s[s.length-2],a=s[s.length-1],u=Rl._segmentsCount(L0.curveLength(o,a,e,r,n,i));let c=0,d=0;for(let p=1;p<=u;++p){const m=p/u;c=o+(e-o)*m,d=a+(r-a)*m,s.push(c+(e+(n-e)*m-c)*m,d+(r+(i-r)*m-d)*m)}}}const B0={[dr.POLY]:KA,[dr.CIRC]:Xf,[dr.ELIP]:Xf,[dr.RECT]:EU,[dr.RREC]:TU},tC=[],$f=[];class Yf{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Yf(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const kl=new Se,rC=class extends WS{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Of,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),$f.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),tC.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,n=null){const i=new Yf(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new Yf(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,kl):kl.copyFrom(t),n.shape.contains(kl.x,kl.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(kl.x,kl.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let a=this.shapeIndex;a<e.length;a++){this.shapeIndex++;const u=e[a],c=u.fillStyle,d=u.lineStyle;B0[u.type].build(u),u.matrix&&this.transformPoints(u.points,u.matrix),(c.visible||d.visible)&&this.processHoles(u.holes);for(let p=0;p<2;p++){const m=p===0?c:d;if(!m.visible)continue;const g=m.texture.baseTexture,b=this.indices.length,x=this.points.length/2;g.wrapMode=rs.REPEAT,p===0?this.processFill(u):this.processLine(u);const A=this.points.length/2-x;A!==0&&(r&&!this._compareStyles(n,m)&&(r.end(b,x),r=null),r||(r=tC.pop()||new SU,r.begin(m,b,x),this.batches.push(r),n=m),this.addUvs(this.points,t,m.texture,x,A,m.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const n=t[e];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<rC.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++Ne._globalBatch;for(let d=0;d<this.drawCalls.length;d++)this.drawCalls[d].texArray.clear(),$f.push(this.drawCalls[d]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=$f.pop();n||(n=new a0,n.texArray=new f0),n.texArray.count=0,n.start=0,n.size=0,n.type=Hn.TRIANGLES;let i=0,s=null,o=0,a=!1,u=Hn.TRIANGLES,c=0;this.drawCalls.push(n);for(let d=0;d<this.batches.length;d++){const p=this.batches[d],m=8,g=p.style,b=g.texture.baseTexture;a!==!!g.native&&(a=!!g.native,u=a?Hn.LINES:Hn.TRIANGLES,s=null,i=m,t++),s!==b&&(s=b,b._batchEnabled!==t&&(i===m&&(t++,i=0,n.size>0&&(n=$f.pop(),n||(n=new a0,n.texArray=new f0),this.drawCalls.push(n)),n.start=c,n.size=0,n.texArray.count=0,n.type=u),b.touched=1,b._batchEnabled=t,b._batchLocation=i,b.wrapMode=rs.REPEAT,n.texArray.elements[n.texArray.count++]=b,i++)),n.size+=p.size,c+=p.size,o=b._batchLocation,this.addColors(e,g.color,g.alpha,p.attribSize,p.attribStart),this.addTextureIds(r,o,p.attribSize,p.attribStart)}Ne._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let a=0;for(let u=0;u<t.length/2;u++)s[a++]=t[u*2],s[a++]=t[u*2+1],s[a++]=e[u*2],s[a++]=e[u*2+1],o[a++]=r[u],s[a++]=n[u];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?KA.triangulate(t,this):B0[t.type].triangulate(t,this)}processLine(t){eC(t,this);for(let e=0;e<t.holes.length;e++)eC(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];B0[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const n=t[r*2],i=t[r*2+1];t[r*2]=e.a*n+e.c*i+e.tx,t[r*2+1]=e.b*n+e.d*i+e.ty}}addColors(t,e,r,n,i=0){const s=Ye.shared.setValue(e).toLittleEndianNumber(),o=Ye.shared.setValue(s).toPremultiplied(r);t.length=Math.max(t.length,i+n);for(let a=0;a<n;a++)t[i+a]=o}addTextureIds(t,e,r,n=0){t.length=Math.max(t.length,n+r);for(let i=0;i<r;i++)t[n+i]=e}addUvs(t,e,r,n,i,s=null){let o=0;const a=e.length,u=r.frame;for(;o<i;){let d=t[(n+o)*2],p=t[(n+o)*2+1];if(s){const m=s.a*d+s.c*p+s.tx;p=s.b*d+s.d*p+s.ty,d=m}o++,e.push(d/u.width,p/u.height)}const c=r.baseTexture;(u.width<c.width||u.height<c.height)&&this.adjustUvs(e,r,a,i)}adjustUvs(t,e,r,n){const i=e.baseTexture,s=1e-6,o=r+n*2,a=e.frame,u=a.width/i.width,c=a.height/i.height;let d=a.x/a.width,p=a.y/a.height,m=Math.floor(t[r]+s),g=Math.floor(t[r+1]+s);for(let b=r+2;b<o;b+=2)m=Math.min(m,Math.floor(t[b]+s)),g=Math.min(g,Math.floor(t[b+1]+s));d-=m,p-=g;for(let b=r;b<o;b+=2)t[b]=(t[b]+d)*u,t[b+1]=(t[b+1]+p)*c}};let nC=rC;nC.BATCHABLE_SIZE=100;class qf{constructor(){this.color=16777215,this.alpha=1,this.texture=he.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new qf;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=he.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class F0 extends qf{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=ea.BUTT,this.join=Jn.MITER,this.miterLimit=10}clone(){const e=new F0;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const U0={},Qf=class extends pr{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new qf,this._lineStyle=new F0,this._matrix=null,this._holeMode=!1,this.state=as.for2d(),this._geometry=t||new nC,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Ye(16777215),this.blendMode=Ce.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Qf(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,n=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:n,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:he.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:ea.BUTT,join:Jn.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new wl,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new wl,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),L0.curveTo(t,e,r,n,i),this}bezierCurveTo(t,e,r,n,i,s){return this._initCurve(),N0.curveTo(t,e,r,n,i,s,this.currentPath.points),this}arcTo(t,e,r,n,i){this._initCurve(t,e);const s=this.currentPath.points,o=ZA.curveTo(t,e,r,n,i,s);if(o){const{cx:a,cy:u,radius:c,startAngle:d,endAngle:p,anticlockwise:m}=o;this.arc(a,u,c,d,p,m)}return this}arc(t,e,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=gf:s&&n<=i&&(n+=gf),i-n===0)return this;const o=t+Math.cos(n)*r,a=e+Math.sin(n)*r,u=this._geometry.closePointEps;let c=this.currentPath?this.currentPath.points:null;if(c){const d=Math.abs(c[c.length-2]-o),p=Math.abs(c[c.length-1]-a);d<u&&p<u||c.push(o,a)}else this.moveTo(o,a),c=this.currentPath.points;return ZA.arc(o,a,t,e,r,n,i,s,c),this}beginFill(t=0,e){return this.beginTextureFill({texture:he.WHITE,color:t,alpha:e})}normalizeColor(t){const e=Ye.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:he.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new Le(t,e,r,n))}drawRoundedRect(t,e,r,n,i){return this.drawShape(new h0(t,e,r,n,i))}drawCircle(t,e,r){return this.drawShape(new l0(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new u0(t,e,r,n))}drawPolygon(...t){let e,r=!0;const n=t[0];n.points?(r=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new wl(e);return i.closeStroke=r,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===dr.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const i=t.batches[n],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),a=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),u=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),c={vertexData:o,blendMode:e,indices:u,uvs:a,_batchRGB:Ye.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=c}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.worldAlpha,i=e.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,Ye.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let o=0,a=s.length;o<a;o++)this._renderDrawCallDirect(t,r.drawCalls[o])}_renderDrawCallDirect(t,e){const{texArray:r,type:n,size:i,start:s}=e,o=r.count;for(let a=0;a<o;a++)t.texture.bind(r.elements[a],a);t.geometry.draw(n,i,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!U0[r]){const{maxTextures:n}=t.plugins[r],i=new Int32Array(n);for(let a=0;a<n;a++)i[a]=a;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new pt,default:Yn.from({uSamplers:i},!0)},o=t.plugins[r]._shader.program;U0[r]=new wi(o,s)}e=U0[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:n,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,Qf._TEMP_POINT),this._geometry.containsPoint(Qf._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=Ye.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,a=e.ty,u=this._geometry.points,c=this.vertexData;let d=0;for(let p=0;p<u.length;p+=2){const m=u[p],g=u[p+1];c[d++]=r*m+i*g+o,c[d++]=s*g+n*m+a}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let ra=Qf;ra.curves=Rl,ra._TEMP_POINT=new Se;class PU extends jf{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,a=this.width/s,u=this.height/o;for(let d=0;d<e;d++){const p=d%this.segWidth,m=d/this.segWidth|0;r.push(p*a,m*u),n.push(p/s,m/o)}const c=s*o;for(let d=0;d<c;d++){const p=d%s,m=d/s|0,g=m*this.segWidth+p,b=m*this.segWidth+p+1,x=(m+1)*this.segWidth+p,A=(m+1)*this.segWidth+p+1;i.push(g,b,x,b,A,x)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class RU extends jf{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let a=0,u=e[0];const c=this._width*this.textureScale,d=e.length;for(let m=0;m<d;m++){const g=m*4;if(this.textureScale>0){const b=u.x-e[m].x,x=u.y-e[m].y,A=Math.sqrt(b*b+x*x);u=e[m],a+=A/c}else a=m/(d-1);s[g]=a,s[g+1]=0,s[g+2]=a,s[g+3]=1}let p=0;for(let m=0;m<d-1;m++){const g=m*2;o[p++]=g,o[p++]=g+1,o[p++]=g+2,o[p++]=g+2,o[p++]=g+1,o[p++]=g+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,a=e.length,u=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let c=0;c<a;c++){const d=e[c],p=c*4;c<e.length-1?n=e[c+1]:n=d,s=-(n.x-r.x),i=n.y-r.y;const m=Math.sqrt(i*i+s*s);m<1e-6?(i=0,s=0):(i/=m,s/=m,i*=u,s*=u),o[p]=d.x+i,o[p+1]=d.y+s,o[p+2]=d.x-i,o[p+3]=d.y-s,r=d}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class kU extends Pl{constructor(e,r,n){const i=new PU(e.width,e.height,r,n),s=new Sh(he.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Kf=10;class IU extends kU{constructor(e,r,n,i,s){var o,a,u,c;super(he.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??Kf,this._rightWidth=i??((a=e.defaultBorders)==null?void 0:a.right)??Kf,this._topHeight=n??((u=e.defaultBorders)==null?void 0:u.top)??Kf,this._bottomHeight=s??((c=e.defaultBorders)==null?void 0:c.bottom)??Kf,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class MU extends Pl{constructor(e=he.EMPTY,r,n,i,s){const o=new jf(r,n,i);o.getBuffer("aVertexPosition").static=!1;const a=new Sh(e);super(o,a,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class DU extends Pl{constructor(e,r,n=0){const i=new RU(e.height,r,n),s=new Sh(e);n>0&&(e.baseTexture.wrapMode=rs.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class OU extends pr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Ce.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Ye(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class iC{constructor(e,r,n){this.geometry=new Qs,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Te.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new Kt(aB(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];a.offset=r,r+=a.size,this.dynamicStride+=a.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new Kt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];a.offset=i,i+=a.size,this.staticStride+=a.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new Kt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const a=this.dynamicProperties[o];e.addAttribute(a.attributeName,this.dynamicBuffer,0,a.type===Te.UNSIGNED_BYTE,a.type,this.dynamicStride*4,a.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const a=this.staticProperties[o];e.addAttribute(a.attributeName,this.staticBuffer,0,a.type===Te.UNSIGNED_BYTE,a.type,this.staticStride*4,a.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===Te.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===Te.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var NU=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,LU=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class sC extends Ef{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new pt,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Te.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=wi.from(LU,NU,{}),this.state=as.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let a=e._buffers;a||(a=e._buffers=this.generateBuffers(e));const u=r[0]._texture.baseTexture,c=u.alphaMode>0;this.state.blendMode=OS(e.blendMode,c),s.state.set(this.state);const d=s.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=Ye.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,c).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=u,this.renderer.shader.bind(this.shader);let m=!1;for(let g=0,b=0;g<o;g+=i,b+=1){let x=o-g;x>i&&(x=i),b>=a.length&&a.push(this._generateOneMoreBuffer(e));const A=a[b];A.uploadDynamic(r,g,x);const T=e._bufferUpdateIDs[b]||0;m=m||A._updateID<T,m&&(A._updateID=e._updateID,A.uploadStatic(r,g,x)),s.geometry.bind(A.geometry),d.drawElements(d.TRIANGLES,x*6,d.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new iC(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new iC(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let a=0,u=0,c=0,d=0;for(let p=0;p<n;++p){const m=e[r+p],g=m._texture,b=m.scale.x,x=m.scale.y,A=g.trim,T=g.orig;A?(u=A.x-m.anchor.x*T.width,a=u+A.width,d=A.y-m.anchor.y*T.height,c=d+A.height):(a=T.width*(1-m.anchor.x),u=T.width*-m.anchor.x,c=T.height*(1-m.anchor.y),d=T.height*-m.anchor.y),i[o]=u*b,i[o+1]=d*x,i[o+s]=a*b,i[o+s+1]=d*x,i[o+s*2]=a*b,i[o+s*2+1]=c*x,i[o+s*3]=u*b,i[o+s*3+1]=c*x,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let a=0;a<n;a++){const u=e[r+a].position;i[o]=u.x,i[o+1]=u.y,i[o+s]=u.x,i[o+s+1]=u.y,i[o+s*2]=u.x,i[o+s*2+1]=u.y,i[o+s*3]=u.x,i[o+s*3+1]=u.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let a=0;a<n;a++){const u=e[r+a].rotation;i[o]=u,i[o+s]=u,i[o+s*2]=u,i[o+s*3]=u,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let a=0;a<n;++a){const u=e[r+a]._texture._uvs;u?(i[o]=u.x0,i[o+1]=u.y0,i[o+s]=u.x1,i[o+s+1]=u.y1,i[o+s*2]=u.x2,i[o+s*2+1]=u.y2,i[o+s*3]=u.x3,i[o+s*3+1]=u.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let a=0;a<n;++a){const u=e[r+a],c=Ye.shared.setValue(u._tintRGB).toPremultiplied(u.alpha,u.texture.baseTexture.alphaMode>0);i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}sC.extension={name:"particle",type:ce.RendererPlugin},we.add(sC);class Ph extends Ei{constructor(e,r=!0){super(e[0]instanceof he?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(kt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(kt.shared.add(this.update,this,Zs.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(he.from(e[n]));return new Ph(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(he.from(e[n]));return new Ph(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof he)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(kt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(kt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Rh=new Se;class z0 extends Ei{constructor(e,r=100,n=100){super(e),this.tileTransform=new bf,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new y0(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new Le),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Rh);const r=this._width,n=this._height,i=-r*this.anchor._x;if(Rh.x>=i&&Rh.x<i+r){const s=-n*this.anchor._y;if(Rh.y>=s&&Rh.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof he?e:he.from(e,r);return new z0(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var BU=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,FU=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,UU=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,oC=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,zU=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const Zf=new pt;class aC extends Ef{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new uA,this.state=as.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=wi.from(oC,zU,r),this.shader=e.context.webGLVersion>1?wi.from(FU,BU,r):wi.from(oC,UU,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const a=e._texture,u=a.baseTexture,c=u.alphaMode>0,d=e.tileTransform.localTransform,p=e.uvMatrix;let m=u.isPowerOfTwo&&a.frame.width===u.width&&a.frame.height===u.height;m&&(u._glTextures[r.CONTEXT_UID]?m=u.wrapMode!==rs.CLAMP:u.wrapMode===rs.CLAMP&&(u.wrapMode=rs.REPEAT));const g=m?this.simpleShader:this.shader,b=a.width,x=a.height,A=e._width,T=e._height;Zf.set(d.a*b/A,d.b*b/T,d.c*x/A,d.d*x/T,d.tx/A,d.ty/T),Zf.invert(),m?Zf.prepend(p.mapCoord):(g.uniforms.uMapCoord=p.mapCoord.toArray(!0),g.uniforms.uClampFrame=p.uClampFrame,g.uniforms.uClampOffset=p.uClampOffset),g.uniforms.uTransform=Zf.toArray(!0),g.uniforms.uColor=Ye.shared.setValue(e.tint).premultiply(e.worldAlpha,c).toArray(g.uniforms.uColor),g.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),g.uniforms.uSampler=a,r.shader.bind(g),r.geometry.bind(n),this.state.blendMode=OS(e.blendMode,c),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}aC.extension={name:"tilingSprite",type:ce.RendererPlugin},we.add(aC);const j0=class{constructor(t){this.stage=new pr,t=Object.assign({forceCanvas:!1},t),this.renderer=bF(t),j0._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=j0._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let kh=j0;kh._plugins=[],we.handleByList(ce.Application,kh._plugins);class lC{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}lC.extension=ce.Application,we.add(lC);var uC={exports:{}},jU="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",HU=jU,GU=HU;function hC(){}function cC(){}cC.resetWarningCache=hC;var VU=function(){function t(n,i,s,o,a,u){if(u!==GU){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:cC,resetWarningCache:hC};return r.PropTypes=r,r};uC.exports=VU();var WU=uC.exports;const ct=Ac(WU);function on(t){return on=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},on(t)}function dC(t){var e=function(r,n){if(on(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(on(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return on(e)==="symbol"?e:String(e)}function Ft(t,e,r){return(e=dC(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function H0(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function cs(t){return function(e){if(Array.isArray(e))return H0(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return H0(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?H0(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function It(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var XU=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function $U(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var YU=function(t){return t==null};function Ih(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=cs(t);else{if(t===null||on(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!YU(r)&&!isNaN(r)}).map(Number)}function fC(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function G0(t){return t instanceof Se||t instanceof ls}var Jf=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function V0(t,e,r){if(G0(t[e])&&G0(r))t[e].copyFrom(r);else if(G0(t[e])){var n=Ih(r);It(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),on(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Il,pC=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},mC=function(t){return function(){return!t.apply(void 0,arguments)}},W0="children",qU=(Ft(Il={},W0,!0),Ft(Il,"parent",!0),Ft(Il,"worldAlpha",!0),Ft(Il,"worldTransform",!0),Ft(Il,"worldVisible",!0),Il),X0={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},Si=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(a){return requestAnimationFrame(function(){var u,c;a==null||(u=a.__reactpixi)===null||u===void 0||(c=u.root)===null||c===void 0||c.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(a,u){if(r.hasOwnProperty(a))return It(u.typeofs.some(function(c){return on(r[a])===c})||u.instanceofs.some(function(c){return r[a]instanceof c}),"".concat(t," ").concat(a," prop is invalid")),r[a]};if(r.texture)return It(r.texture instanceof he,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,he]});It(!!s,"".concat(t," could not get texture from props"));var o=he.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},QU=mC(pC([].concat(cs(Object.keys(qU)),cs(Jf))));function Ai(t,e,r){var n=!1;if(It(mt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",on(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<Jf.length;o++){var a=Jf[o];e[a]!==r[a]&&(n=!0,typeof e[a]=="function"&&i&&t.removeListener(a,e[a]),typeof r[a]=="function"&&s&&t.on(a,r[a]))}var u=Object.keys(r||{});if(r.overwriteProps){for(var c=0;c<u.length;c++){var d=u[c];e[d]!==r[d]&&(n=!0,V0(t,d,r[d]))}return n}for(var p=u.filter(QU),m=0;m<p.length;m++){var g=p[m],b=r[g];r[g]!==e[g]&&(n=!0),b!==void 0?V0(t,g,b):g in X0?(console.warn("setting default value: ".concat(g,", from: ").concat(t[g]," to: ").concat(b," for"),t),n=!0,V0(t,g,X0[g])):console.warn("ignoring prop: ".concat(g,", from ").concat(t[g]," to ").concat(b," for"),t)}return n}var KU=function(t,e){var r=e.text,n=e.style;return new VA(r,n)},ZU=function(){return new pr};function Js(t,e){if(t==null)return{};var r,n,i=function(o,a){if(o==null)return{};var u,c,d={},p=Object.keys(o);for(c=0;c<p.length;c++)u=p[c],a.indexOf(u)>=0||(d[u]=o[u]);return d}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var JU=["draw","geometry"],e4=function(t,e){var r=e.geometry;It(!r||r instanceof ra,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new ra(r.geometry):new ra;return n.applyProps=function(i,s,o){var a=o.draw;o.geometry;var u=Ai(i,s,Js(o,JU));return s.draw!==a&&typeof a=="function"&&(u=!0,a.call(n,n)),u},n},t4=["image","texture"],r4=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,a=o===void 0?10:o,u=e.bottomHeight,c=u===void 0?10:u,d=Si("NineSlicePlane",t,e),p=new IU(d,n,s,a,c);return p.applyProps=function(m,g,b){var x=b.image,A=b.texture,T=Ai(m,g,Js(b,t4));return(x||A)&&(A!==g.texture&&(T=!0),m.texture=Si("NineSlicePlane",t,b)),T},p};function gC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ep(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gC(Object(r),!0).forEach(function(n){Ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var n4=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,a=o!==void 0&&o,u=ep(ep({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),c=ep(ep({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),d=new OU(n,u,s,a);return d.willUnmount=function(p,m,g){p.destroy(c)},d},i4=["image","texture"],s4=function(t,e){var r=new Ei(Si("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,a=s.texture,u=Ai(n,i,Js(s,i4));return(a&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(u=!0),n.texture=Si("Sprite",t,s)),u},r},o4=["textures","isPlaying","initialFrame"],a4=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,a=function(c){return c.map(function(d){return It(d instanceof he||(d==null?void 0:d.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),d})},u=n?Ph.fromImages(n):new Ph(a(r));return u[s?"gotoAndPlay":"gotoAndStop"](o||0),u.applyProps=function(c,d,p){var m=p.textures,g=p.isPlaying,b=p.initialFrame,x=Ai(c,d,Js(p,o4));if(m&&d.textures!==m&&(c.textures=a(m),x=!0),g!==d.isPlaying||b!==d.initialFrame){var A=typeof b=="number"?b:u.currentFrame||0;u[g?"gotoAndPlay":"gotoAndStop"](A),x=!0}return x},u},l4=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,a=new Bf(n,s);return o?(a.updateText(),new Ei(a.texture)):a},u4=["tileScale","tilePosition","image","texture"],h4=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=Si("TilingSprite",t,e),a=new z0(o,n,s);return a.applyProps=function(u,c,d){var p=d.tileScale,m=d.tilePosition,g=d.image,b=d.texture,x=Ai(u,c,Js(d,u4));if(m){var A,T=Ih(m);(A=u.tilePosition).set.apply(A,cs(T)),x=!fC(Ih(c.tilePosition),T)||x}if(p){var _,w=Ih(p);(_=u.tileScale).set.apply(_,cs(w)),x=!fC(Ih(c.tileScale),w)||x}return(g||b)&&(b!==c.texture&&(x=!0),u.texture=Si("Sprite",t,d)),x},a},c4=["image","texture"],d4=function(t,e){var r=Si("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,a=o===void 0?Hn.TRIANGLES:o,u=new MU(r,n,i,s,a);return u.applyProps=function(c,d,p){var m=p.image,g=p.texture,b=Ai(c,d,Js(p,c4));return(m||g)&&(g!==d.texture&&(b=!0),c.texture=Si("Mesh",t,p)),b},u},f4=["image","texture"],p4=function(t,e){var r=Si("SimpleRope",t,e),n=e.points,i=new DU(r,n);return i.applyProps=function(s,o,a){var u=a.image,c=a.texture,d=Js(a,f4);It(Array.isArray(a.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var p=Ai(s,o,d);return(u||c)&&(c!==o.texture&&(p=!0),s.texture=Si("SimpleRope",t,a)),p},i},m4=Object.freeze({__proto__:null,BitmapText:KU,Container:ZU,Graphics:e4,NineSlicePlane:r4,ParticleContainer:n4,Sprite:s4,Text:l4,TilingSprite:h4,SimpleMesh:d4,SimpleRope:p4,AnimatedSprite:a4});function yC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vC(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yC(Object(r),!0).forEach(function(n){Ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Gr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},g4=Object.keys(Gr).reduce(function(t,e){return vC(vC({},t),{},Ft({},e,m4[e]))},{}),bC={};function y4(t,e){return It(!!t,"Expect type to be defined, got `%s`",t),It(!Gr[t],"Component `%s` could not be created, already exists in default components.",t),bC[t]=e,t}var _C,xC,wC,EC,$0={},Y0={},v4={get exports(){return Y0},set exports(t){Y0=t}},TC={};function b4(){return xC||(xC=1,v4.exports=(_C||(_C=1,function(t){function e(N,W){var M=N.length;N.push(W);e:for(;0<M;){var Y=M-1>>>1,oe=N[Y];if(!(0<i(oe,W)))break e;N[Y]=W,N[M]=oe,M=Y}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var W=N[0],M=N.pop();if(M!==W){N[0]=M;e:for(var Y=0,oe=N.length,Me=oe>>>1;Y<Me;){var fe=2*(Y+1)-1,Ue=N[fe],ke=fe+1,Ve=N[ke];if(0>i(Ue,M))ke<oe&&0>i(Ve,Ue)?(N[Y]=Ve,N[ke]=M,Y=ke):(N[Y]=Ue,N[fe]=M,Y=fe);else{if(!(ke<oe&&0>i(Ve,M)))break e;N[Y]=Ve,N[ke]=M,Y=ke}}}return W}function i(N,W){var M=N.sortIndex-W.sortIndex;return M!==0?M:N.id-W.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var u=[],c=[],d=1,p=null,m=3,g=!1,b=!1,x=!1,A=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,_=typeof setImmediate<"u"?setImmediate:null;function w(N){for(var W=r(c);W!==null;){if(W.callback===null)n(c);else{if(!(W.startTime<=N))break;n(c),W.sortIndex=W.expirationTime,e(u,W)}W=r(c)}}function S(N){if(x=!1,w(N),!b)if(r(u)!==null)b=!0,de(P);else{var W=r(c);W!==null&&ne(S,W.startTime-N)}}function P(N,W){b=!1,x&&(x=!1,T(F),F=-1),g=!0;var M=m;try{for(w(W),p=r(u);p!==null&&(!(p.expirationTime>W)||N&&!$());){var Y=p.callback;if(typeof Y=="function"){p.callback=null,m=p.priorityLevel;var oe=Y(p.expirationTime<=W);W=t.unstable_now(),typeof oe=="function"?p.callback=oe:p===r(u)&&n(u),w(W)}else n(u);p=r(u)}if(p!==null)var Me=!0;else{var fe=r(c);fe!==null&&ne(S,fe.startTime-W),Me=!1}return Me}finally{p=null,m=M,g=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var D,k=!1,R=null,F=-1,X=5,K=-1;function $(){return!(t.unstable_now()-K<X)}function U(){if(R!==null){var N=t.unstable_now();K=N;var W=!0;try{W=R(!0,N)}finally{W?D():(k=!1,R=null)}}else k=!1}if(typeof _=="function")D=function(){_(U)};else if(typeof MessageChannel<"u"){var j=new MessageChannel,ae=j.port2;j.port1.onmessage=U,D=function(){ae.postMessage(null)}}else D=function(){A(U,0)};function de(N){R=N,k||(k=!0,D())}function ne(N,W){F=A(function(){N(t.unstable_now())},W)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){b||g||(b=!0,de(P))},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):X=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(N){switch(m){case 1:case 2:case 3:var W=3;break;default:W=m}var M=m;m=W;try{return N()}finally{m=M}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,W){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var M=m;m=N;try{return W()}finally{m=M}},t.unstable_scheduleCallback=function(N,W,M){var Y=t.unstable_now();switch(M=typeof M=="object"&&M!==null&&typeof(M=M.delay)=="number"&&0<M?Y+M:Y,N){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return N={id:d++,callback:W,priorityLevel:N,startTime:M,expirationTime:oe=M+oe,sortIndex:-1},M>Y?(N.sortIndex=M,e(c,N),r(u)===null&&N===r(c)&&(x?(T(F),F=-1):x=!0,ne(S,M-Y))):(N.sortIndex=oe,e(u,N),b||g||(b=!0,de(P))),N},t.unstable_shouldYield=$,t.unstable_wrapCallback=function(N){var W=m;return function(){var M=m;m=W;try{return N.apply(this,arguments)}finally{m=M}}}}(TC)),TC)),Y0}function _4(){return EC||(EC=1,wC=function(t){var e={},r=Kr,n=b4(),i=Object.assign;function s(l){for(var h="https://reactjs.org/docs/error-decoder.html?invariant="+l,f=1;f<arguments.length;f++)h+="&args[]="+encodeURIComponent(arguments[f]);return"Minified React error #"+l+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,a=Symbol.for("react.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),g=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),w=Symbol.for("react.offscreen"),S=Symbol.iterator;function P(l){return l===null||typeof l!="object"?null:typeof(l=S&&l[S]||l["@@iterator"])=="function"?l:null}function D(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case c:return"Fragment";case u:return"Portal";case p:return"Profiler";case d:return"StrictMode";case x:return"Suspense";case A:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case g:return(l.displayName||"Context")+".Consumer";case m:return(l._context.displayName||"Context")+".Provider";case b:var h=l.render;return(l=l.displayName)||(l=(l=h.displayName||h.name||"")!==""?"ForwardRef("+l+")":"ForwardRef"),l;case T:return(h=l.displayName||null)!==null?h:D(l.type)||"Memo";case _:h=l._payload,l=l._init;try{return D(l(h))}catch{}}return null}function k(l){var h=l.type;switch(l.tag){case 24:return"Cache";case 9:return(h.displayName||"Context")+".Consumer";case 10:return(h._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=(l=h.render).displayName||l.name||"",h.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return h;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return D(h);case 8:return h===d?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof h=="function")return h.displayName||h.name||null;if(typeof h=="string")return h}return null}function R(l){var h=l,f=l;if(l.alternate)for(;h.return;)h=h.return;else{l=h;do 4098&(h=l).flags&&(f=h.return),l=h.return;while(l)}return h.tag===3?f:null}function F(l){if(R(l)!==l)throw Error(s(188))}function X(l){var h=l.alternate;if(!h){if((h=R(l))===null)throw Error(s(188));return h!==l?null:l}for(var f=l,y=h;;){var v=f.return;if(v===null)break;var E=v.alternate;if(E===null){if((y=v.return)!==null){f=y;continue}break}if(v.child===E.child){for(E=v.child;E;){if(E===f)return F(v),l;if(E===y)return F(v),h;E=E.sibling}throw Error(s(188))}if(f.return!==y.return)f=v,y=E;else{for(var C=!1,I=v.child;I;){if(I===f){C=!0,f=v,y=E;break}if(I===y){C=!0,y=v,f=E;break}I=I.sibling}if(!C){for(I=E.child;I;){if(I===f){C=!0,f=E,y=v;break}if(I===y){C=!0,y=E,f=v;break}I=I.sibling}if(!C)throw Error(s(189))}}if(f.alternate!==y)throw Error(s(190))}if(f.tag!==3)throw Error(s(188));return f.stateNode.current===f?l:h}function K(l){return(l=X(l))!==null?$(l):null}function $(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var h=$(l);if(h!==null)return h;l=l.sibling}return null}function U(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){if(l.tag!==4){var h=U(l);if(h!==null)return h}l=l.sibling}return null}var j,ae=Array.isArray,de=t.getPublicInstance,ne=t.getRootHostContext,N=t.getChildHostContext,W=t.prepareForCommit,M=t.resetAfterCommit,Y=t.createInstance,oe=t.appendInitialChild,Me=t.finalizeInitialChildren,fe=t.prepareUpdate,Ue=t.shouldSetTextContent,ke=t.createTextInstance,Ve=t.scheduleTimeout,rt=t.cancelTimeout,At=t.noTimeout,nt=t.isPrimaryRenderer,Re=t.supportsMutation,Ze=t.supportsPersistence,je=t.supportsHydration,Wr=t.getInstanceFromNode,ir=t.preparePortalMount,Ri=t.getCurrentEventPriority,fa=t.detachDeletedInstance,ni=t.supportsMicrotasks,tc=t.scheduleMicrotask,Xr=t.supportsTestSelectors,Wp=t.findFiberRoot,Xp=t.getBoundingRect,$p=t.getTextContent,pa=t.isHiddenSubtree,Yp=t.matchAccessibilityRole,Xl=t.setFocusIfFocusable,qp=t.setupIntersectionObserver,rc=t.appendChild,n1=t.appendChildToContainer,Qp=t.commitTextUpdate,i1=t.commitMount,Kp=t.commitUpdate,s1=t.insertBefore,B=t.insertInContainerBefore,z=t.removeChild,ee=t.removeChildFromContainer,ge=t.resetTextContent,Oe=t.hideInstance,Ie=t.hideTextInstance,De=t.unhideInstance,Ae=t.unhideTextInstance,xe=t.clearContainer,ot=t.cloneInstance,Xt=t.createContainerChildSet,Ke=t.appendChildToContainerChildSet,Ct=t.finalizeContainerChildren,Ot=t.replaceContainerChildren,ki=t.cloneHiddenInstance,Ii=t.cloneHiddenTextInstance,ma=t.canHydrateInstance,nc=t.canHydrateTextInstance,ii=t.canHydrateSuspenseInstance,Sn=t.isSuspenseInstancePending,ho=t.isSuspenseInstanceFallback,ic=t.getSuspenseInstanceFallbackErrorDetails,sc=t.registerSuspenseInstanceRetry,co=t.getNextHydratableSibling,Je=t.getFirstHydratableChild,un=t.getFirstHydratableChildWithinContainer,Mi=t.getFirstHydratableChildWithinSuspenseInstance,oc=t.hydrateInstance,Ut=t.hydrateTextInstance,ga=t.hydrateSuspenseInstance,Zp=t.getNextHydratableInstanceAfterSuspenseInstance,o1=t.commitHydratedContainer,OV=t.commitHydratedSuspenseInstance,NV=t.clearSuspenseBoundary,LV=t.clearSuspenseBoundaryFromContainer,BV=t.shouldDeleteUnhydratedTailInstances,FV=t.didNotMatchHydratedContainerTextInstance,UV=t.didNotMatchHydratedTextInstance;function ac(l){if(j===void 0)try{throw Error()}catch(f){var h=f.stack.trim().match(/\n( *(at )?)/);j=h&&h[1]||""}return`
`+j+l}var a1=!1;function l1(l,h){if(!l||a1)return"";a1=!0;var f=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(h)if(h=function(){throw Error()},Object.defineProperty(h.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(h,[])}catch(V){var y=V}Reflect.construct(l,[],h)}else{try{h.call()}catch(V){y=V}l.call(h.prototype)}else{try{throw Error()}catch(V){y=V}l()}}catch(V){if(V&&y&&typeof V.stack=="string"){for(var v=V.stack.split(`
`),E=y.stack.split(`
`),C=v.length-1,I=E.length-1;1<=C&&0<=I&&v[C]!==E[I];)I--;for(;1<=C&&0<=I;C--,I--)if(v[C]!==E[I]){if(C!==1||I!==1)do if(C--,0>--I||v[C]!==E[I]){var L=`
`+v[C].replace(" at new "," at ");return l.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",l.displayName)),L}while(1<=C&&0<=I);break}}}finally{a1=!1,Error.prepareStackTrace=f}return(l=l?l.displayName||l.name:"")?ac(l):""}var zV=Object.prototype.hasOwnProperty,u1=[],$l=-1;function fo(l){return{current:l}}function gt(l){0>$l||(l.current=u1[$l],u1[$l]=null,$l--)}function lt(l,h){$l++,u1[$l]=l.current,l.current=h}var po={},Ar=fo(po),$r=fo(!1),ya=po;function Yl(l,h){var f=l.type.contextTypes;if(!f)return po;var y=l.stateNode;if(y&&y.__reactInternalMemoizedUnmaskedChildContext===h)return y.__reactInternalMemoizedMaskedChildContext;var v,E={};for(v in f)E[v]=h[v];return y&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=h,l.__reactInternalMemoizedMaskedChildContext=E),E}function hn(l){return(l=l.childContextTypes)!=null}function h1(){gt($r),gt(Ar)}function FR(l,h,f){if(Ar.current!==po)throw Error(s(168));lt(Ar,h),lt($r,f)}function UR(l,h,f){var y=l.stateNode;if(h=h.childContextTypes,typeof y.getChildContext!="function")return f;for(var v in y=y.getChildContext())if(!(v in h))throw Error(s(108,k(l)||"Unknown",v));return i({},f,y)}function Jp(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||po,ya=Ar.current,lt(Ar,l),lt($r,$r.current),!0}function zR(l,h,f){var y=l.stateNode;if(!y)throw Error(s(169));f?(l=UR(l,h,ya),y.__reactInternalMemoizedMergedChildContext=l,gt($r),gt(Ar),lt(Ar,l)):gt($r),lt($r,f)}var si=Math.clz32?Math.clz32:function(l){return(l>>>=0)===0?32:31-(jV(l)/HV|0)|0},jV=Math.log,HV=Math.LN2,c1=64,d1=4194304;function lc(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&l;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&l;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function em(l,h){var f=l.pendingLanes;if(f===0)return 0;var y=0,v=l.suspendedLanes,E=l.pingedLanes,C=268435455&f;if(C!==0){var I=C&~v;I!==0?y=lc(I):(E&=C)!==0&&(y=lc(E))}else(C=f&~v)!==0?y=lc(C):E!==0&&(y=lc(E));if(y===0)return 0;if(h!==0&&h!==y&&!(h&v)&&((v=y&-y)>=(E=h&-h)||v===16&&4194240&E))return h;if(4&y&&(y|=16&f),(h=l.entangledLanes)!==0)for(l=l.entanglements,h&=y;0<h;)v=1<<(f=31-si(h)),y|=l[f],h&=~v;return y}function GV(l,h){switch(l){case 1:case 2:case 4:return h+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;default:return-1}}function f1(l){return(l=-1073741825&l.pendingLanes)!==0?l:1073741824&l?1073741824:0}function jR(){var l=c1;return!(4194240&(c1<<=1))&&(c1=64),l}function p1(l){for(var h=[],f=0;31>f;f++)h.push(l);return h}function uc(l,h,f){l.pendingLanes|=h,h!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),(l=l.eventTimes)[h=31-si(h)]=f}function m1(l,h){var f=l.entangledLanes|=h;for(l=l.entanglements;f;){var y=31-si(f),v=1<<y;v&h|l[y]&h&&(l[y]|=h),f&=~v}}var qe=0;function HR(l){return 1<(l&=-l)?4<l?268435455&l?16:536870912:4:1}var g1=n.unstable_scheduleCallback,GR=n.unstable_cancelCallback,VV=n.unstable_shouldYield,WV=n.unstable_requestPaint,sr=n.unstable_now,y1=n.unstable_ImmediatePriority,XV=n.unstable_UserBlockingPriority,VR=n.unstable_NormalPriority,$V=n.unstable_IdlePriority,tm=null,Di=null,oi=typeof Object.is=="function"?Object.is:function(l,h){return l===h&&(l!==0||1/l==1/h)||l!=l&&h!=h},bs=null,rm=!1,v1=!1;function WR(l){bs===null?bs=[l]:bs.push(l)}function Oi(){if(!v1&&bs!==null){v1=!0;var l=0,h=qe;try{var f=bs;for(qe=1;l<f.length;l++){var y=f[l];do y=y(!0);while(y!==null)}bs=null,rm=!1}catch(v){throw bs!==null&&(bs=bs.slice(l+1)),g1(y1,Oi),v}finally{qe=h,v1=!1}}return null}var ql=[],Ql=0,nm=null,im=0,An=[],Cn=0,va=null,Ni=1,_s="";function ba(l,h){ql[Ql++]=im,ql[Ql++]=nm,nm=l,im=h}function XR(l,h,f){An[Cn++]=Ni,An[Cn++]=_s,An[Cn++]=va,va=l;var y=Ni;l=_s;var v=32-si(y)-1;y&=~(1<<v),f+=1;var E=32-si(h)+v;if(30<E){var C=v-v%5;E=(y&(1<<C)-1).toString(32),y>>=C,v-=C,Ni=1<<32-si(h)+v|f<<v|y,_s=E+l}else Ni=1<<E|f<<v|y,_s=l}function b1(l){l.return!==null&&(ba(l,1),XR(l,1,0))}function _1(l){for(;l===nm;)nm=ql[--Ql],ql[Ql]=null,im=ql[--Ql],ql[Ql]=null;for(;l===va;)va=An[--Cn],An[Cn]=null,_s=An[--Cn],An[Cn]=null,Ni=An[--Cn],An[Cn]=null}var cn=null,Pn=null,yt=!1,hc=!1,ai=null;function $R(l,h){var f=Dn(5,null,null,0);f.elementType="DELETED",f.stateNode=h,f.return=l,(h=l.deletions)===null?(l.deletions=[f],l.flags|=16):h.push(f)}function YR(l,h){switch(l.tag){case 5:return(h=ma(h,l.type,l.pendingProps))!==null&&(l.stateNode=h,cn=l,Pn=Je(h),!0);case 6:return(h=nc(h,l.pendingProps))!==null&&(l.stateNode=h,cn=l,Pn=null,!0);case 13:if((h=ii(h))!==null){var f=va!==null?{id:Ni,overflow:_s}:null;return l.memoizedState={dehydrated:h,treeContext:f,retryLane:1073741824},(f=Dn(18,null,null,0)).stateNode=h,f.return=l,l.child=f,cn=l,Pn=null,!0}return!1;default:return!1}}function x1(l){return(1&l.mode)!=0&&(128&l.flags)==0}function w1(l){if(yt){var h=Pn;if(h){var f=h;if(!YR(l,h)){if(x1(l))throw Error(s(418));h=co(f);var y=cn;h&&YR(l,h)?$R(y,f):(l.flags=-4097&l.flags|2,yt=!1,cn=l)}}else{if(x1(l))throw Error(s(418));l.flags=-4097&l.flags|2,yt=!1,cn=l}}}function qR(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;cn=l}function sm(l){if(!je||l!==cn)return!1;if(!yt)return qR(l),yt=!0,!1;if(l.tag!==3&&(l.tag!==5||BV(l.type)&&!Ue(l.type,l.memoizedProps))){var h=Pn;if(h){if(x1(l))throw QR(),Error(s(418));for(;h;)$R(l,h),h=co(h)}}if(qR(l),l.tag===13){if(!je)throw Error(s(316));if(!(l=(l=l.memoizedState)!==null?l.dehydrated:null))throw Error(s(317));Pn=Zp(l)}else Pn=cn?co(l.stateNode):null;return!0}function QR(){for(var l=Pn;l;)l=co(l)}function Kl(){je&&(Pn=cn=null,hc=yt=!1)}function E1(l){ai===null?ai=[l]:ai.push(l)}var YV=o.ReactCurrentBatchConfig;function om(l,h){if(oi(l,h))return!0;if(typeof l!="object"||l===null||typeof h!="object"||h===null)return!1;var f=Object.keys(l),y=Object.keys(h);if(f.length!==y.length)return!1;for(y=0;y<f.length;y++){var v=f[y];if(!zV.call(h,v)||!oi(l[v],h[v]))return!1}return!0}function qV(l){switch(l.tag){case 5:return ac(l.type);case 16:return ac("Lazy");case 13:return ac("Suspense");case 19:return ac("SuspenseList");case 0:case 2:case 15:return l=l1(l.type,!1);case 11:return l=l1(l.type.render,!1);case 1:return l=l1(l.type,!0);default:return""}}function li(l,h){if(l&&l.defaultProps){for(var f in h=i({},h),l=l.defaultProps)h[f]===void 0&&(h[f]=l[f]);return h}return h}var am=fo(null),lm=null,Zl=null,T1=null;function S1(){T1=Zl=lm=null}function KR(l,h,f){nt?(lt(am,h._currentValue),h._currentValue=f):(lt(am,h._currentValue2),h._currentValue2=f)}function A1(l){var h=am.current;gt(am),nt?l._currentValue=h:l._currentValue2=h}function C1(l,h,f){for(;l!==null;){var y=l.alternate;if((l.childLanes&h)!==h?(l.childLanes|=h,y!==null&&(y.childLanes|=h)):y!==null&&(y.childLanes&h)!==h&&(y.childLanes|=h),l===f)break;l=l.return}}function Jl(l,h){lm=l,T1=Zl=null,(l=l.dependencies)!==null&&l.firstContext!==null&&(l.lanes&h&&(Yr=!0),l.firstContext=null)}function Rn(l){var h=nt?l._currentValue:l._currentValue2;if(T1!==l)if(l={context:l,memoizedValue:h,next:null},Zl===null){if(lm===null)throw Error(s(308));Zl=l,lm.dependencies={lanes:0,firstContext:l}}else Zl=Zl.next=l;return h}var _a=null;function P1(l){_a===null?_a=[l]:_a.push(l)}function ZR(l,h,f,y){var v=h.interleaved;return v===null?(f.next=f,P1(h)):(f.next=v.next,v.next=f),h.interleaved=f,Li(l,y)}function Li(l,h){l.lanes|=h;var f=l.alternate;for(f!==null&&(f.lanes|=h),f=l,l=l.return;l!==null;)l.childLanes|=h,(f=l.alternate)!==null&&(f.childLanes|=h),f=l,l=l.return;return f.tag===3?f.stateNode:null}var mo=!1;function R1(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function JR(l,h){l=l.updateQueue,h.updateQueue===l&&(h.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function xs(l,h){return{eventTime:l,lane:h,tag:0,payload:null,callback:null,next:null}}function go(l,h,f){var y=l.updateQueue;if(y===null)return null;if(y=y.shared,(2&Xe)!=0){var v=y.pending;return v===null?h.next=h:(h.next=v.next,v.next=h),y.pending=h,Li(l,f)}return(v=y.interleaved)===null?(h.next=h,P1(y)):(h.next=v.next,v.next=h),y.interleaved=h,Li(l,f)}function um(l,h,f){if((h=h.updateQueue)!==null&&(h=h.shared,(4194240&f)!=0)){var y=h.lanes;f|=y&=l.pendingLanes,h.lanes=f,m1(l,f)}}function ek(l,h){var f=l.updateQueue,y=l.alternate;if(y!==null&&f===(y=y.updateQueue)){var v=null,E=null;if((f=f.firstBaseUpdate)!==null){do{var C={eventTime:f.eventTime,lane:f.lane,tag:f.tag,payload:f.payload,callback:f.callback,next:null};E===null?v=E=C:E=E.next=C,f=f.next}while(f!==null);E===null?v=E=h:E=E.next=h}else v=E=h;return f={baseState:y.baseState,firstBaseUpdate:v,lastBaseUpdate:E,shared:y.shared,effects:y.effects},void(l.updateQueue=f)}(l=f.lastBaseUpdate)===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=h}function hm(l,h,f,y){var v=l.updateQueue;mo=!1;var E=v.firstBaseUpdate,C=v.lastBaseUpdate,I=v.shared.pending;if(I!==null){v.shared.pending=null;var L=I,V=L.next;L.next=null,C===null?E=V:C.next=V,C=L;var Z=l.alternate;Z!==null&&(I=(Z=Z.updateQueue).lastBaseUpdate)!==C&&(I===null?Z.firstBaseUpdate=V:I.next=V,Z.lastBaseUpdate=L)}if(E!==null){var le=v.baseState;for(C=0,Z=V=L=null,I=E;;){var Q=I.lane,ie=I.eventTime;if((y&Q)===Q){Z!==null&&(Z=Z.next={eventTime:ie,lane:0,tag:I.tag,payload:I.payload,callback:I.callback,next:null});e:{var be=l,Be=I;switch(Q=h,ie=f,Be.tag){case 1:if(typeof(be=Be.payload)=="function"){le=be.call(ie,le,Q);break e}le=be;break e;case 3:be.flags=-65537&be.flags|128;case 0:if((Q=typeof(be=Be.payload)=="function"?be.call(ie,le,Q):be)==null)break e;le=i({},le,Q);break e;case 2:mo=!0}}I.callback!==null&&I.lane!==0&&(l.flags|=64,(Q=v.effects)===null?v.effects=[I]:Q.push(I))}else ie={eventTime:ie,lane:Q,tag:I.tag,payload:I.payload,callback:I.callback,next:null},Z===null?(V=Z=ie,L=le):Z=Z.next=ie,C|=Q;if((I=I.next)===null){if((I=v.shared.pending)===null)break;I=(Q=I).next,Q.next=null,v.lastBaseUpdate=Q,v.shared.pending=null}}if(Z===null&&(L=le),v.baseState=L,v.firstBaseUpdate=V,v.lastBaseUpdate=Z,(h=v.shared.interleaved)!==null){v=h;do C|=v.lane,v=v.next;while(v!==h)}else E===null&&(v.shared.lanes=0);wa|=C,l.lanes=C,l.memoizedState=le}}function tk(l,h,f){if(l=h.effects,h.effects=null,l!==null)for(h=0;h<l.length;h++){var y=l[h],v=y.callback;if(v!==null){if(y.callback=null,y=f,typeof v!="function")throw Error(s(191,v));v.call(y)}}}var rk=new r.Component().refs;function k1(l,h,f,y){f=(f=f(y,h=l.memoizedState))==null?h:i({},h,f),l.memoizedState=f,l.lanes===0&&(l.updateQueue.baseState=f)}var cm={isMounted:function(l){return!!(l=l._reactInternals)&&R(l)===l},enqueueSetState:function(l,h,f){l=l._reactInternals;var y=Rr(),v=_o(l),E=xs(y,v);E.payload=h,f!=null&&(E.callback=f),(h=go(l,E,v))!==null&&(Mn(h,l,v,y),um(h,l,v))},enqueueReplaceState:function(l,h,f){l=l._reactInternals;var y=Rr(),v=_o(l),E=xs(y,v);E.tag=1,E.payload=h,f!=null&&(E.callback=f),(h=go(l,E,v))!==null&&(Mn(h,l,v,y),um(h,l,v))},enqueueForceUpdate:function(l,h){l=l._reactInternals;var f=Rr(),y=_o(l),v=xs(f,y);v.tag=2,h!=null&&(v.callback=h),(h=go(l,v,y))!==null&&(Mn(h,l,y,f),um(h,l,y))}};function nk(l,h,f,y,v,E,C){return typeof(l=l.stateNode).shouldComponentUpdate=="function"?l.shouldComponentUpdate(y,E,C):!h.prototype||!h.prototype.isPureReactComponent||!om(f,y)||!om(v,E)}function ik(l,h,f){var y=!1,v=po,E=h.contextType;return typeof E=="object"&&E!==null?E=Rn(E):(v=hn(h)?ya:Ar.current,E=(y=(y=h.contextTypes)!=null)?Yl(l,v):po),h=new h(f,E),l.memoizedState=h.state!==null&&h.state!==void 0?h.state:null,h.updater=cm,l.stateNode=h,h._reactInternals=l,y&&((l=l.stateNode).__reactInternalMemoizedUnmaskedChildContext=v,l.__reactInternalMemoizedMaskedChildContext=E),h}function sk(l,h,f,y){l=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(f,y),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(f,y),h.state!==l&&cm.enqueueReplaceState(h,h.state,null)}function I1(l,h,f,y){var v=l.stateNode;v.props=f,v.state=l.memoizedState,v.refs=rk,R1(l);var E=h.contextType;typeof E=="object"&&E!==null?v.context=Rn(E):(E=hn(h)?ya:Ar.current,v.context=Yl(l,E)),v.state=l.memoizedState,typeof(E=h.getDerivedStateFromProps)=="function"&&(k1(l,h,E,f),v.state=l.memoizedState),typeof h.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(h=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),h!==v.state&&cm.enqueueReplaceState(v,v.state,null),hm(l,f,v,y),v.state=l.memoizedState),typeof v.componentDidMount=="function"&&(l.flags|=4194308)}function cc(l,h,f){if((l=f.ref)!==null&&typeof l!="function"&&typeof l!="object"){if(f._owner){if(f=f._owner){if(f.tag!==1)throw Error(s(309));var y=f.stateNode}if(!y)throw Error(s(147,l));var v=y,E=""+l;return h!==null&&h.ref!==null&&typeof h.ref=="function"&&h.ref._stringRef===E?h.ref:(h=function(C){var I=v.refs;I===rk&&(I=v.refs={}),C===null?delete I[E]:I[E]=C},h._stringRef=E,h)}if(typeof l!="string")throw Error(s(284));if(!f._owner)throw Error(s(290,l))}return l}function dm(l,h){throw l=Object.prototype.toString.call(h),Error(s(31,l==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":l))}function ok(l){return(0,l._init)(l._payload)}function ak(l){function h(J,O){if(l){var G=J.deletions;G===null?(J.deletions=[O],J.flags|=16):G.push(O)}}function f(J,O){if(!l)return null;for(;O!==null;)h(J,O),O=O.sibling;return null}function y(J,O){for(J=new Map;O!==null;)O.key!==null?J.set(O.key,O):J.set(O.index,O),O=O.sibling;return J}function v(J,O){return(J=wo(J,O)).index=0,J.sibling=null,J}function E(J,O,G){return J.index=G,l?(G=J.alternate)!==null?(G=G.index)<O?(J.flags|=2,O):G:(J.flags|=2,O):(J.flags|=1048576,O)}function C(J){return l&&J.alternate===null&&(J.flags|=2),J}function I(J,O,G,te){return O===null||O.tag!==6?((O=y_(G,J.mode,te)).return=J,O):((O=v(O,G)).return=J,O)}function L(J,O,G,te){var Ee=G.type;return Ee===c?Z(J,O,G.props.children,te,G.key):O!==null&&(O.elementType===Ee||typeof Ee=="object"&&Ee!==null&&Ee.$$typeof===_&&ok(Ee)===O.type)?((te=v(O,G.props)).ref=cc(J,O,G),te.return=J,te):((te=Fm(G.type,G.key,G.props,null,J.mode,te)).ref=cc(J,O,G),te.return=J,te)}function V(J,O,G,te){return O===null||O.tag!==4||O.stateNode.containerInfo!==G.containerInfo||O.stateNode.implementation!==G.implementation?((O=v_(G,J.mode,te)).return=J,O):((O=v(O,G.children||[])).return=J,O)}function Z(J,O,G,te,Ee){return O===null||O.tag!==7?((O=Sa(G,J.mode,te,Ee)).return=J,O):((O=v(O,G)).return=J,O)}function le(J,O,G){if(typeof O=="string"&&O!==""||typeof O=="number")return(O=y_(""+O,J.mode,G)).return=J,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case a:return(G=Fm(O.type,O.key,O.props,null,J.mode,G)).ref=cc(J,null,O),G.return=J,G;case u:return(O=v_(O,J.mode,G)).return=J,O;case _:return le(J,(0,O._init)(O._payload),G)}if(ae(O)||P(O))return(O=Sa(O,J.mode,G,null)).return=J,O;dm(J,O)}return null}function Q(J,O,G,te){var Ee=O!==null?O.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return Ee!==null?null:I(J,O,""+G,te);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case a:return G.key===Ee?L(J,O,G,te):null;case u:return G.key===Ee?V(J,O,G,te):null;case _:return Q(J,O,(Ee=G._init)(G._payload),te)}if(ae(G)||P(G))return Ee!==null?null:Z(J,O,G,te,null);dm(J,G)}return null}function ie(J,O,G,te,Ee){if(typeof te=="string"&&te!==""||typeof te=="number")return I(O,J=J.get(G)||null,""+te,Ee);if(typeof te=="object"&&te!==null){switch(te.$$typeof){case a:return L(O,J=J.get(te.key===null?G:te.key)||null,te,Ee);case u:return V(O,J=J.get(te.key===null?G:te.key)||null,te,Ee);case _:return ie(J,O,G,(0,te._init)(te._payload),Ee)}if(ae(te)||P(te))return Z(O,J=J.get(G)||null,te,Ee,null);dm(O,te)}return null}function be(J,O,G,te){for(var Ee=null,it=null,_e=O,Qe=O=0,yr=null;_e!==null&&Qe<G.length;Qe++){_e.index>Qe?(yr=_e,_e=null):yr=_e.sibling;var et=Q(J,_e,G[Qe],te);if(et===null){_e===null&&(_e=yr);break}l&&_e&&et.alternate===null&&h(J,_e),O=E(et,O,Qe),it===null?Ee=et:it.sibling=et,it=et,_e=yr}if(Qe===G.length)return f(J,_e),yt&&ba(J,Qe),Ee;if(_e===null){for(;Qe<G.length;Qe++)(_e=le(J,G[Qe],te))!==null&&(O=E(_e,O,Qe),it===null?Ee=_e:it.sibling=_e,it=_e);return yt&&ba(J,Qe),Ee}for(_e=y(J,_e);Qe<G.length;Qe++)(yr=ie(_e,J,Qe,G[Qe],te))!==null&&(l&&yr.alternate!==null&&_e.delete(yr.key===null?Qe:yr.key),O=E(yr,O,Qe),it===null?Ee=yr:it.sibling=yr,it=yr);return l&&_e.forEach(function(Eo){return h(J,Eo)}),yt&&ba(J,Qe),Ee}function Be(J,O,G,te){var Ee=P(G);if(typeof Ee!="function")throw Error(s(150));if((G=Ee.call(G))==null)throw Error(s(151));for(var it=Ee=null,_e=O,Qe=O=0,yr=null,et=G.next();_e!==null&&!et.done;Qe++,et=G.next()){_e.index>Qe?(yr=_e,_e=null):yr=_e.sibling;var Eo=Q(J,_e,et.value,te);if(Eo===null){_e===null&&(_e=yr);break}l&&_e&&Eo.alternate===null&&h(J,_e),O=E(Eo,O,Qe),it===null?Ee=Eo:it.sibling=Eo,it=Eo,_e=yr}if(et.done)return f(J,_e),yt&&ba(J,Qe),Ee;if(_e===null){for(;!et.done;Qe++,et=G.next())(et=le(J,et.value,te))!==null&&(O=E(et,O,Qe),it===null?Ee=et:it.sibling=et,it=et);return yt&&ba(J,Qe),Ee}for(_e=y(J,_e);!et.done;Qe++,et=G.next())(et=ie(_e,J,Qe,et.value,te))!==null&&(l&&et.alternate!==null&&_e.delete(et.key===null?Qe:et.key),O=E(et,O,Qe),it===null?Ee=et:it.sibling=et,it=et);return l&&_e.forEach(function(b7){return h(J,b7)}),yt&&ba(J,Qe),Ee}return function J(O,G,te,Ee){if(typeof te=="object"&&te!==null&&te.type===c&&te.key===null&&(te=te.props.children),typeof te=="object"&&te!==null){switch(te.$$typeof){case a:e:{for(var it=te.key,_e=G;_e!==null;){if(_e.key===it){if((it=te.type)===c){if(_e.tag===7){f(O,_e.sibling),(G=v(_e,te.props.children)).return=O,O=G;break e}}else if(_e.elementType===it||typeof it=="object"&&it!==null&&it.$$typeof===_&&ok(it)===_e.type){f(O,_e.sibling),(G=v(_e,te.props)).ref=cc(O,_e,te),G.return=O,O=G;break e}f(O,_e);break}h(O,_e),_e=_e.sibling}te.type===c?((G=Sa(te.props.children,O.mode,Ee,te.key)).return=O,O=G):((Ee=Fm(te.type,te.key,te.props,null,O.mode,Ee)).ref=cc(O,G,te),Ee.return=O,O=Ee)}return C(O);case u:e:{for(_e=te.key;G!==null;){if(G.key===_e){if(G.tag===4&&G.stateNode.containerInfo===te.containerInfo&&G.stateNode.implementation===te.implementation){f(O,G.sibling),(G=v(G,te.children||[])).return=O,O=G;break e}f(O,G);break}h(O,G),G=G.sibling}(G=v_(te,O.mode,Ee)).return=O,O=G}return C(O);case _:return J(O,G,(_e=te._init)(te._payload),Ee)}if(ae(te))return be(O,G,te,Ee);if(P(te))return Be(O,G,te,Ee);dm(O,te)}return typeof te=="string"&&te!==""||typeof te=="number"?(te=""+te,G!==null&&G.tag===6?(f(O,G.sibling),(G=v(G,te)).return=O,O=G):(f(O,G),(G=y_(te,O.mode,Ee)).return=O,O=G),C(O)):f(O,G)}}var eu=ak(!0),lk=ak(!1),dc={},kn=fo(dc),fc=fo(dc),tu=fo(dc);function Bi(l){if(l===dc)throw Error(s(174));return l}function M1(l,h){lt(tu,h),lt(fc,l),lt(kn,dc),l=ne(h),gt(kn),lt(kn,l)}function ru(){gt(kn),gt(fc),gt(tu)}function uk(l){var h=Bi(tu.current),f=Bi(kn.current);f!==(h=N(f,l.type,h))&&(lt(fc,l),lt(kn,h))}function D1(l){fc.current===l&&(gt(kn),gt(fc))}var Nt=fo(0);function fm(l){for(var h=l;h!==null;){if(h.tag===13){var f=h.memoizedState;if(f!==null&&((f=f.dehydrated)===null||Sn(f)||ho(f)))return h}else if(h.tag===19&&h.memoizedProps.revealOrder!==void 0){if(128&h.flags)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break;for(;h.sibling===null;){if(h.return===null||h.return===l)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var O1=[];function N1(){for(var l=0;l<O1.length;l++){var h=O1[l];nt?h._workInProgressVersionPrimary=null:h._workInProgressVersionSecondary=null}O1.length=0}var pm=o.ReactCurrentDispatcher,L1=o.ReactCurrentBatchConfig,xa=0,Pt=null,or=null,ar=null,mm=!1,pc=!1,mc=0,QV=0;function Cr(){throw Error(s(321))}function B1(l,h){if(h===null)return!1;for(var f=0;f<h.length&&f<l.length;f++)if(!oi(l[f],h[f]))return!1;return!0}function F1(l,h,f,y,v,E){if(xa=E,Pt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,pm.current=l===null||l.memoizedState===null?e7:t7,l=f(y,v),pc){E=0;do{if(pc=!1,mc=0,25<=E)throw Error(s(301));E+=1,ar=or=null,h.updateQueue=null,pm.current=r7,l=f(y,v)}while(pc)}if(pm.current=vm,h=or!==null&&or.next!==null,xa=0,ar=or=Pt=null,mm=!1,h)throw Error(s(300));return l}function U1(){var l=mc!==0;return mc=0,l}function Fi(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ar===null?Pt.memoizedState=ar=l:ar=ar.next=l,ar}function In(){if(or===null){var l=Pt.alternate;l=l!==null?l.memoizedState:null}else l=or.next;var h=ar===null?Pt.memoizedState:ar.next;if(h!==null)ar=h,or=l;else{if(l===null)throw Error(s(310));l={memoizedState:(or=l).memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},ar===null?Pt.memoizedState=ar=l:ar=ar.next=l}return ar}function gc(l,h){return typeof h=="function"?h(l):h}function z1(l){var h=In(),f=h.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=l;var y=or,v=y.baseQueue,E=f.pending;if(E!==null){if(v!==null){var C=v.next;v.next=E.next,E.next=C}y.baseQueue=v=E,f.pending=null}if(v!==null){E=v.next,y=y.baseState;var I=C=null,L=null,V=E;do{var Z=V.lane;if((xa&Z)===Z)L!==null&&(L=L.next={lane:0,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null}),y=V.hasEagerState?V.eagerState:l(y,V.action);else{var le={lane:Z,action:V.action,hasEagerState:V.hasEagerState,eagerState:V.eagerState,next:null};L===null?(I=L=le,C=y):L=L.next=le,Pt.lanes|=Z,wa|=Z}V=V.next}while(V!==null&&V!==E);L===null?C=y:L.next=I,oi(y,h.memoizedState)||(Yr=!0),h.memoizedState=y,h.baseState=C,h.baseQueue=L,f.lastRenderedState=y}if((l=f.interleaved)!==null){v=l;do E=v.lane,Pt.lanes|=E,wa|=E,v=v.next;while(v!==l)}else v===null&&(f.lanes=0);return[h.memoizedState,f.dispatch]}function j1(l){var h=In(),f=h.queue;if(f===null)throw Error(s(311));f.lastRenderedReducer=l;var y=f.dispatch,v=f.pending,E=h.memoizedState;if(v!==null){f.pending=null;var C=v=v.next;do E=l(E,C.action),C=C.next;while(C!==v);oi(E,h.memoizedState)||(Yr=!0),h.memoizedState=E,h.baseQueue===null&&(h.baseState=E),f.lastRenderedState=E}return[E,y]}function hk(){}function ck(l,h){var f=Pt,y=In(),v=h(),E=!oi(y.memoizedState,v);if(E&&(y.memoizedState=v,Yr=!0),y=y.queue,H1(pk.bind(null,f,y,l),[l]),y.getSnapshot!==h||E||ar!==null&&1&ar.memoizedState.tag){if(f.flags|=2048,yc(9,fk.bind(null,f,y,v,h),void 0,null),lr===null)throw Error(s(349));30&xa||dk(f,h,v)}return v}function dk(l,h,f){l.flags|=16384,l={getSnapshot:h,value:f},(h=Pt.updateQueue)===null?(h={lastEffect:null,stores:null},Pt.updateQueue=h,h.stores=[l]):(f=h.stores)===null?h.stores=[l]:f.push(l)}function fk(l,h,f,y){h.value=f,h.getSnapshot=y,mk(h)&&gk(l)}function pk(l,h,f){return f(function(){mk(h)&&gk(l)})}function mk(l){var h=l.getSnapshot;l=l.value;try{var f=h();return!oi(l,f)}catch{return!0}}function gk(l){var h=Li(l,1);h!==null&&Mn(h,l,1,-1)}function yk(l){var h=Fi();return typeof l=="function"&&(l=l()),h.memoizedState=h.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:gc,lastRenderedState:l},h.queue=l,l=l.dispatch=JV.bind(null,Pt,l),[h.memoizedState,l]}function yc(l,h,f,y){return l={tag:l,create:h,destroy:f,deps:y,next:null},(h=Pt.updateQueue)===null?(h={lastEffect:null,stores:null},Pt.updateQueue=h,h.lastEffect=l.next=l):(f=h.lastEffect)===null?h.lastEffect=l.next=l:(y=f.next,f.next=l,l.next=y,h.lastEffect=l),l}function vk(){return In().memoizedState}function gm(l,h,f,y){var v=Fi();Pt.flags|=l,v.memoizedState=yc(1|h,f,void 0,y===void 0?null:y)}function ym(l,h,f,y){var v=In();y=y===void 0?null:y;var E=void 0;if(or!==null){var C=or.memoizedState;if(E=C.destroy,y!==null&&B1(y,C.deps))return void(v.memoizedState=yc(h,f,E,y))}Pt.flags|=l,v.memoizedState=yc(1|h,f,E,y)}function bk(l,h){return gm(8390656,8,l,h)}function H1(l,h){return ym(2048,8,l,h)}function _k(l,h){return ym(4,2,l,h)}function xk(l,h){return ym(4,4,l,h)}function wk(l,h){return typeof h=="function"?(l=l(),h(l),function(){h(null)}):h!=null?(l=l(),h.current=l,function(){h.current=null}):void 0}function Ek(l,h,f){return f=f!=null?f.concat([l]):null,ym(4,4,wk.bind(null,h,l),f)}function G1(){}function Tk(l,h){var f=In();h=h===void 0?null:h;var y=f.memoizedState;return y!==null&&h!==null&&B1(h,y[1])?y[0]:(f.memoizedState=[l,h],l)}function Sk(l,h){var f=In();h=h===void 0?null:h;var y=f.memoizedState;return y!==null&&h!==null&&B1(h,y[1])?y[0]:(l=l(),f.memoizedState=[l,h],l)}function Ak(l,h,f){return 21&xa?(oi(f,h)||(f=jR(),Pt.lanes|=f,wa|=f,l.baseState=!0),h):(l.baseState&&(l.baseState=!1,Yr=!0),l.memoizedState=f)}function KV(l,h){var f=qe;qe=f!==0&&4>f?f:4,l(!0);var y=L1.transition;L1.transition={};try{l(!1),h()}finally{qe=f,L1.transition=y}}function Ck(){return In().memoizedState}function ZV(l,h,f){var y=_o(l);f={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null},Pk(l)?Rk(h,f):(f=ZR(l,h,f,y))!==null&&(Mn(f,l,y,Rr()),kk(f,h,y))}function JV(l,h,f){var y=_o(l),v={lane:y,action:f,hasEagerState:!1,eagerState:null,next:null};if(Pk(l))Rk(h,v);else{var E=l.alternate;if(l.lanes===0&&(E===null||E.lanes===0)&&(E=h.lastRenderedReducer)!==null)try{var C=h.lastRenderedState,I=E(C,f);if(v.hasEagerState=!0,v.eagerState=I,oi(I,C)){var L=h.interleaved;return L===null?(v.next=v,P1(h)):(v.next=L.next,L.next=v),void(h.interleaved=v)}}catch{}(f=ZR(l,h,v,y))!==null&&(Mn(f,l,y,v=Rr()),kk(f,h,y))}}function Pk(l){var h=l.alternate;return l===Pt||h!==null&&h===Pt}function Rk(l,h){pc=mm=!0;var f=l.pending;f===null?h.next=h:(h.next=f.next,f.next=h),l.pending=h}function kk(l,h,f){if(4194240&f){var y=h.lanes;f|=y&=l.pendingLanes,h.lanes=f,m1(l,f)}}var vm={readContext:Rn,useCallback:Cr,useContext:Cr,useEffect:Cr,useImperativeHandle:Cr,useInsertionEffect:Cr,useLayoutEffect:Cr,useMemo:Cr,useReducer:Cr,useRef:Cr,useState:Cr,useDebugValue:Cr,useDeferredValue:Cr,useTransition:Cr,useMutableSource:Cr,useSyncExternalStore:Cr,useId:Cr,unstable_isNewReconciler:!1},e7={readContext:Rn,useCallback:function(l,h){return Fi().memoizedState=[l,h===void 0?null:h],l},useContext:Rn,useEffect:bk,useImperativeHandle:function(l,h,f){return f=f!=null?f.concat([l]):null,gm(4194308,4,wk.bind(null,h,l),f)},useLayoutEffect:function(l,h){return gm(4194308,4,l,h)},useInsertionEffect:function(l,h){return gm(4,2,l,h)},useMemo:function(l,h){var f=Fi();return h=h===void 0?null:h,l=l(),f.memoizedState=[l,h],l},useReducer:function(l,h,f){var y=Fi();return h=f!==void 0?f(h):h,y.memoizedState=y.baseState=h,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:h},y.queue=l,l=l.dispatch=ZV.bind(null,Pt,l),[y.memoizedState,l]},useRef:function(l){return l={current:l},Fi().memoizedState=l},useState:yk,useDebugValue:G1,useDeferredValue:function(l){return Fi().memoizedState=l},useTransition:function(){var l=yk(!1),h=l[0];return l=KV.bind(null,l[1]),Fi().memoizedState=l,[h,l]},useMutableSource:function(){},useSyncExternalStore:function(l,h,f){var y=Pt,v=Fi();if(yt){if(f===void 0)throw Error(s(407));f=f()}else{if(f=h(),lr===null)throw Error(s(349));30&xa||dk(y,h,f)}v.memoizedState=f;var E={value:f,getSnapshot:h};return v.queue=E,bk(pk.bind(null,y,E,l),[l]),y.flags|=2048,yc(9,fk.bind(null,y,E,f,h),void 0,null),f},useId:function(){var l=Fi(),h=lr.identifierPrefix;if(yt){var f=_s;h=":"+h+"R"+(f=(Ni&~(1<<32-si(Ni)-1)).toString(32)+f),0<(f=mc++)&&(h+="H"+f.toString(32)),h+=":"}else h=":"+h+"r"+(f=QV++).toString(32)+":";return l.memoizedState=h},unstable_isNewReconciler:!1},t7={readContext:Rn,useCallback:Tk,useContext:Rn,useEffect:H1,useImperativeHandle:Ek,useInsertionEffect:_k,useLayoutEffect:xk,useMemo:Sk,useReducer:z1,useRef:vk,useState:function(){return z1(gc)},useDebugValue:G1,useDeferredValue:function(l){return Ak(In(),or.memoizedState,l)},useTransition:function(){return[z1(gc)[0],In().memoizedState]},useMutableSource:hk,useSyncExternalStore:ck,useId:Ck,unstable_isNewReconciler:!1},r7={readContext:Rn,useCallback:Tk,useContext:Rn,useEffect:H1,useImperativeHandle:Ek,useInsertionEffect:_k,useLayoutEffect:xk,useMemo:Sk,useReducer:j1,useRef:vk,useState:function(){return j1(gc)},useDebugValue:G1,useDeferredValue:function(l){var h=In();return or===null?h.memoizedState=l:Ak(h,or.memoizedState,l)},useTransition:function(){return[j1(gc)[0],In().memoizedState]},useMutableSource:hk,useSyncExternalStore:ck,useId:Ck,unstable_isNewReconciler:!1};function nu(l,h){try{var f="",y=h;do f+=qV(y),y=y.return;while(y);var v=f}catch(E){v=`
Error generating stack: `+E.message+`
`+E.stack}return{value:l,source:h,stack:v,digest:null}}function V1(l,h,f){return{value:l,source:null,stack:f??null,digest:h??null}}function W1(l,h){try{console.error(h.value)}catch(f){setTimeout(function(){throw f})}}var n7=typeof WeakMap=="function"?WeakMap:Map;function Ik(l,h,f){(f=xs(-1,f)).tag=3,f.payload={element:null};var y=h.value;return f.callback=function(){Mm||(Mm=!0,h_=y),W1(0,h)},f}function Mk(l,h,f){(f=xs(-1,f)).tag=3;var y=l.type.getDerivedStateFromError;if(typeof y=="function"){var v=h.value;f.payload=function(){return y(v)},f.callback=function(){W1(0,h)}}var E=l.stateNode;return E!==null&&typeof E.componentDidCatch=="function"&&(f.callback=function(){W1(0,h),typeof y!="function"&&(vo===null?vo=new Set([this]):vo.add(this));var C=h.stack;this.componentDidCatch(h.value,{componentStack:C!==null?C:""})}),f}function Dk(l,h,f){var y=l.pingCache;if(y===null){y=l.pingCache=new n7;var v=new Set;y.set(h,v)}else(v=y.get(h))===void 0&&(v=new Set,y.set(h,v));v.has(f)||(v.add(f),l=d7.bind(null,l,h,f),h.then(l,l))}function Ok(l){do{var h;if((h=l.tag===13)&&(h=(h=l.memoizedState)===null||h.dehydrated!==null),h)return l;l=l.return}while(l!==null);return null}function Nk(l,h,f,y,v){return 1&l.mode?(l.flags|=65536,l.lanes=v,l):(l===h?l.flags|=65536:(l.flags|=128,f.flags|=131072,f.flags&=-52805,f.tag===1&&(f.alternate===null?f.tag=17:((h=xs(-1,1)).tag=2,go(f,h,1))),f.lanes|=1),l)}var i7=o.ReactCurrentOwner,Yr=!1;function qr(l,h,f,y){h.child=l===null?lk(h,null,f,y):eu(h,l.child,f,y)}function Lk(l,h,f,y,v){f=f.render;var E=h.ref;return Jl(h,v),y=F1(l,h,f,y,E,v),f=U1(),l===null||Yr?(yt&&f&&b1(h),h.flags|=1,qr(l,h,y,v),h.child):(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~v,ws(l,h,v))}function Bk(l,h,f,y,v){if(l===null){var E=f.type;return typeof E!="function"||g_(E)||E.defaultProps!==void 0||f.compare!==null||f.defaultProps!==void 0?((l=Fm(f.type,null,y,h,h.mode,v)).ref=h.ref,l.return=h,h.child=l):(h.tag=15,h.type=E,Fk(l,h,E,y,v))}if(E=l.child,(l.lanes&v)==0){var C=E.memoizedProps;if((f=(f=f.compare)!==null?f:om)(C,y)&&l.ref===h.ref)return ws(l,h,v)}return h.flags|=1,(l=wo(E,y)).ref=h.ref,l.return=h,h.child=l}function Fk(l,h,f,y,v){if(l!==null){var E=l.memoizedProps;if(om(E,y)&&l.ref===h.ref){if(Yr=!1,h.pendingProps=y=E,(l.lanes&v)==0)return h.lanes=l.lanes,ws(l,h,v);131072&l.flags&&(Yr=!0)}}return X1(l,h,f,y,v)}function Uk(l,h,f){var y=h.pendingProps,v=y.children,E=l!==null?l.memoizedState:null;if(y.mode==="hidden")if(!(1&h.mode))h.memoizedState={baseLanes:0,cachePool:null,transitions:null},lt(su,dn),dn|=f;else{if(!(1073741824&f))return l=E!==null?E.baseLanes|f:f,h.lanes=h.childLanes=1073741824,h.memoizedState={baseLanes:l,cachePool:null,transitions:null},h.updateQueue=null,lt(su,dn),dn|=l,null;h.memoizedState={baseLanes:0,cachePool:null,transitions:null},y=E!==null?E.baseLanes:f,lt(su,dn),dn|=y}else E!==null?(y=E.baseLanes|f,h.memoizedState=null):y=f,lt(su,dn),dn|=y;return qr(l,h,v,f),h.child}function zk(l,h){var f=h.ref;(l===null&&f!==null||l!==null&&l.ref!==f)&&(h.flags|=512,h.flags|=2097152)}function X1(l,h,f,y,v){var E=hn(f)?ya:Ar.current;return E=Yl(h,E),Jl(h,v),f=F1(l,h,f,y,E,v),y=U1(),l===null||Yr?(yt&&y&&b1(h),h.flags|=1,qr(l,h,f,v),h.child):(h.updateQueue=l.updateQueue,h.flags&=-2053,l.lanes&=~v,ws(l,h,v))}function jk(l,h,f,y,v){if(hn(f)){var E=!0;Jp(h)}else E=!1;if(Jl(h,v),h.stateNode===null)wm(l,h),ik(h,f,y),I1(h,f,y,v),y=!0;else if(l===null){var C=h.stateNode,I=h.memoizedProps;C.props=I;var L=C.context,V=f.contextType;typeof V=="object"&&V!==null?V=Rn(V):V=Yl(h,V=hn(f)?ya:Ar.current);var Z=f.getDerivedStateFromProps,le=typeof Z=="function"||typeof C.getSnapshotBeforeUpdate=="function";le||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==y||L!==V)&&sk(h,C,y,V),mo=!1;var Q=h.memoizedState;C.state=Q,hm(h,y,C,v),L=h.memoizedState,I!==y||Q!==L||$r.current||mo?(typeof Z=="function"&&(k1(h,f,Z,y),L=h.memoizedState),(I=mo||nk(h,f,I,y,Q,L,V))?(le||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(h.flags|=4194308)):(typeof C.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=y,h.memoizedState=L),C.props=y,C.state=L,C.context=V,y=I):(typeof C.componentDidMount=="function"&&(h.flags|=4194308),y=!1)}else{C=h.stateNode,JR(l,h),I=h.memoizedProps,V=h.type===h.elementType?I:li(h.type,I),C.props=V,le=h.pendingProps,Q=C.context,typeof(L=f.contextType)=="object"&&L!==null?L=Rn(L):L=Yl(h,L=hn(f)?ya:Ar.current);var ie=f.getDerivedStateFromProps;(Z=typeof ie=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(I!==le||Q!==L)&&sk(h,C,y,L),mo=!1,Q=h.memoizedState,C.state=Q,hm(h,y,C,v);var be=h.memoizedState;I!==le||Q!==be||$r.current||mo?(typeof ie=="function"&&(k1(h,f,ie,y),be=h.memoizedState),(V=mo||nk(h,f,V,y,Q,be,L)||!1)?(Z||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,be,L),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,be,L)),typeof C.componentDidUpdate=="function"&&(h.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof C.componentDidUpdate!="function"||I===l.memoizedProps&&Q===l.memoizedState||(h.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===l.memoizedProps&&Q===l.memoizedState||(h.flags|=1024),h.memoizedProps=y,h.memoizedState=be),C.props=y,C.state=be,C.context=L,y=V):(typeof C.componentDidUpdate!="function"||I===l.memoizedProps&&Q===l.memoizedState||(h.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||I===l.memoizedProps&&Q===l.memoizedState||(h.flags|=1024),y=!1)}return $1(l,h,f,y,E,v)}function $1(l,h,f,y,v,E){zk(l,h);var C=(128&h.flags)!=0;if(!y&&!C)return v&&zR(h,f,!1),ws(l,h,E);y=h.stateNode,i7.current=h;var I=C&&typeof f.getDerivedStateFromError!="function"?null:y.render();return h.flags|=1,l!==null&&C?(h.child=eu(h,l.child,null,E),h.child=eu(h,null,I,E)):qr(l,h,I,E),h.memoizedState=y.state,v&&zR(h,f,!0),h.child}function Hk(l){var h=l.stateNode;h.pendingContext?FR(0,h.pendingContext,h.pendingContext!==h.context):h.context&&FR(0,h.context,!1),M1(l,h.containerInfo)}function Gk(l,h,f,y,v){return Kl(),E1(v),h.flags|=256,qr(l,h,f,y),h.child}var vc,bc,bm,_m,Y1={dehydrated:null,treeContext:null,retryLane:0};function q1(l){return{baseLanes:l,cachePool:null,transitions:null}}function Vk(l,h,f){var y,v=h.pendingProps,E=Nt.current,C=!1,I=(128&h.flags)!=0;if((y=I)||(y=(l===null||l.memoizedState!==null)&&(2&E)!=0),y?(C=!0,h.flags&=-129):l!==null&&l.memoizedState===null||(E|=1),lt(Nt,1&E),l===null)return w1(h),(l=h.memoizedState)!==null&&(l=l.dehydrated)!==null?(1&h.mode?ho(l)?h.lanes=8:h.lanes=1073741824:h.lanes=1,null):(I=v.children,l=v.fallback,C?(v=h.mode,C=h.child,I={mode:"hidden",children:I},!(1&v)&&C!==null?(C.childLanes=0,C.pendingProps=I):C=Um(I,v,0,null),l=Sa(l,v,f,null),C.return=h,l.return=h,C.sibling=l,h.child=C,h.child.memoizedState=q1(f),h.memoizedState=Y1,l):Q1(h,I));if((E=l.memoizedState)!==null&&(y=E.dehydrated)!==null)return function(V,Z,le,Q,ie,be,Be){if(le)return 256&Z.flags?(Z.flags&=-257,xm(V,Z,Be,Q=V1(Error(s(422))))):Z.memoizedState!==null?(Z.child=V.child,Z.flags|=128,null):(be=Q.fallback,ie=Z.mode,Q=Um({mode:"visible",children:Q.children},ie,0,null),(be=Sa(be,ie,Be,null)).flags|=2,Q.return=Z,be.return=Z,Q.sibling=be,Z.child=Q,1&Z.mode&&eu(Z,V.child,null,Be),Z.child.memoizedState=q1(Be),Z.memoizedState=Y1,be);if(!(1&Z.mode))return xm(V,Z,Be,null);if(ho(ie))return Q=ic(ie).digest,be=Error(s(419)),Q=V1(be,Q,void 0),xm(V,Z,Be,Q);if(le=(Be&V.childLanes)!=0,Yr||le){if((Q=lr)!==null){switch(Be&-Be){case 4:ie=2;break;case 16:ie=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:ie=32;break;case 536870912:ie=268435456;break;default:ie=0}(ie=ie&(Q.suspendedLanes|Be)?0:ie)!==0&&ie!==be.retryLane&&(be.retryLane=ie,Li(V,ie),Mn(Q,V,ie,-1))}return m_(),xm(V,Z,Be,Q=V1(Error(s(421))))}return Sn(ie)?(Z.flags|=128,Z.child=V.child,Z=f7.bind(null,V),sc(ie,Z),null):(V=be.treeContext,je&&(Pn=Mi(ie),cn=Z,yt=!0,ai=null,hc=!1,V!==null&&(An[Cn++]=Ni,An[Cn++]=_s,An[Cn++]=va,Ni=V.id,_s=V.overflow,va=Z)),Z=Q1(Z,Q.children),Z.flags|=4096,Z)}(l,h,I,v,y,E,f);if(C){C=v.fallback,I=h.mode,y=(E=l.child).sibling;var L={mode:"hidden",children:v.children};return!(1&I)&&h.child!==E?((v=h.child).childLanes=0,v.pendingProps=L,h.deletions=null):(v=wo(E,L)).subtreeFlags=14680064&E.subtreeFlags,y!==null?C=wo(y,C):(C=Sa(C,I,f,null)).flags|=2,C.return=h,v.return=h,v.sibling=C,h.child=v,v=C,C=h.child,I=(I=l.child.memoizedState)===null?q1(f):{baseLanes:I.baseLanes|f,cachePool:null,transitions:I.transitions},C.memoizedState=I,C.childLanes=l.childLanes&~f,h.memoizedState=Y1,v}return l=(C=l.child).sibling,v=wo(C,{mode:"visible",children:v.children}),!(1&h.mode)&&(v.lanes=f),v.return=h,v.sibling=null,l!==null&&((f=h.deletions)===null?(h.deletions=[l],h.flags|=16):f.push(l)),h.child=v,h.memoizedState=null,v}function Q1(l,h){return(h=Um({mode:"visible",children:h},l.mode,0,null)).return=l,l.child=h}function xm(l,h,f,y){return y!==null&&E1(y),eu(h,l.child,null,f),(l=Q1(h,h.pendingProps.children)).flags|=2,h.memoizedState=null,l}function Wk(l,h,f){l.lanes|=h;var y=l.alternate;y!==null&&(y.lanes|=h),C1(l.return,h,f)}function K1(l,h,f,y,v){var E=l.memoizedState;E===null?l.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:y,tail:f,tailMode:v}:(E.isBackwards=h,E.rendering=null,E.renderingStartTime=0,E.last=y,E.tail=f,E.tailMode=v)}function Xk(l,h,f){var y=h.pendingProps,v=y.revealOrder,E=y.tail;if(qr(l,h,y.children,f),(2&(y=Nt.current))!=0)y=1&y|2,h.flags|=128;else{if(l!==null&&128&l.flags)e:for(l=h.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&Wk(l,f,h);else if(l.tag===19)Wk(l,f,h);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===h)break e;for(;l.sibling===null;){if(l.return===null||l.return===h)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}y&=1}if(lt(Nt,y),(1&h.mode)==0)h.memoizedState=null;else switch(v){case"forwards":for(f=h.child,v=null;f!==null;)(l=f.alternate)!==null&&fm(l)===null&&(v=f),f=f.sibling;(f=v)===null?(v=h.child,h.child=null):(v=f.sibling,f.sibling=null),K1(h,!1,v,f,E);break;case"backwards":for(f=null,v=h.child,h.child=null;v!==null;){if((l=v.alternate)!==null&&fm(l)===null){h.child=v;break}l=v.sibling,v.sibling=f,f=v,v=l}K1(h,!0,f,null,E);break;case"together":K1(h,!1,null,null,void 0);break;default:h.memoizedState=null}return h.child}function wm(l,h){!(1&h.mode)&&l!==null&&(l.alternate=null,h.alternate=null,h.flags|=2)}function ws(l,h,f){if(l!==null&&(h.dependencies=l.dependencies),wa|=h.lanes,(f&h.childLanes)==0)return null;if(l!==null&&h.child!==l.child)throw Error(s(153));if(h.child!==null){for(f=wo(l=h.child,l.pendingProps),h.child=f,f.return=h;l.sibling!==null;)l=l.sibling,(f=f.sibling=wo(l,l.pendingProps)).return=h;f.sibling=null}return h.child}function Ui(l){l.flags|=4}function $k(l,h){if(l!==null&&l.child===h.child)return!0;if(16&h.flags)return!1;for(l=h.child;l!==null;){if(12854&l.flags||12854&l.subtreeFlags)return!1;l=l.sibling}return!0}if(Re)vc=function(l,h){for(var f=h.child;f!==null;){if(f.tag===5||f.tag===6)oe(l,f.stateNode);else if(f.tag!==4&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===h)break;for(;f.sibling===null;){if(f.return===null||f.return===h)return;f=f.return}f.sibling.return=f.return,f=f.sibling}},bc=function(){},bm=function(l,h,f,y,v){if((l=l.memoizedProps)!==y){var E=h.stateNode,C=Bi(kn.current);f=fe(E,f,l,y,v,C),(h.updateQueue=f)&&Ui(h)}},_m=function(l,h,f,y){f!==y&&Ui(h)};else if(Ze){vc=function(l,h,f,y){for(var v=h.child;v!==null;){if(v.tag===5){var E=v.stateNode;f&&y&&(E=ki(E,v.type,v.memoizedProps,v)),oe(l,E)}else if(v.tag===6)E=v.stateNode,f&&y&&(E=Ii(E,v.memoizedProps,v)),oe(l,E);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)(E=v.child)!==null&&(E.return=v),vc(l,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};var Yk=function(l,h,f,y){for(var v=h.child;v!==null;){if(v.tag===5){var E=v.stateNode;f&&y&&(E=ki(E,v.type,v.memoizedProps,v)),Ke(l,E)}else if(v.tag===6)E=v.stateNode,f&&y&&(E=Ii(E,v.memoizedProps,v)),Ke(l,E);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)(E=v.child)!==null&&(E.return=v),Yk(l,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===h)break;for(;v.sibling===null;){if(v.return===null||v.return===h)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};bc=function(l,h){var f=h.stateNode;if(!$k(l,h)){l=f.containerInfo;var y=Xt(l);Yk(y,h,!1,!1),f.pendingChildren=y,Ui(h),Ct(l,y)}},bm=function(l,h,f,y,v){var E=l.stateNode,C=l.memoizedProps;if((l=$k(l,h))&&C===y)h.stateNode=E;else{var I=h.stateNode,L=Bi(kn.current),V=null;C!==y&&(V=fe(I,f,C,y,v,L)),l&&V===null?h.stateNode=E:(E=ot(E,V,f,C,y,h,l,I),Me(E,f,y,v,L)&&Ui(h),h.stateNode=E,l?Ui(h):vc(E,h,!1,!1))}},_m=function(l,h,f,y){f!==y?(l=Bi(tu.current),f=Bi(kn.current),h.stateNode=ke(y,l,f,h),Ui(h)):h.stateNode=l.stateNode}}else bc=function(){},bm=function(){},_m=function(){};function _c(l,h){if(!yt)switch(l.tailMode){case"hidden":h=l.tail;for(var f=null;h!==null;)h.alternate!==null&&(f=h),h=h.sibling;f===null?l.tail=null:f.sibling=null;break;case"collapsed":f=l.tail;for(var y=null;f!==null;)f.alternate!==null&&(y=f),f=f.sibling;y===null?h||l.tail===null?l.tail=null:l.tail.sibling=null:y.sibling=null}}function Nr(l){var h=l.alternate!==null&&l.alternate.child===l.child,f=0,y=0;if(h)for(var v=l.child;v!==null;)f|=v.lanes|v.childLanes,y|=14680064&v.subtreeFlags,y|=14680064&v.flags,v.return=l,v=v.sibling;else for(v=l.child;v!==null;)f|=v.lanes|v.childLanes,y|=v.subtreeFlags,y|=v.flags,v.return=l,v=v.sibling;return l.subtreeFlags|=y,l.childLanes=f,h}function s7(l,h,f){var y=h.pendingProps;switch(_1(h),h.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(h),null;case 1:case 17:return hn(h.type)&&h1(),Nr(h),null;case 3:return f=h.stateNode,ru(),gt($r),gt(Ar),N1(),f.pendingContext&&(f.context=f.pendingContext,f.pendingContext=null),l!==null&&l.child!==null||(sm(h)?Ui(h):l===null||l.memoizedState.isDehydrated&&!(256&h.flags)||(h.flags|=1024,ai!==null&&(f_(ai),ai=null))),bc(l,h),Nr(h),null;case 5:D1(h),f=Bi(tu.current);var v=h.type;if(l!==null&&h.stateNode!=null)bm(l,h,v,y,f),l.ref!==h.ref&&(h.flags|=512,h.flags|=2097152);else{if(!y){if(h.stateNode===null)throw Error(s(166));return Nr(h),null}if(l=Bi(kn.current),sm(h)){if(!je)throw Error(s(175));l=oc(h.stateNode,h.type,h.memoizedProps,f,l,h,!hc),h.updateQueue=l,l!==null&&Ui(h)}else{var E=Y(v,y,f,l,h);vc(E,h,!1,!1),h.stateNode=E,Me(E,v,y,f,l)&&Ui(h)}h.ref!==null&&(h.flags|=512,h.flags|=2097152)}return Nr(h),null;case 6:if(l&&h.stateNode!=null)_m(l,h,l.memoizedProps,y);else{if(typeof y!="string"&&h.stateNode===null)throw Error(s(166));if(l=Bi(tu.current),f=Bi(kn.current),sm(h)){if(!je)throw Error(s(176));if(l=h.stateNode,f=h.memoizedProps,(y=Ut(l,f,h,!hc))&&(v=cn)!==null)switch(v.tag){case 3:FV(v.stateNode.containerInfo,l,f,(1&v.mode)!=0);break;case 5:UV(v.type,v.memoizedProps,v.stateNode,l,f,(1&v.mode)!=0)}y&&Ui(h)}else h.stateNode=ke(y,l,f,h)}return Nr(h),null;case 13:if(gt(Nt),y=h.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if(yt&&Pn!==null&&1&h.mode&&!(128&h.flags))QR(),Kl(),h.flags|=98560,v=!1;else if(v=sm(h),y!==null&&y.dehydrated!==null){if(l===null){if(!v)throw Error(s(318));if(!je)throw Error(s(344));if(!(v=(v=h.memoizedState)!==null?v.dehydrated:null))throw Error(s(317));ga(v,h)}else Kl(),!(128&h.flags)&&(h.memoizedState=null),h.flags|=4;Nr(h),v=!1}else ai!==null&&(f_(ai),ai=null),v=!0;if(!v)return 65536&h.flags?h:null}return 128&h.flags?(h.lanes=f,h):((f=y!==null)!=(l!==null&&l.memoizedState!==null)&&f&&(h.child.flags|=8192,1&h.mode&&(l===null||1&Nt.current?Zt===0&&(Zt=3):m_())),h.updateQueue!==null&&(h.flags|=4),Nr(h),null);case 4:return ru(),bc(l,h),l===null&&ir(h.stateNode.containerInfo),Nr(h),null;case 10:return A1(h.type._context),Nr(h),null;case 19:if(gt(Nt),(v=h.memoizedState)===null)return Nr(h),null;if(y=(128&h.flags)!=0,(E=v.rendering)===null)if(y)_c(v,!1);else{if(Zt!==0||l!==null&&128&l.flags)for(l=h.child;l!==null;){if((E=fm(l))!==null){for(h.flags|=128,_c(v,!1),(l=E.updateQueue)!==null&&(h.updateQueue=l,h.flags|=4),h.subtreeFlags=0,l=f,f=h.child;f!==null;)v=l,(y=f).flags&=14680066,(E=y.alternate)===null?(y.childLanes=0,y.lanes=v,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=E.childLanes,y.lanes=E.lanes,y.child=E.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=E.memoizedProps,y.memoizedState=E.memoizedState,y.updateQueue=E.updateQueue,y.type=E.type,v=E.dependencies,y.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),f=f.sibling;return lt(Nt,1&Nt.current|2),h.child}l=l.sibling}v.tail!==null&&sr()>u_&&(h.flags|=128,y=!0,_c(v,!1),h.lanes=4194304)}else{if(!y)if((l=fm(E))!==null){if(h.flags|=128,y=!0,(l=l.updateQueue)!==null&&(h.updateQueue=l,h.flags|=4),_c(v,!0),v.tail===null&&v.tailMode==="hidden"&&!E.alternate&&!yt)return Nr(h),null}else 2*sr()-v.renderingStartTime>u_&&f!==1073741824&&(h.flags|=128,y=!0,_c(v,!1),h.lanes=4194304);v.isBackwards?(E.sibling=h.child,h.child=E):((l=v.last)!==null?l.sibling=E:h.child=E,v.last=E)}return v.tail!==null?(h=v.tail,v.rendering=h,v.tail=h.sibling,v.renderingStartTime=sr(),h.sibling=null,l=Nt.current,lt(Nt,y?1&l|2:1&l),h):(Nr(h),null);case 22:case 23:return p_(),f=h.memoizedState!==null,l!==null&&l.memoizedState!==null!==f&&(h.flags|=8192),f&&1&h.mode?1073741824&dn&&(Nr(h),Re&&6&h.subtreeFlags&&(h.flags|=8192)):Nr(h),null;case 24:case 25:return null}throw Error(s(156,h.tag))}function o7(l,h){switch(_1(h),h.tag){case 1:return hn(h.type)&&h1(),65536&(l=h.flags)?(h.flags=-65537&l|128,h):null;case 3:return ru(),gt($r),gt(Ar),N1(),65536&(l=h.flags)&&!(128&l)?(h.flags=-65537&l|128,h):null;case 5:return D1(h),null;case 13:if(gt(Nt),(l=h.memoizedState)!==null&&l.dehydrated!==null){if(h.alternate===null)throw Error(s(340));Kl()}return 65536&(l=h.flags)?(h.flags=-65537&l|128,h):null;case 19:return gt(Nt),null;case 4:return ru(),null;case 10:return A1(h.type._context),null;case 22:case 23:return p_(),null;default:return null}}var Em=!1,Pr=!1,a7=typeof WeakSet=="function"?WeakSet:Set,me=null;function iu(l,h){var f=l.ref;if(f!==null)if(typeof f=="function")try{f(null)}catch(y){vt(l,h,y)}else f.current=null}function qk(l,h,f){try{f()}catch(y){vt(l,h,y)}}var Qk=!1;function xc(l,h,f){var y=h.updateQueue;if((y=y!==null?y.lastEffect:null)!==null){var v=y=y.next;do{if((v.tag&l)===l){var E=v.destroy;v.destroy=void 0,E!==void 0&&qk(h,f,E)}v=v.next}while(v!==y)}}function Tm(l,h){if((h=(h=h.updateQueue)!==null?h.lastEffect:null)!==null){var f=h=h.next;do{if((f.tag&l)===l){var y=f.create;f.destroy=y()}f=f.next}while(f!==h)}}function Z1(l){var h=l.ref;if(h!==null){var f=l.stateNode;l.tag===5?l=de(f):l=f,typeof h=="function"?h(l):h.current=l}}function Kk(l){var h=l.alternate;h!==null&&(l.alternate=null,Kk(h)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(h=l.stateNode)!==null&&fa(h),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function Zk(l){return l.tag===5||l.tag===3||l.tag===4}function Jk(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||Zk(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(2&l.flags||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(2&l.flags))return l.stateNode}}function J1(l,h,f){var y=l.tag;if(y===5||y===6)l=l.stateNode,h?B(f,l,h):n1(f,l);else if(y!==4&&(l=l.child)!==null)for(J1(l,h,f),l=l.sibling;l!==null;)J1(l,h,f),l=l.sibling}function e_(l,h,f){var y=l.tag;if(y===5||y===6)l=l.stateNode,h?s1(f,l,h):rc(f,l);else if(y!==4&&(l=l.child)!==null)for(e_(l,h,f),l=l.sibling;l!==null;)e_(l,h,f),l=l.sibling}var Lr=null,zi=!1;function ji(l,h,f){for(f=f.child;f!==null;)t_(l,h,f),f=f.sibling}function t_(l,h,f){if(Di&&typeof Di.onCommitFiberUnmount=="function")try{Di.onCommitFiberUnmount(tm,f)}catch{}switch(f.tag){case 5:Pr||iu(f,h);case 6:if(Re){var y=Lr,v=zi;Lr=null,ji(l,h,f),zi=v,(Lr=y)!==null&&(zi?ee(Lr,f.stateNode):z(Lr,f.stateNode))}else ji(l,h,f);break;case 18:Re&&Lr!==null&&(zi?LV(Lr,f.stateNode):NV(Lr,f.stateNode));break;case 4:Re?(y=Lr,v=zi,Lr=f.stateNode.containerInfo,zi=!0,ji(l,h,f),Lr=y,zi=v):(Ze&&(y=f.stateNode.containerInfo,v=Xt(y),Ot(y,v)),ji(l,h,f));break;case 0:case 11:case 14:case 15:if(!Pr&&(y=f.updateQueue)!==null&&(y=y.lastEffect)!==null){v=y=y.next;do{var E=v,C=E.destroy;E=E.tag,C!==void 0&&(2&E||4&E)&&qk(f,h,C),v=v.next}while(v!==y)}ji(l,h,f);break;case 1:if(!Pr&&(iu(f,h),typeof(y=f.stateNode).componentWillUnmount=="function"))try{y.props=f.memoizedProps,y.state=f.memoizedState,y.componentWillUnmount()}catch(I){vt(f,h,I)}ji(l,h,f);break;case 21:ji(l,h,f);break;case 22:1&f.mode?(Pr=(y=Pr)||f.memoizedState!==null,ji(l,h,f),Pr=y):ji(l,h,f);break;default:ji(l,h,f)}}function eI(l){var h=l.updateQueue;if(h!==null){l.updateQueue=null;var f=l.stateNode;f===null&&(f=l.stateNode=new a7),h.forEach(function(y){var v=p7.bind(null,l,y);f.has(y)||(f.add(y),y.then(v,v))})}}function ui(l,h){var f=h.deletions;if(f!==null)for(var y=0;y<f.length;y++){var v=f[y];try{var E=l,C=h;if(Re){var I=C;e:for(;I!==null;){switch(I.tag){case 5:Lr=I.stateNode,zi=!1;break e;case 3:case 4:Lr=I.stateNode.containerInfo,zi=!0;break e}I=I.return}if(Lr===null)throw Error(s(160));t_(E,C,v),Lr=null,zi=!1}else t_(E,C,v);var L=v.alternate;L!==null&&(L.return=null),v.return=null}catch(V){vt(v,h,V)}}if(12854&h.subtreeFlags)for(h=h.child;h!==null;)tI(h,l),h=h.sibling}function tI(l,h){var f=l.alternate,y=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(ui(h,l),Hi(l),4&y){try{xc(3,l,l.return),Tm(3,l)}catch(Q){vt(l,l.return,Q)}try{xc(5,l,l.return)}catch(Q){vt(l,l.return,Q)}}break;case 1:ui(h,l),Hi(l),512&y&&f!==null&&iu(f,f.return);break;case 5:if(ui(h,l),Hi(l),512&y&&f!==null&&iu(f,f.return),Re){if(32&l.flags){var v=l.stateNode;try{ge(v)}catch(Q){vt(l,l.return,Q)}}if(4&y&&(v=l.stateNode)!=null){var E=l.memoizedProps;if(f=f!==null?f.memoizedProps:E,y=l.type,h=l.updateQueue,l.updateQueue=null,h!==null)try{Kp(v,h,y,f,E,l)}catch(Q){vt(l,l.return,Q)}}}break;case 6:if(ui(h,l),Hi(l),4&y&&Re){if(l.stateNode===null)throw Error(s(162));v=l.stateNode,E=l.memoizedProps,f=f!==null?f.memoizedProps:E;try{Qp(v,f,E)}catch(Q){vt(l,l.return,Q)}}break;case 3:if(ui(h,l),Hi(l),4&y){if(Re&&je&&f!==null&&f.memoizedState.isDehydrated)try{o1(h.containerInfo)}catch(Q){vt(l,l.return,Q)}if(Ze){v=h.containerInfo,E=h.pendingChildren;try{Ot(v,E)}catch(Q){vt(l,l.return,Q)}}}break;case 4:if(ui(h,l),Hi(l),4&y&&Ze){v=(E=l.stateNode).containerInfo,E=E.pendingChildren;try{Ot(v,E)}catch(Q){vt(l,l.return,Q)}}break;case 13:ui(h,l),Hi(l),8192&(v=l.child).flags&&(E=v.memoizedState!==null,v.stateNode.isHidden=E,!E||v.alternate!==null&&v.alternate.memoizedState!==null||(l_=sr())),4&y&&eI(l);break;case 22:var C=f!==null&&f.memoizedState!==null;if(1&l.mode?(Pr=(f=Pr)||C,ui(h,l),Pr=f):ui(h,l),Hi(l),8192&y){if(f=l.memoizedState!==null,(l.stateNode.isHidden=f)&&!C&&(1&l.mode)!=0)for(me=l,y=l.child;y!==null;){for(h=me=y;me!==null;){var I=(C=me).child;switch(C.tag){case 0:case 11:case 14:case 15:xc(4,C,C.return);break;case 1:iu(C,C.return);var L=C.stateNode;if(typeof L.componentWillUnmount=="function"){var V=C,Z=C.return;try{var le=V;L.props=le.memoizedProps,L.state=le.memoizedState,L.componentWillUnmount()}catch(Q){vt(V,Z,Q)}}break;case 5:iu(C,C.return);break;case 22:if(C.memoizedState!==null){iI(h);continue}}I!==null?(I.return=C,me=I):iI(h)}y=y.sibling}if(Re){e:if(y=null,Re)for(h=l;;){if(h.tag===5){if(y===null){y=h;try{v=h.stateNode,f?Oe(v):De(h.stateNode,h.memoizedProps)}catch(Q){vt(l,l.return,Q)}}}else if(h.tag===6){if(y===null)try{E=h.stateNode,f?Ie(E):Ae(E,h.memoizedProps)}catch(Q){vt(l,l.return,Q)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===l)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===l)break e;for(;h.sibling===null;){if(h.return===null||h.return===l)break e;y===h&&(y=null),h=h.return}y===h&&(y=null),h.sibling.return=h.return,h=h.sibling}}}break;case 19:ui(h,l),Hi(l),4&y&&eI(l);break;case 21:break;default:ui(h,l),Hi(l)}}function Hi(l){var h=l.flags;if(2&h){try{if(Re){e:{for(var f=l.return;f!==null;){if(Zk(f)){var y=f;break e}f=f.return}throw Error(s(160))}switch(y.tag){case 5:var v=y.stateNode;32&y.flags&&(ge(v),y.flags&=-33),e_(l,Jk(l),v);break;case 3:case 4:var E=y.stateNode.containerInfo;J1(l,Jk(l),E);break;default:throw Error(s(161))}}}catch(C){vt(l,l.return,C)}l.flags&=-3}4096&h&&(l.flags&=-4097)}function l7(l,h,f){me=l,rI(l)}function rI(l,h,f){for(var y=(1&l.mode)!=0;me!==null;){var v=me,E=v.child;if(v.tag===22&&y){var C=v.memoizedState!==null||Em;if(!C){var I=v.alternate,L=I!==null&&I.memoizedState!==null||Pr;I=Em;var V=Pr;if(Em=C,(Pr=L)&&!V)for(me=v;me!==null;)L=(C=me).child,C.tag===22&&C.memoizedState!==null?sI(v):L!==null?(L.return=C,me=L):sI(v);for(;E!==null;)me=E,rI(E),E=E.sibling;me=v,Em=I,Pr=V}nI(l)}else 8772&v.subtreeFlags&&E!==null?(E.return=v,me=E):nI(l)}}function nI(l){for(;me!==null;){var h=me;if(8772&h.flags){var f=h.alternate;try{if(8772&h.flags)switch(h.tag){case 0:case 11:case 15:Pr||Tm(5,h);break;case 1:var y=h.stateNode;if(4&h.flags&&!Pr)if(f===null)y.componentDidMount();else{var v=h.elementType===h.type?f.memoizedProps:li(h.type,f.memoizedProps);y.componentDidUpdate(v,f.memoizedState,y.__reactInternalSnapshotBeforeUpdate)}var E=h.updateQueue;E!==null&&tk(h,E,y);break;case 3:var C=h.updateQueue;if(C!==null){if(f=null,h.child!==null)switch(h.child.tag){case 5:f=de(h.child.stateNode);break;case 1:f=h.child.stateNode}tk(h,C,f)}break;case 5:var I=h.stateNode;f===null&&4&h.flags&&i1(I,h.type,h.memoizedProps,h);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(je&&h.memoizedState===null){var L=h.alternate;if(L!==null){var V=L.memoizedState;if(V!==null){var Z=V.dehydrated;Z!==null&&OV(Z)}}}break;default:throw Error(s(163))}Pr||512&h.flags&&Z1(h)}catch(le){vt(h,h.return,le)}}if(h===l){me=null;break}if((f=h.sibling)!==null){f.return=h.return,me=f;break}me=h.return}}function iI(l){for(;me!==null;){var h=me;if(h===l){me=null;break}var f=h.sibling;if(f!==null){f.return=h.return,me=f;break}me=h.return}}function sI(l){for(;me!==null;){var h=me;try{switch(h.tag){case 0:case 11:case 15:var f=h.return;try{Tm(4,h)}catch(L){vt(h,f,L)}break;case 1:var y=h.stateNode;if(typeof y.componentDidMount=="function"){var v=h.return;try{y.componentDidMount()}catch(L){vt(h,v,L)}}var E=h.return;try{Z1(h)}catch(L){vt(h,E,L)}break;case 5:var C=h.return;try{Z1(h)}catch(L){vt(h,C,L)}}}catch(L){vt(h,h.return,L)}if(h===l){me=null;break}var I=h.sibling;if(I!==null){I.return=h.return,me=I;break}me=h.return}}var Sm=0,Am=1,Cm=2,Pm=3,Rm=4;if(typeof Symbol=="function"&&Symbol.for){var wc=Symbol.for;Sm=wc("selector.component"),Am=wc("selector.has_pseudo_class"),Cm=wc("selector.role"),Pm=wc("selector.test_id"),Rm=wc("selector.text")}function r_(l){var h=Wr(l);if(h!=null){if(typeof h.memoizedProps["data-testname"]!="string")throw Error(s(364));return h}if((l=Wp(l))===null)throw Error(s(362));return l.stateNode.current}function n_(l,h){switch(h.$$typeof){case Sm:if(l.type===h.value)return!0;break;case Am:e:{h=h.value,l=[l,0];for(var f=0;f<l.length;){var y=l[f++],v=l[f++],E=h[v];if(y.tag!==5||!pa(y)){for(;E!=null&&n_(y,E);)E=h[++v];if(v===h.length){h=!0;break e}for(y=y.child;y!==null;)l.push(y,v),y=y.sibling}}h=!1}return h;case Cm:if(l.tag===5&&Yp(l.stateNode,h.value))return!0;break;case Rm:if((l.tag===5||l.tag===6)&&(l=$p(l))!==null&&0<=l.indexOf(h.value))return!0;break;case Pm:if(l.tag===5&&typeof(l=l.memoizedProps["data-testname"])=="string"&&l.toLowerCase()===h.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function i_(l){switch(l.$$typeof){case Sm:return"<"+(D(l.value)||"Unknown")+">";case Am:return":has("+(i_(l)||"")+")";case Cm:return'[role="'+l.value+'"]';case Rm:return'"'+l.value+'"';case Pm:return'[data-testname="'+l.value+'"]';default:throw Error(s(365))}}function oI(l,h){var f=[];l=[l,0];for(var y=0;y<l.length;){var v=l[y++],E=l[y++],C=h[E];if(v.tag!==5||!pa(v)){for(;C!=null&&n_(v,C);)C=h[++E];if(E===h.length)f.push(v);else for(v=v.child;v!==null;)l.push(v,E),v=v.sibling}}return f}function s_(l,h){if(!Xr)throw Error(s(363));l=oI(l=r_(l),h),h=[],l=Array.from(l);for(var f=0;f<l.length;){var y=l[f++];if(y.tag===5)pa(y)||h.push(y.stateNode);else for(y=y.child;y!==null;)l.push(y),y=y.sibling}return h}var u7=Math.ceil,km=o.ReactCurrentDispatcher,o_=o.ReactCurrentOwner,zt=o.ReactCurrentBatchConfig,Xe=0,lr=null,$t=null,gr=0,dn=0,su=fo(0),Zt=0,Ec=null,wa=0,Im=0,a_=0,Tc=null,fn=null,l_=0,u_=1/0,yo=null;function ou(){u_=sr()+500}var aI,Mm=!1,h_=null,vo=null,Dm=!1,bo=null,Om=0,Sc=0,c_=null,Nm=-1,Lm=0;function Rr(){return 6&Xe?sr():Nm!==-1?Nm:Nm=sr()}function _o(l){return 1&l.mode?2&Xe&&gr!==0?gr&-gr:YV.transition!==null?(Lm===0&&(Lm=jR()),Lm):(l=qe)!==0?l:Ri():1}function Mn(l,h,f,y){if(50<Sc)throw Sc=0,c_=null,Error(s(185));uc(l,f,y),2&Xe&&l===lr||(l===lr&&(!(2&Xe)&&(Im|=f),Zt===4&&xo(l,gr)),Qr(l,y),f===1&&Xe===0&&!(1&h.mode)&&(ou(),rm&&Oi()))}function Qr(l,h){var f=l.callbackNode;(function(v,E){for(var C=v.suspendedLanes,I=v.pingedLanes,L=v.expirationTimes,V=v.pendingLanes;0<V;){var Z=31-si(V),le=1<<Z,Q=L[Z];Q===-1?le&C&&!(le&I)||(L[Z]=GV(le,E)):Q<=E&&(v.expiredLanes|=le),V&=~le}})(l,h);var y=em(l,l===lr?gr:0);if(y===0)f!==null&&GR(f),l.callbackNode=null,l.callbackPriority=0;else if(h=y&-y,l.callbackPriority!==h){if(f!=null&&GR(f),h===1)l.tag===0?function(v){rm=!0,WR(v)}(uI.bind(null,l)):WR(uI.bind(null,l)),ni?tc(function(){!(6&Xe)&&Oi()}):g1(y1,Oi),f=null;else{switch(HR(y)){case 1:f=y1;break;case 4:f=XV;break;case 16:default:f=VR;break;case 536870912:f=$V}f=yI(f,lI.bind(null,l))}l.callbackPriority=h,l.callbackNode=f}}function lI(l,h){if(Nm=-1,Lm=0,(6&Xe)!=0)throw Error(s(327));var f=l.callbackNode;if(Ta()&&l.callbackNode!==f)return null;var y=em(l,l===lr?gr:0);if(y===0)return null;if(30&y||y&l.expiredLanes||h)h=Bm(l,y);else{h=y;var v=Xe;Xe|=2;var E=dI();for(lr===l&&gr===h||(yo=null,ou(),Ea(l,h));;)try{c7();break}catch(I){cI(l,I)}S1(),km.current=E,Xe=v,$t!==null?h=0:(lr=null,gr=0,h=Zt)}if(h!==0){if(h===2&&(v=f1(l))!==0&&(y=v,h=d_(l,v)),h===1)throw f=Ec,Ea(l,0),xo(l,y),Qr(l,sr()),f;if(h===6)xo(l,y);else{if(v=l.current.alternate,(30&y)==0&&!function(I){for(var L=I;;){if(16384&L.flags){var V=L.updateQueue;if(V!==null&&(V=V.stores)!==null)for(var Z=0;Z<V.length;Z++){var le=V[Z],Q=le.getSnapshot;le=le.value;try{if(!oi(Q(),le))return!1}catch{return!1}}}if(V=L.child,16384&L.subtreeFlags&&V!==null)V.return=L,L=V;else{if(L===I)break;for(;L.sibling===null;){if(L.return===null||L.return===I)return!0;L=L.return}L.sibling.return=L.return,L=L.sibling}}return!0}(v)&&((h=Bm(l,y))===2&&(E=f1(l))!==0&&(y=E,h=d_(l,E)),h===1))throw f=Ec,Ea(l,0),xo(l,y),Qr(l,sr()),f;switch(l.finishedWork=v,l.finishedLanes=y,h){case 0:case 1:throw Error(s(345));case 2:case 5:au(l,fn,yo);break;case 3:if(xo(l,y),(130023424&y)===y&&10<(h=l_+500-sr())){if(em(l,0)!==0)break;if(((v=l.suspendedLanes)&y)!==y){Rr(),l.pingedLanes|=l.suspendedLanes&v;break}l.timeoutHandle=Ve(au.bind(null,l,fn,yo),h);break}au(l,fn,yo);break;case 4:if(xo(l,y),(4194240&y)===y)break;for(h=l.eventTimes,v=-1;0<y;){var C=31-si(y);E=1<<C,(C=h[C])>v&&(v=C),y&=~E}if(y=v,10<(y=(120>(y=sr()-y)?120:480>y?480:1080>y?1080:1920>y?1920:3e3>y?3e3:4320>y?4320:1960*u7(y/1960))-y)){l.timeoutHandle=Ve(au.bind(null,l,fn,yo),y);break}au(l,fn,yo);break;default:throw Error(s(329))}}}return Qr(l,sr()),l.callbackNode===f?lI.bind(null,l):null}function d_(l,h){var f=Tc;return l.current.memoizedState.isDehydrated&&(Ea(l,h).flags|=256),(l=Bm(l,h))!==2&&(h=fn,fn=f,h!==null&&f_(h)),l}function f_(l){fn===null?fn=l:fn.push.apply(fn,l)}function xo(l,h){for(h&=~a_,h&=~Im,l.suspendedLanes|=h,l.pingedLanes&=~h,l=l.expirationTimes;0<h;){var f=31-si(h),y=1<<f;l[f]=-1,h&=~y}}function uI(l){if(6&Xe)throw Error(s(327));Ta();var h=em(l,0);if(!(1&h))return Qr(l,sr()),null;var f=Bm(l,h);if(l.tag!==0&&f===2){var y=f1(l);y!==0&&(h=y,f=d_(l,y))}if(f===1)throw f=Ec,Ea(l,0),xo(l,h),Qr(l,sr()),f;if(f===6)throw Error(s(345));return l.finishedWork=l.current.alternate,l.finishedLanes=h,au(l,fn,yo),Qr(l,sr()),null}function hI(l){bo!==null&&bo.tag===0&&!(6&Xe)&&Ta();var h=Xe;Xe|=1;var f=zt.transition,y=qe;try{if(zt.transition=null,qe=1,l)return l()}finally{qe=y,zt.transition=f,!(6&(Xe=h))&&Oi()}}function p_(){dn=su.current,gt(su)}function Ea(l,h){l.finishedWork=null,l.finishedLanes=0;var f=l.timeoutHandle;if(f!==At&&(l.timeoutHandle=At,rt(f)),$t!==null)for(f=$t.return;f!==null;){var y=f;switch(_1(y),y.tag){case 1:(y=y.type.childContextTypes)!=null&&h1();break;case 3:ru(),gt($r),gt(Ar),N1();break;case 5:D1(y);break;case 4:ru();break;case 13:case 19:gt(Nt);break;case 10:A1(y.type._context);break;case 22:case 23:p_()}f=f.return}if(lr=l,$t=l=wo(l.current,null),gr=dn=h,Zt=0,Ec=null,a_=Im=wa=0,fn=Tc=null,_a!==null){for(h=0;h<_a.length;h++)if((y=(f=_a[h]).interleaved)!==null){f.interleaved=null;var v=y.next,E=f.pending;if(E!==null){var C=E.next;E.next=v,y.next=C}f.pending=y}_a=null}return l}function cI(l,h){for(;;){var f=$t;try{if(S1(),pm.current=vm,mm){for(var y=Pt.memoizedState;y!==null;){var v=y.queue;v!==null&&(v.pending=null),y=y.next}mm=!1}if(xa=0,ar=or=Pt=null,pc=!1,mc=0,o_.current=null,f===null||f.return===null){Zt=1,Ec=h,$t=null;break}e:{var E=l,C=f.return,I=f,L=h;if(h=gr,I.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var V=L,Z=I,le=Z.tag;if(!(1&Z.mode)&&(le===0||le===11||le===15)){var Q=Z.alternate;Q?(Z.updateQueue=Q.updateQueue,Z.memoizedState=Q.memoizedState,Z.lanes=Q.lanes):(Z.updateQueue=null,Z.memoizedState=null)}var ie=Ok(C);if(ie!==null){ie.flags&=-257,Nk(ie,C,I,0,h),1&ie.mode&&Dk(E,V,h),L=V;var be=(h=ie).updateQueue;if(be===null){var Be=new Set;Be.add(L),h.updateQueue=Be}else be.add(L);break e}if(!(1&h)){Dk(E,V,h),m_();break e}L=Error(s(426))}else if(yt&&1&I.mode){var J=Ok(C);if(J!==null){!(65536&J.flags)&&(J.flags|=256),Nk(J,C,I,0,h),E1(nu(L,I));break e}}E=L=nu(L,I),Zt!==4&&(Zt=2),Tc===null?Tc=[E]:Tc.push(E),E=C;do{switch(E.tag){case 3:E.flags|=65536,h&=-h,E.lanes|=h,ek(E,Ik(0,L,h));break e;case 1:I=L;var O=E.type,G=E.stateNode;if(!(128&E.flags)&&(typeof O.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(vo===null||!vo.has(G)))){E.flags|=65536,h&=-h,E.lanes|=h,ek(E,Mk(E,I,h));break e}}E=E.return}while(E!==null)}pI(f)}catch(te){h=te,$t===f&&f!==null&&($t=f=f.return);continue}break}}function dI(){var l=km.current;return km.current=vm,l===null?vm:l}function m_(){Zt!==0&&Zt!==3&&Zt!==2||(Zt=4),lr===null||!(268435455&wa)&&!(268435455&Im)||xo(lr,gr)}function Bm(l,h){var f=Xe;Xe|=2;var y=dI();for(lr===l&&gr===h||(yo=null,Ea(l,h));;)try{h7();break}catch(v){cI(l,v)}if(S1(),Xe=f,km.current=y,$t!==null)throw Error(s(261));return lr=null,gr=0,Zt}function h7(){for(;$t!==null;)fI($t)}function c7(){for(;$t!==null&&!VV();)fI($t)}function fI(l){var h=aI(l.alternate,l,dn);l.memoizedProps=l.pendingProps,h===null?pI(l):$t=h,o_.current=null}function pI(l){var h=l;do{var f=h.alternate;if(l=h.return,(32768&h.flags)==0){if((f=s7(f,h,dn))!==null)return void($t=f)}else{if((f=o7(f,h))!==null)return f.flags&=32767,void($t=f);if(l===null)return Zt=6,void($t=null);l.flags|=32768,l.subtreeFlags=0,l.deletions=null}if((h=h.sibling)!==null)return void($t=h);$t=h=l}while(h!==null);Zt===0&&(Zt=5)}function au(l,h,f){var y=qe,v=zt.transition;try{zt.transition=null,qe=1,function(E,C,I,L){do Ta();while(bo!==null);if(6&Xe)throw Error(s(327));I=E.finishedWork;var V=E.finishedLanes;if(I===null)return null;if(E.finishedWork=null,E.finishedLanes=0,I===E.current)throw Error(s(177));E.callbackNode=null,E.callbackPriority=0;var Z=I.lanes|I.childLanes;if(function(ie,be){var Be=ie.pendingLanes&~be;ie.pendingLanes=be,ie.suspendedLanes=0,ie.pingedLanes=0,ie.expiredLanes&=be,ie.mutableReadLanes&=be,ie.entangledLanes&=be,be=ie.entanglements;var J=ie.eventTimes;for(ie=ie.expirationTimes;0<Be;){var O=31-si(Be),G=1<<O;be[O]=0,J[O]=-1,ie[O]=-1,Be&=~G}}(E,Z),E===lr&&($t=lr=null,gr=0),!(2064&I.subtreeFlags)&&!(2064&I.flags)||Dm||(Dm=!0,yI(VR,function(){return Ta(),null})),Z=(15990&I.flags)!=0,(15990&I.subtreeFlags)!=0||Z){Z=zt.transition,zt.transition=null;var le=qe;qe=1;var Q=Xe;Xe|=4,o_.current=null,function(ie,be){for(W(ie.containerInfo),me=be;me!==null;)if(be=(ie=me).child,(1028&ie.subtreeFlags)!=0&&be!==null)be.return=ie,me=be;else for(;me!==null;){ie=me;try{var Be=ie.alternate;if(1024&ie.flags)switch(ie.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Be!==null){var J=Be.memoizedProps,O=Be.memoizedState,G=ie.stateNode,te=G.getSnapshotBeforeUpdate(ie.elementType===ie.type?J:li(ie.type,J),O);G.__reactInternalSnapshotBeforeUpdate=te}break;case 3:Re&&xe(ie.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(Ee){vt(ie,ie.return,Ee)}if((be=ie.sibling)!==null){be.return=ie.return,me=be;break}me=ie.return}Be=Qk,Qk=!1}(E,I),tI(I,E),M(E.containerInfo),E.current=I,l7(I),WV(),Xe=Q,qe=le,zt.transition=Z}else E.current=I;if(Dm&&(Dm=!1,bo=E,Om=V),Z=E.pendingLanes,Z===0&&(vo=null),function(ie){if(Di&&typeof Di.onCommitFiberRoot=="function")try{Di.onCommitFiberRoot(tm,ie,void 0,(128&ie.current.flags)==128)}catch{}}(I.stateNode),Qr(E,sr()),C!==null)for(L=E.onRecoverableError,I=0;I<C.length;I++)V=C[I],L(V.value,{componentStack:V.stack,digest:V.digest});if(Mm)throw Mm=!1,E=h_,h_=null,E;1&Om&&E.tag!==0&&Ta(),Z=E.pendingLanes,1&Z?E===c_?Sc++:(Sc=0,c_=E):Sc=0,Oi()}(l,h,f,y)}finally{zt.transition=v,qe=y}return null}function Ta(){if(bo!==null){var l=HR(Om),h=zt.transition,f=qe;try{if(zt.transition=null,qe=16>l?16:l,bo===null)var y=!1;else{if(l=bo,bo=null,Om=0,(6&Xe)!=0)throw Error(s(331));var v=Xe;for(Xe|=4,me=l.current;me!==null;){var E=me,C=E.child;if(16&me.flags){var I=E.deletions;if(I!==null){for(var L=0;L<I.length;L++){var V=I[L];for(me=V;me!==null;){var Z=me;switch(Z.tag){case 0:case 11:case 15:xc(8,Z,E)}var le=Z.child;if(le!==null)le.return=Z,me=le;else for(;me!==null;){var Q=(Z=me).sibling,ie=Z.return;if(Kk(Z),Z===V){me=null;break}if(Q!==null){Q.return=ie,me=Q;break}me=ie}}}var be=E.alternate;if(be!==null){var Be=be.child;if(Be!==null){be.child=null;do{var J=Be.sibling;Be.sibling=null,Be=J}while(Be!==null)}}me=E}}if(2064&E.subtreeFlags&&C!==null)C.return=E,me=C;else e:for(;me!==null;){if(2048&(E=me).flags)switch(E.tag){case 0:case 11:case 15:xc(9,E,E.return)}var O=E.sibling;if(O!==null){O.return=E.return,me=O;break e}me=E.return}}var G=l.current;for(me=G;me!==null;){var te=(C=me).child;if(2064&C.subtreeFlags&&te!==null)te.return=C,me=te;else e:for(C=G;me!==null;){if(2048&(I=me).flags)try{switch(I.tag){case 0:case 11:case 15:Tm(9,I)}}catch(it){vt(I,I.return,it)}if(I===C){me=null;break e}var Ee=I.sibling;if(Ee!==null){Ee.return=I.return,me=Ee;break e}me=I.return}}if(Xe=v,Oi(),Di&&typeof Di.onPostCommitFiberRoot=="function")try{Di.onPostCommitFiberRoot(tm,l)}catch{}y=!0}return y}finally{qe=f,zt.transition=h}}return!1}function mI(l,h,f){l=go(l,h=Ik(0,h=nu(f,h),1),1),h=Rr(),l!==null&&(uc(l,1,h),Qr(l,h))}function vt(l,h,f){if(l.tag===3)mI(l,l,f);else for(;h!==null;){if(h.tag===3){mI(h,l,f);break}if(h.tag===1){var y=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(vo===null||!vo.has(y))){h=go(h,l=Mk(h,l=nu(f,l),1),1),l=Rr(),h!==null&&(uc(h,1,l),Qr(h,l));break}}h=h.return}}function d7(l,h,f){var y=l.pingCache;y!==null&&y.delete(h),h=Rr(),l.pingedLanes|=l.suspendedLanes&f,lr===l&&(gr&f)===f&&(Zt===4||Zt===3&&(130023424&gr)===gr&&500>sr()-l_?Ea(l,0):a_|=f),Qr(l,h)}function gI(l,h){h===0&&(1&l.mode?(h=d1,!(130023424&(d1<<=1))&&(d1=4194304)):h=1);var f=Rr();(l=Li(l,h))!==null&&(uc(l,h,f),Qr(l,f))}function f7(l){var h=l.memoizedState,f=0;h!==null&&(f=h.retryLane),gI(l,f)}function p7(l,h){var f=0;switch(l.tag){case 13:var y=l.stateNode,v=l.memoizedState;v!==null&&(f=v.retryLane);break;case 19:y=l.stateNode;break;default:throw Error(s(314))}y!==null&&y.delete(h),gI(l,f)}function yI(l,h){return g1(l,h)}function m7(l,h,f,y){this.tag=l,this.key=f,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Dn(l,h,f,y){return new m7(l,h,f,y)}function g_(l){return!(!(l=l.prototype)||!l.isReactComponent)}function wo(l,h){var f=l.alternate;return f===null?((f=Dn(l.tag,h,l.key,l.mode)).elementType=l.elementType,f.type=l.type,f.stateNode=l.stateNode,f.alternate=l,l.alternate=f):(f.pendingProps=h,f.type=l.type,f.flags=0,f.subtreeFlags=0,f.deletions=null),f.flags=14680064&l.flags,f.childLanes=l.childLanes,f.lanes=l.lanes,f.child=l.child,f.memoizedProps=l.memoizedProps,f.memoizedState=l.memoizedState,f.updateQueue=l.updateQueue,h=l.dependencies,f.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},f.sibling=l.sibling,f.index=l.index,f.ref=l.ref,f}function Fm(l,h,f,y,v,E){var C=2;if(y=l,typeof l=="function")g_(l)&&(C=1);else if(typeof l=="string")C=5;else e:switch(l){case c:return Sa(f.children,v,E,h);case d:C=8,v|=8;break;case p:return(l=Dn(12,f,h,2|v)).elementType=p,l.lanes=E,l;case x:return(l=Dn(13,f,h,v)).elementType=x,l.lanes=E,l;case A:return(l=Dn(19,f,h,v)).elementType=A,l.lanes=E,l;case w:return Um(f,v,E,h);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case m:C=10;break e;case g:C=9;break e;case b:C=11;break e;case T:C=14;break e;case _:C=16,y=null;break e}throw Error(s(130,l==null?l:typeof l,""))}return(h=Dn(C,f,h,v)).elementType=l,h.type=y,h.lanes=E,h}function Sa(l,h,f,y){return(l=Dn(7,l,y,h)).lanes=f,l}function Um(l,h,f,y){return(l=Dn(22,l,y,h)).elementType=w,l.lanes=f,l.stateNode={isHidden:!1},l}function y_(l,h,f){return(l=Dn(6,l,null,h)).lanes=f,l}function v_(l,h,f){return(h=Dn(4,l.children!==null?l.children:[],l.key,h)).lanes=f,h.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},h}function g7(l,h,f,y,v){this.tag=h,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=At,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=p1(0),this.expirationTimes=p1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=p1(0),this.identifierPrefix=y,this.onRecoverableError=v,je&&(this.mutableSourceEagerHydrationData=null)}function vI(l,h,f,y,v,E,C,I,L){return l=new g7(l,h,f,I,L),h===1?(h=1,E===!0&&(h|=8)):h=0,E=Dn(3,null,null,h),l.current=E,E.stateNode=l,E.memoizedState={element:y,isDehydrated:f,cache:null,transitions:null,pendingSuspenseBoundaries:null},R1(E),l}function bI(l){if(!l)return po;e:{if(R(l=l._reactInternals)!==l||l.tag!==1)throw Error(s(170));var h=l;do{switch(h.tag){case 3:h=h.stateNode.context;break e;case 1:if(hn(h.type)){h=h.stateNode.__reactInternalMemoizedMergedChildContext;break e}}h=h.return}while(h!==null);throw Error(s(171))}if(l.tag===1){var f=l.type;if(hn(f))return UR(l,f,h)}return h}function _I(l){var h=l._reactInternals;if(h===void 0)throw typeof l.render=="function"?Error(s(188)):(l=Object.keys(l).join(","),Error(s(268,l)));return(l=K(h))===null?null:l.stateNode}function xI(l,h){if((l=l.memoizedState)!==null&&l.dehydrated!==null){var f=l.retryLane;l.retryLane=f!==0&&f<h?f:h}}function zm(l,h){xI(l,h),(l=l.alternate)&&xI(l,h)}function y7(l){return(l=K(l))===null?null:l.stateNode}function v7(){return null}return aI=function(l,h,f){if(l!==null)if(l.memoizedProps!==h.pendingProps||$r.current)Yr=!0;else{if(!(l.lanes&f)&&!(128&h.flags))return Yr=!1,function(le,Q,ie){switch(Q.tag){case 3:Hk(Q),Kl();break;case 5:uk(Q);break;case 1:hn(Q.type)&&Jp(Q);break;case 4:M1(Q,Q.stateNode.containerInfo);break;case 10:KR(0,Q.type._context,Q.memoizedProps.value);break;case 13:var be=Q.memoizedState;if(be!==null)return be.dehydrated!==null?(lt(Nt,1&Nt.current),Q.flags|=128,null):ie&Q.child.childLanes?Vk(le,Q,ie):(lt(Nt,1&Nt.current),(le=ws(le,Q,ie))!==null?le.sibling:null);lt(Nt,1&Nt.current);break;case 19:if(be=(ie&Q.childLanes)!=0,(128&le.flags)!=0){if(be)return Xk(le,Q,ie);Q.flags|=128}var Be=Q.memoizedState;if(Be!==null&&(Be.rendering=null,Be.tail=null,Be.lastEffect=null),lt(Nt,Nt.current),be)break;return null;case 22:case 23:return Q.lanes=0,Uk(le,Q,ie)}return ws(le,Q,ie)}(l,h,f);Yr=(131072&l.flags)!=0}else Yr=!1,yt&&1048576&h.flags&&XR(h,im,h.index);switch(h.lanes=0,h.tag){case 2:var y=h.type;wm(l,h),l=h.pendingProps;var v=Yl(h,Ar.current);Jl(h,f),v=F1(null,h,y,l,v,f);var E=U1();return h.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(h.tag=1,h.memoizedState=null,h.updateQueue=null,hn(y)?(E=!0,Jp(h)):E=!1,h.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,R1(h),v.updater=cm,h.stateNode=v,v._reactInternals=h,I1(h,y,l,f),h=$1(null,h,y,!0,E,f)):(h.tag=0,yt&&E&&b1(h),qr(null,h,v,f),h=h.child),h;case 16:y=h.elementType;e:{switch(wm(l,h),l=h.pendingProps,y=(v=y._init)(y._payload),h.type=y,v=h.tag=function(le){if(typeof le=="function")return g_(le)?1:0;if(le!=null){if((le=le.$$typeof)===b)return 11;if(le===T)return 14}return 2}(y),l=li(y,l),v){case 0:h=X1(null,h,y,l,f);break e;case 1:h=jk(null,h,y,l,f);break e;case 11:h=Lk(null,h,y,l,f);break e;case 14:h=Bk(null,h,y,li(y.type,l),f);break e}throw Error(s(306,y,""))}return h;case 0:return y=h.type,v=h.pendingProps,X1(l,h,y,v=h.elementType===y?v:li(y,v),f);case 1:return y=h.type,v=h.pendingProps,jk(l,h,y,v=h.elementType===y?v:li(y,v),f);case 3:e:{if(Hk(h),l===null)throw Error(s(387));y=h.pendingProps,v=(E=h.memoizedState).element,JR(l,h),hm(h,y,null,f);var C=h.memoizedState;if(y=C.element,je&&E.isDehydrated){if(E={element:y,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},h.updateQueue.baseState=E,h.memoizedState=E,256&h.flags){h=Gk(l,h,y,f,v=nu(Error(s(423)),h));break e}if(y!==v){h=Gk(l,h,y,f,v=nu(Error(s(424)),h));break e}for(je&&(Pn=un(h.stateNode.containerInfo),cn=h,yt=!0,ai=null,hc=!1),f=lk(h,null,y,f),h.child=f;f;)f.flags=-3&f.flags|4096,f=f.sibling}else{if(Kl(),y===v){h=ws(l,h,f);break e}qr(l,h,y,f)}h=h.child}return h;case 5:return uk(h),l===null&&w1(h),y=h.type,v=h.pendingProps,E=l!==null?l.memoizedProps:null,C=v.children,Ue(y,v)?C=null:E!==null&&Ue(y,E)&&(h.flags|=32),zk(l,h),qr(l,h,C,f),h.child;case 6:return l===null&&w1(h),null;case 13:return Vk(l,h,f);case 4:return M1(h,h.stateNode.containerInfo),y=h.pendingProps,l===null?h.child=eu(h,null,y,f):qr(l,h,y,f),h.child;case 11:return y=h.type,v=h.pendingProps,Lk(l,h,y,v=h.elementType===y?v:li(y,v),f);case 7:return qr(l,h,h.pendingProps,f),h.child;case 8:case 12:return qr(l,h,h.pendingProps.children,f),h.child;case 10:e:{if(y=h.type._context,v=h.pendingProps,E=h.memoizedProps,KR(0,y,C=v.value),E!==null)if(oi(E.value,C)){if(E.children===v.children&&!$r.current){h=ws(l,h,f);break e}}else for((E=h.child)!==null&&(E.return=h);E!==null;){var I=E.dependencies;if(I!==null){C=E.child;for(var L=I.firstContext;L!==null;){if(L.context===y){if(E.tag===1){(L=xs(-1,f&-f)).tag=2;var V=E.updateQueue;if(V!==null){var Z=(V=V.shared).pending;Z===null?L.next=L:(L.next=Z.next,Z.next=L),V.pending=L}}E.lanes|=f,(L=E.alternate)!==null&&(L.lanes|=f),C1(E.return,f,h),I.lanes|=f;break}L=L.next}}else if(E.tag===10)C=E.type===h.type?null:E.child;else if(E.tag===18){if((C=E.return)===null)throw Error(s(341));C.lanes|=f,(I=C.alternate)!==null&&(I.lanes|=f),C1(C,f,h),C=E.sibling}else C=E.child;if(C!==null)C.return=E;else for(C=E;C!==null;){if(C===h){C=null;break}if((E=C.sibling)!==null){E.return=C.return,C=E;break}C=C.return}E=C}qr(l,h,v.children,f),h=h.child}return h;case 9:return v=h.type,y=h.pendingProps.children,Jl(h,f),y=y(v=Rn(v)),h.flags|=1,qr(l,h,y,f),h.child;case 14:return v=li(y=h.type,h.pendingProps),Bk(l,h,y,v=li(y.type,v),f);case 15:return Fk(l,h,h.type,h.pendingProps,f);case 17:return y=h.type,v=h.pendingProps,v=h.elementType===y?v:li(y,v),wm(l,h),h.tag=1,hn(y)?(l=!0,Jp(h)):l=!1,Jl(h,f),ik(h,y,v),I1(h,y,v,f),$1(null,h,y,!0,l,f);case 19:return Xk(l,h,f);case 22:return Uk(l,h,f)}throw Error(s(156,h.tag))},e.attemptContinuousHydration=function(l){if(l.tag===13){var h=Li(l,134217728);h!==null&&Mn(h,l,134217728,Rr()),zm(l,134217728)}},e.attemptDiscreteHydration=function(l){if(l.tag===13){var h=Li(l,1);h!==null&&Mn(h,l,1,Rr()),zm(l,1)}},e.attemptHydrationAtCurrentPriority=function(l){if(l.tag===13){var h=_o(l),f=Li(l,h);f!==null&&Mn(f,l,h,Rr()),zm(l,h)}},e.attemptSynchronousHydration=function(l){switch(l.tag){case 3:var h=l.stateNode;if(h.current.memoizedState.isDehydrated){var f=lc(h.pendingLanes);f!==0&&(m1(h,1|f),Qr(h,sr()),!(6&Xe)&&(ou(),Oi()))}break;case 13:hI(function(){var y=Li(l,1);if(y!==null){var v=Rr();Mn(y,l,1,v)}}),zm(l,1)}},e.batchedUpdates=function(l,h){var f=Xe;Xe|=1;try{return l(h)}finally{(Xe=f)===0&&(ou(),rm&&Oi())}},e.createComponentSelector=function(l){return{$$typeof:Sm,value:l}},e.createContainer=function(l,h,f,y,v,E,C){return vI(l,h,!1,null,0,y,0,E,C)},e.createHasPseudoClassSelector=function(l){return{$$typeof:Am,value:l}},e.createHydrationContainer=function(l,h,f,y,v,E,C,I,L){return(l=vI(f,y,!0,l,0,E,0,I,L)).context=bI(null),f=l.current,(E=xs(y=Rr(),v=_o(f))).callback=h??null,go(f,E,v),l.current.lanes=v,uc(l,v,y),Qr(l,y),l},e.createPortal=function(l,h,f){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:u,key:y==null?null:""+y,children:l,containerInfo:h,implementation:f}},e.createRoleSelector=function(l){return{$$typeof:Cm,value:l}},e.createTestNameSelector=function(l){return{$$typeof:Pm,value:l}},e.createTextSelector=function(l){return{$$typeof:Rm,value:l}},e.deferredUpdates=function(l){var h=qe,f=zt.transition;try{return zt.transition=null,qe=16,l()}finally{qe=h,zt.transition=f}},e.discreteUpdates=function(l,h,f,y,v){var E=qe,C=zt.transition;try{return zt.transition=null,qe=1,l(h,f,y,v)}finally{qe=E,zt.transition=C,Xe===0&&ou()}},e.findAllNodes=s_,e.findBoundingRects=function(l,h){if(!Xr)throw Error(s(363));h=s_(l,h),l=[];for(var f=0;f<h.length;f++)l.push(Xp(h[f]));for(h=l.length-1;0<h;h--)for(var y=(f=l[h]).x,v=y+f.width,E=f.y,C=E+f.height,I=h-1;0<=I;I--)if(h!==I){var L=l[I],V=L.x,Z=V+L.width,le=L.y,Q=le+L.height;if(y>=V&&E>=le&&v<=Z&&C<=Q){l.splice(h,1);break}if(!(y!==V||f.width!==L.width||Q<E||le>C)){le>E&&(L.height+=le-E,L.y=E),Q<C&&(L.height=C-le),l.splice(h,1);break}if(!(E!==le||f.height!==L.height||Z<y||V>v)){V>y&&(L.width+=V-y,L.x=y),Z<v&&(L.width=v-V),l.splice(h,1);break}}return l},e.findHostInstance=_I,e.findHostInstanceWithNoPortals=function(l){return(l=(l=X(l))!==null?U(l):null)===null?null:l.stateNode},e.findHostInstanceWithWarning=function(l){return _I(l)},e.flushControlled=function(l){var h=Xe;Xe|=1;var f=zt.transition,y=qe;try{zt.transition=null,qe=1,l()}finally{qe=y,zt.transition=f,(Xe=h)===0&&(ou(),Oi())}},e.flushPassiveEffects=Ta,e.flushSync=hI,e.focusWithin=function(l,h){if(!Xr)throw Error(s(363));for(h=oI(l=r_(l),h),h=Array.from(h),l=0;l<h.length;){var f=h[l++];if(!pa(f)){if(f.tag===5&&Xl(f.stateNode))return!0;for(f=f.child;f!==null;)h.push(f),f=f.sibling}}return!1},e.getCurrentUpdatePriority=function(){return qe},e.getFindAllNodesFailureDescription=function(l,h){if(!Xr)throw Error(s(363));var f=0,y=[];l=[r_(l),0];for(var v=0;v<l.length;){var E=l[v++],C=l[v++],I=h[C];if((E.tag!==5||!pa(E))&&(n_(E,I)&&(y.push(i_(I)),++C>f&&(f=C)),C<h.length))for(E=E.child;E!==null;)l.push(E,C),E=E.sibling}if(f<h.length){for(l=[];f<h.length;f++)l.push(i_(h[f]));return`findAllNodes was able to match part of the selector:
  `+y.join(" > ")+`

No matching component was found for:
  `+l.join(" > ")}return null},e.getPublicRootInstance=function(l){return(l=l.current).child?l.child.tag===5?de(l.child.stateNode):l.child.stateNode:null},e.injectIntoDevTools=function(l){if(l={bundleType:l.bundleType,version:l.version,rendererPackageName:l.rendererPackageName,rendererConfig:l.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:y7,findFiberByHostInstance:l.findFiberByHostInstance||v7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")l=!1;else{var h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(h.isDisabled||!h.supportsFiber)l=!0;else{try{tm=h.inject(l),Di=h}catch{}l=!!h.checkDCE}}return l},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(l,h,f,y){if(!Xr)throw Error(s(363));l=s_(l,h);var v=qp(l,f,y).disconnect;return{disconnect:function(){v()}}},e.registerMutableSourceForHydration=function(l,h){var f=h._getVersion;f=f(h._source),l.mutableSourceEagerHydrationData==null?l.mutableSourceEagerHydrationData=[h,f]:l.mutableSourceEagerHydrationData.push(h,f)},e.runWithPriority=function(l,h){var f=qe;try{return qe=l,h()}finally{qe=f}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(l,h,f,y){var v=h.current,E=Rr(),C=_o(v);return f=bI(f),h.context===null?h.context=f:h.pendingContext=f,(h=xs(E,C)).payload={element:l},(y=y===void 0?null:y)!==null&&(h.callback=y),(l=go(v,h,C))!==null&&(Mn(l,v,C,E),um(l,v,C)),C},e}),wC}({get exports(){return $0},set exports(t){$0=t}}).exports=_4();var x4=$U($0),SC={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},q0={},tp={get exports(){return q0},set exports(t){q0=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?tp.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(tp.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(tp.exports=function(){return Date.now()-r},r=Date.now()):(tp.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(XU);var AC,Ml={},na={};({get exports(){return Ml},set exports(t){Ml=t}}).exports=(AC||(AC=1,na.ConcurrentRoot=1,na.ContinuousEventPriority=4,na.DefaultEventPriority=16,na.DiscreteEventPriority=1,na.IdleEventPriority=536870912,na.LegacyRoot=0),na);var w4={};function Q0(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function CC(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&cs(t.children).forEach(function(s){CC(s,t)})}function PC(t,e){var r;CC(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,a=o===void 0||o,u=n.destroyTexture,c=u!==void 0&&u,d=n.destroyBaseTexture,p=d!==void 0&&d;s&&e.destroy({children:a,texture:c,baseTexture:p})}function RC(t,e,r){It(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var kC=null,ei=x4({getRootHostContext:function(){return w4},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return Ml.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return Ml.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return Ml.ContinuousEventPriority;default:return Ml.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=g4[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=bC[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:Ai)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return kC=function(o,a,u,c){var d=null;for(var p in u)!c.hasOwnProperty(p)&&u.hasOwnProperty(p)&&u[p]!==null&&(p===W0||(d||(d=[]),d.push(p,null)));for(var m in c){var g=c[m],b=u!==null?u[m]:void 0;!c.hasOwnProperty(m)||g===b||g===null&&b===null||m===W0||(d||(d=[]),d.push(m,g))}return d}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){It(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:q0,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Q0.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Q0.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=Q0.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=PC.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=PC.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:RC,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=RC.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,a=t&&t.applyProps;typeof a!="function"&&(a=Ai),(a(t,n,i)||kC)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),E4=SC.dependencies["react-dom"].replace(/[^0-9.]/g,""),T4=SC.name;ei.injectIntoDevTools({bundleType:0,version:E4,rendererPackageName:T4,findHostInstanceByFiber:ei.findHostInstance});var eo=new Map;function IC(t){if(It(pr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),eo.has(t)){var e=eo.get(t).pixiFiberContainer;ei.updateContainer(null,e,void 0,function(){eo.delete(t)})}}function MC(t){It(pr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=eo.get(t);if(It(!e,"Pixi React: createRoot should only be called once"),!e){var r=ei.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return ei.updateContainer(n,r,void 0),ei.getPublicRootInstance(r)},unmount:function(){IC(t),eo.delete(t)}}},eo.set(t,e)}return e.reactRoot}function S4(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),eo.has(e)?n=eo.get(e).reactRoot:n=MC(e),n.render(t)}function A4(t){IC(t)}function Mh(){return Mh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mh.apply(this,arguments)}function C4(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function P4(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,dC(n.key),n)}}function ds(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function rp(t,e){return rp=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},rp(t,e)}function R4(t,e){if(e&&(on(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return ds(t)}function np(t){return np=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},np(t)}var ip=Kr.createContext(null),DC=ip.Provider,OC=ip.Consumer,k4=function(t){var e=Kr.forwardRef(function(r,n){return Kr.createElement(OC,null,function(i){return Kr.createElement(t,Mh({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function I4(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=np(t);if(e){var i=np(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return R4(this,r)}}function NC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NC(Object(r),!0).forEach(function(n){Ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var LC=function(){},BC={width:ct.number,height:ct.number,onMount:ct.func,onUnmount:ct.func,raf:ct.bool,renderOnComponentChange:ct.bool,children:ct.node,options:ct.shape({autoStart:ct.bool,width:ct.number,height:ct.number,useContextAlpha:ct.bool,backgroundAlpha:ct.number,autoDensity:ct.bool,antialias:ct.bool,preserveDrawingBuffer:ct.bool,resolution:ct.number,forceCanvas:ct.bool,backgroundColor:ct.number,clearBeforeRender:ct.bool,powerPreference:ct.string,sharedTicker:ct.bool,sharedLoader:ct.bool,resizeTo:function(t,e){var r=t[e];r&&It(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(on(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&It(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(on(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},M4={width:800,height:600,onMount:LC,onUnmount:LC,raf:!0,renderOnComponentChange:!0},K0=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&rp(s,o)})(i,Kr.Component);var e,r,n=I4(i);function i(){var s;C4(this,i);for(var o=arguments.length,a=new Array(o),u=0;u<o;u++)a[u]=arguments[u];return Ft(ds(s=n.call.apply(n,[this].concat(a))),"_canvas",null),Ft(ds(s),"_mediaQuery",null),Ft(ds(s),"_ticker",null),Ft(ds(s),"_needsUpdate",!0),Ft(ds(s),"app",null),Ft(ds(s),"updateSize",function(){var c=s.props,d=c.width,p=c.height,m=c.options;m!=null&&m.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(d,p)}),Ft(ds(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),Ft(ds(s),"renderStage",function(){var c=s.props,d=c.renderOnComponentChange;!c.raf&&d&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,a=s.width,u=s.height,c=s.options,d=s.raf,p=s.renderOnComponentChange;this.app=new kh(sp(sp({width:a,height:u,view:this._canvas},c),{},{autoDensity:(c==null?void 0:c.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[d?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=ei.createContainer(this.app.stage),ei.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),c!=null&&c.autoDensity&&window.matchMedia&&(c==null?void 0:c.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),p&&!d&&(this._ticker=new kt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,a){var u,c=this.props,d=c.width,p=c.height,m=c.raf,g=c.renderOnComponentChange,b=c.options;(b==null?void 0:b.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(b==null?void 0:b.resolution)&&(this.app.renderer.resolution=b.resolution,this.resetInteractionManager()),s.height===p&&s.width===d&&((u=s.options)===null||u===void 0?void 0:u.resolution)===(b==null?void 0:b.resolution)||this.updateSize(),s.raf!==m&&this.app.ticker[m?"start":"stop"](),ei.updateContainer(this.getChildren(),this.mountNode,this),s.width===d&&s.height===p&&s.raf===m&&s.renderOnComponentChange===g&&s.options===b||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return Kr.createElement(DC,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),ei.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,a=this,u=this.props.options;return u&&u.view?(It(u.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):Kr.createElement("canvas",Mh({},(s=this.props,o=[].concat(cs(Object.keys(BC)),cs(Object.keys(X0))),Object.keys(s).filter(function(c){return!o.includes(c)}).reduce(function(c,d){return sp(sp({},c),{},Ft({},d,s[d]))},{})),{ref:function(c){return a._canvas=c}}))}}])&&P4(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();K0.propTypes=BC,K0.defaultProps=M4;var D4=K0;function FC(){var t=H.useContext(ip);return It(t instanceof kh,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function O4(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=FC();It(typeof t=="function","`useTick` needs a callback function."),It(r instanceof kh,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=H.useRef(null);H.useEffect(function(){n.current=t},[t]),H.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function N4(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Z0(t,e,r){return Z0=N4()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var a=new(Function.bind.apply(n,o));return s&&rp(a,s.prototype),a},Z0.apply(null,arguments)}var L4=["children","apply"];function UC(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function op(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UC(Object(r),!0).forEach(function(n){Ft(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UC(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var B4=function(t,e){It(on(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,a=Js(i,L4),u=H.useRef(H.useMemo(function(){return r.map(function(p){var m,g=(a==null||(m=a[p])===null||m===void 0?void 0:m.construct)||[];return Z0(e[p],cs(g))})},[r])),c=H.useMemo(function(){return r.reduce(function(p,m,g){return op(op({},p),{},Ft({},m,u.current[g]))},{})},[r]),d=H.useMemo(function(){return Object.keys(a).filter(mC(pC(r))).reduce(function(p,m){return op(op({},p),{},Ft({},m,a[m]))},{})},[a,r]);return r.forEach(function(p,m){return Object.assign(u.current[m],a[p])}),o&&function(){for(var p=arguments.length,m=new Array(p),g=0;g<p;g++)m[g]=arguments[g];return m.every(function(b){return typeof b=="function"})}(o)&&o.call(t,c),Kr.createElement(t,Mh({},d,{filters:u.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:ct.node,apply:ct.func},n},F4=Gr.BitmapText,U4=Gr.Container,z4=Gr.Graphics,j4=Gr.NineSlicePlane,H4=Gr.ParticleContainer,G4=Gr.Sprite,V4=Gr.AnimatedSprite,W4=Gr.Text,X4=Gr.TilingSprite,$4=Gr.SimpleMesh,Y4=Gr.SimpleRope;const q4=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:V4,AppConsumer:OC,AppContext:ip,AppProvider:DC,BitmapText:F4,Container:U4,Graphics:z4,NineSlicePlane:j4,ParticleContainer:H4,PixiComponent:y4,PixiFiber:ei,SimpleMesh:$4,SimpleRope:Y4,Sprite:G4,Stage:D4,TYPES:Gr,Text:W4,TilingSprite:X4,applyDefaultProps:Ai,createRoot:MC,eventHandlers:Jf,render:S4,unmountComponentAtNode:A4,useApp:FC,useTick:O4,withFilters:B4,withPixiApp:k4},Symbol.toStringTag,{value:"Module"})),Q4=__(q4);xT.exports=Q4;var ia=xT.exports;const zC=new pt;mt.prototype._cacheAsBitmap=!1,mt.prototype._cacheData=null,mt.prototype._cacheAsBitmapResolution=null,mt.prototype._cacheAsBitmapMultisample=null;class K4{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(mt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new K4),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}),mt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},mt.prototype._initCachedDisplayObject=function(t){var p,m;if((p=this._cacheData)!=null&&p.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((m=this.filters)!=null&&m.length){const g=this.filters[0].padding;r.pad(g)}r.ceil(ue.RESOLUTION);const n=t.renderTexture.current,i=t.renderTexture.sourceFrame.clone(),s=t.renderTexture.destinationFrame.clone(),o=t.projection.transform,a=Ko.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:this.cacheAsBitmapMultisample??t.multisample}),u=`cacheAsBitmap_${Xo()}`;this._cacheData.textureCacheId=u,Ne.addToCache(a.baseTexture,u),he.addToCache(a,u);const c=this.transform.localTransform.copyTo(zC).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:a,clear:!0,transform:c,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=o,t.renderTexture.bind(n,i,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const d=new Ei(a);d.transform.worldTransform=this.transform.worldTransform,d.anchor.x=-(r.x/r.width),d.anchor.y=-(r.y/r.height),d.alpha=e,d._bounds=this._bounds,this._cacheData.sprite=d,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=d.containsPoint.bind(d)},mt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},mt.prototype._initCachedDisplayObjectCanvas=function(t){var c;if((c=this._cacheData)!=null&&c.sprite)return;const e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform;e.ceil(ue.RESOLUTION);const s=Ko.create({width:e.width,height:e.height}),o=`cacheAsBitmap_${Xo()}`;this._cacheData.textureCacheId=o,Ne.addToCache(s.baseTexture,o),he.addToCache(s,o);const a=zC;this.transform.localTransform.copyTo(a),a.invert(),a.tx-=e.x,a.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:s,clear:!0,transform:a,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const u=new Ei(s);u.transform.worldTransform=this.transform.worldTransform,u.anchor.x=-(e.x/e.width),u.anchor.y=-(e.y/e.height),u.alpha=r,u._bounds=this._bounds,this._cacheData.sprite=u,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=u.containsPoint.bind(u)},mt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},mt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},mt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ne.removeFromCache(this._cacheData.textureCacheId),he.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},mt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},mt.prototype.name=null,pr.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null},mt.prototype.getGlobalPosition=function(t=new Se,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var Z4=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class J4 extends fr{constructor(e=1){super(wF,Z4,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const e5={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},t5=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function r5(t){const e=e5[t],r=e.length;let n=t5,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let a=0;a<t;a++){let u=s.replace("%index%",a.toString());o=a,a>=r&&(o=t-a-1),u=u.replace("%value%",e[o].toString()),i+=u,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const n5=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function i5(t,e){const r=Math.ceil(t/2);let n=n5,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let a=s.replace("%index%",o.toString());a=a.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=a,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class J0 extends fr{constructor(e,r=8,n=4,i=fr.defaultResolution,s=5){const o=i5(s,e),a=r5(s);super(o,a),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let a=r,u=s;this.state.blend=!1,e.applyFilter(this,a,u,gi.CLEAR);for(let c=1;c<this.passes-1;c++){e.bindAndClear(a,gi.BLIT),this.uniforms.uSampler=u;const d=u;u=a,a=d,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,u,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class s5 extends fr{constructor(e=8,r=4,n=fr.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new J0(!0,e,r,n,i),this.blurYFilter=new J0(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const a=e.getFilterTexture();this.blurXFilter.apply(e,r,a,gi.CLEAR),this.blurYFilter.apply(e,a,n,i),e.returnFilterTexture(a)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var o5=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class eb extends fr{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(IA,o5,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=Ye.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,a=s(o),u=n+(1-n)*o,c=o*(1-n)-a*i,d=o*(1-n)+a*i,p=o*(1-n)+a*i,m=n+o*(1-n),g=o*(1-n)-a*i,b=o*(1-n)-a*i,x=o*(1-n)+a*i,A=n+o*(1-n),T=[u,c,d,0,0,p,m,g,0,0,b,x,A,0,0,0,0,0,1,0];this._loadMatrix(T,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456085,-.8545344976951645,-.09155508482755584,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491134,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593523,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964945,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.03770324983778316,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Ye.shared,[a,u,c]=o.setValue(n).toArray(),[d,p,m]=o.setValue(i).toArray(),g=[.3,.59,.11,0,0,a,u,c,e,0,d,p,m,r,0,a-d,u-p,c-m,0,0];this._loadMatrix(g,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}eb.prototype.grayscale=eb.prototype.greyscale;var a5=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,l5=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class u5 extends fr{constructor(e,r){const n=new pt;e.renderable=!1,super(l5,a5,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new Se(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),a=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&a!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/a,this.uniforms.rotation[3]=s.d/a),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var h5=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,c5=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class d5 extends fr{constructor(){super(c5,h5)}}var f5=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class p5 extends fr{constructor(e=.5,r=Math.random()){super(IA,f5,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const jC={AlphaFilter:J4,BlurFilter:s5,BlurFilterPass:J0,ColorMatrixFilter:eb,DisplacementFilter:u5,FXAAFilter:d5,NoiseFilter:p5};Object.entries(jC).forEach(([t,e])=>{Object.defineProperty(jC,t,{get(){return Ge("7.1.0",`filters.${t} has moved to ${t}`),e}})});class m5{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(kt.system.add(this.tickerUpdate,this,Zs.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(kt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const to=new m5;class Dh{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Dh.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new Se,this.page=new Se,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class ap extends Dh{constructor(){super(...arguments),this.client=new Se,this.movement=new Se,this.offset=new Se,this.global=new Se,this.screen=new Se}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,a,u,c,d,p,m,g,b,x){throw new Error("Method not implemented.")}}class ti extends ap{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class Dl extends ap{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}Dl.DOM_DELTA_PIXEL=0,Dl.DOM_DELTA_LINE=1,Dl.DOM_DELTA_PAGE=2;const g5=2048,y5=new Se,tb=new Se;class v5{constructor(e){this.dispatch=new sh,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){to.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,y5.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<g5&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let a=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(to.pauseUpdate=!1),e.interactiveChildren&&e.children){const d=e.children;for(let p=d.length-1;p>=0;p--){const m=d[p],g=this.hitTestMoveRecursive(m,this._isInteractive(r)?r:m.eventMode,n,i,s,o||s(e,n));if(g){if(g.length>0&&!g[g.length-1].parent)continue;const b=e.isInteractive();(g.length>0||b)&&(b&&this._allInteractiveElements.push(e),g.push(e)),this._hitElements.length===0&&(this._hitElements=g),a=!0}}}const u=this._isInteractive(r),c=e.isInteractive();return c&&c&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:a?this._hitElements:u&&!s(e,n)&&i(e,n)?c?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(to.pauseUpdate=!1),e.interactiveChildren&&e.children){const u=e.children;for(let c=u.length-1;c>=0;c--){const d=u[c],p=this.hitTestRecursive(d,this._isInteractive(r)?r:d.eventMode,n,i,s);if(p){if(p.length>0&&!p[p.length-1].parent)continue;const m=e.isInteractive();return(p.length>0||m)&&p.push(e),p}}}const o=this._isInteractive(r),a=e.isInteractive();return o&&i(e,n)?a?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,tb),!e.hitArea.contains(tb.x,tb.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof ti)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var u,c;if(!(e instanceof ti)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((u=i.overTargets)==null?void 0:u.length)>0&&s!==r.target){const d=e.type==="mousemove"?"mouseout":"pointerout",p=this.createPointerEvent(e,d,s);if(this.dispatchEvent(p,"pointerout"),n&&this.dispatchEvent(p,"mouseout"),!r.composedPath().includes(s)){const m=this.createPointerEvent(e,"pointerleave",s);for(m.eventPhase=m.AT_TARGET;m.target&&!r.composedPath().includes(m.target);)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseleave"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(p)}if(s!==r.target){const d=e.type==="mousemove"?"mouseover":"pointerover",p=this.clonePointerEvent(r,d);this.dispatchEvent(p,"pointerover"),n&&this.dispatchEvent(p,"mouseover");let m=s==null?void 0:s.parent;for(;m&&m!==this.rootTarget.parent&&m!==r.target;)m=m.parent;if(!m||m===this.rootTarget.parent){const g=this.clonePointerEvent(r,"pointerenter");for(g.eventPhase=g.AT_TARGET;g.target&&g.target!==s&&g.target!==this.rootTarget.parent;)g.currentTarget=g.target,this.notifyTarget(g),n&&this.notifyTarget(g,"mouseenter"),g.target=g.target.parent;this.freeEvent(g)}this.freeEvent(p)}const o=[],a=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),a&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),a&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),a&&o.push("globalmousemove"),this.cursor=(c=r.target)==null?void 0:c.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof ti)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof ti)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof ti)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const a=n.button===2;this.dispatchEvent(n,a?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let a=s;for(;a&&!n.composedPath().includes(a);){if(n.currentTarget=a,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const u=n.button===2;this.notifyTarget(n,u?"rightupoutside":"mouseupoutside")}a=a.parent}delete i.pressTargetsByButton[e.button],o=a}if(o){const a=this.clonePointerEvent(n,"click");a.target=o,a.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:a.target,timeStamp:r});const u=i.clicksByButton[e.button];if(u.target===a.target&&r-u.timeStamp<200?++u.clickCount:u.clickCount=1,u.target=a.target,u.timeStamp=r,a.detail=u.clickCount,a.pointerType==="mouse"){const c=a.button===2;this.dispatchEvent(a,c?"rightclick":"click")}else a.pointerType==="touch"&&this.dispatchEvent(a,"tap");this.dispatchEvent(a,"pointertap"),this.freeEvent(a)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof ti)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof Dl)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(ti);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(Dl);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(ti);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof ti&&r instanceof ti&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof ap&&r instanceof ap&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const b5=1,_5={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},rb=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new v5(null),to.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new ti(null),this.rootWheelEvent=new Dl(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...rb.defaultEventFeatures},{set:(e,r,n)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),e[r]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r,rb._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let r=0,n=e.length;r<n;r++){const i=e[r],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;to.pointerMoved();const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t);for(let i=0,s=n.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,n[i]);o.type+=r,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,to.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;to.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;to.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const i=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*i,t.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,n=t.changedTouches.length;r<n;r++){const i=t.changedTouches[r];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const r=t;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=b5),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=_5[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let Ol=rb;Ol.extension={name:"events",type:[ce.RendererSystem,ce.CanvasRendererSystem]},Ol.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0},we.add(Ol);function HC(t){return t==="dynamic"||t==="static"}const x5={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??HC(Ol.defaultEventMode)},set interactive(t){Ge("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Ol.defaultEventMode},set eventMode(t){this._internalInteractive=HC(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Dh))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};mt.mixin(x5);const w5={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};mt.mixin(w5);const E5=9,lp=100,T5=0,S5=0,GC=2,VC=1,A5=-1e3,C5=-1e3,P5=2;class WC{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(is.tablet||is.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${lp}px`,r.style.height=`${lp}px`,r.style.position="absolute",r.style.top=`${T5}px`,r.style.left=`${S5}px`,r.style.zIndex=GC.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${VC}px`,e.style.height=`${VC}px`,e.style.position="absolute",e.style.top=`${A5}px`,e.style.left=`${C5}px`,e.style.zIndex=P5.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(is.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:a,resolution:u}=this.renderer,c=i/o*u,d=s/a*u;let p=this.div;p.style.left=`${r}px`,p.style.top=`${n}px`,p.style.width=`${o}px`,p.style.height=`${a}px`;for(let m=0;m<this.children.length;m++){const g=this.children[m];if(g.renderId!==this.renderId)g._accessibleActive=!1,_l(this.children,m,1),this.div.removeChild(g._accessibleDiv),this.pool.push(g._accessibleDiv),g._accessibleDiv=null,m--;else{p=g._accessibleDiv;let b=g.hitArea;const x=g.worldTransform;g.hitArea?(p.style.left=`${(x.tx+b.x*x.a)*c}px`,p.style.top=`${(x.ty+b.y*x.d)*d}px`,p.style.width=`${b.width*x.a*c}px`,p.style.height=`${b.height*x.d*d}px`):(b=g.getBounds(),this.capHitArea(b),p.style.left=`${b.x*c}px`,p.style.top=`${b.y*d}px`,p.style.width=`${b.width*c}px`,p.style.height=`${b.height*d}px`,p.title!==g.accessibleTitle&&g.accessibleTitle!==null&&(p.title=g.accessibleTitle),p.getAttribute("aria-label")!==g.accessibleHint&&g.accessibleHint!==null&&p.setAttribute("aria-label",g.accessibleHint)),(g.accessibleTitle!==p.title||g.tabIndex!==p.tabIndex)&&(p.title=g.accessibleTitle,p.tabIndex=g.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${lp}px`,r.style.height=`${lp}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=GC.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Dh(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===E5&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}WC.extension={name:"accessibility",type:[ce.RendererPlugin,ce.CanvasRendererPlugin]},we.add(WC);var an=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(an||{});const up={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let fs,Nl;function XC(){Nl={s3tc:fs.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:fs.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:fs.getExtension("WEBGL_compressed_texture_etc"),etc1:fs.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:fs.getExtension("WEBGL_compressed_texture_pvrtc")||fs.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:fs.getExtension("WEBGL_compressed_texture_atc"),astc:fs.getExtension("WEBGL_compressed_texture_astc")}}const R5={extension:{type:ce.DetectionParser,priority:2},test:async()=>{const t=ue.ADAPTER.createCanvas().getContext("webgl");return t?(fs=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{Nl||XC();const e=[];for(const r in Nl)Nl[r]&&e.push(r);return[...e,...t]},remove:async t=>(Nl||XC(),t.filter(e=>!(e in Nl)))};we.add(R5);class k5 extends yh{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new Jv(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Jv(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class sa extends k5{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=sa._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||sa._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let s=0,o=this.levels;s<o;s++){const{levelID:a,levelWidth:u,levelHeight:c,levelBuffer:d}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,a,this.format,u,c,0,d)}return!0}onBlobLoaded(){this._levelBuffers=sa._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,a){const u=new Array(n);let c=e.byteOffset,d=o,p=a,m=d+i-1&~(i-1),g=p+s-1&~(s-1),b=m*g*up[r];for(let x=0;x<n;x++)u[x]={levelID:x,levelWidth:n>1?d:m,levelHeight:n>1?p:g,levelBuffer:new Uint8Array(e.buffer,c,b)},c+=b,d=d>>1||1,p=p>>1||1,m=d+i-1&~(i-1),g=p+s-1&~(s-1),b=m*g*up[r];return u}}const nb=4,hp=124,I5=32,$C=20,M5=542327876,cp={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},D5={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},dp={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},O5=1,N5=2,L5=4,B5=64,F5=512,U5=131072,z5=827611204,j5=861165636,H5=894720068,G5=808540228,V5=4,W5={[z5]:an.COMPRESSED_RGBA_S3TC_DXT1_EXT,[j5]:an.COMPRESSED_RGBA_S3TC_DXT3_EXT,[H5]:an.COMPRESSED_RGBA_S3TC_DXT5_EXT},X5={70:an.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:an.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:an.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:an.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:an.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:an.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:an.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:an.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:an.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function $5(t){const e=new Uint32Array(t);if(e[0]!==M5)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,hp/Uint32Array.BYTES_PER_ELEMENT),n=r[cp.HEIGHT],i=r[cp.WIDTH],s=r[cp.MIPMAP_COUNT],o=new Uint32Array(t,cp.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,I5/Uint32Array.BYTES_PER_ELEMENT),a=o[O5];if(a&L5){const u=o[D5.FOURCC];if(u!==G5){const _=W5[u],w=nb+hp,S=new Uint8Array(t,w);return[new sa(S,{format:_,width:i,height:n,levels:s})]}const c=nb+hp,d=new Uint32Array(e.buffer,c,$C/Uint32Array.BYTES_PER_ELEMENT),p=d[dp.DXGI_FORMAT],m=d[dp.RESOURCE_DIMENSION],g=d[dp.MISC_FLAG],b=d[dp.ARRAY_SIZE],x=X5[p];if(x===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${p}`);if(g===V5)throw new Error("DDSParser does not support cubemap textures");if(m===6)throw new Error("DDSParser does not supported 3D texture data");const A=new Array,T=nb+hp+$C;if(b===1)A.push(new Uint8Array(t,T));else{const _=up[x];let w=0,S=i,P=n;for(let k=0;k<s;k++){const R=Math.max(1,S+3&-4),F=Math.max(1,P+3&-4),X=R*F*_;w+=X,S=S>>>1,P=P>>>1}let D=T;for(let k=0;k<b;k++)A.push(new Uint8Array(t,D,w)),D+=w}return A.map(_=>new sa(_,{format:x,width:i,height:n,levels:s}))}throw a&B5?new Error("DDSParser does not support uncompressed texture data."):a&F5?new Error("DDSParser does not supported YUV uncompressed texture data."):a&U5?new Error("DDSParser does not support single-channel (lumninance) texture data!"):a&N5?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const YC=[171,75,84,88,32,49,49,187,13,10,26,10],Y5=67305985,ri={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},ib=64,qC={[Te.UNSIGNED_BYTE]:1,[Te.UNSIGNED_SHORT]:2,[Te.INT]:4,[Te.UNSIGNED_INT]:4,[Te.FLOAT]:4,[Te.HALF_FLOAT]:8},q5={[se.RGBA]:4,[se.RGB]:3,[se.RG]:2,[se.RED]:1,[se.LUMINANCE]:1,[se.LUMINANCE_ALPHA]:2,[se.ALPHA]:1},Q5={[Te.UNSIGNED_SHORT_4_4_4_4]:2,[Te.UNSIGNED_SHORT_5_5_5_1]:2,[Te.UNSIGNED_SHORT_5_6_5]:2};function K5(t,e,r=!1){const n=new DataView(e);if(!Z5(t,n))return null;const i=n.getUint32(ri.ENDIANNESS,!0)===Y5,s=n.getUint32(ri.GL_TYPE,i),o=n.getUint32(ri.GL_FORMAT,i),a=n.getUint32(ri.GL_INTERNAL_FORMAT,i),u=n.getUint32(ri.PIXEL_WIDTH,i),c=n.getUint32(ri.PIXEL_HEIGHT,i)||1,d=n.getUint32(ri.PIXEL_DEPTH,i)||1,p=n.getUint32(ri.NUMBER_OF_ARRAY_ELEMENTS,i)||1,m=n.getUint32(ri.NUMBER_OF_FACES,i),g=n.getUint32(ri.NUMBER_OF_MIPMAP_LEVELS,i),b=n.getUint32(ri.BYTES_OF_KEY_VALUE_DATA,i);if(c===0||d!==1)throw new Error("Only 2D textures are supported");if(m!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");const x=4,A=4,T=u+3&-4,_=c+3&-4,w=new Array(p);let S=u*c;s===0&&(S=T*_);let P;if(s!==0?qC[s]?P=qC[s]*q5[o]:P=Q5[s]:P=up[a],P===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const D=r?ez(n,b,i):null;let k=S*P,R=u,F=c,X=T,K=_,$=ib+b;for(let U=0;U<g;U++){const j=n.getUint32($,i);let ae=$+4;for(let de=0;de<p;de++){let ne=w[de];ne||(ne=w[de]=new Array(g)),ne[U]={levelID:U,levelWidth:g>1||s!==0?R:X,levelHeight:g>1||s!==0?F:K,levelBuffer:new Uint8Array(e,ae,k)},ae+=k}$+=j+4,$=$%4!==0?$+4-$%4:$,R=R>>1||1,F=F>>1||1,X=R+x-1&~(x-1),K=F+A-1&~(A-1),k=X*K*P}return s!==0?{uncompressed:w.map(U=>{let j=U[0].levelBuffer,ae=!1;return s===Te.FLOAT?j=new Float32Array(U[0].levelBuffer.buffer,U[0].levelBuffer.byteOffset,U[0].levelBuffer.byteLength/4):s===Te.UNSIGNED_INT?(ae=!0,j=new Uint32Array(U[0].levelBuffer.buffer,U[0].levelBuffer.byteOffset,U[0].levelBuffer.byteLength/4)):s===Te.INT&&(ae=!0,j=new Int32Array(U[0].levelBuffer.buffer,U[0].levelBuffer.byteOffset,U[0].levelBuffer.byteLength/4)),{resource:new yh(j,{width:U[0].levelWidth,height:U[0].levelHeight}),type:s,format:ae?J5(o):o}}),kvData:D}:{compressed:w.map(U=>new sa(null,{format:a,width:u,height:c,levels:g,levelBuffers:U})),kvData:D}}function Z5(t,e){for(let r=0;r<YC.length;r++)if(e.getUint8(r)!==YC[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function J5(t){switch(t){case se.RGBA:return se.RGBA_INTEGER;case se.RGB:return se.RGB_INTEGER;case se.RG:return se.RG_INTEGER;case se.RED:return se.RED_INTEGER;default:return t}}function ez(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(ib+i,r),o=ib+i+4,a=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let u=0;for(;u<s&&t.getUint8(o+u)!==0;u++);if(u===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const c=new TextDecoder().decode(new Uint8Array(t.buffer,o,u)),d=new DataView(t.buffer,o+u+1,s-u-1);n.set(c,d),i+=4+s+a}return n}const tz={extension:{type:ce.LoadParser,priority:Ti.High},name:"loadDDS",test(t){return Jo(t,".dds")},async load(t,e,r){const n=await(await ue.ADAPTER.fetch(t)).arrayBuffer(),i=$5(n).map(s=>{const o=new Ne(s,{mipmap:mi.OFF,alphaMode:Gn.NO_PREMULTIPLIED_ALPHA,resolution:qs(t),...e.data});return Gf(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};we.add(tz);const rz={extension:{type:ce.LoadParser,priority:Ti.High},name:"loadKTX",test(t){return Jo(t,".ktx")},async load(t,e,r){const n=await(await ue.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=K5(t,n),a=i??s,u={mipmap:mi.OFF,alphaMode:Gn.NO_PREMULTIPLIED_ALPHA,resolution:qs(t),...e.data},c=a.map(d=>{a===s&&Object.assign(u,{type:d.type,format:d.format});const p=new Ne(d,u);return p.ktxKeyValueData=o,Gf(p,r,t)});return c.length===1?c[0]:c},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};we.add(rz);const nz={extension:ce.ResolveParser,test:t=>{const e=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(e)},parse:t=>{var e,r;if(t.split("?")[0].split(".").pop()==="ktx"){const n=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(n.some(i=>t.endsWith(i)))return{resolution:parseFloat(((e=ue.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:n.find(i=>t.endsWith(i)),src:t}}return{resolution:parseFloat(((r=ue.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:t.split(".").pop(),src:t}}};we.add(nz);const iz=new Le,sz=4,Oh=class{constructor(t){this.renderer=t}async image(t,e,r){const n=new Image;return n.src=await this.base64(t,e,r),n}async base64(t,e,r){const n=this.canvas(t);if(n.toBlob!==void 0)return new Promise((i,s)=>{n.toBlob(o=>{if(!o){s(new Error("ICanvas.toBlob failed!"));return}const a=new FileReader;a.onload=()=>i(a.result),a.onerror=s,a.readAsDataURL(o)},e,r)});if(n.toDataURL!==void 0)return n.toDataURL(e,r);if(n.convertToBlob!==void 0){const i=await n.convertToBlob({type:e,quality:r});return new Promise((s,o)=>{const a=new FileReader;a.onload=()=>s(a.result),a.onerror=o,a.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);s&&Oh._flipY(r,n,i),Oh._unpremultiplyAlpha(r);const o=new uB(n,i,1),a=new ImageData(new Uint8ClampedArray(r.buffer),n,i);return o.context.putImageData(a,0,0),o.canvas}pixels(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);return s&&Oh._flipY(r,n,i),Oh._unpremultiplyAlpha(r),r}_rawPixels(t,e){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let n,i=!1,s,o=!1;if(t&&(t instanceof Ko?s=t:(s=r.generateTexture(t,{resolution:r.resolution,multisample:r.multisample}),o=!0)),s){if(n=s.baseTexture.resolution,e=e??s.frame,i=!1,!o){r.renderTexture.bind(s);const p=s.framebuffer.glFramebuffers[r.CONTEXT_UID];p.blitFramebuffer&&r.framebuffer.bind(p.blitFramebuffer)}}else n=r.resolution,e||(e=iz,e.width=r.width/n,e.height=r.height/n),i=!0,r.renderTexture.bind();const a=Math.round(e.width*n),u=Math.round(e.height*n),c=new Uint8Array(sz*a*u),d=r.gl;return d.readPixels(Math.round(e.x*n),Math.round(e.y*n),a,u,d.RGBA,d.UNSIGNED_BYTE,c),o&&(s==null||s.destroy(!0)),{pixels:c,width:a,height:u,flipY:i}}destroy(){this.renderer=null}static _flipY(t,e,r){const n=e<<2,i=r>>1,s=new Uint8Array(n);for(let o=0;o<i;o++){const a=o*n,u=(r-o-1)*n;s.set(t.subarray(a,a+n)),t.copyWithin(a,u,u+n),t.set(s,u)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const n=t[r+3];if(n!==0){const i=255.001/n;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}};let QC=Oh;QC.extension={name:"extract",type:ce.RendererSystem},we.add(QC);class oz{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function az(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof he){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function lz(t,e){if(t.baseTexture instanceof Ne){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function uz(t,e){if(t._texture&&t._texture instanceof he){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function hz(t,e){return e instanceof Bf?(e.updateText(!0),!0):!1}function cz(t,e){if(e instanceof us){const r=e.toFontString();return mr.measureFont(r),!0}return!1}function dz(t,e){if(t instanceof Bf){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function fz(t,e){return t instanceof us?(e.includes(t)||e.push(t),!0):!1}const KC=class{constructor(t){this.limiter=new oz(KC.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(dz),this.registerFindHook(fz),this.registerFindHook(az),this.registerFindHook(lz),this.registerFindHook(uz),this.registerUploadHook(hz),this.registerUploadHook(cz)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,kt.system.addOnce(this.tick,this,Zs.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)kt.system.addOnce(this.tick,this,Zs.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof pr)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&kt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let fp=KC;fp.uploadsPerFrame=4,Object.defineProperties(ue,{UPLOADS_PER_FRAME:{get(){return fp.uploadsPerFrame},set(t){Ge("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),fp.uploadsPerFrame=t}}});function ZC(t,e){return e instanceof Ne?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function pz(t,e){if(!(e instanceof ra))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&ZC(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function mz(t,e){return t instanceof ra?(e.push(t),!0):!1}class JC extends fp{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(mz),this.registerUploadHook(ZC),this.registerUploadHook(pz)}}JC.extension={name:"prepare",type:ce.RendererSystem},we.add(JC);const Nh=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof he?t:null,this.baseTexture=t instanceof Ne?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=qs(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=Nh.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=Nh.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const n=this._frameKeys[e],i=this._frames[n],s=i.frame;if(s){let o=null,a=null;const u=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,c=new Le(0,0,Math.floor(u.w)/this.resolution,Math.floor(u.h)/this.resolution);i.rotated?o=new Le(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new Le(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(a=new Le(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new he(this.baseTexture,o,c,a,i.rotated?2:0,i.anchor,i.borders),he.addToCache(this.textures[n],n)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const n=t[e][r];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*Nh.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*Nh.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let sb=Nh;sb.BATCH_SIZE=1e3;const gz=["jpg","png","jpeg","avif","webp"];function e2(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=Tr.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const a=e2([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,a)})}return n}const yz={extension:ce.Asset,cache:{test:t=>t instanceof sb,getCacheableAssets:(t,e)=>e2(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&gz.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=ue.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:ce.LoadParser,priority:Ti.Normal},async testParse(t,e){return Tr.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var u,c;let n=Tr.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=M0(i,e.src);const s=(await r.load([i]))[i],o=new sb(s.baseTexture,t,e.src);await o.parse();const a=(u=t==null?void 0:t.meta)==null?void 0:u.related_multi_packs;if(Array.isArray(a)){const d=[];for(const m of a){if(typeof m!="string")continue;let g=n+m;(c=e.data)!=null&&c.ignoreMultiPack||(g=M0(g,e.src),d.push(r.load({src:g,data:{ignoreMultiPack:!0}})))}const p=await Promise.all(d);o.linkedSheets=p,p.forEach(m=>{m.linkedSheets=[o].concat(o.linkedSheets.filter(g=>g!==m))})}return o},unload(t){t.destroy(!0)}}};we.add(yz);const Ll=class extends us{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new Ll(Object.keys(Ll.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete Ll.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:r}=Ll;if(r[t]){const n=r[t];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return ue.ADAPTER.fetch(t).then(n=>n.blob()).then(async n=>new Promise((i,s)=>{const o=URL.createObjectURL(n),a=new FileReader;a.onload=()=>i([o,a.result]),a.onerror=s,a.readAsDataURL(n)})).then(async([n,i])=>{const s=Object.assign({family:Tr.basename(t,Tr.extname(t)),weight:"normal",style:"normal",src:n,dataSrc:i,refs:1,originalUrl:t,fontFace:null},e);r[t]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(r=>!this._overrides.includes(r));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(r=>this._overrides.includes(r));e.length>0&&(this._overrides=this._overrides.filter(r=>!e.includes(r)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=sB(t)),typeof t=="number"?iB(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const i=`${r}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${i} ${t}`}reset(){Object.assign(this,Ll.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=ue.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let Lh=Ll;Lh.availableFonts={},Lh.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const Bl=class extends Ei{constructor(t="",e={}){super(he.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const r=new Image,n=he.from(r,{scaleMode:ue.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new Le,n.trim=new Le,this.texture=n;const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg"),a=document.createElementNS(i,"foreignObject"),u=document.createElementNS(s,"div"),c=document.createElementNS(s,"style");a.setAttribute("width","10000"),a.setAttribute("height","10000"),a.style.overflow="hidden",o.appendChild(a),this.maxWidth=Bl.defaultMaxWidth,this.maxHeight=Bl.defaultMaxHeight,this._domElement=u,this._styleElement=c,this._svgRoot=o,this._foreignObject=a,this._foreignObject.appendChild(c),this._foreignObject.appendChild(u),this._image=r,this._loadImage=new Image,this._autoResolution=Bl.defaultAutoResolution,this._resolution=Bl.defaultResolution??ue.RESOLUTION,this.text=t,this.style=e}measureText(t){var a,u;const{text:e,style:r,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:r.toCSS(n)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(i.width)),o=Math.min(this.maxHeight,Math.ceil(i.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(a=this._style)==null?void 0:a.toCSS(n)}),this._styleElement.textContent=(u=this._style)==null?void 0:u.toGlobalCSS()),{width:s+r.padding*2,height:o+r.padding*2}}async updateText(t=!0){const{style:e,_image:r,_loadImage:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:i,height:s}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,s)),this._loading||(this._loading=!0,await new Promise(o=>{n.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,r.src=n.src,n.onload=null,n.src="",this.updateTexture(),o()};const a=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(a)}`}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:n}=this,{padding:i}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=r.width/n,e.trim.height=e._frame.height=r.height/n,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,n),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var r,n,i,s,o;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},Bl.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=e,(n=this._svgRoot)==null||n.remove(),this._svgRoot=e,(i=this._domElement)==null||i.remove(),this._domElement=e,(s=this._foreignObject)==null||s.remove(),this._foreignObject=e,(o=this._styleElement)==null||o.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=$s(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=$s(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof Lh?(this.ownsStyle=!1,this._style=t):t instanceof us?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=Lh.from(t)):(this.ownsStyle=!0,this._style=new Lh(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let pp=Bl;pp.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},pp.defaultMaxWidth=2024,pp.defaultMaxHeight=2024,pp.defaultAutoResolution=!0;const vz="/assets/physics_engine_bg-6d445f39.wasm",bz=async(t={},e)=>{let r;if(e.startsWith("data:")){const n=e.replace(/^data:.*?base64,/,"");let i;if(typeof Buffer=="function"&&typeof Buffer.from=="function")i=Buffer.from(n,"base64");else if(typeof atob=="function"){const s=atob(n);i=new Uint8Array(s.length);for(let o=0;o<s.length;o++)i[o]=s.charCodeAt(o)}else throw new Error("Cannot decode base64-encoded data URL");r=await WebAssembly.instantiate(i,t)}else{const n=await fetch(e),i=n.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&i.startsWith("application/wasm"))r=await WebAssembly.instantiateStreaming(n,t);else{const s=await n.arrayBuffer();r=await WebAssembly.instantiate(s,t)}}return r.instance.exports};let st;function _z(t){st=t}const ps=new Array(128).fill(void 0);ps.push(void 0,null,!0,!1);function Bh(t){return ps[t]}let Fh=ps.length;function xz(t){t<132||(ps[t]=Fh,Fh=t)}function oa(t){const e=Bh(t);return xz(t),e}function Uh(t){Fh===ps.length&&ps.push(ps.length+1);const e=Fh;return Fh=ps[e],ps[e]=t,e}const wz=typeof TextDecoder>"u"?(0,b_.require)("util").TextDecoder:TextDecoder;let t2=new wz("utf-8",{ignoreBOM:!0,fatal:!0});t2.decode();let mp=null;function gp(){return(mp===null||mp.byteLength===0)&&(mp=new Uint8Array(st.memory.buffer)),mp}function r2(t,e){return t=t>>>0,t2.decode(gp().subarray(t,t+e))}function ob(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const i=t.description;return i==null?"Symbol":`Symbol(${i})`}if(e=="function"){const i=t.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(t)){const i=t.length;let s="[";i>0&&(s+=ob(t[0]));for(let o=1;o<i;o++)s+=", "+ob(t[o]);return s+="]",s}const r=/\[object ([^\]]+)\]/.exec(toString.call(t));let n;if(r.length>1)n=r[1];else return toString.call(t);if(n=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:n}let yp=0;const Ez=typeof TextEncoder>"u"?(0,b_.require)("util").TextEncoder:TextEncoder;let vp=new Ez("utf-8");const Tz=typeof vp.encodeInto=="function"?function(t,e){return vp.encodeInto(t,e)}:function(t,e){const r=vp.encode(t);return e.set(r),{read:t.length,written:r.length}};function n2(t,e,r){if(r===void 0){const a=vp.encode(t),u=e(a.length,1)>>>0;return gp().subarray(u,u+a.length).set(a),yp=a.length,u}let n=t.length,i=e(n,1)>>>0;const s=gp();let o=0;for(;o<n;o++){const a=t.charCodeAt(o);if(a>127)break;s[i+o]=a}if(o!==n){o!==0&&(t=t.slice(o)),i=r(i,n,n=o+t.length*3,1)>>>0;const a=gp().subarray(i+o,i+n),u=Tz(t,a);o+=u.written}return yp=o,i}let bp=null;function i2(){return(bp===null||bp.byteLength===0)&&(bp=new Int32Array(st.memory.buffer)),bp}class _p{static __wrap(e){e=e>>>0;const r=Object.create(_p.prototype);return r.__wbg_ptr=e,r}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();st.__wbg_universe_free(e)}constructor(e,r){const n=st.universe_new(e,r);return _p.__wrap(n)}time_step(e){st.universe_time_step(this.__wbg_ptr,e)}reset(){st.universe_reset(this.__wbg_ptr)}add_planet(e,r,n,i,s,o,a){const u=n2(a,st.__wbindgen_malloc,st.__wbindgen_realloc),c=yp;st.universe_add_planet(this.__wbg_ptr,e,r,n,i,s,o,u,c)}remove_planet(){st.universe_remove_planet(this.__wbg_ptr)}rebuild(){st.universe_rebuild(this.__wbg_ptr)}get_planets(){const e=st.universe_get_planets(this.__wbg_ptr);return oa(e)}get_planet_count(){return st.universe_get_planet_count(this.__wbg_ptr)}set_gravity(e){st.__wbg_set_vec2_x(this.__wbg_ptr,e)}get_gravity(){return st.__wbg_get_vec2_x(this.__wbg_ptr)}set_speed(e){st.__wbg_set_vec2_y(this.__wbg_ptr,e)}get_speed(){return st.__wbg_get_vec2_y(this.__wbg_ptr)}set_power(e){st.universe_set_power(this.__wbg_ptr,e)}get_power(){return st.universe_get_power(this.__wbg_ptr)}set_mass(e){st.universe_set_mass(this.__wbg_ptr,e)}get_mass(){return st.universe_get_mass(this.__wbg_ptr)}get_quad_tree(){const e=st.universe_get_quad_tree(this.__wbg_ptr);return oa(e)}set_theta(e){st.universe_set_theta(this.__wbg_ptr,e)}get_dimensions(){const e=st.universe_get_dimensions(this.__wbg_ptr);return oa(e)}set_dimensions(e,r){st.universe_set_dimensions(this.__wbg_ptr,e,r)}}function Sz(t){oa(t)}function Az(t){return Uh(t)}function Cz(t){const e=Bh(t);return Uh(e)}function Pz(t,e){const r=r2(t,e);return Uh(r)}function Rz(t,e,r){Bh(t)[oa(e)]=oa(r)}function kz(){const t=new Array;return Uh(t)}function Iz(){const t=new Object;return Uh(t)}function Mz(t,e,r){Bh(t)[e>>>0]=oa(r)}function Dz(t,e){const r=ob(Bh(e)),n=n2(r,st.__wbindgen_malloc,st.__wbindgen_realloc),i=yp;i2()[t/4+1]=i,i2()[t/4+0]=n}function Oz(t,e){throw new Error(r2(t,e))}URL=globalThis.URL;const Fe=await bz({"./physics_engine_bg.js":{__wbindgen_object_drop_ref:Sz,__wbindgen_number_new:Az,__wbindgen_object_clone_ref:Cz,__wbindgen_string_new:Pz,__wbg_set_20cbc34131e76824:Rz,__wbg_new_898a68150f225f2e:kz,__wbg_new_b51585de1b234aff:Iz,__wbg_set_502d29070ea18557:Mz,__wbindgen_debug_string:Dz,__wbindgen_throw:Oz}},vz),Nz=Fe.memory,Lz=Fe.__wbg_vec2_free,Bz=Fe.__wbg_get_vec2_x,Fz=Fe.__wbg_set_vec2_x,Uz=Fe.__wbg_get_vec2_y,zz=Fe.__wbg_set_vec2_y,jz=Fe.vec2_new,Hz=Fe.vec2_divide,Gz=Fe.vec2_distance_from,Vz=Fe.__wbg_planet_free,Wz=Fe.planet_new,Xz=Fe.planet_force_from_quad,$z=Fe.planet_force_from_planet,Yz=Fe.planet_move_planet,qz=Fe.planet_get_data,Qz=Fe.__wbg_quadtreenode_free,Kz=Fe.__wbg_universe_free,Zz=Fe.universe_new,Jz=Fe.universe_time_step,ej=Fe.universe_reset,tj=Fe.universe_add_planet,rj=Fe.universe_remove_planet,nj=Fe.universe_rebuild,ij=Fe.universe_get_planets,sj=Fe.universe_get_planet_count,oj=Fe.universe_set_power,aj=Fe.universe_get_power,lj=Fe.universe_set_mass,uj=Fe.universe_get_mass,hj=Fe.universe_get_quad_tree,cj=Fe.universe_set_theta,dj=Fe.universe_get_dimensions,fj=Fe.universe_set_dimensions,pj=Fe.universe_set_gravity,mj=Fe.universe_set_speed,gj=Fe.universe_get_gravity,yj=Fe.universe_get_speed,vj=Fe.__wbindgen_malloc,bj=Fe.__wbindgen_realloc,_j=Object.freeze(Object.defineProperty({__proto__:null,__wbg_get_vec2_x:Bz,__wbg_get_vec2_y:Uz,__wbg_planet_free:Vz,__wbg_quadtreenode_free:Qz,__wbg_set_vec2_x:Fz,__wbg_set_vec2_y:zz,__wbg_universe_free:Kz,__wbg_vec2_free:Lz,__wbindgen_malloc:vj,__wbindgen_realloc:bj,memory:Nz,planet_force_from_planet:$z,planet_force_from_quad:Xz,planet_get_data:qz,planet_move_planet:Yz,planet_new:Wz,universe_add_planet:tj,universe_get_dimensions:dj,universe_get_gravity:gj,universe_get_mass:uj,universe_get_planet_count:sj,universe_get_planets:ij,universe_get_power:aj,universe_get_quad_tree:hj,universe_get_speed:yj,universe_new:Zz,universe_rebuild:nj,universe_remove_planet:rj,universe_reset:ej,universe_set_dimensions:fj,universe_set_gravity:pj,universe_set_mass:lj,universe_set_power:oj,universe_set_speed:mj,universe_set_theta:cj,universe_time_step:Jz,vec2_distance_from:Gz,vec2_divide:Hz,vec2_new:jz},Symbol.toStringTag,{value:"Module"}));_z(_j);function xj({planets:t,quadTree:e}){const r=H.useCallback(n=>{n.clear();for(let i=0;i<t.length;i++)n.beginFill(t[i].color,1),n.drawCircle(t[i].pos.x,t[i].pos.y,t[i].radius),n.endFill();if(e){n.lineStyle(1,"#ffffff"),n.drawRect(e.center.x-e.dimensions.x/2,e.center.y-e.dimensions.y/2,e.dimensions.x,e.dimensions.y);const i=s=>{if(n.drawRect(s.center.x-s.dimensions.x/2,s.center.y-s.dimensions.y/2,s.dimensions.x,s.dimensions.y),s.children)for(let o=0;o<s.children.length;o++)i(s.children[o])};if(e.children)for(let s=0;s<e.children.length;s++)i(e.children[s])}},[t,e]);return ye.jsx(ia.Graphics,{draw:r})}const Mt=new _p(0,0);let Vt;const Fl=["#264653","#2A9D8F","#F4A261","#E76F51","#277da1","#43aa8b","#E9C46A","#f8961e","#f94144"];function ab({width:t,height:e,random:r,count:n}){const[i,s]=H.useState(0);return ia.useTick(o=>{s(i+1),Mt.time_step(o)}),H.useEffect(()=>{Mt.set_dimensions(t,e),Vt={width:t,height:e,count:n,random:r,qtv:!1},Mt.reset();for(let o=0;o<n;o++)Mt.add_planet(Math.random()*t,Math.random()*e,Math.random()-.5,Math.random()-.5,Vt.random?Math.random()*12+1:12,Vt.random?Math.random()*1e3:Mt.get_mass(),new Ye(Fl[Math.floor(Fl.length*Math.random())]).toHex());Mt.rebuild()},[t,e,n,r]),ye.jsx(xj,{planets:Mt.get_planets(),quadTree:Vt!=null&&Vt.qtv?Mt.get_quad_tree():null})}function wj(t){Mt.set_speed(parseFloat(t.target.value))}function Ej(t){Mt.set_mass(parseInt(t.target.value))}function s2(){Mt.reset();for(let t=0;t<Vt.count;t++)Mt.add_planet(Math.random()*Vt.width,Math.random()*Vt.height,Math.random()-.5,Math.random()-.5,Vt.random?Math.random()*12+1:12,Vt.random?Math.random()*1e3:Mt.get_mass(),new Ye(Fl[Math.floor(Fl.length*Math.random())]).toHex());Mt.rebuild()}function Tj(t){const{c:e,w:r}={c:Mt.get_planet_count(),w:parseInt(t.target.value)};if(r>=e)for(let n=0;n<r-e;n++)Mt.add_planet(Math.random()*Vt.width,Math.random()*Vt.height,Math.random()-.5,Math.random()-.5,Vt.random?Math.random()*12+1:12,Vt.random?Math.random()*Mt.get_mass():Mt.get_mass(),new Ye(Fl[Math.floor(Fl.length*Math.random())]).toHex());else for(let n=0;n<e-r;n++)Mt.remove_planet();return Mt.rebuild(),r}function Sj(t){Mt.set_theta(parseFloat(t.target.value))}function Aj(){Vt.qtv=!Vt.qtv}function Cj(){return Vt.random=!Vt.random,s2(),Vt.random}function Pj(){return Mt.get_planet_count()}function Rj(){return ye.jsxs("div",{className:"absolute flex justify-center align-middle bottom-0 left-1/2 -translate-x-1/2 text-neutral-200 bg-black bg-opacity-80",children:[ye.jsx(qd,{className:"h-min max-h-fit m-2 hover:underline",to:"https://notaroomba.xyz",children:"Website"}),ye.jsx("p",{className:"m-2",children:"\u2022"}),ye.jsx("p",{className:"m-2",children:"NotARoomba"}),ye.jsx("p",{className:"m-2",children:"\u2022"}),ye.jsx(qd,{className:"h-min max-h-fit m-2 hover:underline",to:"https://github.com/NotARoomba/Asteroids",children:"GitHub"})]})}function lb(){const[t,e]=H.useState([window.innerWidth,window.innerHeight]),r=()=>{e([window.innerWidth,window.innerHeight])};return H.useEffect(()=>{window.addEventListener("resize",r,!1)},[]),t}const o2=H.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),xp=H.createContext({}),ub=H.createContext(null),wp=typeof document<"u",a2=wp?H.useLayoutEffect:H.useEffect,l2=H.createContext({strict:!1});function kj(t,e,r,n){const{visualElement:i}=H.useContext(xp),s=H.useContext(l2),o=H.useContext(ub),a=H.useContext(o2).reducedMotion,u=H.useRef();n=n||s.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:i,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:a}));const c=u.current;return H.useInsertionEffect(()=>{c&&c.update(r,o)}),a2(()=>{c&&c.render()}),H.useEffect(()=>{c&&c.updateFeatures()}),(window.HandoffAppearAnimations?a2:H.useEffect)(()=>{c&&c.animationState&&c.animationState.animateChanges()}),c}function Ul(t){return typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Ij(t,e,r){return H.useCallback(n=>{n&&t.mount&&t.mount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Ul(r)&&(r.current=n))},[e])}function zh(t){return typeof t=="string"||Array.isArray(t)}function Ep(t){return typeof t=="object"&&typeof t.start=="function"}const hb=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],cb=["initial",...hb];function Tp(t){return Ep(t.animate)||cb.some(e=>zh(t[e]))}function u2(t){return!!(Tp(t)||t.variants)}function Mj(t,e){if(Tp(t)){const{initial:r,animate:n}=t;return{initial:r===!1||zh(r)?r:void 0,animate:zh(n)?n:void 0}}return t.inherit!==!1?e:{}}function Dj(t){const{initial:e,animate:r}=Mj(t,H.useContext(xp));return H.useMemo(()=>({initial:e,animate:r}),[h2(e),h2(r)])}function h2(t){return Array.isArray(t)?t.join(" "):t}const c2={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},jh={};for(const t in c2)jh[t]={isEnabled:e=>c2[t].some(r=>!!e[r])};function Oj(t){for(const e in t)jh[e]={...jh[e],...t[e]}}const d2=H.createContext({}),f2=H.createContext({}),Nj=Symbol.for("motionComponentSymbol");function Lj({preloadedFeatures:t,createVisualElement:e,useRender:r,useVisualState:n,Component:i}){t&&Oj(t);function s(a,u){let c;const d={...H.useContext(o2),...a,layoutId:Bj(a)},{isStatic:p}=d,m=Dj(a),g=n(a,p);if(!p&&wp){m.visualElement=kj(i,g,d,e);const b=H.useContext(f2),x=H.useContext(l2).strict;m.visualElement&&(c=m.visualElement.loadFeatures(d,x,t,b))}return H.createElement(xp.Provider,{value:m},c&&m.visualElement?H.createElement(c,{visualElement:m.visualElement,...d}):null,r(i,a,Ij(g,m.visualElement,u),g,p,m.visualElement))}const o=H.forwardRef(s);return o[Nj]=i,o}function Bj({layoutId:t}){const e=H.useContext(d2).id;return e&&t!==void 0?e+"-"+t:t}function Fj(t){function e(n,i={}){return Lj(t(n,i))}if(typeof Proxy>"u")return e;const r=new Map;return new Proxy(e,{get:(n,i)=>(r.has(i)||r.set(i,e(i)),r.get(i))})}const Uj=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function db(t){return typeof t!="string"||t.includes("-")?!1:!!(Uj.indexOf(t)>-1||/[A-Z]/.test(t))}const Sp={};function zj(t){Object.assign(Sp,t)}const Hh=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],aa=new Set(Hh);function p2(t,{layout:e,layoutId:r}){return aa.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!Sp[t]||t==="opacity")}const Vr=t=>!!(t&&t.getVelocity),jj={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Hj=Hh.length;function Gj(t,{enableHardwareAcceleration:e=!0,allowTransformNone:r=!0},n,i){let s="";for(let o=0;o<Hj;o++){const a=Hh[o];if(t[a]!==void 0){const u=jj[a]||a;s+=`${u}(${t[a]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,n?"":s):r&&n&&(s="none"),s}const m2=t=>e=>typeof e=="string"&&e.startsWith(t),g2=m2("--"),fb=m2("var(--"),Vj=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,Wj=(t,e)=>e&&typeof t=="number"?e.transform(t):t,ro=(t,e,r)=>Math.min(Math.max(r,t),e),la={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Gh={...la,transform:t=>ro(0,1,t)},Ap={...la,default:1},Vh=t=>Math.round(t*1e5)/1e5,Cp=/(-)?([\d]*\.?[\d])+/g,y2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,Xj=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function Wh(t){return typeof t=="string"}const Xh=t=>({test:e=>Wh(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),no=Xh("deg"),Ci=Xh("%"),Pe=Xh("px"),$j=Xh("vh"),Yj=Xh("vw"),v2={...Ci,parse:t=>Ci.parse(t)/100,transform:t=>Ci.transform(t*100)},b2={...la,transform:Math.round},_2={borderWidth:Pe,borderTopWidth:Pe,borderRightWidth:Pe,borderBottomWidth:Pe,borderLeftWidth:Pe,borderRadius:Pe,radius:Pe,borderTopLeftRadius:Pe,borderTopRightRadius:Pe,borderBottomRightRadius:Pe,borderBottomLeftRadius:Pe,width:Pe,maxWidth:Pe,height:Pe,maxHeight:Pe,size:Pe,top:Pe,right:Pe,bottom:Pe,left:Pe,padding:Pe,paddingTop:Pe,paddingRight:Pe,paddingBottom:Pe,paddingLeft:Pe,margin:Pe,marginTop:Pe,marginRight:Pe,marginBottom:Pe,marginLeft:Pe,rotate:no,rotateX:no,rotateY:no,rotateZ:no,scale:Ap,scaleX:Ap,scaleY:Ap,scaleZ:Ap,skew:no,skewX:no,skewY:no,distance:Pe,translateX:Pe,translateY:Pe,translateZ:Pe,x:Pe,y:Pe,z:Pe,perspective:Pe,transformPerspective:Pe,opacity:Gh,originX:v2,originY:v2,originZ:Pe,zIndex:b2,fillOpacity:Gh,strokeOpacity:Gh,numOctaves:b2};function pb(t,e,r,n){const{style:i,vars:s,transform:o,transformOrigin:a}=t;let u=!1,c=!1,d=!0;for(const p in e){const m=e[p];if(g2(p)){s[p]=m;continue}const g=_2[p],b=Wj(m,g);if(aa.has(p)){if(u=!0,o[p]=b,!d)continue;m!==(g.default||0)&&(d=!1)}else p.startsWith("origin")?(c=!0,a[p]=b):i[p]=b}if(e.transform||(u||n?i.transform=Gj(t.transform,r,d,n):i.transform&&(i.transform="none")),c){const{originX:p="50%",originY:m="50%",originZ:g=0}=a;i.transformOrigin=`${p} ${m} ${g}`}}const mb=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function x2(t,e,r){for(const n in e)!Vr(e[n])&&!p2(n,r)&&(t[n]=e[n])}function qj({transformTemplate:t},e,r){return H.useMemo(()=>{const n=mb();return pb(n,e,{enableHardwareAcceleration:!r},t),Object.assign({},n.vars,n.style)},[e])}function Qj(t,e,r){const n=t.style||{},i={};return x2(i,n,t),Object.assign(i,qj(t,e,r)),t.transformValues?t.transformValues(i):i}function Kj(t,e,r){const n={},i=Qj(t,e,r);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=i,n}const Zj=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onLayoutAnimationStart","onLayoutAnimationComplete","onLayoutMeasure","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","ignoreStrict","viewport"]);function Pp(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||Zj.has(t)}let w2=t=>!Pp(t);function Jj(t){t&&(w2=e=>e.startsWith("on")?!Pp(e):t(e))}try{Jj(require("@emotion/is-prop-valid").default)}catch{}function e6(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(w2(i)||r===!0&&Pp(i)||!e&&!Pp(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}function E2(t,e,r){return typeof t=="string"?t:Pe.transform(e+r*t)}function t6(t,e,r){const n=E2(e,t.x,t.width),i=E2(r,t.y,t.height);return`${n} ${i}`}const r6={offset:"stroke-dashoffset",array:"stroke-dasharray"},n6={offset:"strokeDashoffset",array:"strokeDasharray"};function i6(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?r6:n6;t[s.offset]=Pe.transform(-n);const o=Pe.transform(e),a=Pe.transform(r);t[s.array]=`${o} ${a}`}function gb(t,{attrX:e,attrY:r,attrScale:n,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:u=0,...c},d,p,m){if(pb(t,c,d,m),p){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:g,style:b,dimensions:x}=t;g.transform&&(x&&(b.transform=g.transform),delete g.transform),x&&(i!==void 0||s!==void 0||b.transform)&&(b.transformOrigin=t6(x,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(g.x=e),r!==void 0&&(g.y=r),n!==void 0&&(g.scale=n),o!==void 0&&i6(g,o,a,u,!1)}const T2=()=>({...mb(),attrs:{}}),yb=t=>typeof t=="string"&&t.toLowerCase()==="svg";function s6(t,e,r,n){const i=H.useMemo(()=>{const s=T2();return gb(s,e,{enableHardwareAcceleration:!1},yb(n),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};x2(s,t.style,t),i.style={...s,...i.style}}return i}function o6(t=!1){return(e,r,n,{latestValues:i},s)=>{const o=(db(e)?s6:Kj)(r,i,s,e),a={...e6(r,typeof e=="string",t),...o,ref:n},{children:u}=r,c=H.useMemo(()=>Vr(u)?u.get():u,[u]);return H.createElement(e,{...a,children:c})}}const vb=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase();function S2(t,{style:e,vars:r},n,i){Object.assign(t.style,e,i&&i.getProjectionStyles(n));for(const s in r)t.style.setProperty(s,r[s])}const A2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function C2(t,e,r,n){S2(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(A2.has(i)?i:vb(i),e.attrs[i])}function bb(t,e){const{style:r}=t,n={};for(const i in r)(Vr(r[i])||e.style&&Vr(e.style[i])||p2(i,t))&&(n[i]=r[i]);return n}function P2(t,e){const r=bb(t,e);for(const n in t)if(Vr(t[n])||Vr(e[n])){const i=Hh.indexOf(n)!==-1?"attr"+n.charAt(0).toUpperCase()+n.substring(1):n;r[i]=t[n]}return r}function _b(t,e,r,n={},i={}){return typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(r!==void 0?r:t.custom,n,i)),e}function a6(t){const e=H.useRef(null);return e.current===null&&(e.current=t()),e.current}const Rp=t=>Array.isArray(t),l6=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),u6=t=>Rp(t)?t[t.length-1]||0:t;function kp(t){const e=Vr(t)?t.get():t;return l6(e)?e.toValue():e}function h6({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:r},n,i,s){const o={latestValues:c6(n,i,s,t),renderState:e()};return r&&(o.mount=a=>r(n,a,o)),o}const R2=t=>(e,r)=>{const n=H.useContext(xp),i=H.useContext(ub),s=()=>h6(t,e,n,i);return r?s():a6(s)};function c6(t,e,r,n){const i={},s=n(t,{});for(const m in s)i[m]=kp(s[m]);let{initial:o,animate:a}=t;const u=Tp(t),c=u2(t);e&&c&&!u&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let d=r?r.initial===!1:!1;d=d||o===!1;const p=d?a:o;return p&&typeof p!="boolean"&&!Ep(p)&&(Array.isArray(p)?p:[p]).forEach(m=>{const g=_b(t,m);if(!g)return;const{transitionEnd:b,transition:x,...A}=g;for(const T in A){let _=A[T];if(Array.isArray(_)){const w=d?_.length-1:0;_=_[w]}_!==null&&(i[T]=_)}for(const T in b)i[T]=b[T]}),i}const d6={useVisualState:R2({scrapeMotionValuesFromProps:P2,createRenderState:T2,onMount:(t,e,{renderState:r,latestValues:n})=>{try{r.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{r.dimensions={x:0,y:0,width:0,height:0}}gb(r,n,{enableHardwareAcceleration:!1},yb(e.tagName),t.transformTemplate),C2(e,r)}})},f6={useVisualState:R2({scrapeMotionValuesFromProps:bb,createRenderState:mb})};function p6(t,{forwardMotionProps:e=!1},r,n){return{...db(t)?d6:f6,preloadedFeatures:r,useRender:o6(e),createVisualElement:n,Component:t}}function ms(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}const k2=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function Ip(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const m6=t=>e=>k2(e)&&t(e,Ip(e));function gs(t,e,r,n){return ms(t,e,m6(r),n)}const g6=(t,e)=>r=>e(t(r)),io=(...t)=>t.reduce(g6);function I2(t){let e=null;return()=>{const r=()=>{e=null};return e===null?(e=t,r):!1}}const M2=I2("dragHorizontal"),D2=I2("dragVertical");function O2(t){let e=!1;if(t==="y")e=D2();else if(t==="x")e=M2();else{const r=M2(),n=D2();r&&n?e=()=>{r(),n()}:(r&&r(),n&&n())}return e}function N2(){const t=O2(!0);return t?(t(),!1):!0}class so{constructor(e){this.isMounted=!1,this.node=e}update(){}}const Dt=t=>t;function y6(t){let e=[],r=[],n=0,i=!1,s=!1;const o=new WeakSet,a={schedule:(u,c=!1,d=!1)=>{const p=d&&i,m=p?e:r;return c&&o.add(u),m.indexOf(u)===-1&&(m.push(u),p&&i&&(n=e.length)),u},cancel:u=>{const c=r.indexOf(u);c!==-1&&r.splice(c,1),o.delete(u)},process:u=>{if(i){s=!0;return}if(i=!0,[e,r]=[r,e],r.length=0,n=e.length,n)for(let c=0;c<n;c++){const d=e[c];d(u),o.has(d)&&(a.schedule(d),t())}i=!1,s&&(s=!1,a.process(u))}};return a}const Mp=["prepare","read","update","preRender","render","postRender"],v6=40;function b6(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Mp.reduce((c,d)=>(c[d]=y6(()=>r=!0),c),{}),o=c=>s[c].process(i),a=()=>{const c=performance.now();r=!1,i.delta=n?1e3/60:Math.max(Math.min(c-i.timestamp,v6),1),i.timestamp=c,i.isProcessing=!0,Mp.forEach(o),i.isProcessing=!1,r&&e&&(n=!1,t(a))},u=()=>{r=!0,n=!0,i.isProcessing||t(a)};return{schedule:Mp.reduce((c,d)=>{const p=s[d];return c[d]=(m,g=!1,b=!1)=>(r||u(),p.schedule(m,g,b)),c},{}),cancel:c=>Mp.forEach(d=>s[d].cancel(c)),state:i,steps:s}}const{schedule:Tt,cancel:ys,state:Sr,steps:xb}=b6(typeof requestAnimationFrame<"u"?requestAnimationFrame:Dt,!0);function L2(t,e){const r="pointer"+(e?"enter":"leave"),n="onHover"+(e?"Start":"End"),i=(s,o)=>{if(s.type==="touch"||N2())return;const a=t.getProps();t.animationState&&a.whileHover&&t.animationState.setActive("whileHover",e),a[n]&&Tt.update(()=>a[n](s,o))};return gs(t.current,r,i,{passive:!t.getProps()[n]})}class _6 extends so{mount(){this.unmount=io(L2(this.node,!0),L2(this.node,!1))}unmount(){}}class x6 extends so{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=io(ms(this.node.current,"focus",()=>this.onFocus()),ms(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const B2=(t,e)=>e?t===e?!0:B2(t,e.parentElement):!1;function wb(t,e){if(!e)return;const r=new PointerEvent("pointer"+t);e(r,Ip(r))}class w6 extends so{constructor(){super(...arguments),this.removeStartListeners=Dt,this.removeEndListeners=Dt,this.removeAccessibleListeners=Dt,this.startPointerPress=(e,r)=>{if(this.removeEndListeners(),this.isPressing)return;const n=this.node.getProps(),i=gs(window,"pointerup",(o,a)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:c}=this.node.getProps();Tt.update(()=>{B2(this.node.current,o.target)?u&&u(o,a):c&&c(o,a)})},{passive:!(n.onTap||n.onPointerUp)}),s=gs(window,"pointercancel",(o,a)=>this.cancelPress(o,a),{passive:!(n.onTapCancel||n.onPointerCancel)});this.removeEndListeners=io(i,s),this.startPress(e,r)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const o=a=>{a.key!=="Enter"||!this.checkPressEnd()||wb("up",(u,c)=>{const{onTap:d}=this.node.getProps();d&&Tt.update(()=>d(u,c))})};this.removeEndListeners(),this.removeEndListeners=ms(this.node.current,"keyup",o),wb("down",(a,u)=>{this.startPress(a,u)})},r=ms(this.node.current,"keydown",e),n=()=>{this.isPressing&&wb("cancel",(s,o)=>this.cancelPress(s,o))},i=ms(this.node.current,"blur",n);this.removeAccessibleListeners=io(r,i)}}startPress(e,r){this.isPressing=!0;const{onTapStart:n,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),n&&Tt.update(()=>n(e,r))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!N2()}cancelPress(e,r){if(!this.checkPressEnd())return;const{onTapCancel:n}=this.node.getProps();n&&Tt.update(()=>n(e,r))}mount(){const e=this.node.getProps(),r=gs(this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),n=ms(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=io(r,n)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Eb=new WeakMap,Tb=new WeakMap,E6=t=>{const e=Eb.get(t.target);e&&e(t)},T6=t=>{t.forEach(E6)};function S6({root:t,...e}){const r=t||document;Tb.has(r)||Tb.set(r,{});const n=Tb.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(T6,{root:t,...e})),n[i]}function A6(t,e,r){const n=S6(e);return Eb.set(t,r),n.observe(t),()=>{Eb.delete(t),n.unobserve(t)}}const C6={some:0,all:1};class P6 extends so{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,o={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:C6[i]},a=u=>{const{isIntersecting:c}=u;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:d,onViewportLeave:p}=this.node.getProps(),m=c?d:p;m&&m(u)};return A6(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(R6(e,r))&&this.startObserver()}unmount(){}}function R6({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const k6={inView:{Feature:P6},tap:{Feature:w6},focus:{Feature:x6},hover:{Feature:_6}};function F2(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}function I6(t){const e={};return t.values.forEach((r,n)=>e[n]=r.get()),e}function M6(t){const e={};return t.values.forEach((r,n)=>e[n]=r.getVelocity()),e}function Dp(t,e,r){const n=t.getProps();return _b(n,e,r!==void 0?r:n.custom,I6(t),M6(t))}const D6="framerAppearId",O6="data-"+vb(D6);let N6=Dt,Sb=Dt;const oo=t=>t*1e3,vs=t=>t/1e3,L6={current:!1},U2=t=>Array.isArray(t)&&typeof t[0]=="number";function z2(t){return!!(!t||typeof t=="string"&&j2[t]||U2(t)||Array.isArray(t)&&t.every(z2))}const $h=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,j2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:$h([0,.65,.55,1]),circOut:$h([.55,0,1,.45]),backIn:$h([.31,.01,.66,-.59]),backOut:$h([.33,1.53,.69,.99])};function H2(t){if(t)return U2(t)?$h(t):Array.isArray(t)?t.map(H2):j2[t]}function B6(t,e,r,{delay:n=0,duration:i,repeat:s=0,repeatType:o="loop",ease:a,times:u}={}){const c={[e]:r};u&&(c.offset=u);const d=H2(a);return Array.isArray(d)&&(c.easing=d),t.animate(c,{delay:n,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}function F6(t,{repeat:e,repeatType:r="loop"}){const n=e&&r!=="loop"&&e%2===1?0:t.length-1;return t[n]}const G2=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,U6=1e-7,z6=12;function j6(t,e,r,n,i){let s,o,a=0;do o=e+(r-e)/2,s=G2(o,n,i)-t,s>0?r=o:e=o;while(Math.abs(s)>U6&&++a<z6);return o}function Yh(t,e,r,n){if(t===e&&r===n)return Dt;const i=s=>j6(s,0,1,t,r);return s=>s===0||s===1?s:G2(i(s),e,n)}const H6=Yh(.42,0,1,1),G6=Yh(0,0,.58,1),V2=Yh(.42,0,.58,1),V6=t=>Array.isArray(t)&&typeof t[0]!="number",W2=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,X2=t=>e=>1-t(1-e),$2=t=>1-Math.sin(Math.acos(t)),Ab=X2($2),W6=W2(Ab),Y2=Yh(.33,1.53,.69,.99),Cb=X2(Y2),X6=W2(Cb),$6=t=>(t*=2)<1?.5*Cb(t):.5*(2-Math.pow(2,-10*(t-1))),Y6={linear:Dt,easeIn:H6,easeInOut:V2,easeOut:G6,circIn:$2,circInOut:W6,circOut:Ab,backIn:Cb,backInOut:X6,backOut:Y2,anticipate:$6},q2=t=>{if(Array.isArray(t)){Sb(t.length===4);const[e,r,n,i]=t;return Yh(e,r,n,i)}else if(typeof t=="string")return Y6[t];return t},Pb=(t,e)=>r=>!!(Wh(r)&&Xj.test(r)&&r.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(r,e)),Q2=(t,e,r)=>n=>{if(!Wh(n))return n;const[i,s,o,a]=n.match(Cp);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},q6=t=>ro(0,255,t),Rb={...la,transform:t=>Math.round(q6(t))},ua={test:Pb("rgb","red"),parse:Q2("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+Rb.transform(t)+", "+Rb.transform(e)+", "+Rb.transform(r)+", "+Vh(Gh.transform(n))+")"};function Q6(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const kb={test:Pb("#"),parse:Q6,transform:ua.transform},zl={test:Pb("hsl","hue"),parse:Q2("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Ci.transform(Vh(e))+", "+Ci.transform(Vh(r))+", "+Vh(Gh.transform(n))+")"},Or={test:t=>ua.test(t)||kb.test(t)||zl.test(t),parse:t=>ua.test(t)?ua.parse(t):zl.test(t)?zl.parse(t):kb.parse(t),transform:t=>Wh(t)?t:t.hasOwnProperty("red")?ua.transform(t):zl.transform(t)},St=(t,e,r)=>-r*t+r*e+t;function Ib(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function K6({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,o=0;if(!e)i=s=o=r;else{const a=r<.5?r*(1+e):r+e-r*e,u=2*r-a;i=Ib(u,a,t+1/3),s=Ib(u,a,t),o=Ib(u,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:n}}const Mb=(t,e,r)=>{const n=t*t;return Math.sqrt(Math.max(0,r*(e*e-n)+n))},Z6=[kb,ua,zl],J6=t=>Z6.find(e=>e.test(t));function K2(t){const e=J6(t);let r=e.parse(t);return e===zl&&(r=K6(r)),r}const Z2=(t,e)=>{const r=K2(t),n=K2(e),i={...r};return s=>(i.red=Mb(r.red,n.red,s),i.green=Mb(r.green,n.green,s),i.blue=Mb(r.blue,n.blue,s),i.alpha=St(r.alpha,n.alpha,s),ua.transform(i))};function e8(t){var e,r;return isNaN(t)&&Wh(t)&&(((e=t.match(Cp))===null||e===void 0?void 0:e.length)||0)+(((r=t.match(y2))===null||r===void 0?void 0:r.length)||0)>0}const J2={regex:Vj,countKey:"Vars",token:"${v}",parse:Dt},eP={regex:y2,countKey:"Colors",token:"${c}",parse:Or.parse},tP={regex:Cp,countKey:"Numbers",token:"${n}",parse:la.parse};function Db(t,{regex:e,countKey:r,token:n,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+r]=s.length,t.tokenised=t.tokenised.replace(e,n),t.values.push(...s.map(i)))}function Op(t){const e=t.toString(),r={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return r.value.includes("var(--")&&Db(r,J2),Db(r,eP),Db(r,tP),r}function rP(t){return Op(t).values}function nP(t){const{values:e,numColors:r,numVars:n,tokenised:i}=Op(t),s=e.length;return o=>{let a=i;for(let u=0;u<s;u++)u<n?a=a.replace(J2.token,o[u]):u<n+r?a=a.replace(eP.token,Or.transform(o[u])):a=a.replace(tP.token,Vh(o[u]));return a}}const t8=t=>typeof t=="number"?0:t;function r8(t){const e=rP(t);return nP(t)(e.map(t8))}const ao={test:e8,parse:rP,createTransformer:nP,getAnimatableNone:r8},iP=(t,e)=>r=>`${r>0?e:t}`;function sP(t,e){return typeof t=="number"?r=>St(t,e,r):Or.test(t)?Z2(t,e):t.startsWith("var(")?iP(t,e):aP(t,e)}const oP=(t,e)=>{const r=[...t],n=r.length,i=t.map((s,o)=>sP(s,e[o]));return s=>{for(let o=0;o<n;o++)r[o]=i[o](s);return r}},n8=(t,e)=>{const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=sP(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}},aP=(t,e)=>{const r=ao.createTransformer(e),n=Op(t),i=Op(e);return n.numVars===i.numVars&&n.numColors===i.numColors&&n.numNumbers>=i.numNumbers?io(oP(n.values,i.values),r):iP(t,e)},qh=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n},lP=(t,e)=>r=>St(t,e,r);function i8(t){return typeof t=="number"?lP:typeof t=="string"?Or.test(t)?Z2:aP:Array.isArray(t)?oP:typeof t=="object"?n8:lP}function s8(t,e,r){const n=[],i=r||i8(t[0]),s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const u=Array.isArray(e)?e[o]||Dt:e;a=io(u,a)}n.push(a)}return n}function uP(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(Sb(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=s8(e,n,i),a=o.length,u=c=>{let d=0;if(a>1)for(;d<t.length-2&&!(c<t[d+1]);d++);const p=qh(t[d],t[d+1],c);return o[d](p)};return r?c=>u(ro(t[0],t[s-1],c)):u}function o8(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=qh(0,e,n);t.push(St(r,1,i))}}function a8(t){const e=[0];return o8(e,t.length-1),e}function l8(t,e){return t.map(r=>r*e)}function u8(t,e){return t.map(()=>e||V2).splice(0,t.length-1)}function Np({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=V6(n)?n.map(q2):q2(n),s={done:!1,value:e[0]},o=l8(r&&r.length===e.length?r:a8(e),t),a=uP(o,e,{ease:Array.isArray(i)?i:u8(e,i)});return{calculatedDuration:t,next:u=>(s.value=a(u),s.done=u>=t,s)}}function hP(t,e){return e?t*(1e3/e):0}const h8=5;function cP(t,e,r){const n=Math.max(e-h8,0);return hP(r-t(n),e-n)}const Ob=.001,c8=.01,dP=10,d8=.05,f8=1;function p8({duration:t=800,bounce:e=.25,velocity:r=0,mass:n=1}){let i,s;N6(t<=oo(dP));let o=1-e;o=ro(d8,f8,o),t=ro(c8,dP,vs(t)),o<1?(i=c=>{const d=c*o,p=d*t,m=d-r,g=Nb(c,o),b=Math.exp(-p);return Ob-m/g*b},s=c=>{const d=c*o*t,p=d*r+r,m=Math.pow(o,2)*Math.pow(c,2)*t,g=Math.exp(-d),b=Nb(Math.pow(c,2),o);return(-i(c)+Ob>0?-1:1)*((p-m)*g)/b}):(i=c=>{const d=Math.exp(-c*t),p=(c-r)*t+1;return-Ob+d*p},s=c=>{const d=Math.exp(-c*t),p=(r-c)*(t*t);return d*p});const a=5/t,u=g8(i,s,a);if(t=oo(t),isNaN(u))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(u,2)*n;return{stiffness:c,damping:o*2*Math.sqrt(n*c),duration:t}}}const m8=12;function g8(t,e,r){let n=r;for(let i=1;i<m8;i++)n=n-t(n)/e(n);return n}function Nb(t,e){return t*Math.sqrt(1-e*e)}const y8=["duration","bounce"],v8=["stiffness","damping","mass"];function fP(t,e){return e.some(r=>t[r]!==void 0)}function b8(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!fP(t,v8)&&fP(t,y8)){const r=p8(t);e={...e,...r,velocity:0,mass:1},e.isResolvedFromDuration=!0}return e}function pP({keyframes:t,restDelta:e,restSpeed:r,...n}){const i=t[0],s=t[t.length-1],o={done:!1,value:i},{stiffness:a,damping:u,mass:c,velocity:d,duration:p,isResolvedFromDuration:m}=b8(n),g=d?-vs(d):0,b=u/(2*Math.sqrt(a*c)),x=s-i,A=vs(Math.sqrt(a/c)),T=Math.abs(x)<5;r||(r=T?.01:2),e||(e=T?.005:.5);let _;if(b<1){const w=Nb(A,b);_=S=>{const P=Math.exp(-b*A*S);return s-P*((g+b*A*x)/w*Math.sin(w*S)+x*Math.cos(w*S))}}else if(b===1)_=w=>s-Math.exp(-A*w)*(x+(g+A*x)*w);else{const w=A*Math.sqrt(b*b-1);_=S=>{const P=Math.exp(-b*A*S),D=Math.min(w*S,300);return s-P*((g+b*A*x)*Math.sinh(D)+w*x*Math.cosh(D))/w}}return{calculatedDuration:m&&p||null,next:w=>{const S=_(w);if(m)o.done=w>=p;else{let P=g;w!==0&&(b<1?P=cP(_,w,S):P=0);const D=Math.abs(P)<=r,k=Math.abs(s-S)<=e;o.done=D&&k}return o.value=o.done?s:S,o}}}function mP({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:u,restDelta:c=.5,restSpeed:d}){const p=t[0],m={done:!1,value:p},g=R=>a!==void 0&&R<a||u!==void 0&&R>u,b=R=>a===void 0?u:u===void 0||Math.abs(a-R)<Math.abs(u-R)?a:u;let x=r*e;const A=p+x,T=o===void 0?A:o(A);T!==A&&(x=T-p);const _=R=>-x*Math.exp(-R/n),w=R=>T+_(R),S=R=>{const F=_(R),X=w(R);m.done=Math.abs(F)<=c,m.value=m.done?T:X};let P,D;const k=R=>{g(m.value)&&(P=R,D=pP({keyframes:[m.value,b(m.value)],velocity:cP(w,R,m.value),damping:i,stiffness:s,restDelta:c,restSpeed:d}))};return k(0),{calculatedDuration:null,next:R=>{let F=!1;return!D&&P===void 0&&(F=!0,S(R),k(R)),P!==void 0&&R>P?D.next(R-P):(!F&&S(R),m)}}}const _8=t=>{const e=({timestamp:r})=>t(r);return{start:()=>Tt.update(e,!0),stop:()=>ys(e),now:()=>Sr.isProcessing?Sr.timestamp:performance.now()}},gP=2e4;function yP(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<gP;)e+=r,n=t.next(e);return e>=gP?1/0:e}const x8={decay:mP,inertia:mP,tween:Np,keyframes:Np,spring:pP};function Lp({autoplay:t=!0,delay:e=0,driver:r=_8,keyframes:n,type:i="keyframes",repeat:s=0,repeatDelay:o=0,repeatType:a="loop",onPlay:u,onStop:c,onComplete:d,onUpdate:p,...m}){let g=1,b=!1,x,A;const T=()=>{A=new Promise(Y=>{x=Y})};T();let _;const w=x8[i]||Np;let S;w!==Np&&typeof n[0]!="number"&&(S=uP([0,100],n,{clamp:!1}),n=[0,100]);const P=w({...m,keyframes:n});let D;a==="mirror"&&(D=w({...m,keyframes:[...n].reverse(),velocity:-(m.velocity||0)}));let k="idle",R=null,F=null,X=null;P.calculatedDuration===null&&s&&(P.calculatedDuration=yP(P));const{calculatedDuration:K}=P;let $=1/0,U=1/0;K!==null&&($=K+o,U=$*(s+1)-o);let j=0;const ae=Y=>{if(F===null)return;g>0&&(F=Math.min(F,Y)),g<0&&(F=Math.min(Y-U/g,F)),R!==null?j=R:j=Math.round(Y-F)*g;const oe=j-e*(g>=0?1:-1),Me=g>=0?oe<0:oe>U;j=Math.max(oe,0),k==="finished"&&R===null&&(j=U);let fe=j,Ue=P;if(s){const At=j/$;let nt=Math.floor(At),Re=At%1;!Re&&At>=1&&(Re=1),Re===1&&nt--,nt=Math.min(nt,s+1);const Ze=!!(nt%2);Ze&&(a==="reverse"?(Re=1-Re,o&&(Re-=o/$)):a==="mirror"&&(Ue=D));let je=ro(0,1,Re);j>U&&(je=a==="reverse"&&Ze?1:0),fe=je*$}const ke=Me?{done:!1,value:n[0]}:Ue.next(fe);S&&(ke.value=S(ke.value));let{done:Ve}=ke;!Me&&K!==null&&(Ve=g>=0?j>=U:j<=0);const rt=R===null&&(k==="finished"||k==="running"&&Ve);return p&&p(ke.value),rt&&N(),ke},de=()=>{_&&_.stop(),_=void 0},ne=()=>{k="idle",de(),x(),T(),F=X=null},N=()=>{k="finished",d&&d(),de(),x()},W=()=>{if(b)return;_||(_=r(ae));const Y=_.now();u&&u(),R!==null?F=Y-R:(!F||k==="finished")&&(F=Y),k==="finished"&&T(),X=F,R=null,k="running",_.start()};t&&W();const M={then(Y,oe){return A.then(Y,oe)},get time(){return vs(j)},set time(Y){Y=oo(Y),j=Y,R!==null||!_||g===0?R=Y:F=_.now()-Y/g},get duration(){const Y=P.calculatedDuration===null?yP(P):P.calculatedDuration;return vs(Y)},get speed(){return g},set speed(Y){Y===g||!_||(g=Y,M.time=vs(j))},get state(){return k},play:W,pause:()=>{k="paused",R=j},stop:()=>{b=!0,k!=="idle"&&(k="idle",c&&c(),ne())},cancel:()=>{X!==null&&ae(X),ne()},complete:()=>{k="finished"},sample:Y=>(F=0,ae(Y))};return M}function w8(t){let e;return()=>(e===void 0&&(e=t()),e)}const E8=w8(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),T8=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),Bp=10,S8=2e4,A8=(t,e)=>e.type==="spring"||t==="backgroundColor"||!z2(e.ease);function C8(t,e,{onUpdate:r,onComplete:n,...i}){if(!(E8()&&T8.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let s=!1,o,a;const u=()=>{a=new Promise(A=>{o=A})};u();let{keyframes:c,duration:d=300,ease:p,times:m}=i;if(A8(e,i)){const A=Lp({...i,repeat:0,delay:0});let T={done:!1,value:c[0]};const _=[];let w=0;for(;!T.done&&w<S8;)T=A.sample(w),_.push(T.value),w+=Bp;m=void 0,c=_,d=w-Bp,p="linear"}const g=B6(t.owner.current,e,c,{...i,duration:d,ease:p,times:m}),b=()=>g.cancel(),x=()=>{Tt.update(b),o(),u()};return g.onfinish=()=>{t.set(F6(c,i)),n&&n(),x()},{then(A,T){return a.then(A,T)},attachTimeline(A){return g.timeline=A,g.onfinish=null,Dt},get time(){return vs(g.currentTime||0)},set time(A){g.currentTime=oo(A)},get speed(){return g.playbackRate},set speed(A){g.playbackRate=A},get duration(){return vs(d)},play:()=>{s||(g.play(),ys(b))},pause:()=>g.pause(),stop:()=>{if(s=!0,g.playState==="idle")return;const{currentTime:A}=g;if(A){const T=Lp({...i,autoplay:!1});t.setWithVelocity(T.sample(A-Bp).value,T.sample(A).value,Bp)}x()},complete:()=>g.finish(),cancel:x}}function P8({keyframes:t,delay:e,onUpdate:r,onComplete:n}){const i=()=>(r&&r(t[t.length-1]),n&&n(),{time:0,speed:1,duration:0,play:Dt,pause:Dt,stop:Dt,then:s=>(s(),Promise.resolve()),cancel:Dt,complete:Dt});return e?Lp({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const R8={type:"spring",stiffness:500,damping:25,restSpeed:10},k8=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),I8={type:"keyframes",duration:.8},M8={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},D8=(t,{keyframes:e})=>e.length>2?I8:aa.has(t)?t.startsWith("scale")?k8(e[1]):R8:M8,Lb=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(ao.test(e)||e==="0")&&!e.startsWith("url(")),O8=new Set(["brightness","contrast","saturate","opacity"]);function N8(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(Cp)||[];if(!n)return t;const i=r.replace(n,"");let s=O8.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const L8=/([a-z-]*)\(.*?\)/g,Bb={...ao,getAnimatableNone:t=>{const e=t.match(L8);return e?e.map(N8).join(" "):t}},B8={..._2,color:Or,backgroundColor:Or,outlineColor:Or,fill:Or,stroke:Or,borderColor:Or,borderTopColor:Or,borderRightColor:Or,borderBottomColor:Or,borderLeftColor:Or,filter:Bb,WebkitFilter:Bb},Fb=t=>B8[t];function vP(t,e){let r=Fb(t);return r!==Bb&&(r=ao),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const bP=t=>/^0[^.\s]+$/.test(t);function F8(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||bP(t)}function U8(t,e,r,n){const i=Lb(e,r);let s;Array.isArray(r)?s=[...r]:s=[null,r];const o=n.from!==void 0?n.from:t.get();let a;const u=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?o:s[c-1]),F8(s[c])&&u.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(a=s[c]);if(i&&u.length&&a)for(let c=0;c<u.length;c++){const d=u[c];s[d]=vP(e,a)}return s}function z8({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:u,elapsed:c,...d}){return!!Object.keys(d).length}function _P(t,e){return t[e]||t.default||t}const Ub=(t,e,r,n={})=>i=>{const s=_P(n,t)||{},o=s.delay||n.delay||0;let{elapsed:a=0}=n;a=a-oo(o);const u=U8(e,t,r,s),c=u[0],d=u[u.length-1],p=Lb(t,c),m=Lb(t,d);let g={keyframes:u,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:b=>{e.set(b),s.onUpdate&&s.onUpdate(b)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(z8(s)||(g={...g,...D8(t,g)}),g.duration&&(g.duration=oo(g.duration)),g.repeatDelay&&(g.repeatDelay=oo(g.repeatDelay)),!p||!m||L6.current||s.type===!1)return P8(g);if(e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const b=C8(e,t,g);if(b)return b}return Lp(g)};function Fp(t){return!!(Vr(t)&&t.add)}const xP=t=>/^\-?\d*\.?\d+$/.test(t);function zb(t,e){t.indexOf(e)===-1&&t.push(e)}function jb(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}class Hb{constructor(){this.subscriptions=[]}add(e){return zb(this.subscriptions,e),()=>jb(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const j8=t=>!isNaN(parseFloat(t));class H8{constructor(e,r={}){this.version="10.16.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(n,i=!0)=>{this.prev=this.current,this.current=n;const{delta:s,timestamp:o}=Sr;this.lastUpdated!==o&&(this.timeDelta=s,this.lastUpdated=o,Tt.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Tt.postRender(this.velocityCheck),this.velocityCheck=({timestamp:n})=>{n!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=j8(this.current),this.owner=r.owner}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new Hb);const n=this.events[e].add(r);return e==="change"?()=>{n(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e,r=!0){!r||!this.passiveEffect?this.updateAndNotify(e,r):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,r,n){this.set(r),this.prev=e,this.timeDelta=n}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?hP(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function jl(t,e){return new H8(t,e)}const wP=t=>e=>e.test(t),G8={test:t=>t==="auto",parse:t=>t},EP=[la,Pe,Ci,no,Yj,$j,G8],Qh=t=>EP.find(wP(t)),V8=[...EP,Or,ao],W8=t=>V8.find(wP(t));function X8(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,jl(r))}function $8(t,e){const r=Dp(t,e);let{transitionEnd:n={},transition:i={},...s}=r?t.makeTargetAnimatable(r,!1):{};s={...s,...n};for(const o in s){const a=u6(s[o]);X8(t,o,a)}}function Y8(t,e,r){var n,i;const s=Object.keys(e).filter(a=>!t.hasValue(a)),o=s.length;if(o)for(let a=0;a<o;a++){const u=s[a],c=e[u];let d=null;Array.isArray(c)&&(d=c[0]),d===null&&(d=(i=(n=r[u])!==null&&n!==void 0?n:t.readValue(u))!==null&&i!==void 0?i:e[u]),d!=null&&(typeof d=="string"&&(xP(d)||bP(d))?d=parseFloat(d):!W8(d)&&ao.test(c)&&(d=vP(u,c)),t.addValue(u,jl(d,{owner:t})),r[u]===void 0&&(r[u]=d),d!==null&&t.setBaseTarget(u,d))}}function q8(t,e){return e?(e[t]||e.default||e).from:void 0}function Q8(t,e,r){const n={};for(const i in t){const s=q8(i,e);if(s!==void 0)n[i]=s;else{const o=r.getValue(i);o&&(n[i]=o.get())}}return n}function K8({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function TP(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:o,...a}=t.makeTargetAnimatable(e);const u=t.getValue("willChange");n&&(s=n);const c=[],d=i&&t.animationState&&t.animationState.getState()[i];for(const p in a){const m=t.getValue(p),g=a[p];if(!m||g===void 0||d&&K8(d,p))continue;const b={delay:r,elapsed:0,...s};if(window.HandoffAppearAnimations&&!m.hasAnimated){const A=t.getProps()[O6];A&&(b.elapsed=window.HandoffAppearAnimations(A,p,m,Tt))}m.start(Ub(p,m,g,t.shouldReduceMotion&&aa.has(p)?{type:!1}:b));const x=m.animation;Fp(u)&&(u.add(p),x.then(()=>u.remove(p))),c.push(x)}return o&&Promise.all(c).then(()=>{o&&$8(t,o)}),c}function Gb(t,e,r={}){const n=Dp(t,e,r.custom);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(TP(t,n,r)):()=>Promise.resolve(),o=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:c=0,staggerChildren:d,staggerDirection:p}=i;return Z8(t,e,c+u,d,p,r)}:()=>Promise.resolve(),{when:a}=i;if(a){const[u,c]=a==="beforeChildren"?[s,o]:[o,s];return u().then(()=>c())}else return Promise.all([s(),o(r.delay)])}function Z8(t,e,r=0,n=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*n,u=i===1?(c=0)=>c*n:(c=0)=>a-c*n;return Array.from(t.variantChildren).sort(J8).forEach((c,d)=>{c.notify("AnimationStart",e),o.push(Gb(c,e,{...s,delay:r+u(d)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function J8(t,e){return t.sortNodePosition(e)}function eH(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>Gb(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=Gb(t,e,r);else{const i=typeof e=="function"?Dp(t,e,r.custom):e;n=Promise.all(TP(t,i,r))}return n.then(()=>t.notify("AnimationComplete",e))}const tH=[...hb].reverse(),rH=hb.length;function nH(t){return e=>Promise.all(e.map(({animation:r,options:n})=>eH(t,r,n)))}function iH(t){let e=nH(t);const r=oH();let n=!0;const i=(u,c)=>{const d=Dp(t,c);if(d){const{transition:p,transitionEnd:m,...g}=d;u={...u,...g,...m}}return u};function s(u){e=u(t)}function o(u,c){const d=t.getProps(),p=t.getVariantContext(!0)||{},m=[],g=new Set;let b={},x=1/0;for(let T=0;T<rH;T++){const _=tH[T],w=r[_],S=d[_]!==void 0?d[_]:p[_],P=zh(S),D=_===c?w.isActive:null;D===!1&&(x=T);let k=S===p[_]&&S!==d[_]&&P;if(k&&n&&t.manuallyAnimateOnMount&&(k=!1),w.protectedKeys={...b},!w.isActive&&D===null||!S&&!w.prevProp||Ep(S)||typeof S=="boolean")continue;const R=sH(w.prevProp,S);let F=R||_===c&&w.isActive&&!k&&P||T>x&&P;const X=Array.isArray(S)?S:[S];let K=X.reduce(i,{});D===!1&&(K={});const{prevResolvedValues:$={}}=w,U={...$,...K},j=ae=>{F=!0,g.delete(ae),w.needsAnimating[ae]=!0};for(const ae in U){const de=K[ae],ne=$[ae];b.hasOwnProperty(ae)||(de!==ne?Rp(de)&&Rp(ne)?!F2(de,ne)||R?j(ae):w.protectedKeys[ae]=!0:de!==void 0?j(ae):g.add(ae):de!==void 0&&g.has(ae)?j(ae):w.protectedKeys[ae]=!0)}w.prevProp=S,w.prevResolvedValues=K,w.isActive&&(b={...b,...K}),n&&t.blockInitialAnimation&&(F=!1),F&&!k&&m.push(...X.map(ae=>({animation:ae,options:{type:_,...u}})))}if(g.size){const T={};g.forEach(_=>{const w=t.getBaseTarget(_);w!==void 0&&(T[_]=w)}),m.push({animation:T})}let A=!!m.length;return n&&d.initial===!1&&!t.manuallyAnimateOnMount&&(A=!1),n=!1,A?e(m):Promise.resolve()}function a(u,c,d){var p;if(r[u].isActive===c)return Promise.resolve();(p=t.variantChildren)===null||p===void 0||p.forEach(g=>{var b;return(b=g.animationState)===null||b===void 0?void 0:b.setActive(u,c)}),r[u].isActive=c;const m=o(d,u);for(const g in r)r[g].protectedKeys={};return m}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>r}}function sH(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!F2(e,t):!1}function ha(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function oH(){return{animate:ha(!0),whileInView:ha(),whileHover:ha(),whileTap:ha(),whileDrag:ha(),whileFocus:ha(),exit:ha()}}class aH extends so{constructor(e){super(e),e.animationState||(e.animationState=iH(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),Ep(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){}}let lH=0;class uH extends so{constructor(){super(...arguments),this.id=lH++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r,custom:n}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:n??this.node.getProps().custom});r&&!e&&s.then(()=>r(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const hH={animation:{Feature:aH},exit:{Feature:uH}},SP=(t,e)=>Math.abs(t-e);function cH(t,e){const r=SP(t.x,e.x),n=SP(t.y,e.y);return Math.sqrt(r**2+n**2)}class AP{constructor(e,r,{transformPagePoint:n}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const c=Wb(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=cH(c.offset,{x:0,y:0})>=3;if(!d&&!p)return;const{point:m}=c,{timestamp:g}=Sr;this.history.push({...m,timestamp:g});const{onStart:b,onMove:x}=this.handlers;d||(b&&b(this.lastMoveEvent,c),this.startEvent=this.lastMoveEvent),x&&x(this.lastMoveEvent,c)},this.handlePointerMove=(c,d)=>{this.lastMoveEvent=c,this.lastMoveEventInfo=Vb(d,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(c,d)=>{if(this.end(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const{onEnd:p,onSessionEnd:m}=this.handlers,g=Wb(c.type==="pointercancel"?this.lastMoveEventInfo:Vb(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(c,g),m&&m(c,g)},!k2(e))return;this.handlers=r,this.transformPagePoint=n;const i=Ip(e),s=Vb(i,this.transformPagePoint),{point:o}=s,{timestamp:a}=Sr;this.history=[{...o,timestamp:a}];const{onSessionStart:u}=r;u&&u(e,Wb(s,this.history)),this.removeListeners=io(gs(window,"pointermove",this.handlePointerMove),gs(window,"pointerup",this.handlePointerUp),gs(window,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ys(this.updatePoint)}}function Vb(t,e){return e?{point:e(t.point)}:t}function CP(t,e){return{x:t.x-e.x,y:t.y-e.y}}function Wb({point:t},e){return{point:t,delta:CP(t,PP(e)),offset:CP(t,dH(e)),velocity:fH(e,.1)}}function dH(t){return t[0]}function PP(t){return t[t.length-1]}function fH(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=PP(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>oo(e)));)r--;if(!n)return{x:0,y:0};const s=vs(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}function ln(t){return t.max-t.min}function Xb(t,e=0,r=.01){return Math.abs(t-e)<=r}function RP(t,e,r,n=.5){t.origin=n,t.originPoint=St(e.min,e.max,t.origin),t.scale=ln(r)/ln(e),(Xb(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=St(r.min,r.max,t.origin)-t.originPoint,(Xb(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Kh(t,e,r,n){RP(t.x,e.x,r.x,n?n.originX:void 0),RP(t.y,e.y,r.y,n?n.originY:void 0)}function kP(t,e,r){t.min=r.min+e.min,t.max=t.min+ln(e)}function pH(t,e,r){kP(t.x,e.x,r.x),kP(t.y,e.y,r.y)}function IP(t,e,r){t.min=e.min-r.min,t.max=t.min+ln(e)}function Zh(t,e,r){IP(t.x,e.x,r.x),IP(t.y,e.y,r.y)}function mH(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?St(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?St(r,t,n.max):Math.min(t,r)),t}function MP(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function gH(t,{top:e,left:r,bottom:n,right:i}){return{x:MP(t.x,r,i),y:MP(t.y,e,n)}}function DP(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function yH(t,e){return{x:DP(t.x,e.x),y:DP(t.y,e.y)}}function vH(t,e){let r=.5;const n=ln(t),i=ln(e);return i>n?r=qh(e.min,e.max-n,t.min):n>i&&(r=qh(t.min,t.max-i,e.min)),ro(0,1,r)}function bH(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const $b=.35;function _H(t=$b){return t===!1?t=0:t===!0&&(t=$b),{x:OP(t,"left","right"),y:OP(t,"top","bottom")}}function OP(t,e,r){return{min:NP(t,e),max:NP(t,r)}}function NP(t,e){return typeof t=="number"?t:t[e]||0}const LP=()=>({translate:0,scale:1,origin:0,originPoint:0}),Hl=()=>({x:LP(),y:LP()}),BP=()=>({min:0,max:0}),Wt=()=>({x:BP(),y:BP()});function Pi(t){return[t("x"),t("y")]}function FP({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function xH({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function wH(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function Yb(t){return t===void 0||t===1}function qb({scale:t,scaleX:e,scaleY:r}){return!Yb(t)||!Yb(e)||!Yb(r)}function ca(t){return qb(t)||UP(t)||t.z||t.rotate||t.rotateX||t.rotateY}function UP(t){return zP(t.x)||zP(t.y)}function zP(t){return t&&t!=="0%"}function Up(t,e,r){const n=t-r,i=e*n;return r+i}function jP(t,e,r,n,i){return i!==void 0&&(t=Up(t,i,n)),Up(t,r,n)+e}function Qb(t,e=0,r=1,n,i){t.min=jP(t.min,e,r,n,i),t.max=jP(t.max,e,r,n,i)}function HP(t,{x:e,y:r}){Qb(t.x,e.translate,e.scale,e.originPoint),Qb(t.y,r.translate,r.scale,r.originPoint)}function EH(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=r[a],o=s.projectionDelta;const u=s.instance;u&&u.style&&u.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Gl(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,HP(t,o)),n&&ca(s.latestValues)&&Gl(t,s.latestValues))}e.x=GP(e.x),e.y=GP(e.y)}function GP(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function lo(t,e){t.min=t.min+e,t.max=t.max+e}function VP(t,e,[r,n,i]){const s=e[i]!==void 0?e[i]:.5,o=St(t.min,t.max,s);Qb(t,e[r],e[n],o,e.scale)}const TH=["x","scaleX","originX"],SH=["y","scaleY","originY"];function Gl(t,e){VP(t.x,e,TH),VP(t.y,e,SH)}function WP(t,e){return FP(wH(t.getBoundingClientRect(),e))}function AH(t,e,r){const n=WP(t,r),{scroll:i}=e;return i&&(lo(n.x,i.offset.x),lo(n.y,i.offset.y)),n}const CH=new WeakMap;class PH{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Wt(),this.visualElement=e}start(e,{snapToCursor:r=!1}={}){const{presenceContext:n}=this.visualElement;if(n&&n.isPresent===!1)return;const i=u=>{this.stopAnimation(),r&&this.snapToCursor(Ip(u,"page").point)},s=(u,c)=>{const{drag:d,dragPropagation:p,onDragStart:m}=this.getProps();if(d&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=O2(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Pi(b=>{let x=this.getAxisMotionValue(b).get()||0;if(Ci.test(x)){const{projection:A}=this.visualElement;if(A&&A.layout){const T=A.layout.layoutBox[b];T&&(x=ln(T)*(parseFloat(x)/100))}}this.originPoint[b]=x}),m&&Tt.update(()=>m(u,c),!1,!0);const{animationState:g}=this.visualElement;g&&g.setActive("whileDrag",!0)},o=(u,c)=>{const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:m,onDrag:g}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:b}=c;if(p&&this.currentDirection===null){this.currentDirection=RH(b),this.currentDirection!==null&&m&&m(this.currentDirection);return}this.updateAxis("x",c.point,b),this.updateAxis("y",c.point,b),this.visualElement.render(),g&&g(u,c)},a=(u,c)=>this.stop(u,c);this.panSession=new AP(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a},{transformPagePoint:this.visualElement.getTransformPagePoint()})}stop(e,r){const n=this.isDragging;if(this.cancel(),!n)return;const{velocity:i}=r;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Tt.update(()=>s(e,r))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!zp(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(o=mH(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){const{dragConstraints:e,dragElastic:r}=this.getProps(),{layout:n}=this.visualElement.projection||{},i=this.constraints;e&&Ul(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=gH(n.layoutBox,e):this.constraints=!1,this.elastic=_H(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Pi(s=>{this.getAxisMotionValue(s)&&(this.constraints[s]=bH(n.layoutBox[s],this.constraints[s]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Ul(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=AH(n,i.root,this.visualElement.getTransformPagePoint());let o=yH(i.layout.layoutBox,s);if(r){const a=r(xH(o));this.hasMutatedConstraints=!!a,a&&(o=FP(a))}return o}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),u=this.constraints||{},c=Pi(d=>{if(!zp(d,r,this.currentDirection))return;let p=u&&u[d]||{};o&&(p={min:0,max:0});const m=i?200:1e6,g=i?40:1e7,b={type:"inertia",velocity:n?e[d]:0,bounceStiffness:m,bounceDamping:g,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(d,b)});return Promise.all(c).then(a)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return n.start(Ub(e,n,0,r))}stopAnimation(){Pi(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const r="_drag"+e.toUpperCase(),n=this.visualElement.getProps();return n[r]||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Pi(r=>{const{drag:n}=this.getProps();if(!zp(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[r];s.set(e[r]-St(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Ul(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Pi(o=>{const a=this.getAxisMotionValue(o);if(a){const u=a.get();i[o]=vH({min:u,max:u},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Pi(o=>{if(!zp(o,e,null))return;const a=this.getAxisMotionValue(o),{min:u,max:c}=this.constraints[o];a.set(St(u,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;CH.set(this.visualElement,this);const e=this.visualElement.current,r=gs(e,"pointerdown",u=>{const{drag:c,dragListener:d=!0}=this.getProps();c&&d&&this.start(u)}),n=()=>{const{dragConstraints:u}=this.getProps();Ul(u)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),n();const o=ms(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:u,hasLayoutChanged:c})=>{this.isDragging&&c&&(Pi(d=>{const p=this.getAxisMotionValue(d);p&&(this.originPoint[d]+=u[d].translate,p.set(p.get()+u[d].translate))}),this.visualElement.render())});return()=>{o(),r(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=$b,dragMomentum:a=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function zp(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function RH(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class kH extends so{constructor(e){super(e),this.removeGroupControls=Dt,this.removeListeners=Dt,this.controls=new PH(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Dt}unmount(){this.removeGroupControls(),this.removeListeners()}}const XP=t=>(e,r)=>{t&&Tt.update(()=>t(e,r))};class IH extends so{constructor(){super(...arguments),this.removePointerDownListener=Dt}onPointerDown(e){this.session=new AP(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint()})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:XP(e),onStart:XP(r),onMove:n,onEnd:(s,o)=>{delete this.session,i&&Tt.update(()=>i(s,o))}}}mount(){this.removePointerDownListener=gs(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function MH(){const t=H.useContext(ub);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:r,register:n}=t,i=H.useId();return H.useEffect(()=>n(i),[]),!e&&r?[!1,()=>r&&r(i)]:[!0]}const jp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function $P(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Jh={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Pe.test(t))t=parseFloat(t);else return t;const r=$P(t,e.target.x),n=$P(t,e.target.y);return`${r}% ${n}%`}},DH={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=ao.parse(t);if(i.length>5)return n;const s=ao.createTransformer(t),o=typeof i[0]!="number"?1:0,a=r.x.scale*e.x,u=r.y.scale*e.y;i[0+o]/=a,i[1+o]/=u;const c=St(a,u,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class OH extends Kr.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;zj(NH),s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),jp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,o=n.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==r||r===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Tt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function YP(t){const[e,r]=MH(),n=H.useContext(d2);return Kr.createElement(OH,{...t,layoutGroup:n,switchLayoutGroup:H.useContext(f2),isPresent:e,safeToRemove:r})}const NH={borderRadius:{...Jh,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Jh,borderTopRightRadius:Jh,borderBottomLeftRadius:Jh,borderBottomRightRadius:Jh,boxShadow:DH},qP=["TopLeft","TopRight","BottomLeft","BottomRight"],LH=qP.length,QP=t=>typeof t=="string"?parseFloat(t):t,KP=t=>typeof t=="number"||Pe.test(t);function BH(t,e,r,n,i,s){i?(t.opacity=St(0,r.opacity!==void 0?r.opacity:1,FH(n)),t.opacityExit=St(e.opacity!==void 0?e.opacity:1,0,UH(n))):s&&(t.opacity=St(e.opacity!==void 0?e.opacity:1,r.opacity!==void 0?r.opacity:1,n));for(let o=0;o<LH;o++){const a=`border${qP[o]}Radius`;let u=ZP(e,a),c=ZP(r,a);u===void 0&&c===void 0||(u||(u=0),c||(c=0),u===0||c===0||KP(u)===KP(c)?(t[a]=Math.max(St(QP(u),QP(c),n),0),(Ci.test(c)||Ci.test(u))&&(t[a]+="%")):t[a]=c)}(e.rotate||r.rotate)&&(t.rotate=St(e.rotate||0,r.rotate||0,n))}function ZP(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const FH=JP(0,.5,Ab),UH=JP(.5,.95,Dt);function JP(t,e,r){return n=>n<t?0:n>e?1:r(qh(t,e,n))}function eR(t,e){t.min=e.min,t.max=e.max}function En(t,e){eR(t.x,e.x),eR(t.y,e.y)}function tR(t,e,r,n,i){return t-=e,t=Up(t,1/r,n),i!==void 0&&(t=Up(t,1/i,n)),t}function zH(t,e=0,r=1,n=.5,i,s=t,o=t){if(Ci.test(e)&&(e=parseFloat(e),e=St(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=St(s.min,s.max,n);t===s&&(a-=e),t.min=tR(t.min,e,r,a,i),t.max=tR(t.max,e,r,a,i)}function rR(t,e,[r,n,i],s,o){zH(t,e[r],e[n],e[i],e.scale,s,o)}const jH=["x","scaleX","originX"],HH=["y","scaleY","originY"];function nR(t,e,r,n){rR(t.x,e,jH,r?r.x:void 0,n?n.x:void 0),rR(t.y,e,HH,r?r.y:void 0,n?n.y:void 0)}function iR(t){return t.translate===0&&t.scale===1}function sR(t){return iR(t.x)&&iR(t.y)}function GH(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function oR(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function aR(t){return ln(t.x)/ln(t.y)}class VH{constructor(){this.members=[]}add(e){zb(this.members,e),e.scheduleRender()}remove(e){if(jb(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function lR(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(n=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{rotate:u,rotateX:c,rotateY:d}=r;u&&(n+=`rotate(${u}deg) `),c&&(n+=`rotateX(${c}deg) `),d&&(n+=`rotateY(${d}deg) `)}const o=t.x.scale*e.x,a=t.y.scale*e.y;return(o!==1||a!==1)&&(n+=`scale(${o}, ${a})`),n||"none"}const WH=(t,e)=>t.depth-e.depth;class XH{constructor(){this.children=[],this.isDirty=!1}add(e){zb(this.children,e),this.isDirty=!0}remove(e){jb(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(WH),this.isDirty=!1,this.children.forEach(e)}}function $H(t,e){const r=performance.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(ys(n),t(s-e))};return Tt.read(n,!0),()=>ys(n)}function YH(t){window.MotionDebug&&window.MotionDebug.record(t)}function qH(t){return t instanceof SVGElement&&t.tagName!=="svg"}function QH(t,e,r){const n=Vr(t)?t:jl(t);return n.start(Ub("",n,e,r)),n.animation}const uR=["","X","Y","Z"],hR=1e3;let KH=0;const da={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function cR({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(s={},o=e==null?void 0:e()){this.id=KH++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{da.totalNodes=da.resolvedTargetDeltas=da.recalculatedProjection=0,this.nodes.forEach(eG),this.nodes.forEach(sG),this.nodes.forEach(oG),this.nodes.forEach(tG),YH(da)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=s,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let a=0;a<this.path.length;a++)this.path[a].shouldResetTransform=!0;this.root===this&&(this.nodes=new XH)}addEventListener(s,o){return this.eventHandlers.has(s)||this.eventHandlers.set(s,new Hb),this.eventHandlers.get(s).add(o)}notifyListeners(s,...o){const a=this.eventHandlers.get(s);a&&a.notify(...o)}hasListeners(s){return this.eventHandlers.has(s)}mount(s,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=qH(s),this.instance=s;const{layoutId:a,layout:u,visualElement:c}=this.options;if(c&&!c.current&&c.mount(s),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(u||a)&&(this.isLayoutDirty=!0),t){let d;const p=()=>this.root.updateBlockedByResize=!1;t(s,()=>{this.root.updateBlockedByResize=!0,d&&d(),d=$H(p,250),jp.hasAnimatedSinceResize&&(jp.hasAnimatedSinceResize=!1,this.nodes.forEach(fR))})}a&&this.root.registerSharedNode(a,this),this.options.animate!==!1&&c&&(a||u)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:p,hasRelativeTargetChanged:m,layout:g})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||c.getDefaultTransition()||cG,{onLayoutAnimationStart:x,onLayoutAnimationComplete:A}=c.getProps(),T=!this.targetLayout||!oR(this.targetLayout,g)||m,_=!p&&m;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||p&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(d,_);const w={..._P(b,"layout"),onPlay:x,onComplete:A};(c.shouldReduceMotion||this.options.layoutRoot)&&(w.delay=0,w.type=!1),this.startAnimation(w)}else p||fR(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=g})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const s=this.getStack();s&&s.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ys(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(aG),this.animationId++)}getTransformTemplate(){const{visualElement:s}=this.options;return s&&s.getProps().transformTemplate}willUpdate(s=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let c=0;c<this.path.length;c++){const d=this.path[c];d.shouldResetTransform=!0,d.updateScroll("snapshot"),d.options.layoutRoot&&d.willUpdate(!1)}const{layoutId:o,layout:a}=this.options;if(o===void 0&&!a)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),s&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dR);return}this.isUpdating||this.nodes.forEach(nG),this.isUpdating=!1,this.nodes.forEach(iG),this.nodes.forEach(ZH),this.nodes.forEach(JH),this.clearAllSnapshots();const s=performance.now();Sr.delta=ro(0,1e3/60,s-Sr.timestamp),Sr.timestamp=s,Sr.isProcessing=!0,xb.update.process(Sr),xb.preRender.process(Sr),xb.render.process(Sr),Sr.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(rG),this.sharedNodes.forEach(lG)}scheduleUpdateProjection(){Tt.preRender(this.updateProjection,!1,!0)}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let a=0;a<this.path.length;a++)this.path[a].updateScroll();const s=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Wt(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,s?s.layoutBox:void 0)}updateScroll(s="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===s&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:s,isRoot:n(this.instance),offset:r(this.instance)})}resetTransform(){if(!i)return;const s=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!sR(this.projectionDelta),a=this.getTransformTemplate(),u=a?a(this.latestValues,""):void 0,c=u!==this.prevTransformTemplateValue;s&&(o||ca(this.latestValues)||c)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(s=!0){const o=this.measurePageBox();let a=this.removeElementScroll(o);return s&&(a=this.removeTransform(a)),dG(a),{animationId:this.root.animationId,measuredBox:o,layoutBox:a,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:s}=this.options;if(!s)return Wt();const o=s.measureViewportBox(),{scroll:a}=this.root;return a&&(lo(o.x,a.offset.x),lo(o.y,a.offset.y)),o}removeElementScroll(s){const o=Wt();En(o,s);for(let a=0;a<this.path.length;a++){const u=this.path[a],{scroll:c,options:d}=u;if(u!==this.root&&c&&d.layoutScroll){if(c.isRoot){En(o,s);const{scroll:p}=this.root;p&&(lo(o.x,-p.offset.x),lo(o.y,-p.offset.y))}lo(o.x,c.offset.x),lo(o.y,c.offset.y)}}return o}applyTransform(s,o=!1){const a=Wt();En(a,s);for(let u=0;u<this.path.length;u++){const c=this.path[u];!o&&c.options.layoutScroll&&c.scroll&&c!==c.root&&Gl(a,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),ca(c.latestValues)&&Gl(a,c.latestValues)}return ca(this.latestValues)&&Gl(a,this.latestValues),a}removeTransform(s){const o=Wt();En(o,s);for(let a=0;a<this.path.length;a++){const u=this.path[a];if(!u.instance||!ca(u.latestValues))continue;qb(u.latestValues)&&u.updateSnapshot();const c=Wt(),d=u.measurePageBox();En(c,d),nR(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,c)}return ca(this.latestValues)&&nR(o,this.latestValues),o}setTargetDelta(s){this.targetDelta=s,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(s){this.options={...this.options,...s,crossfade:s.crossfade!==void 0?s.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Sr.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(s=!1){var o;const a=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=a.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=a.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=a.isSharedProjectionDirty);const u=!!this.resumingFrom||this!==a;if(!(s||u&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:c,layoutId:d}=this.options;if(!(!this.layout||!(c||d))){if(this.resolvedRelativeTargetAt=Sr.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),Zh(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Wt(),this.targetWithTransforms=Wt()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),pH(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):En(this.target,this.layout.layoutBox),HP(this.target,this.targetDelta)):En(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Wt(),this.relativeTargetOrigin=Wt(),Zh(this.relativeTargetOrigin,this.target,p.target),En(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}da.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||qb(this.parent.latestValues)||UP(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var s;const o=this.getLead(),a=!!this.resumingFrom||this!==o;let u=!0;if((this.isProjectionDirty||!((s=this.parent)===null||s===void 0)&&s.isProjectionDirty)&&(u=!1),a&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(u=!1),this.resolvedRelativeTargetAt===Sr.timestamp&&(u=!1),u)return;const{layout:c,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(c||d))return;En(this.layoutCorrected,this.layout.layoutBox);const p=this.treeScale.x,m=this.treeScale.y;EH(this.layoutCorrected,this.treeScale,this.path,a),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:g}=o;if(!g){this.projectionTransform&&(this.projectionDelta=Hl(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Hl(),this.projectionDeltaWithTransform=Hl());const b=this.projectionTransform;Kh(this.projectionDelta,this.layoutCorrected,g,this.latestValues),this.projectionTransform=lR(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==p||this.treeScale.y!==m)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",g)),da.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(s=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),s){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(s,o=!1){const a=this.snapshot,u=a?a.latestValues:{},c={...this.latestValues},d=Hl();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const p=Wt(),m=a?a.source:void 0,g=this.layout?this.layout.source:void 0,b=m!==g,x=this.getStack(),A=!x||x.members.length<=1,T=!!(b&&!A&&this.options.crossfade===!0&&!this.path.some(hG));this.animationProgress=0;let _;this.mixTargetDelta=w=>{const S=w/1e3;pR(d.x,s.x,S),pR(d.y,s.y,S),this.setTargetDelta(d),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Zh(p,this.layout.layoutBox,this.relativeParent.layout.layoutBox),uG(this.relativeTarget,this.relativeTargetOrigin,p,S),_&&GH(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=Wt()),En(_,this.relativeTarget)),b&&(this.animationValues=c,BH(c,u,this.latestValues,S,T,A)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=S},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(s){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ys(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{jp.hasAnimatedSinceResize=!0,this.currentAnimation=QH(0,hR,{...s,onUpdate:o=>{this.mixTargetDelta(o),s.onUpdate&&s.onUpdate(o)},onComplete:()=>{s.onComplete&&s.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const s=this.getStack();s&&s.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(hR),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const s=this.getLead();let{targetWithTransforms:o,target:a,layout:u,latestValues:c}=s;if(!(!o||!a||!u)){if(this!==s&&this.layout&&u&&bR(this.options.animationType,this.layout.layoutBox,u.layoutBox)){a=this.target||Wt();const d=ln(this.layout.layoutBox.x);a.x.min=s.target.x.min,a.x.max=a.x.min+d;const p=ln(this.layout.layoutBox.y);a.y.min=s.target.y.min,a.y.max=a.y.min+p}En(o,a),Gl(o,c),Kh(this.projectionDeltaWithTransform,this.layoutCorrected,o,c)}}registerSharedNode(s,o){this.sharedNodes.has(s)||this.sharedNodes.set(s,new VH),this.sharedNodes.get(s).add(o);const a=o.options.initialPromotionConfig;o.promote({transition:a?a.transition:void 0,preserveFollowOpacity:a&&a.shouldPreserveFollowOpacity?a.shouldPreserveFollowOpacity(o):void 0})}isLead(){const s=this.getStack();return s?s.lead===this:!0}getLead(){var s;const{layoutId:o}=this.options;return o?((s=this.getStack())===null||s===void 0?void 0:s.lead)||this:this}getPrevLead(){var s;const{layoutId:o}=this.options;return o?(s=this.getStack())===null||s===void 0?void 0:s.prevLead:void 0}getStack(){const{layoutId:s}=this.options;if(s)return this.root.sharedNodes.get(s)}promote({needsReset:s,transition:o,preserveFollowOpacity:a}={}){const u=this.getStack();u&&u.promote(this,a),s&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const s=this.getStack();return s?s.relegate(this):!1}resetRotation(){const{visualElement:s}=this.options;if(!s)return;let o=!1;const{latestValues:a}=s;if((a.rotate||a.rotateX||a.rotateY||a.rotateZ)&&(o=!0),!o)return;const u={};for(let c=0;c<uR.length;c++){const d="rotate"+uR[c];a[d]&&(u[d]=a[d],s.setStaticValue(d,0))}s.render();for(const c in u)s.setStaticValue(c,u[c]);s.scheduleRender()}getProjectionStyles(s={}){var o,a;const u={};if(!this.instance||this.isSVG)return u;if(this.isVisible)u.visibility="";else return{visibility:"hidden"};const c=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,u.opacity="",u.pointerEvents=kp(s.pointerEvents)||"",u.transform=c?c(this.latestValues,""):"none",u;const d=this.getLead();if(!this.projectionDelta||!this.layout||!d.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=kp(s.pointerEvents)||""),this.hasProjected&&!ca(this.latestValues)&&(b.transform=c?c({},""):"none",this.hasProjected=!1),b}const p=d.animationValues||d.latestValues;this.applyTransformsToTarget(),u.transform=lR(this.projectionDeltaWithTransform,this.treeScale,p),c&&(u.transform=c(p,u.transform));const{x:m,y:g}=this.projectionDelta;u.transformOrigin=`${m.origin*100}% ${g.origin*100}% 0`,d.animationValues?u.opacity=d===this?(a=(o=p.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&a!==void 0?a:1:this.preserveOpacity?this.latestValues.opacity:p.opacityExit:u.opacity=d===this?p.opacity!==void 0?p.opacity:"":p.opacityExit!==void 0?p.opacityExit:0;for(const b in Sp){if(p[b]===void 0)continue;const{correct:x,applyTo:A}=Sp[b],T=u.transform==="none"?p[b]:x(p[b],d);if(A){const _=A.length;for(let w=0;w<_;w++)u[A[w]]=T}else u[b]=T}return this.options.layoutId&&(u.pointerEvents=d===this?kp(s.pointerEvents)||"":"none"),u}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(s=>{var o;return(o=s.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(dR),this.root.sharedNodes.clear()}}}function ZH(t){t.updateLayout()}function JH(t){var e;const r=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&r&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,o=r.source!==t.layout.source;s==="size"?Pi(p=>{const m=o?r.measuredBox[p]:r.layoutBox[p],g=ln(m);m.min=n[p].min,m.max=m.min+g}):bR(s,r.layoutBox,n)&&Pi(p=>{const m=o?r.measuredBox[p]:r.layoutBox[p],g=ln(n[p]);m.max=m.min+g,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+g)});const a=Hl();Kh(a,n,r.layoutBox);const u=Hl();o?Kh(u,t.applyTransform(i,!0),r.measuredBox):Kh(u,n,r.layoutBox);const c=!sR(a);let d=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:g}=p;if(m&&g){const b=Wt();Zh(b,r.layoutBox,m.layoutBox);const x=Wt();Zh(x,n,g.layoutBox),oR(b,x)||(d=!0),p.options.layoutRoot&&(t.relativeTarget=x,t.relativeTargetOrigin=b,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:r,delta:u,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function eG(t){da.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function tG(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function rG(t){t.clearSnapshot()}function dR(t){t.clearMeasurements()}function nG(t){t.isLayoutDirty=!1}function iG(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fR(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function sG(t){t.resolveTargetDelta()}function oG(t){t.calcProjection()}function aG(t){t.resetRotation()}function lG(t){t.removeLeadSnapshot()}function pR(t,e,r){t.translate=St(e.translate,0,r),t.scale=St(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function mR(t,e,r,n){t.min=St(e.min,r.min,n),t.max=St(e.max,r.max,n)}function uG(t,e,r,n){mR(t.x,e.x,r.x,n),mR(t.y,e.y,r.y,n)}function hG(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const cG={duration:.45,ease:[.4,0,.1,1]},gR=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),yR=gR("applewebkit/")&&!gR("chrome/")?Math.round:Dt;function vR(t){t.min=yR(t.min),t.max=yR(t.max)}function dG(t){vR(t.x),vR(t.y)}function bR(t,e,r){return t==="position"||t==="preserve-aspect"&&!Xb(aR(e),aR(r),.2)}const fG=cR({attachResizeListener:(t,e)=>ms(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),Kb={current:void 0},_R=cR({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Kb.current){const t=new fG({});t.mount(window),t.setOptions({layoutScroll:!0}),Kb.current=t}return Kb.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),pG={pan:{Feature:IH},drag:{Feature:kH,ProjectionNode:_R,MeasureLayout:YP}},mG=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function gG(t){const e=mG.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]}function Zb(t,e,r=1){const[n,i]=gG(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const o=s.trim();return xP(o)?parseFloat(o):o}else return fb(i)?Zb(i,e,r+1):i}function yG(t,{...e},r){const n=t.current;if(!(n instanceof Element))return{target:e,transitionEnd:r};r&&(r={...r}),t.values.forEach(i=>{const s=i.get();if(!fb(s))return;const o=Zb(s,n);o&&i.set(o)});for(const i in e){const s=e[i];if(!fb(s))continue;const o=Zb(s,n);o&&(e[i]=o,r||(r={}),r[i]===void 0&&(r[i]=s))}return{target:e,transitionEnd:r}}const vG=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),xR=t=>vG.has(t),bG=t=>Object.keys(t).some(xR),wR=t=>t===la||t===Pe,ER=(t,e)=>parseFloat(t.split(", ")[e]),TR=(t,e)=>(r,{transform:n})=>{if(n==="none"||!n)return 0;const i=n.match(/^matrix3d\((.+)\)$/);if(i)return ER(i[1],e);{const s=n.match(/^matrix\((.+)\)$/);return s?ER(s[1],t):0}},_G=new Set(["x","y","z"]),xG=Hh.filter(t=>!_G.has(t));function wG(t){const e=[];return xG.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e.length&&t.render(),e}const Vl={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:TR(4,13),y:TR(5,14)};Vl.translateX=Vl.x,Vl.translateY=Vl.y;const EG=(t,e,r)=>{const n=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:o}=s,a={};o==="none"&&e.setStaticValue("display",t.display||"block"),r.forEach(c=>{a[c]=Vl[c](n,s)}),e.render();const u=e.measureViewportBox();return r.forEach(c=>{const d=e.getValue(c);d&&d.jump(a[c]),t[c]=Vl[c](u,s)}),t},TG=(t,e,r={},n={})=>{e={...e},n={...n};const i=Object.keys(e).filter(xR);let s=[],o=!1;const a=[];if(i.forEach(u=>{const c=t.getValue(u);if(!t.hasValue(u))return;let d=r[u],p=Qh(d);const m=e[u];let g;if(Rp(m)){const b=m.length,x=m[0]===null?1:0;d=m[x],p=Qh(d);for(let A=x;A<b&&m[A]!==null;A++)g?Sb(Qh(m[A])===g):g=Qh(m[A])}else g=Qh(m);if(p!==g)if(wR(p)&&wR(g)){const b=c.get();typeof b=="string"&&c.set(parseFloat(b)),typeof m=="string"?e[u]=parseFloat(m):Array.isArray(m)&&g===Pe&&(e[u]=m.map(parseFloat))}else p!=null&&p.transform&&(g!=null&&g.transform)&&(d===0||m===0)?d===0?c.set(g.transform(d)):e[u]=p.transform(m):(o||(s=wG(t),o=!0),a.push(u),n[u]=n[u]!==void 0?n[u]:e[u],c.jump(m))}),a.length){const u=a.indexOf("height")>=0?window.pageYOffset:null,c=EG(e,t,a);return s.length&&s.forEach(([d,p])=>{t.getValue(d).set(p)}),t.render(),wp&&u!==null&&window.scrollTo({top:u}),{target:c,transitionEnd:n}}else return{target:e,transitionEnd:n}};function SG(t,e,r,n){return bG(e)?TG(t,e,r,n):{target:e,transitionEnd:n}}const AG=(t,e,r,n)=>{const i=yG(t,e,n);return e=i.target,n=i.transitionEnd,SG(t,e,r,n)},Jb={current:null},SR={current:!1};function CG(){if(SR.current=!0,!!wp)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>Jb.current=t.matches;t.addListener(e),e()}else Jb.current=!1}function PG(t,e,r){const{willChange:n}=e;for(const i in e){const s=e[i],o=r[i];if(Vr(s))t.addValue(i,s),Fp(n)&&n.add(i);else if(Vr(o))t.addValue(i,jl(s,{owner:t})),Fp(n)&&n.remove(i);else if(o!==s)if(t.hasValue(i)){const a=t.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=t.getStaticValue(i);t.addValue(i,jl(a!==void 0?a:s,{owner:t}))}}for(const i in r)e[i]===void 0&&t.removeValue(i);return e}const AR=new WeakMap,CR=Object.keys(jh),RG=CR.length,PR=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],kG=cb.length;class IG{constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,visualState:s},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Tt.render(this.render,!1,!0);const{latestValues:a,renderState:u}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=r.initial?{...a}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.isControllingVariants=Tp(r),this.isVariantNode=u2(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...d}=this.scrapeMotionValuesFromProps(r,{});for(const p in d){const m=d[p];a[p]!==void 0&&Vr(m)&&(m.set(a[p],!1),Fp(c)&&c.add(p))}}scrapeMotionValuesFromProps(e,r){return{}}mount(e){this.current=e,AR.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((r,n)=>this.bindToMotionValue(n,r)),SR.current||CG(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Jb.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){AR.delete(this.current),this.projection&&this.projection.unmount(),ys(this.notifyUpdate),ys(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,r){const n=aa.has(e),i=r.on("change",o=>{this.latestValues[e]=o,this.props.onUpdate&&Tt.update(this.notifyUpdate,!1,!0),n&&this.projection&&(this.projection.isTransformDirty=!0)}),s=r.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...r},n,i,s){let o,a;for(let u=0;u<RG;u++){const c=CR[u],{isEnabled:d,Feature:p,ProjectionNode:m,MeasureLayout:g}=jh[c];m&&(o=m),d(r)&&(!this.features[c]&&p&&(this.features[c]=new p(this)),g&&(a=g))}if(!this.projection&&o){this.projection=new o(this.latestValues,this.parent&&this.parent.projection);const{layoutId:u,layout:c,drag:d,dragConstraints:p,layoutScroll:m,layoutRoot:g}=r;this.projection.setOptions({layoutId:u,layout:c,alwaysMeasureLayout:!!d||p&&Ul(p),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:m,layoutRoot:g})}return a}updateFeatures(){for(const e in this.features){const r=this.features[e];r.isMounted?r.update():(r.mount(),r.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Wt()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}makeTargetAnimatable(e,r=!0){return this.makeTargetAnimatableFromInstance(e,this.props,r)}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<PR.length;n++){const i=PR[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=PG(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const n=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(n.initial=this.props.initial),n}const r={};for(let n=0;n<kG;n++){const i=cb[n],s=this.props[i];(zh(s)||s===!1)&&(r[i]=s)}return r}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){r!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,r)),this.values.set(e,r),this.latestValues[e]=r.get()}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=jl(r,{owner:this}),this.addValue(e,n)),n}readValue(e){var r;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var r;const{initial:n}=this.props,i=typeof n=="string"||typeof n=="object"?(r=_b(this.props,n))===null||r===void 0?void 0:r[e]:void 0;if(n&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!Vr(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new Hb),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}}class RR extends IG{sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:r,...n},{transformValues:i},s){let o=Q8(n,e||{},this);if(i&&(r&&(r=i(r)),n&&(n=i(n)),o&&(o=i(o))),s){Y8(this,n,o);const a=AG(this,n,o,r);r=a.transitionEnd,n=a.target}return{transition:e,transitionEnd:r,...n}}}function MG(t){return window.getComputedStyle(t)}class DG extends RR{readValueFromInstance(e,r){if(aa.has(r)){const n=Fb(r);return n&&n.default||0}else{const n=MG(e),i=(g2(r)?n.getPropertyValue(r):n[r])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:r}){return WP(e,r)}build(e,r,n,i){pb(e,r,n,i.transformTemplate)}scrapeMotionValuesFromProps(e,r){return bb(e,r)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Vr(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}renderInstance(e,r,n,i){S2(e,r,n,i)}}class OG extends RR{constructor(){super(...arguments),this.isSVGTag=!1}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(aa.has(r)){const n=Fb(r);return n&&n.default||0}return r=A2.has(r)?r:vb(r),e.getAttribute(r)}measureInstanceViewportBox(){return Wt()}scrapeMotionValuesFromProps(e,r){return P2(e,r)}build(e,r,n,i){gb(e,r,n,this.isSVGTag,i.transformTemplate)}renderInstance(e,r,n,i){C2(e,r,n,i)}mount(e){this.isSVGTag=yb(e.tagName),super.mount(e)}}const NG=(t,e)=>db(t)?new OG(e,{enableHardwareAcceleration:!1}):new DG(e,{enableHardwareAcceleration:!0}),LG={layout:{ProjectionNode:_R,MeasureLayout:YP}},BG={...hH,...k6,...pG,...LG},FG=Fj((t,e)=>p6(t,e,BG,NG)),UG={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0}};function e1(t){return ye.jsx(FG.div,{variants:UG,initial:"initial",animate:"animate",exit:"exit",transition:{duration:5,type:"spring",stiffness:50,mass:5},children:t.children})}const kR=["bg-light-cyan","bg-salmon","bg-medium-blue","bg-teal","bg-orange-orange","bg-really-red"],IR=["accent-dark-blue","accent-light-cyan","accent-yellow-orange","accent-salmon","accent-medium-blue","accent-teal","accent-darkish-yellow","accent-orange-orange","accent-really-red"],MR=["text-light-cyan","text-yellow-orange","text-salmon","text-medium-blue","text-teal","text-darkish-yellow","text-orange-orange"];function zG(){const[t,e]=lb();return ye.jsxs(e1,{children:[ye.jsx(ia.Stage,{width:t,height:e,options:{backgroundColor:0},className:"canvas",children:ye.jsx(ab,{random:!0,count:150,width:t,height:e})}),ye.jsxs("div",{className:"fixed -translate-x-1/2 -translate-y-1/3 left-1/2 top-1/3",children:[ye.jsx("p",{className:"absolute left-[80%] md:left-[85%] xl:left-[87%] 2xl:left-[77%] xl:top-14 top-11 md:top-11 rotate-12 text-4xl md:text-7xl font-bold animate-colorpulse "+MR[Math.floor(Math.random()*MR.length)],children:"v2.0"}),ye.jsx("h1",{className:"text-6xl md:text-9xl font-semibold mb-12",children:"Gravity Simulation"}),ye.jsx(qd,{to:"/play",className:"no-underline bg-black text-neutral-200 text-3xl lg:text-6xl font-extrabold shadow-black transition-all duration-[1250ms] ease-[cubic-bezier(0.19,1,0.22,1)] px-32 py-2.5 border-0 border-solid hover:border hover:shadow-[inset_0_0_20px_rgba(255,255,255,0.5),0_0_20px_rgba(255,255,255,0.2)] hover:border-solid outline",children:"Play"})]}),ye.jsx(Rj,{})]})}var jG=Object.defineProperty,HG=(t,e,r)=>e in t?jG(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,q=(t,e,r)=>(HG(t,typeof e!="symbol"?e+"":e,r),r);class Tn{constructor(e){q(this,"parent"),q(this,"paused"),this.parent=e,this.paused=!1}destroy(){}down(e){return!1}move(e){return!1}up(e){return!1}wheel(e){return!1}update(e){}resize(){}reset(){}pause(){this.paused=!0}resume(){this.paused=!1}}var GG=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},DR={exports:{}};(function(t,e){(function(){var r,n;n=function(i){return t.exports=i},r={linear:function(i,s,o,a){return o*i/a+s},easeInQuad:function(i,s,o,a){return o*(i/=a)*i+s},easeOutQuad:function(i,s,o,a){return-o*(i/=a)*(i-2)+s},easeInOutQuad:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i+s:-o/2*(--i*(i-2)-1)+s},easeInCubic:function(i,s,o,a){return o*(i/=a)*i*i+s},easeOutCubic:function(i,s,o,a){return o*((i=i/a-1)*i*i+1)+s},easeInOutCubic:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i+s:o/2*((i-=2)*i*i+2)+s},easeInQuart:function(i,s,o,a){return o*(i/=a)*i*i*i+s},easeOutQuart:function(i,s,o,a){return-o*((i=i/a-1)*i*i*i-1)+s},easeInOutQuart:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i+s:-o/2*((i-=2)*i*i*i-2)+s},easeInQuint:function(i,s,o,a){return o*(i/=a)*i*i*i*i+s},easeOutQuint:function(i,s,o,a){return o*((i=i/a-1)*i*i*i*i+1)+s},easeInOutQuint:function(i,s,o,a){return(i/=a/2)<1?o/2*i*i*i*i*i+s:o/2*((i-=2)*i*i*i*i+2)+s},easeInSine:function(i,s,o,a){return-o*Math.cos(i/a*(Math.PI/2))+o+s},easeOutSine:function(i,s,o,a){return o*Math.sin(i/a*(Math.PI/2))+s},easeInOutSine:function(i,s,o,a){return-o/2*(Math.cos(Math.PI*i/a)-1)+s},easeInExpo:function(i,s,o,a){return i===0?s:o*Math.pow(2,10*(i/a-1))+s},easeOutExpo:function(i,s,o,a){return i===a?s+o:o*(-Math.pow(2,-10*i/a)+1)+s},easeInOutExpo:function(i,s,o,a){return(i/=a/2)<1?o/2*Math.pow(2,10*(i-1))+s:o/2*(-Math.pow(2,-10*--i)+2)+s},easeInCirc:function(i,s,o,a){return-o*(Math.sqrt(1-(i/=a)*i)-1)+s},easeOutCirc:function(i,s,o,a){return o*Math.sqrt(1-(i=i/a-1)*i)+s},easeInOutCirc:function(i,s,o,a){return(i/=a/2)<1?-o/2*(Math.sqrt(1-i*i)-1)+s:o/2*(Math.sqrt(1-(i-=2)*i)+1)+s},easeInElastic:function(i,s,o,a){var u,c,d;return d=1.70158,c=0,u=o,i===0||(i/=a),c||(c=a*.3),u<Math.abs(o)?(u=o,d=c/4):d=c/(2*Math.PI)*Math.asin(o/u),-(u*Math.pow(2,10*(i-=1))*Math.sin((i*a-d)*(2*Math.PI)/c))+s},easeOutElastic:function(i,s,o,a){var u,c,d;return d=1.70158,c=0,u=o,i===0||(i/=a),c||(c=a*.3),u<Math.abs(o)?(u=o,d=c/4):d=c/(2*Math.PI)*Math.asin(o/u),u*Math.pow(2,-10*i)*Math.sin((i*a-d)*(2*Math.PI)/c)+o+s},easeInOutElastic:function(i,s,o,a){var u,c,d;return d=1.70158,c=0,u=o,i===0||(i/=a/2),c||(c=a*(.3*1.5)),u<Math.abs(o)?(u=o,d=c/4):d=c/(2*Math.PI)*Math.asin(o/u),i<1?-.5*(u*Math.pow(2,10*(i-=1))*Math.sin((i*a-d)*(2*Math.PI)/c))+s:u*Math.pow(2,-10*(i-=1))*Math.sin((i*a-d)*(2*Math.PI)/c)*.5+o+s},easeInBack:function(i,s,o,a,u){return u===void 0&&(u=1.70158),o*(i/=a)*i*((u+1)*i-u)+s},easeOutBack:function(i,s,o,a,u){return u===void 0&&(u=1.70158),o*((i=i/a-1)*i*((u+1)*i+u)+1)+s},easeInOutBack:function(i,s,o,a,u){return u===void 0&&(u=1.70158),(i/=a/2)<1?o/2*(i*i*(((u*=1.525)+1)*i-u))+s:o/2*((i-=2)*i*(((u*=1.525)+1)*i+u)+2)+s},easeInBounce:function(i,s,o,a){var u;return u=r.easeOutBounce(a-i,0,o,a),o-u+s},easeOutBounce:function(i,s,o,a){return(i/=a)<1/2.75?o*(7.5625*i*i)+s:i<2/2.75?o*(7.5625*(i-=1.5/2.75)*i+.75)+s:i<2.5/2.75?o*(7.5625*(i-=2.25/2.75)*i+.9375)+s:o*(7.5625*(i-=2.625/2.75)*i+.984375)+s},easeInOutBounce:function(i,s,o,a){var u;return i<a/2?(u=r.easeInBounce(i*2,0,o,a),u*.5+s):(u=r.easeOutBounce(i*2-a,0,o,a),u*.5+o*.5+s)}},n(r)}).call(GG)})(DR);const OR=DR.exports;function Hp(t,e){if(t){if(typeof t=="function")return t;if(typeof t=="string")return OR[t]}else return OR[e]}const VG={removeOnInterrupt:!1,ease:"linear",time:1e3};class WG extends Tn{constructor(e,r={}){super(e),q(this,"options"),q(this,"startX"),q(this,"startY"),q(this,"deltaX"),q(this,"deltaY"),q(this,"keepCenter"),q(this,"startWidth",null),q(this,"startHeight",null),q(this,"deltaWidth",null),q(this,"deltaHeight",null),q(this,"width",null),q(this,"height",null),q(this,"time",0),this.options=Object.assign({},VG,r),this.options.ease=Hp(this.options.ease),this.setupPosition(),this.setupZoom(),this.time=0}setupPosition(){typeof this.options.position<"u"?(this.startX=this.parent.center.x,this.startY=this.parent.center.y,this.deltaX=this.options.position.x-this.parent.center.x,this.deltaY=this.options.position.y-this.parent.center.y,this.keepCenter=!1):this.keepCenter=!0}setupZoom(){this.width=null,this.height=null,typeof this.options.scale<"u"?this.width=this.parent.screenWidth/this.options.scale:typeof this.options.scaleX<"u"||typeof this.options.scaleY<"u"?(typeof this.options.scaleX<"u"&&(this.width=this.parent.screenWidth/this.options.scaleX),typeof this.options.scaleY<"u"&&(this.height=this.parent.screenHeight/this.options.scaleY)):(typeof this.options.width<"u"&&(this.width=this.options.width),typeof this.options.height<"u"&&(this.height=this.options.height)),this.width!==null&&(this.startWidth=this.parent.screenWidthInWorldPixels,this.deltaWidth=this.width-this.startWidth),this.height!==null&&(this.startHeight=this.parent.screenHeightInWorldPixels,this.deltaHeight=this.height-this.startHeight)}down(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("animate"),!1}complete(){this.parent.plugins.remove("animate"),this.width!==null&&this.parent.fitWidth(this.width,this.keepCenter,this.height===null),this.height!==null&&this.parent.fitHeight(this.height,this.keepCenter,this.width===null),!this.keepCenter&&this.options.position&&this.parent.moveCenter(this.options.position),this.parent.emit("animate-end",this.parent),this.options.callbackOnComplete&&this.options.callbackOnComplete(this.parent)}update(e){if(this.paused)return;this.time+=e;const r=new Se(this.parent.scale.x,this.parent.scale.y);if(this.time>=this.options.time){const n=this.parent.width,i=this.parent.height;this.complete(),(n!==this.parent.width||i!==this.parent.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:r,type:"animate"})}else{const n=this.options.ease(this.time,0,1,this.options.time);if(this.width!==null){const i=this.startWidth,s=this.deltaWidth;this.parent.fitWidth(i+s*n,this.keepCenter,this.height===null)}if(this.height!==null){const i=this.startHeight,s=this.deltaHeight;this.parent.fitHeight(i+s*n,this.keepCenter,this.width===null)}if(this.width===null?this.parent.scale.x=this.parent.scale.y:this.height===null&&(this.parent.scale.y=this.parent.scale.x),!this.keepCenter){const i=this.startX,s=this.startY,o=this.deltaX,a=this.deltaY,u=new Se(this.parent.x,this.parent.y);this.parent.moveCenter(i+o*n,s+a*n),this.parent.emit("moved",{viewport:this.parent,original:u,type:"animate"})}(this.width||this.height)&&this.parent.emit("zoomed",{viewport:this.parent,original:r,type:"animate"})}}}const XG={sides:"all",friction:.5,time:150,ease:"easeInOutSine",underflow:"center",bounceBox:null};class $G extends Tn{constructor(e,r={}){super(e),q(this,"options"),q(this,"left"),q(this,"top"),q(this,"right"),q(this,"bottom"),q(this,"underflowX"),q(this,"underflowY"),q(this,"ease"),q(this,"toX"),q(this,"toY"),this.options=Object.assign({},XG,r),this.ease=Hp(this.options.ease,"easeInOutSine"),this.options.sides?this.options.sides==="all"?this.top=this.bottom=this.left=this.right=!0:this.options.sides==="horizontal"?(this.right=this.left=!0,this.top=this.bottom=!1):this.options.sides==="vertical"?(this.left=this.right=!1,this.top=this.bottom=!0):(this.top=this.options.sides.indexOf("top")!==-1,this.bottom=this.options.sides.indexOf("bottom")!==-1,this.left=this.options.sides.indexOf("left")!==-1,this.right=this.options.sides.indexOf("right")!==-1):this.left=this.top=this.right=this.bottom=!1;const n=this.options.underflow.toLowerCase();n==="center"?(this.underflowX=0,this.underflowY=0):(this.underflowX=n.indexOf("left")!==-1?-1:n.indexOf("right")!==-1?1:0,this.underflowY=n.indexOf("top")!==-1?-1:n.indexOf("bottom")!==-1?1:0),this.reset()}isActive(){return this.toX!==null||this.toY!==null}down(){return this.toX=this.toY=null,!1}up(){return this.bounce(),!1}update(e){if(!this.paused){if(this.bounce(),this.toX){const r=this.toX;r.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-x"}),r.time>=this.options.time?(this.parent.x=r.end,this.toX=null,this.parent.emit("bounce-x-end",this.parent)):this.parent.x=this.ease(r.time,r.start,r.delta,this.options.time)}if(this.toY){const r=this.toY;r.time+=e,this.parent.emit("moved",{viewport:this.parent,type:"bounce-y"}),r.time>=this.options.time?(this.parent.y=r.end,this.toY=null,this.parent.emit("bounce-y-end",this.parent)):this.parent.y=this.ease(r.time,r.start,r.delta,this.options.time)}}}calcUnderflowX(){let e;switch(this.underflowX){case-1:e=0;break;case 1:e=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:e=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}return e}calcUnderflowY(){let e;switch(this.underflowY){case-1:e=0;break;case 1:e=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:e=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}return e}oob(){const e=this.options.bounceBox;if(e){const r=typeof e.x>"u"?0:e.x,n=typeof e.y>"u"?0:e.y,i=typeof e.width>"u"?this.parent.worldWidth:e.width,s=typeof e.height>"u"?this.parent.worldHeight:e.height;return{left:this.parent.left<r,right:this.parent.right>i,top:this.parent.top<n,bottom:this.parent.bottom>s,topLeft:new Se(r*this.parent.scale.x,n*this.parent.scale.y),bottomRight:new Se(i*this.parent.scale.x-this.parent.screenWidth,s*this.parent.scale.y-this.parent.screenHeight)}}return{left:this.parent.left<0,right:this.parent.right>this.parent.worldWidth,top:this.parent.top<0,bottom:this.parent.bottom>this.parent.worldHeight,topLeft:new Se(0,0),bottomRight:new Se(this.parent.worldWidth*this.parent.scale.x-this.parent.screenWidth,this.parent.worldHeight*this.parent.scale.y-this.parent.screenHeight)}}bounce(){var e,r;if(this.paused)return;let n,i=this.parent.plugins.get("decelerate",!0);i&&(i.x||i.y)&&(i.x&&i.percentChangeX===((e=i.options)==null?void 0:e.friction)||i.y&&i.percentChangeY===((r=i.options)==null?void 0:r.friction))&&(n=this.oob(),(n.left&&this.left||n.right&&this.right)&&(i.percentChangeX=this.options.friction),(n.top&&this.top||n.bottom&&this.bottom)&&(i.percentChangeY=this.options.friction));const s=this.parent.plugins.get("drag",!0)||{},o=this.parent.plugins.get("pinch",!0)||{};if(i=i||{},!(s!=null&&s.active)&&!(o!=null&&o.active)&&(!this.toX||!this.toY)&&(!i.x||!i.y)){n=n||this.oob();const a=n.topLeft,u=n.bottomRight;if(!this.toX&&!i.x){let c=null;n.left&&this.left?c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-a.x:n.right&&this.right&&(c=this.parent.screenWorldWidth<this.parent.screenWidth?this.calcUnderflowX():-u.x),c!==null&&this.parent.x!==c&&(this.toX={time:0,start:this.parent.x,delta:c-this.parent.x,end:c},this.parent.emit("bounce-x-start",this.parent))}if(!this.toY&&!i.y){let c=null;n.top&&this.top?c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-a.y:n.bottom&&this.bottom&&(c=this.parent.screenWorldHeight<this.parent.screenHeight?this.calcUnderflowY():-u.y),c!==null&&this.parent.y!==c&&(this.toY={time:0,start:this.parent.y,delta:c-this.parent.y,end:c},this.parent.emit("bounce-y-start",this.parent))}}}reset(){this.toX=this.toY=null,this.bounce()}}const YG={left:!1,right:!1,top:!1,bottom:!1,direction:null,underflow:"center"};class qG extends Tn{constructor(e,r={}){super(e),q(this,"options"),q(this,"last"),q(this,"noUnderflow"),q(this,"underflowX"),q(this,"underflowY"),this.options=Object.assign({},YG,r),this.options.direction&&(this.options.left=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.right=this.options.direction==="x"||this.options.direction==="all"?!0:null,this.options.top=this.options.direction==="y"||this.options.direction==="all"?!0:null,this.options.bottom=this.options.direction==="y"||this.options.direction==="all"?!0:null),this.parseUnderflow(),this.last={x:null,y:null,scaleX:null,scaleY:null},this.update()}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="none"?this.noUnderflow=!0:e==="center"?(this.underflowX=this.underflowY=0,this.noUnderflow=!1):(this.underflowX=e.indexOf("left")!==-1?-1:e.indexOf("right")!==-1?1:0,this.underflowY=e.indexOf("top")!==-1?-1:e.indexOf("bottom")!==-1?1:0,this.noUnderflow=!1)}move(){return this.update(),!1}update(){if(this.paused||this.parent.x===this.last.x&&this.parent.y===this.last.y&&this.parent.scale.x===this.last.scaleX&&this.parent.scale.y===this.last.scaleY)return;const e=new Se(this.parent.x,this.parent.y),r=this.parent.plugins.decelerate||{};if(this.options.left!==null||this.options.right!==null){let n=!1;if(!this.noUnderflow&&this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x!==0&&(this.parent.x=0,n=!0);break;case 1:this.parent.x!==this.parent.screenWidth-this.parent.screenWorldWidth&&(this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth,n=!0);break;default:this.parent.x!==(this.parent.screenWidth-this.parent.screenWorldWidth)/2&&(this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2,n=!0)}else this.options.left!==null&&this.parent.left<(this.options.left===!0?0:this.options.left)&&(this.parent.x=-(this.options.left===!0?0:this.options.left)*this.parent.scale.x,r.x=0,n=!0),this.options.right!==null&&this.parent.right>(this.options.right===!0?this.parent.worldWidth:this.options.right)&&(this.parent.x=-(this.options.right===!0?this.parent.worldWidth:this.options.right)*this.parent.scale.x+this.parent.screenWidth,r.x=0,n=!0);n&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-x"})}if(this.options.top!==null||this.options.bottom!==null){let n=!1;if(!this.noUnderflow&&this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y!==0&&(this.parent.y=0,n=!0);break;case 1:this.parent.y!==this.parent.screenHeight-this.parent.screenWorldHeight&&(this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight,n=!0);break;default:this.parent.y!==(this.parent.screenHeight-this.parent.screenWorldHeight)/2&&(this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2,n=!0)}else this.options.top!==null&&this.parent.top<(this.options.top===!0?0:this.options.top)&&(this.parent.y=-(this.options.top===!0?0:this.options.top)*this.parent.scale.y,r.y=0,n=!0),this.options.bottom!==null&&this.parent.bottom>(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)&&(this.parent.y=-(this.options.bottom===!0?this.parent.worldHeight:this.options.bottom)*this.parent.scale.y+this.parent.screenHeight,r.y=0,n=!0);n&&this.parent.emit("moved",{viewport:this.parent,original:e,type:"clamp-y"})}this.last.x=this.parent.x,this.last.y=this.parent.y,this.last.scaleX=this.parent.scale.x,this.last.scaleY=this.parent.scale.y}reset(){this.update()}}const QG={minWidth:null,minHeight:null,maxWidth:null,maxHeight:null,minScale:null,maxScale:null};class KG extends Tn{constructor(e,r={}){super(e),q(this,"options"),this.options=Object.assign({},QG,r),this.clamp()}resize(){this.clamp()}clamp(){if(!this.paused){if(this.options.minWidth||this.options.minHeight||this.options.maxWidth||this.options.maxHeight){let e=this.parent.worldScreenWidth,r=this.parent.worldScreenHeight;if(this.options.minWidth!==null&&e<this.options.minWidth){const n=this.parent.scale.x;this.parent.fitWidth(this.options.minWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/n,e=this.parent.worldScreenWidth,r=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxWidth!==null&&e>this.options.maxWidth){const n=this.parent.scale.x;this.parent.fitWidth(this.options.maxWidth,!1,!1,!0),this.parent.scale.y*=this.parent.scale.x/n,e=this.parent.worldScreenWidth,r=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.minHeight!==null&&r<this.options.minHeight){const n=this.parent.scale.y;this.parent.fitHeight(this.options.minHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/n,e=this.parent.worldScreenWidth,r=this.parent.worldScreenHeight,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}if(this.options.maxHeight!==null&&r>this.options.maxHeight){const n=this.parent.scale.y;this.parent.fitHeight(this.options.maxHeight,!1,!1,!0),this.parent.scale.x*=this.parent.scale.y/n,this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"})}}else if(this.options.minScale||this.options.maxScale){const e={x:null,y:null},r={x:null,y:null};if(typeof this.options.minScale=="number")e.x=this.options.minScale,e.y=this.options.minScale;else if(this.options.minScale!==null){const s=this.options.minScale;e.x=typeof s.x>"u"?null:s.x,e.y=typeof s.y>"u"?null:s.y}if(typeof this.options.maxScale=="number")r.x=this.options.maxScale,r.y=this.options.maxScale;else if(this.options.maxScale!==null){const s=this.options.maxScale;r.x=typeof s.x>"u"?null:s.x,r.y=typeof s.y>"u"?null:s.y}let n=this.parent.scale.x,i=this.parent.scale.y;e.x!==null&&n<e.x&&(n=e.x),r.x!==null&&n>r.x&&(n=r.x),e.y!==null&&i<e.y&&(i=e.y),r.y!==null&&i>r.y&&(i=r.y),(n!==this.parent.scale.x||i!==this.parent.scale.y)&&(this.parent.scale.set(n,i),this.parent.emit("zoomed",{viewport:this.parent,type:"clamp-zoom"}))}}}reset(){this.clamp()}}const ZG={friction:.98,bounce:.8,minSpeed:.01},uo=16;class JG extends Tn{constructor(e,r={}){super(e),q(this,"options"),q(this,"x"),q(this,"y"),q(this,"percentChangeX"),q(this,"percentChangeY"),q(this,"saved"),q(this,"timeSinceRelease"),this.options=Object.assign({},ZG,r),this.saved=[],this.timeSinceRelease=0,this.reset(),this.parent.on("moved",n=>this.handleMoved(n))}down(){return this.saved=[],this.x=this.y=null,!1}isActive(){return!!(this.x||this.y)}move(){if(this.paused)return!1;const e=this.parent.input.count();return(e===1||e>1&&!this.parent.plugins.get("pinch",!0))&&(this.saved.push({x:this.parent.x,y:this.parent.y,time:performance.now()}),this.saved.length>60&&this.saved.splice(0,30)),!1}handleMoved(e){if(this.saved.length){const r=this.saved[this.saved.length-1];e.type==="clamp-x"&&e.original?r.x===e.original.x&&(r.x=this.parent.x):e.type==="clamp-y"&&e.original&&r.y===e.original.y&&(r.y=this.parent.y)}}up(){if(this.parent.input.count()===0&&this.saved.length){const e=performance.now();for(const r of this.saved)if(r.time>=e-100){const n=e-r.time;this.x=(this.parent.x-r.x)/n,this.y=(this.parent.y-r.y)/n,this.percentChangeX=this.percentChangeY=this.options.friction,this.timeSinceRelease=0;break}}return!1}activate(e){e=e||{},typeof e.x<"u"&&(this.x=e.x,this.percentChangeX=this.options.friction),typeof e.y<"u"&&(this.y=e.y,this.percentChangeY=this.options.friction)}update(e){if(this.paused)return;const r=this.x||this.y,n=this.timeSinceRelease,i=this.timeSinceRelease+e;if(this.x){const s=this.percentChangeX,o=Math.log(s);this.parent.x+=this.x*uo/o*(Math.pow(s,i/uo)-Math.pow(s,n/uo)),this.x*=Math.pow(this.percentChangeX,e/uo)}if(this.y){const s=this.percentChangeY,o=Math.log(s);this.parent.y+=this.y*uo/o*(Math.pow(s,i/uo)-Math.pow(s,n/uo)),this.y*=Math.pow(this.percentChangeY,e/uo)}this.timeSinceRelease+=e,this.x&&this.y?Math.abs(this.x)<this.options.minSpeed&&Math.abs(this.y)<this.options.minSpeed&&(this.x=0,this.y=0):(Math.abs(this.x||0)<this.options.minSpeed&&(this.x=0),Math.abs(this.y||0)<this.options.minSpeed&&(this.y=0)),r&&this.parent.emit("moved",{viewport:this.parent,type:"decelerate"})}reset(){this.x=this.y=null}}const eV={direction:"all",pressDrag:!0,wheel:!0,wheelScroll:1,reverse:!1,clampWheel:!1,underflow:"center",factor:1,mouseButtons:"all",keyToPress:null,ignoreKeyToPressOnTouch:!1,lineHeight:20,wheelSwapAxes:!1};class tV extends Tn{constructor(e,r={}){super(e),q(this,"options"),q(this,"moved"),q(this,"reverse"),q(this,"xDirection"),q(this,"yDirection"),q(this,"keyIsPressed"),q(this,"mouse"),q(this,"underflowX"),q(this,"underflowY"),q(this,"last"),q(this,"current"),q(this,"windowEventHandlers",[]),this.options=Object.assign({},eV,r),this.moved=!1,this.reverse=this.options.reverse?1:-1,this.xDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="x",this.yDirection=!this.options.direction||this.options.direction==="all"||this.options.direction==="y",this.keyIsPressed=!1,this.parseUnderflow(),this.mouseButtons(this.options.mouseButtons),this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){const r=i=>{e.includes(i.code)&&(this.keyIsPressed=!0)},n=i=>{e.includes(i.code)&&(this.keyIsPressed=!1)};this.addWindowEventHandler("keyup",n),this.addWindowEventHandler("keydown",r)}addWindowEventHandler(e,r){window.addEventListener(e,r),this.windowEventHandlers.push({event:e,handler:r})}destroy(){this.windowEventHandlers.forEach(({event:e,handler:r})=>{window.removeEventListener(e,r)})}mouseButtons(e){!e||e==="all"?this.mouse=[!0,!0,!0]:this.mouse=[e.indexOf("left")!==-1,e.indexOf("middle")!==-1,e.indexOf("right")!==-1]}parseUnderflow(){const e=this.options.underflow.toLowerCase();e==="center"?(this.underflowX=0,this.underflowY=0):(e.includes("left")?this.underflowX=-1:e.includes("right")?this.underflowX=1:this.underflowX=0,e.includes("top")?this.underflowY=-1:e.includes("bottom")?this.underflowY=1:this.underflowY=0)}checkButtons(e){const r=e.pointerType==="mouse",n=this.parent.input.count();return!!((n===1||n>1&&!this.parent.plugins.get("pinch",!0))&&(!r||this.mouse[e.button]))}checkKeyPress(e){return!this.options.keyToPress||this.keyIsPressed||this.options.ignoreKeyToPressOnTouch&&e.data.pointerType==="touch"}down(e){return this.paused||!this.options.pressDrag?!1:this.checkButtons(e)&&this.checkKeyPress(e)?(this.last={x:e.global.x,y:e.global.y},this.current=e.pointerId,!0):(this.last=null,!1)}get active(){return this.moved}move(e){if(this.paused||!this.options.pressDrag)return!1;if(this.last&&this.current===e.data.pointerId){const r=e.global.x,n=e.global.y,i=this.parent.input.count();if(i===1||i>1&&!this.parent.plugins.get("pinch",!0)){const s=r-this.last.x,o=n-this.last.y;if(this.moved||this.xDirection&&this.parent.input.checkThreshold(s)||this.yDirection&&this.parent.input.checkThreshold(o)){const a={x:r,y:n};return this.xDirection&&(this.parent.x+=(a.x-this.last.x)*this.options.factor),this.yDirection&&(this.parent.y+=(a.y-this.last.y)*this.options.factor),this.last=a,this.moved||this.parent.emit("drag-start",{event:e,screen:new Se(this.last.x,this.last.y),world:this.parent.toWorld(new Se(this.last.x,this.last.y)),viewport:this.parent}),this.moved=!0,this.parent.emit("moved",{viewport:this.parent,type:"drag"}),!0}}else this.moved=!1}return!1}up(e){if(this.paused)return!1;const r=this.parent.input.touches;if(r.length===1){const n=r[0];return n.last&&(this.last={x:n.last.x,y:n.last.y},this.current=n.id),this.moved=!1,!0}else if(this.last&&this.moved){const n=new Se(this.last.x,this.last.y);return this.parent.emit("drag-end",{event:e,screen:n,world:this.parent.toWorld(n),viewport:this.parent}),this.last=null,this.moved=!1,!0}return!1}wheel(e){if(this.paused)return!1;if(this.options.wheel){const r=this.parent.plugins.get("wheel",!0);if(!r||!r.options.wheelZoom&&!e.ctrlKey){const n=e.deltaMode?this.options.lineHeight:1,i=[e.deltaX,e.deltaY],[s,o]=this.options.wheelSwapAxes?i.reverse():i;return this.xDirection&&(this.parent.x+=s*n*this.options.wheelScroll*this.reverse),this.yDirection&&(this.parent.y+=o*n*this.options.wheelScroll*this.reverse),this.options.clampWheel&&this.clamp(),this.parent.emit("wheel-scroll",this.parent),this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.options.passiveWheel||e.preventDefault(),this.parent.options.stopPropagation&&e.stopPropagation(),!0}}return!1}resume(){this.last=null,this.paused=!1}clamp(){const e=this.parent.plugins.get("decelerate",!0)||{};if(this.options.clampWheel!=="y")if(this.parent.screenWorldWidth<this.parent.screenWidth)switch(this.underflowX){case-1:this.parent.x=0;break;case 1:this.parent.x=this.parent.screenWidth-this.parent.screenWorldWidth;break;default:this.parent.x=(this.parent.screenWidth-this.parent.screenWorldWidth)/2}else this.parent.left<0?(this.parent.x=0,e.x=0):this.parent.right>this.parent.worldWidth&&(this.parent.x=-this.parent.worldWidth*this.parent.scale.x+this.parent.screenWidth,e.x=0);if(this.options.clampWheel!=="x")if(this.parent.screenWorldHeight<this.parent.screenHeight)switch(this.underflowY){case-1:this.parent.y=0;break;case 1:this.parent.y=this.parent.screenHeight-this.parent.screenWorldHeight;break;default:this.parent.y=(this.parent.screenHeight-this.parent.screenWorldHeight)/2}else this.parent.top<0&&(this.parent.y=0,e.y=0),this.parent.bottom>this.parent.worldHeight&&(this.parent.y=-this.parent.worldHeight*this.parent.scale.y+this.parent.screenHeight,e.y=0)}}const rV={speed:0,acceleration:null,radius:null};class nV extends Tn{constructor(e,r,n={}){super(e),q(this,"options"),q(this,"target"),q(this,"velocity"),this.target=r,this.options=Object.assign({},rV,n),this.velocity={x:0,y:0}}update(e){if(this.paused)return;const r=this.parent.center;let n=this.target.x,i=this.target.y;if(this.options.radius)if(Math.sqrt(Math.pow(this.target.y-r.y,2)+Math.pow(this.target.x-r.x,2))>this.options.radius){const a=Math.atan2(this.target.y-r.y,this.target.x-r.x);n=this.target.x-Math.cos(a)*this.options.radius,i=this.target.y-Math.sin(a)*this.options.radius}else return;const s=n-r.x,o=i-r.y;if(s||o)if(this.options.speed)if(this.options.acceleration){const a=Math.atan2(i-r.y,n-r.x),u=Math.sqrt(Math.pow(s,2)+Math.pow(o,2));if(u){const c=(Math.pow(this.velocity.x,2)+Math.pow(this.velocity.y,2))/(2*this.options.acceleration);u>c?this.velocity={x:Math.min(this.velocity.x+(this.options.acceleration*e,this.options.speed)),y:Math.min(this.velocity.y+(this.options.acceleration*e,this.options.speed))}:this.velocity={x:Math.max(this.velocity.x-this.options.acceleration*this.options.speed,0),y:Math.max(this.velocity.y-this.options.acceleration*this.options.speed,0)};const d=Math.cos(a)*this.velocity.x,p=Math.sin(a)*this.velocity.y,m=Math.abs(d)>Math.abs(s)?n:r.x+d,g=Math.abs(p)>Math.abs(o)?i:r.y+p;this.parent.moveCenter(m,g),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}else{const a=Math.atan2(i-r.y,n-r.x),u=Math.cos(a)*this.options.speed,c=Math.sin(a)*this.options.speed,d=Math.abs(u)>Math.abs(s)?n:r.x+u,p=Math.abs(c)>Math.abs(o)?i:r.y+c;this.parent.moveCenter(d,p),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}else this.parent.moveCenter(n,i),this.parent.emit("moved",{viewport:this.parent,type:"follow"})}}const iV={radius:null,distance:null,top:null,bottom:null,left:null,right:null,speed:8,reverse:!1,noDecelerate:!1,linear:!1,allowButtons:!1};class sV extends Tn{constructor(e,r={}){super(e),q(this,"options"),q(this,"reverse"),q(this,"radiusSquared"),q(this,"left"),q(this,"top"),q(this,"right"),q(this,"bottom"),q(this,"horizontal"),q(this,"vertical"),this.options=Object.assign({},iV,r),this.reverse=this.options.reverse?1:-1,this.radiusSquared=typeof this.options.radius=="number"?Math.pow(this.options.radius,2):null,this.resize()}resize(){const e=this.options.distance;e!==null?(this.left=e,this.top=e,this.right=this.parent.screenWidth-e,this.bottom=this.parent.screenHeight-e):this.options.radius||(this.left=this.options.left,this.top=this.options.top,this.right=this.options.right===null?null:this.parent.screenWidth-this.options.right,this.bottom=this.options.bottom===null?null:this.parent.screenHeight-this.options.bottom)}down(){return this.paused||this.options.allowButtons||(this.horizontal=this.vertical=null),!1}move(e){if(this.paused||e.pointerType!=="mouse"&&e.pointerId!==1||!this.options.allowButtons&&e.buttons!==0)return!1;const r=e.global.x,n=e.global.y;if(this.radiusSquared){const i=this.parent.toScreen(this.parent.center);if(Math.pow(i.x-r,2)+Math.pow(i.y-n,2)>=this.radiusSquared){const s=Math.atan2(i.y-n,i.x-r);this.options.linear?(this.horizontal=Math.round(Math.cos(s))*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.round(Math.sin(s))*this.options.speed*this.reverse*(60/1e3)):(this.horizontal=Math.cos(s)*this.options.speed*this.reverse*(60/1e3),this.vertical=Math.sin(s)*this.options.speed*this.reverse*(60/1e3))}else this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=0}else this.left!==null&&r<this.left?this.horizontal=Number(this.reverse)*this.options.speed*(60/1e3):this.right!==null&&r>this.right?this.horizontal=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateHorizontal(),this.horizontal=0),this.top!==null&&n<this.top?this.vertical=Number(this.reverse)*this.options.speed*(60/1e3):this.bottom!==null&&n>this.bottom?this.vertical=-1*this.reverse*this.options.speed*(60/1e3):(this.decelerateVertical(),this.vertical=0);return!1}decelerateHorizontal(){const e=this.parent.plugins.get("decelerate",!0);this.horizontal&&e&&!this.options.noDecelerate&&e.activate({x:this.horizontal*this.options.speed*this.reverse/(1e3/60)})}decelerateVertical(){const e=this.parent.plugins.get("decelerate",!0);this.vertical&&e&&!this.options.noDecelerate&&e.activate({y:this.vertical*this.options.speed*this.reverse/(1e3/60)})}up(){return this.paused||(this.horizontal&&this.decelerateHorizontal(),this.vertical&&this.decelerateVertical(),this.horizontal=this.vertical=null),!1}update(){if(!this.paused&&(this.horizontal||this.vertical)){const e=this.parent.center;this.horizontal&&(e.x+=this.horizontal*this.options.speed),this.vertical&&(e.y+=this.vertical*this.options.speed),this.parent.moveCenter(e),this.parent.emit("moved",{viewport:this.parent,type:"mouse-edges"})}}}const oV={noDrag:!1,percent:1,center:null,factor:1,axis:"all"};class aV extends Tn{constructor(e,r={}){super(e),q(this,"options"),q(this,"active",!1),q(this,"pinching",!1),q(this,"moved",!1),q(this,"lastCenter"),this.options=Object.assign({},oV,r)}down(){return this.parent.input.count()>=2?(this.active=!0,!0):!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}move(e){if(this.paused||!this.active)return!1;const r=e.global.x,n=e.global.y,i=this.parent.input.touches;if(i.length>=2){const s=i[0],o=i[1],a=s.last&&o.last?Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2)):null;if(s.id===e.pointerId?s.last={x:r,y:n,data:e}:o.id===e.pointerId&&(o.last={x:r,y:n,data:e}),a){let u;const c=new Se(s.last.x+(o.last.x-s.last.x)/2,s.last.y+(o.last.y-s.last.y)/2);this.options.center||(u=this.parent.toLocal(c));let d=Math.sqrt(Math.pow(o.last.x-s.last.x,2)+Math.pow(o.last.y-s.last.y,2));d=d===0?d=1e-10:d;const p=(1-a/d)*this.options.percent*(this.isAxisX()?this.parent.scale.x:this.parent.scale.y);this.isAxisX()&&(this.parent.scale.x+=p),this.isAxisY()&&(this.parent.scale.y+=p),this.parent.emit("zoomed",{viewport:this.parent,type:"pinch",center:c});const m=this.parent.plugins.get("clamp-zoom",!0);if(m&&m.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const g=this.parent.toGlobal(u);this.parent.x+=(c.x-g.x)*this.options.factor,this.parent.y+=(c.y-g.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})}!this.options.noDrag&&this.lastCenter&&(this.parent.x+=(c.x-this.lastCenter.x)*this.options.factor,this.parent.y+=(c.y-this.lastCenter.y)*this.options.factor,this.parent.emit("moved",{viewport:this.parent,type:"pinch"})),this.lastCenter=c,this.moved=!0}else this.pinching||(this.parent.emit("pinch-start",this.parent),this.pinching=!0);return!0}return!1}up(){return this.pinching&&this.parent.input.touches.length<=1?(this.active=!1,this.lastCenter=null,this.pinching=!1,this.moved=!1,this.parent.emit("pinch-end",this.parent),!0):!1}}const lV={topLeft:!1,friction:.8,time:1e3,ease:"easeInOutSine",interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1};class uV extends Tn{constructor(e,r,n,i={}){super(e),q(this,"options"),q(this,"ease"),q(this,"x"),q(this,"y"),q(this,"percent"),q(this,"snapping"),q(this,"deltaX"),q(this,"deltaY"),q(this,"startX"),q(this,"startY"),this.options=Object.assign({},lV,i),this.ease=Hp(i.ease,"easeInOutSine"),this.x=r,this.y=n,this.options.forceStart&&this.snapStart()}snapStart(){this.percent=0,this.snapping={time:0};const e=this.options.topLeft?this.parent.corner:this.parent.center;this.deltaX=this.x-e.x,this.deltaY=this.y-e.y,this.startX=e.x,this.startY=e.y,this.parent.emit("snap-start",this.parent)}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap"):this.options.interrupt&&(this.snapping=null),!1}up(){if(this.parent.input.count()===0){const e=this.parent.plugins.get("decelerate",!0);e&&(e.x||e.y)&&(e.percentChangeX=e.percentChangeY=this.options.friction)}return!1}update(e){if(!this.paused&&!(this.options.interrupt&&this.parent.input.count()!==0))if(this.snapping){const r=this.snapping;r.time+=e;let n,i,s;const o=this.startX,a=this.startY,u=this.deltaX,c=this.deltaY;if(r.time>this.options.time)n=!0,i=o+u,s=a+c;else{const d=this.ease(r.time,0,1,this.options.time);i=o+u*d,s=a+c*d}this.options.topLeft?this.parent.moveCorner(i,s):this.parent.moveCenter(i,s),this.parent.emit("moved",{viewport:this.parent,type:"snap"}),n&&(this.options.removeOnComplete&&this.parent.plugins.remove("snap"),this.parent.emit("snap-end",this.parent),this.snapping=null)}else{const r=this.options.topLeft?this.parent.corner:this.parent.center;(r.x!==this.x||r.y!==this.y)&&this.snapStart()}}}const hV={width:0,height:0,time:1e3,ease:"easeInOutSine",center:null,interrupt:!0,removeOnComplete:!1,removeOnInterrupt:!1,forceStart:!1,noMove:!1};class cV extends Tn{constructor(e,r={}){super(e),q(this,"options"),q(this,"ease"),q(this,"xScale"),q(this,"yScale"),q(this,"xIndependent"),q(this,"yIndependent"),q(this,"snapping"),this.options=Object.assign({},hV,r),this.ease=Hp(this.options.ease),this.xIndependent=!1,this.yIndependent=!1,this.xScale=0,this.yScale=0,this.options.width>0&&(this.xScale=e.screenWidth/this.options.width,this.xIndependent=!0),this.options.height>0&&(this.yScale=e.screenHeight/this.options.height,this.yIndependent=!0),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale,this.options.time===0?(e.container.scale.x=this.xScale,e.container.scale.y=this.yScale,this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom")):r.forceStart&&this.createSnapping()}createSnapping(){const e=this.parent.worldScreenWidth,r=this.parent.worldScreenHeight,n=this.parent.screenWidth/this.xScale,i=this.parent.screenHeight/this.yScale;this.snapping={time:0,startX:e,startY:r,deltaX:n-e,deltaY:i-r},this.parent.emit("snap-zoom-start",this.parent)}resize(){this.snapping=null,this.options.width>0&&(this.xScale=this.parent.screenWidth/this.options.width),this.options.height>0&&(this.yScale=this.parent.screenHeight/this.options.height),this.xScale=this.xIndependent?this.xScale:this.yScale,this.yScale=this.yIndependent?this.yScale:this.xScale}wheel(){return this.options.removeOnInterrupt&&this.parent.plugins.remove("snap-zoom"),!1}down(){return this.options.removeOnInterrupt?this.parent.plugins.remove("snap-zoom"):this.options.interrupt&&(this.snapping=null),!1}update(e){if(this.paused||this.options.interrupt&&this.parent.input.count()!==0)return;let r;if(!this.options.center&&!this.options.noMove&&(r=this.parent.center),!this.snapping)(this.parent.scale.x!==this.xScale||this.parent.scale.y!==this.yScale)&&this.createSnapping();else if(this.snapping){const n=this.snapping;if(n.time+=e,n.time>=this.options.time)this.parent.scale.set(this.xScale,this.yScale),this.options.removeOnComplete&&this.parent.plugins.remove("snap-zoom"),this.parent.emit("snap-zoom-end",this.parent),this.snapping=null;else{const s=this.snapping,o=this.ease(s.time,s.startX,s.deltaX,this.options.time),a=this.ease(s.time,s.startY,s.deltaY,this.options.time);this.parent.scale.x=this.parent.screenWidth/o,this.parent.scale.y=this.parent.screenHeight/a}const i=this.parent.plugins.get("clamp-zoom",!0);i&&i.clamp(),this.options.noMove||(this.options.center?this.parent.moveCenter(this.options.center):this.parent.moveCenter(r))}}resume(){this.snapping=null,super.resume()}}const dV={percent:.1,smooth:!1,interrupt:!0,reverse:!1,center:null,lineHeight:20,axis:"all",keyToPress:null,trackpadPinch:!1,wheelZoom:!0};class fV extends Tn{constructor(e,r={}){super(e),q(this,"options"),q(this,"smoothing"),q(this,"smoothingCenter"),q(this,"smoothingCount"),q(this,"keyIsPressed"),this.options=Object.assign({},dV,r),this.keyIsPressed=!1,this.options.keyToPress&&this.handleKeyPresses(this.options.keyToPress)}handleKeyPresses(e){window.addEventListener("keydown",r=>{e.includes(r.code)&&(this.keyIsPressed=!0)}),window.addEventListener("keyup",r=>{e.includes(r.code)&&(this.keyIsPressed=!1)})}checkKeyPress(){return!this.options.keyToPress||this.keyIsPressed}down(){return this.options.interrupt&&(this.smoothing=null),!1}isAxisX(){return["all","x"].includes(this.options.axis)}isAxisY(){return["all","y"].includes(this.options.axis)}update(){if(this.smoothing){const e=this.smoothingCenter,r=this.smoothing;let n;this.options.center||(n=this.parent.toLocal(e)),this.isAxisX()&&(this.parent.scale.x+=r.x),this.isAxisY()&&(this.parent.scale.y+=r.y),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const i=this.parent.plugins.get("clamp-zoom",!0);if(i&&i.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const s=this.parent.toGlobal(n);this.parent.x+=e.x-s.x,this.parent.y+=e.y-s.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.smoothingCount++,this.smoothingCount>=this.options.smooth&&(this.smoothing=null)}}pinch(e){if(this.paused)return;const r=this.parent.input.getPointerPosition(e),n=-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/200,i=Math.pow(2,(1+this.options.percent)*n);let s;this.options.center||(s=this.parent.toLocal(r)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=r.x-a.x,this.parent.y+=r.y-a.y}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}wheel(e){if(this.paused||!this.checkKeyPress())return!1;if(e.ctrlKey&&this.options.trackpadPinch)this.pinch(e);else if(this.options.wheelZoom){const r=this.parent.input.getPointerPosition(e),n=(this.options.reverse?-1:1)*-e.deltaY*(e.deltaMode?this.options.lineHeight:1)/500,i=Math.pow(2,(1+this.options.percent)*n);if(this.options.smooth){const s={x:this.smoothing?this.smoothing.x*(this.options.smooth-this.smoothingCount):0,y:this.smoothing?this.smoothing.y*(this.options.smooth-this.smoothingCount):0};this.smoothing={x:((this.parent.scale.x+s.x)*i-this.parent.scale.x)/this.options.smooth,y:((this.parent.scale.y+s.y)*i-this.parent.scale.y)/this.options.smooth},this.smoothingCount=0,this.smoothingCenter=r}else{let s;this.options.center||(s=this.parent.toLocal(r)),this.isAxisX()&&(this.parent.scale.x*=i),this.isAxisY()&&(this.parent.scale.y*=i),this.parent.emit("zoomed",{viewport:this.parent,type:"wheel"});const o=this.parent.plugins.get("clamp-zoom",!0);if(o&&o.clamp(),this.options.center)this.parent.moveCenter(this.options.center);else{const a=this.parent.toGlobal(s);this.parent.x+=r.x-a.x,this.parent.y+=r.y-a.y}}this.parent.emit("moved",{viewport:this.parent,type:"wheel"}),this.parent.emit("wheel-start",{event:e,viewport:this.parent})}return!this.parent.options.passiveWheel}}class pV{constructor(e){q(this,"viewport"),q(this,"clickedAvailable"),q(this,"isMouseDown"),q(this,"last"),q(this,"wheelFunction"),q(this,"touches"),this.viewport=e,this.touches=[],this.addListeners()}addListeners(){this.viewport.eventMode="static",this.viewport.forceHitArea||(this.viewport.hitArea=new Le(0,0,this.viewport.worldWidth,this.viewport.worldHeight)),this.viewport.on("pointerdown",this.down,this),this.viewport.options.allowPreserveDragOutside?this.viewport.on("globalpointermove",this.move,this):this.viewport.on("pointermove",this.move,this),this.viewport.on("pointerup",this.up,this),this.viewport.on("pointerupoutside",this.up,this),this.viewport.on("pointercancel",this.up,this),this.viewport.options.allowPreserveDragOutside||this.viewport.on("pointerleave",this.up,this),this.wheelFunction=e=>this.handleWheel(e),this.viewport.options.events.domElement.addEventListener("wheel",this.wheelFunction,{passive:this.viewport.options.passiveWheel}),this.isMouseDown=!1}destroy(){this.viewport.options.events.domElement.removeEventListener("wheel",this.wheelFunction)}down(e){if(!(this.viewport.pause||!this.viewport.worldVisible)){if(e.pointerType==="mouse"?this.isMouseDown=!0:this.get(e.pointerId)||this.touches.push({id:e.pointerId,last:null}),this.count()===1){this.last=e.global.clone();const r=this.viewport.plugins.get("decelerate",!0),n=this.viewport.plugins.get("bounce",!0);(!r||!r.isActive())&&(!n||!n.isActive())?this.clickedAvailable=!0:this.clickedAvailable=!1}else this.clickedAvailable=!1;this.viewport.plugins.down(e)&&this.viewport.options.stopPropagation&&e.stopPropagation()}}clear(){this.isMouseDown=!1,this.touches=[],this.last=null}checkThreshold(e){return Math.abs(e)>=this.viewport.threshold}move(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const r=this.viewport.plugins.move(e);if(this.clickedAvailable&&this.last){const n=e.global.x-this.last.x,i=e.global.y-this.last.y;(this.checkThreshold(n)||this.checkThreshold(i))&&(this.clickedAvailable=!1)}r&&this.viewport.options.stopPropagation&&e.stopPropagation()}up(e){if(this.viewport.pause||!this.viewport.worldVisible)return;e.pointerType==="mouse"&&(this.isMouseDown=!1),e.pointerType!=="mouse"&&this.remove(e.pointerId);const r=this.viewport.plugins.up(e);this.clickedAvailable&&this.count()===0&&this.last&&(this.viewport.emit("clicked",{event:e,screen:this.last,world:this.viewport.toWorld(this.last),viewport:this.viewport}),this.clickedAvailable=!1),r&&this.viewport.options.stopPropagation&&e.stopPropagation()}getPointerPosition(e){const r=new Se;return this.viewport.options.events.mapPositionToPoint(r,e.clientX,e.clientY),r}handleWheel(e){if(this.viewport.pause||!this.viewport.worldVisible)return;const r=this.viewport.toLocal(this.getPointerPosition(e));this.viewport.left<=r.x&&r.x<=this.viewport.right&&this.viewport.top<=r.y&&r.y<=this.viewport.bottom&&this.viewport.plugins.wheel(e)&&!this.viewport.options.passiveWheel&&e.preventDefault()}pause(){this.touches=[],this.isMouseDown=!1}get(e){for(const r of this.touches)if(r.id===e)return r;return null}remove(e){for(let r=0;r<this.touches.length;r++)if(this.touches[r].id===e){this.touches.splice(r,1);return}}count(){return(this.isMouseDown?1:0)+this.touches.length}}const ec=["drag","pinch","wheel","follow","mouse-edges","decelerate","animate","bounce","snap-zoom","clamp-zoom","snap","clamp"];class mV{constructor(e){q(this,"plugins"),q(this,"list"),q(this,"viewport"),this.viewport=e,this.list=[],this.plugins={}}add(e,r,n=ec.length){const i=this.plugins[e];i&&i.destroy(),this.plugins[e]=r;const s=ec.indexOf(e);s!==-1&&ec.splice(s,1),ec.splice(n,0,e),this.sort()}get(e,r){var n;return r&&(n=this.plugins[e])!=null&&n.paused?null:this.plugins[e]}update(e){for(const r of this.list)r.update(e)}resize(){for(const e of this.list)e.resize()}reset(){for(const e of this.list)e.reset()}removeAll(){this.list.forEach(e=>{e.destroy()}),this.plugins={},this.sort()}remove(e){var r;this.plugins[e]&&((r=this.plugins[e])==null||r.destroy(),delete this.plugins[e],this.viewport.emit("plugin-remove",e),this.sort())}pause(e){var r;(r=this.plugins[e])==null||r.pause()}resume(e){var r;(r=this.plugins[e])==null||r.resume()}sort(){this.list=[];for(const e of ec)this.plugins[e]&&this.list.push(this.plugins[e])}down(e){let r=!1;for(const n of this.list)n.down(e)&&(r=!0);return r}move(e){let r=!1;for(const n of this.viewport.plugins.list)n.move(e)&&(r=!0);return r}up(e){let r=!1;for(const n of this.list)n.up(e)&&(r=!0);return r}wheel(e){let r=!1;for(const n of this.list)n.wheel(e)&&(r=!0);return r}}const gV={screenWidth:window.innerWidth,screenHeight:window.innerHeight,worldWidth:null,worldHeight:null,threshold:5,passiveWheel:!0,stopPropagation:!1,forceHitArea:null,noTicker:!1,disableOnContextMenu:!1,ticker:kt.shared,allowPreserveDragOutside:!1};class yV extends pr{constructor(e){super(),q(this,"moving"),q(this,"screenWidth"),q(this,"screenHeight"),q(this,"threshold"),q(this,"input"),q(this,"plugins"),q(this,"zooming"),q(this,"lastViewport"),q(this,"options"),q(this,"_dirty"),q(this,"_forceHitArea"),q(this,"_hitAreaDefault"),q(this,"_pause"),q(this,"tickerFunction"),q(this,"_worldWidth"),q(this,"_worldHeight"),q(this,"_disableOnContextMenu",r=>r.preventDefault()),this.options={...gV,...e},this.screenWidth=this.options.screenWidth,this.screenHeight=this.options.screenHeight,this._worldWidth=this.options.worldWidth,this._worldHeight=this.options.worldHeight,this.forceHitArea=this.options.forceHitArea,this.threshold=this.options.threshold,this.options.disableOnContextMenu&&this.options.events.domElement.addEventListener("contextmenu",this._disableOnContextMenu),this.options.noTicker||(this.tickerFunction=()=>this.update(this.options.ticker.elapsedMS),this.options.ticker.add(this.tickerFunction)),this.input=new pV(this),this.plugins=new mV(this)}destroy(e){!this.options.noTicker&&this.tickerFunction&&this.options.ticker.remove(this.tickerFunction),this.options.disableOnContextMenu&&this.options.events.domElement.removeEventListener("contextmenu",this._disableOnContextMenu),this.input.destroy(),super.destroy(e)}update(e){this.pause||(this.plugins.update(e),this.lastViewport&&(this.lastViewport.x!==this.x||this.lastViewport.y!==this.y?this.moving=!0:this.moving&&(this.emit("moved-end",this),this.moving=!1),this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y?this.zooming=!0:this.zooming&&(this.emit("zoomed-end",this),this.zooming=!1)),this.forceHitArea||(this._hitAreaDefault=new Le(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight),this.hitArea=this._hitAreaDefault),this._dirty=this._dirty||!this.lastViewport||this.lastViewport.x!==this.x||this.lastViewport.y!==this.y||this.lastViewport.scaleX!==this.scale.x||this.lastViewport.scaleY!==this.scale.y,this.lastViewport={x:this.x,y:this.y,scaleX:this.scale.x,scaleY:this.scale.y},this.emit("frame-end",this))}resize(e=window.innerWidth,r=window.innerHeight,n,i){this.screenWidth=e,this.screenHeight=r,typeof n<"u"&&(this._worldWidth=n),typeof i<"u"&&(this._worldHeight=i),this.plugins.resize(),this.dirty=!0}get worldWidth(){return this._worldWidth?this._worldWidth:this.width/this.scale.x}set worldWidth(e){this._worldWidth=e,this.plugins.resize()}get worldHeight(){return this._worldHeight?this._worldHeight:this.height/this.scale.y}set worldHeight(e){this._worldHeight=e,this.plugins.resize()}getVisibleBounds(){return new Le(this.left,this.top,this.worldScreenWidth,this.worldScreenHeight)}toWorld(e,r){return arguments.length===2?this.toLocal(new Se(e,r)):this.toLocal(e)}toScreen(e,r){return arguments.length===2?this.toGlobal(new Se(e,r)):this.toGlobal(e)}get worldScreenWidth(){return this.screenWidth/this.scale.x}get worldScreenHeight(){return this.screenHeight/this.scale.y}get screenWorldWidth(){return this.worldWidth*this.scale.x}get screenWorldHeight(){return this.worldHeight*this.scale.y}get center(){return new Se(this.worldScreenWidth/2-this.x/this.scale.x,this.worldScreenHeight/2-this.y/this.scale.y)}set center(e){this.moveCenter(e)}moveCenter(...e){let r,n;typeof e[0]=="number"?(r=e[0],n=e[1]):(r=e[0].x,n=e[0].y);const i=(this.worldScreenWidth/2-r)*this.scale.x,s=(this.worldScreenHeight/2-n)*this.scale.y;return(this.x!==i||this.y!==s)&&(this.position.set(i,s),this.plugins.reset(),this.dirty=!0),this}get corner(){return new Se(-this.x/this.scale.x,-this.y/this.scale.y)}set corner(e){this.moveCorner(e)}moveCorner(...e){let r,n;return e.length===1?(r=-e[0].x*this.scale.x,n=-e[0].y*this.scale.y):(r=-e[0]*this.scale.x,n=-e[1]*this.scale.y),(r!==this.x||n!==this.y)&&(this.position.set(r,n),this.plugins.reset(),this.dirty=!0),this}get screenWidthInWorldPixels(){return this.screenWidth/this.scale.x}get screenHeightInWorldPixels(){return this.screenHeight/this.scale.y}findFitWidth(e){return this.screenWidth/e}findFitHeight(e){return this.screenHeight/e}findFit(e,r){const n=this.screenWidth/e,i=this.screenHeight/r;return Math.min(n,i)}findCover(e,r){const n=this.screenWidth/e,i=this.screenHeight/r;return Math.max(n,i)}fitWidth(e=this.worldWidth,r,n=!0,i){let s;r&&(s=this.center),this.scale.x=this.screenWidth/e,n&&(this.scale.y=this.scale.x);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),r&&s&&this.moveCenter(s),this}fitHeight(e=this.worldHeight,r,n=!0,i){let s;r&&(s=this.center),this.scale.y=this.screenHeight/e,n&&(this.scale.x=this.scale.y);const o=this.plugins.get("clamp-zoom",!0);return!i&&o&&o.clamp(),r&&s&&this.moveCenter(s),this}fitWorld(e){let r;e&&(r=this.center),this.scale.x=this.screenWidth/this.worldWidth,this.scale.y=this.screenHeight/this.worldHeight,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const n=this.plugins.get("clamp-zoom",!0);return n&&n.clamp(),e&&r&&this.moveCenter(r),this}fit(e,r=this.worldWidth,n=this.worldHeight){let i;e&&(i=this.center),this.scale.x=this.screenWidth/r,this.scale.y=this.screenHeight/n,this.scale.x<this.scale.y?this.scale.y=this.scale.x:this.scale.x=this.scale.y;const s=this.plugins.get("clamp-zoom",!0);return s&&s.clamp(),e&&i&&this.moveCenter(i),this}setZoom(e,r){let n;r&&(n=this.center),this.scale.set(e);const i=this.plugins.get("clamp-zoom",!0);return i&&i.clamp(),r&&n&&this.moveCenter(n),this}zoomPercent(e,r){return this.setZoom(this.scale.x+this.scale.x*e,r)}zoom(e,r){return this.fitWidth(e+this.worldScreenWidth,r),this}get scaled(){return this.scale.x}set scaled(e){this.setZoom(e,!0)}snapZoom(e){return this.plugins.add("snap-zoom",new cV(this,e)),this}OOB(){return{left:this.left<0,right:this.right>this.worldWidth,top:this.top<0,bottom:this.bottom>this.worldHeight,cornerPoint:new Se(this.worldWidth*this.scale.x-this.screenWidth,this.worldHeight*this.scale.y-this.screenHeight)}}get right(){return-this.x/this.scale.x+this.worldScreenWidth}set right(e){this.x=-e*this.scale.x+this.screenWidth,this.plugins.reset()}get left(){return-this.x/this.scale.x}set left(e){this.x=-e*this.scale.x,this.plugins.reset()}get top(){return-this.y/this.scale.y}set top(e){this.y=-e*this.scale.y,this.plugins.reset()}get bottom(){return-this.y/this.scale.y+this.worldScreenHeight}set bottom(e){this.y=-e*this.scale.y+this.screenHeight,this.plugins.reset()}get dirty(){return!!this._dirty}set dirty(e){this._dirty=e}get forceHitArea(){return this._forceHitArea}set forceHitArea(e){e?(this._forceHitArea=e,this.hitArea=e):(this._forceHitArea=null,this.hitArea=new Le(0,0,this.worldWidth,this.worldHeight))}drag(e){return this.plugins.add("drag",new tV(this,e)),this}clamp(e){return this.plugins.add("clamp",new qG(this,e)),this}decelerate(e){return this.plugins.add("decelerate",new JG(this,e)),this}bounce(e){return this.plugins.add("bounce",new $G(this,e)),this}pinch(e){return this.plugins.add("pinch",new aV(this,e)),this}snap(e,r,n){return this.plugins.add("snap",new uV(this,e,r,n)),this}follow(e,r){return this.plugins.add("follow",new nV(this,e,r)),this}wheel(e){return this.plugins.add("wheel",new fV(this,e)),this}animate(e){return this.plugins.add("animate",new WG(this,e)),this}clampZoom(e){return this.plugins.add("clamp-zoom",new KG(this,e)),this}mouseEdges(e){return this.plugins.add("mouse-edges",new sV(this,e)),this}get pause(){return!!this._pause}set pause(e){this._pause=e,this.lastViewport=null,this.moving=!1,this.zooming=!1,e&&this.input.pause()}ensureVisible(e,r,n,i,s){s&&(n>this.worldScreenWidth||i>this.worldScreenHeight)&&(this.fit(!0,n,i),this.emit("zoomed",{viewport:this,type:"ensureVisible"}));let o=!1;e<this.left?(this.left=e,o=!0):e+n>this.right&&(this.right=e+n,o=!0),r<this.top?(this.top=r,o=!0):r+i>this.bottom&&(this.bottom=r+i,o=!0),o&&this.emit("moved",{viewport:this,type:"ensureVisible"})}}const vV="Left",bV="Right",_V="Up",xV="Down",Wl={delta:10,preventScrollOnSwipe:!1,rotationAngle:0,trackMouse:!1,trackTouch:!0,swipeDuration:1/0,touchEventOptions:{passive:!0}},t1={first:!0,initial:[0,0],start:0,swiping:!1,xy:[0,0]},NR="mousemove",LR="mouseup",wV="touchend",EV="touchmove",TV="touchstart";function SV(t,e,r,n){return t>e?r>0?bV:vV:n>0?xV:_V}function BR(t,e){if(e===0)return t;const r=Math.PI/180*e,n=t[0]*Math.cos(r)+t[1]*Math.sin(r),i=t[1]*Math.cos(r)-t[0]*Math.sin(r);return[n,i]}function AV(t,e){const r=c=>{const d="touches"in c;d&&c.touches.length>1||t((p,m)=>{m.trackMouse&&!d&&(document.addEventListener(NR,n),document.addEventListener(LR,o));const{clientX:g,clientY:b}=d?c.touches[0]:c,x=BR([g,b],m.rotationAngle);return m.onTouchStartOrOnMouseDown&&m.onTouchStartOrOnMouseDown({event:c}),Object.assign(Object.assign(Object.assign({},p),t1),{initial:x.slice(),xy:x,start:c.timeStamp||0})})},n=c=>{t((d,p)=>{const m="touches"in c;if(m&&c.touches.length>1)return d;if(c.timeStamp-d.start>p.swipeDuration)return d.swiping?Object.assign(Object.assign({},d),{swiping:!1}):d;const{clientX:g,clientY:b}=m?c.touches[0]:c,[x,A]=BR([g,b],p.rotationAngle),T=x-d.xy[0],_=A-d.xy[1],w=Math.abs(T),S=Math.abs(_),P=(c.timeStamp||0)-d.start,D=Math.sqrt(w*w+S*S)/(P||1),k=[T/(P||1),_/(P||1)],R=SV(w,S,T,_),F=typeof p.delta=="number"?p.delta:p.delta[R.toLowerCase()]||Wl.delta;if(w<F&&S<F&&!d.swiping)return d;const X={absX:w,absY:S,deltaX:T,deltaY:_,dir:R,event:c,first:d.first,initial:d.initial,velocity:D,vxvy:k};X.first&&p.onSwipeStart&&p.onSwipeStart(X),p.onSwiping&&p.onSwiping(X);let K=!1;return(p.onSwiping||p.onSwiped||p[`onSwiped${R}`])&&(K=!0),K&&p.preventScrollOnSwipe&&p.trackTouch&&c.cancelable&&c.preventDefault(),Object.assign(Object.assign({},d),{first:!1,eventData:X,swiping:!0})})},i=c=>{t((d,p)=>{let m;if(d.swiping&&d.eventData){if(c.timeStamp-d.start<p.swipeDuration){m=Object.assign(Object.assign({},d.eventData),{event:c}),p.onSwiped&&p.onSwiped(m);const g=p[`onSwiped${m.dir}`];g&&g(m)}}else p.onTap&&p.onTap({event:c});return p.onTouchEndOrOnMouseUp&&p.onTouchEndOrOnMouseUp({event:c}),Object.assign(Object.assign(Object.assign({},d),t1),{eventData:m})})},s=()=>{document.removeEventListener(NR,n),document.removeEventListener(LR,o)},o=c=>{s(),i(c)},a=(c,d)=>{let p=()=>{};if(c&&c.addEventListener){const m=Object.assign(Object.assign({},Wl.touchEventOptions),d.touchEventOptions),g=[[TV,r,m],[EV,n,Object.assign(Object.assign({},m),d.preventScrollOnSwipe?{passive:!1}:{})],[wV,i,m]];g.forEach(([b,x,A])=>c.addEventListener(b,x,A)),p=()=>g.forEach(([b,x])=>c.removeEventListener(b,x))}return p},u={ref:c=>{c!==null&&t((d,p)=>{if(d.el===c)return d;const m={};return d.el&&d.el!==c&&d.cleanUpTouch&&(d.cleanUpTouch(),m.cleanUpTouch=void 0),p.trackTouch&&c&&(m.cleanUpTouch=a(c,p)),Object.assign(Object.assign(Object.assign({},d),{el:c}),m)})}};return e.trackMouse&&(u.onMouseDown=r),[u,a]}function CV(t,e,r,n){return!e.trackTouch||!t.el?(t.cleanUpTouch&&t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:void 0})):t.cleanUpTouch?e.preventScrollOnSwipe!==r.preventScrollOnSwipe||e.touchEventOptions.passive!==r.touchEventOptions.passive?(t.cleanUpTouch(),Object.assign(Object.assign({},t),{cleanUpTouch:n(t.el,e)})):t:Object.assign(Object.assign({},t),{cleanUpTouch:n(t.el,e)})}function PV(t){const{trackMouse:e}=t,r=H.useRef(Object.assign({},t1)),n=H.useRef(Object.assign({},Wl)),i=H.useRef(Object.assign({},n.current));i.current=Object.assign({},n.current),n.current=Object.assign(Object.assign({},Wl),t);let s;for(s in Wl)n.current[s]===void 0&&(n.current[s]=Wl[s]);const[o,a]=H.useMemo(()=>AV(u=>r.current=u(r.current,n.current),{trackMouse:e}),[e]);return r.current=CV(r.current,n.current,i.current,a),o}function Gp({min:t,max:e,step:r,defaultValue:n,title:i,func:s}){const[o,a]=H.useState("");return H.useEffect(()=>{a(IR[Math.floor(Math.random()*IR.length)])},[]),ye.jsxs("div",{className:"w-full pb-5 align-middle",children:[ye.jsx("p",{className:"text-2xl font-semibold my-0",children:i}),ye.jsxs("div",{className:"flex justify-center align-middle",children:[ye.jsx("p",{className:"text-center p-2",children:t}),ye.jsx("input",{type:"range",className:o,max:e,min:t,step:r,defaultValue:n,onChange:s}),ye.jsx("p",{className:"text-center p-2",children:e})]})]})}function Vp({text:t,func:e}){const[r,n]=H.useState("");return H.useEffect(()=>{n(kR[Math.floor(Math.random()*kR.length)])},[]),ye.jsx("button",{onClick:e,className:"text-neutral-950 py-2 px-12 m-2 rounded-xl font-bold "+r,children:t})}function RV(){const[t,e]=H.useState(!1),[r,n]=H.useState(0),[i,s]=H.useState(!1),[o,a]=H.useState(0),u=PV({onSwiped:c=>{c.dir=="Up"&&!t&&e(!t),c.dir=="Down"&&t&&e(!t)},trackMouse:!0});return ye.jsxs("div",{className:"absolute flex flex-col text-neutral-300 bg-neutral-900 w-screen pt-12 rounded-t-xl"+(t?" bottom-0":" -bottom-32"),children:[ye.jsxs("div",{...u,className:"w-full bg-neutral-900 h-6 -translate-y-12 rounded-t-full",children:[ye.jsx("hr",{className:"absolute justify-center w-3/6 left-1/2 -translate-x-1/2 translate-y-4 border-2 rounded mx-auto px-24"}),ye.jsx("p",{className:"flex text-3xl font-bold text-center justify-center pt-8 hover:animate-pulse hover:cursor-pointer",onClick:()=>e(!t),children:"Settings"})]}),ye.jsxs("div",{className:"align-middle overflow-y-scroll py-4 h-36",children:[ye.jsx(Gp,{min:-10,max:10,step:.1,defaultValue:1,title:"Simulation Speed",func:wj},o+1+(i?1:2)),ye.jsx(Gp,{min:1,max:1e3,step:1,defaultValue:250,title:"Number of Planets",func:c=>n(Tj(c))},o+9+(i?1:2)),ye.jsx(Gp,{min:1,max:1e3,step:1,defaultValue:12,title:"Planet Mass",func:Ej},o+3+(i?1:2)),r>500?ye.jsx(Gp,{min:.1,max:3,step:.1,defaultValue:.7,title:"Theta",func:Sj},o+4+(i?1:2)):ye.jsx(ye.Fragment,{}),ye.jsxs("div",{className:"flex flex-wrap justify-center",children:[r>500?ye.jsx(Vp,{text:"Toggle QuadTree",func:Aj}):ye.jsx(ye.Fragment,{}),ye.jsx(Vp,{text:i?"De-Randomize":"Randomize",func:()=>{s(Cj()),n(Pj())}}),ye.jsx(Vp,{text:"Reset Simulation",func:()=>{s2(),a(o+1)}}),ye.jsx(Vp,{text:"Hard Reset",func:()=>window.location.reload()})]})]})]})}const kV=t=>{const e=ia.useApp();return ye.jsx(IV,{app:e,...t})},IV=ia.PixiComponent("Viewport",{create:t=>{"events"in t.app.renderer||t.app.renderer.addSystem(Ol,"events");const{width:e,height:r}=t,{ticker:n}=t.app,{events:i}=t.app.renderer,s=new yV({screenWidth:e,screenHeight:r,worldWidth:e,worldHeight:r,ticker:n,events:i});return s.drag({pressDrag:!0}).decelerate({friction:.95,bounce:.8,minSpeed:.01}).pinch().wheel(),s},willUnmount:t=>{t.options.noTicker=!0,t.options.events.domElement=document.createElement("Viewport"),t.destroy({children:!0})}});function MV(){const[t,e]=lb(),[r,n]=H.useState(!1),i=s=>{n(s)};return ye.jsx(e1,{children:ye.jsxs("div",{className:"flex m-0 justify-start",children:[ye.jsx(ia.Stage,{width:t,height:e,options:{backgroundColor:0},className:"xs:w-[70vw] "+(r?"cursor-grabbing":"cursor-pointer"),onPointerDown:()=>i(!0),onPointerUp:()=>i(!1),children:ye.jsx(kV,{width:t,height:e,children:ye.jsx(ab,{random:!1,count:250,width:t,height:e})})}),ye.jsx(RV,{})]})})}function r1(){const[t,e]=lb();return ye.jsxs(e1,{children:[ye.jsx(ia.Stage,{width:t,height:e,options:{backgroundColor:0},className:"canvas",children:ye.jsx(ab,{random:!0,count:150,width:t,height:e})}),ye.jsxs("div",{className:"fixed -translate-x-1/2 -translate-y-1/3 left-1/2 top-1/3",children:[ye.jsx("h1",{className:"text-6xl md:text-9xl font-semibold mb-12",children:"404"}),ye.jsx(qd,{to:"/",className:"no-underline bg-black text-neutral-200 text-3xl lg:text-6xl font-extrabold shadow-black transition-all duration-[1250ms] ease-[cubic-bezier(0.19,1,0.22,1)] px-32 py-2.5 border-0 border-solid hover:border hover:shadow-[inset_0_0_20px_rgba(255,255,255,0.5),0_0_20px_rgba(255,255,255,0.2)] hover:border-solid outline",children:"Home"})]})]})}const DV=aN([{path:"/",element:ye.jsx(zG,{}),errorElement:ye.jsx(r1,{})},{path:"/play",element:ye.jsx(MV,{}),errorElement:ye.jsx(r1,{})},{path:"*",element:ye.jsx(r1,{})}]);$m.createRoot(document.getElementById("root")).render(ye.jsx(Kr.StrictMode,{children:ye.jsx(JO,{router:DV})}))})()});export default x7();
