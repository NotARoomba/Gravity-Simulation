var M4=(xp,ss)=>()=>(ss||xp((ss={exports:{}}).exports,ss),ss.exports);var N4=M4((D4,u_)=>{(async()=>{function xp(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))r(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function e(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(n){if(n.ep)return;n.ep=!0;const i=e(n);fetch(n.href,i)}})();var ss=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ic(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function c_(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){if(this instanceof n){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(e,i);return new s}return e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var h_={exports:{}},kc={},d_={exports:{}},Be={},Sl=Symbol.for("react.element"),L2=Symbol.for("react.portal"),B2=Symbol.for("react.fragment"),F2=Symbol.for("react.strict_mode"),U2=Symbol.for("react.profiler"),z2=Symbol.for("react.provider"),j2=Symbol.for("react.context"),H2=Symbol.for("react.forward_ref"),G2=Symbol.for("react.suspense"),W2=Symbol.for("react.memo"),$2=Symbol.for("react.lazy"),f_=Symbol.iterator;function V2(t){return t===null||typeof t!="object"?null:(t=f_&&t[f_]||t["@@iterator"],typeof t=="function"?t:null)}var p_={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m_=Object.assign,g_={};function qo(t,e,r){this.props=t,this.context=e,this.refs=g_,this.updater=r||p_}qo.prototype.isReactComponent={},qo.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")},qo.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function v_(){}v_.prototype=qo.prototype;function wp(t,e,r){this.props=t,this.context=e,this.refs=g_,this.updater=r||p_}var Ep=wp.prototype=new v_;Ep.constructor=wp,m_(Ep,qo.prototype),Ep.isPureReactComponent=!0;var y_=Array.isArray,__=Object.prototype.hasOwnProperty,Tp={current:null},b_={key:!0,ref:!0,__self:!0,__source:!0};function x_(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)__.call(e,n)&&!b_.hasOwnProperty(n)&&(i[n]=e[n]);var l=arguments.length-2;if(l===1)i.children=r;else if(1<l){for(var c=Array(l),h=0;h<l;h++)c[h]=arguments[h+2];i.children=c}if(t&&t.defaultProps)for(n in l=t.defaultProps,l)i[n]===void 0&&(i[n]=l[n]);return{$$typeof:Sl,type:t,key:s,ref:o,props:i,_owner:Tp.current}}function X2(t,e){return{$$typeof:Sl,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sp(t){return typeof t=="object"&&t!==null&&t.$$typeof===Sl}function Y2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var w_=/\/+/g;function Ap(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Y2(""+t.key):e.toString(36)}function Mc(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Sl:case L2:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+Ap(o,0):n,y_(i)?(r="",t!=null&&(r=t.replace(w_,"$&/")+"/"),Mc(i,e,r,"",function(h){return h})):i!=null&&(Sp(i)&&(i=X2(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(w_,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",y_(t))for(var l=0;l<t.length;l++){s=t[l];var c=n+Ap(s,l);o+=Mc(s,e,r,c,i)}else if(c=V2(t),typeof c=="function")for(t=c.call(t),l=0;!(s=t.next()).done;)s=s.value,c=n+Ap(s,l++),o+=Mc(s,e,r,c,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Nc(t,e,r){if(t==null)return t;var n=[],i=0;return Mc(t,n,"","",function(s){return e.call(r,s,i++)}),n}function q2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Tr={current:null},Oc={transition:null},K2={ReactCurrentDispatcher:Tr,ReactCurrentBatchConfig:Oc,ReactCurrentOwner:Tp};Be.Children={map:Nc,forEach:function(t,e,r){Nc(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Nc(t,function(){e++}),e},toArray:function(t){return Nc(t,function(e){return e})||[]},only:function(t){if(!Sp(t))throw Error("React.Children.only expected to receive a single React element child.");return t}},Be.Component=qo,Be.Fragment=B2,Be.Profiler=U2,Be.PureComponent=wp,Be.StrictMode=F2,Be.Suspense=G2,Be.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=K2,Be.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=m_({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Tp.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var l=t.type.defaultProps;for(c in e)__.call(e,c)&&!b_.hasOwnProperty(c)&&(n[c]=e[c]===void 0&&l!==void 0?l[c]:e[c])}var c=arguments.length-2;if(c===1)n.children=r;else if(1<c){l=Array(c);for(var h=0;h<c;h++)l[h]=arguments[h+2];n.children=l}return{$$typeof:Sl,type:t.type,key:i,ref:s,props:n,_owner:o}},Be.createContext=function(t){return t={$$typeof:j2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:z2,_context:t},t.Consumer=t},Be.createElement=x_,Be.createFactory=function(t){var e=x_.bind(null,t);return e.type=t,e},Be.createRef=function(){return{current:null}},Be.forwardRef=function(t){return{$$typeof:H2,render:t}},Be.isValidElement=Sp,Be.lazy=function(t){return{$$typeof:$2,_payload:{_status:-1,_result:t},_init:q2}},Be.memo=function(t,e){return{$$typeof:W2,type:t,compare:e===void 0?null:e}},Be.startTransition=function(t){var e=Oc.transition;Oc.transition={};try{t()}finally{Oc.transition=e}},Be.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")},Be.useCallback=function(t,e){return Tr.current.useCallback(t,e)},Be.useContext=function(t){return Tr.current.useContext(t)},Be.useDebugValue=function(){},Be.useDeferredValue=function(t){return Tr.current.useDeferredValue(t)},Be.useEffect=function(t,e){return Tr.current.useEffect(t,e)},Be.useId=function(){return Tr.current.useId()},Be.useImperativeHandle=function(t,e,r){return Tr.current.useImperativeHandle(t,e,r)},Be.useInsertionEffect=function(t,e){return Tr.current.useInsertionEffect(t,e)},Be.useLayoutEffect=function(t,e){return Tr.current.useLayoutEffect(t,e)},Be.useMemo=function(t,e){return Tr.current.useMemo(t,e)},Be.useReducer=function(t,e,r){return Tr.current.useReducer(t,e,r)},Be.useRef=function(t){return Tr.current.useRef(t)},Be.useState=function(t){return Tr.current.useState(t)},Be.useSyncExternalStore=function(t,e,r){return Tr.current.useSyncExternalStore(t,e,r)},Be.useTransition=function(){return Tr.current.useTransition()},Be.version="18.2.0",d_.exports=Be;var se=d_.exports;const wn=Ic(se),Q2=xp({__proto__:null,default:wn},[se]);var J2=se,Z2=Symbol.for("react.element"),eC=Symbol.for("react.fragment"),tC=Object.prototype.hasOwnProperty,rC=J2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,nC={key:!0,ref:!0,__self:!0,__source:!0};function E_(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)tC.call(e,n)&&!nC.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:Z2,type:t,key:s,ref:o,props:i,_owner:rC.current}}kc.Fragment=eC,kc.jsx=E_,kc.jsxs=E_,h_.exports=kc;var Ce=h_.exports,Cp={},T_={exports:{}},Wr={},S_={exports:{}},A_={};(function(t){function e(O,H){var k=O.length;O.push(H);e:for(;0<k;){var ee=k-1>>>1,oe=O[ee];if(0<i(oe,H))O[ee]=H,O[k]=oe,k=ee;else break e}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var H=O[0],k=O.pop();if(k!==H){O[0]=k;e:for(var ee=0,oe=O.length,ke=oe>>>1;ee<ke;){var pe=2*(ee+1)-1,Ue=O[pe],Me=pe+1,Xe=O[Me];if(0>i(Ue,k))Me<oe&&0>i(Xe,Ue)?(O[ee]=Xe,O[Me]=k,ee=Me):(O[ee]=Ue,O[pe]=k,ee=pe);else if(Me<oe&&0>i(Xe,k))O[ee]=Xe,O[Me]=k,ee=Me;else break e}}return H}function i(O,H){var k=O.sortIndex-H.sortIndex;return k!==0?k:O.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],f=1,p=null,m=3,y=!1,_=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function S(O){for(var H=r(h);H!==null;){if(H.callback===null)n(h);else if(H.startTime<=O)n(h),H.sortIndex=H.expirationTime,e(c,H);else break;H=r(h)}}function T(O){if(w=!1,S(O),!_)if(r(c)!==null)_=!0,ve(R);else{var H=r(h);H!==null&&ie(T,H.startTime-O)}}function R(O,H){_=!1,w&&(w=!1,E(M),M=-1),y=!0;var k=m;try{for(S(H),p=r(c);p!==null&&(!(p.expirationTime>H)||O&&!J());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,m=p.priorityLevel;var oe=ee(p.expirationTime<=H);H=t.unstable_now(),typeof oe=="function"?p.callback=oe:p===r(c)&&n(c),S(H)}else n(c);p=r(c)}if(p!==null)var ke=!0;else{var pe=r(h);pe!==null&&ie(T,pe.startTime-H),ke=!1}return ke}finally{p=null,m=k,y=!1}}var L=!1,I=null,M=-1,q=5,K=-1;function J(){return!(t.unstable_now()-K<q)}function V(){if(I!==null){var O=t.unstable_now();K=O;var H=!0;try{H=I(!0,O)}finally{H?z():(L=!1,I=null)}}else L=!1}var z;if(typeof x=="function")z=function(){x(V)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ge=W.port2;W.port1.onmessage=V,z=function(){ge.postMessage(null)}}else z=function(){A(V,0)};function ve(O){I=O,L||(L=!0,z())}function ie(O,H){M=A(function(){O(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,ve(R))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):q=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var k=m;m=H;try{return O()}finally{m=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var k=m;m=O;try{return H()}finally{m=k}},t.unstable_scheduleCallback=function(O,H,k){var ee=t.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?ee+k:ee):k=ee,O){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return oe=k+oe,O={id:f++,callback:H,priorityLevel:O,startTime:k,expirationTime:oe,sortIndex:-1},k>ee?(O.sortIndex=k,e(h,O),r(c)===null&&O===r(h)&&(w?(E(M),M=-1):w=!0,ie(T,k-ee))):(O.sortIndex=oe,e(c,O),_||y||(_=!0,ve(R))),O},t.unstable_shouldYield=J,t.unstable_wrapCallback=function(O){var H=m;return function(){var k=m;m=H;try{return O.apply(this,arguments)}finally{m=k}}}})(A_),S_.exports=A_;var iC=S_.exports,C_=se,$r=iC;function te(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var P_=new Set,Al={};function Js(t,e){Ko(t,e),Ko(t+"Capture",e)}function Ko(t,e){for(Al[t]=e,t=0;t<e.length;t++)P_.add(e[t])}var Pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pp=Object.prototype.hasOwnProperty,sC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,R_={},I_={};function oC(t){return Pp.call(I_,t)?!0:Pp.call(R_,t)?!1:sC.test(t)?I_[t]=!0:(R_[t]=!0,!1)}function aC(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function lC(t,e,r,n){if(e===null||typeof e>"u"||aC(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Sr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){nr[t]=new Sr(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];nr[e]=new Sr(e,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){nr[t]=new Sr(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){nr[t]=new Sr(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){nr[t]=new Sr(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){nr[t]=new Sr(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){nr[t]=new Sr(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){nr[t]=new Sr(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){nr[t]=new Sr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rp=/[\-:]([a-z])/g;function Ip(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rp,Ip);nr[e]=new Sr(e,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rp,Ip);nr[e]=new Sr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rp,Ip);nr[e]=new Sr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){nr[t]=new Sr(t,1,!1,t.toLowerCase(),null,!1,!1)}),nr.xlinkHref=new Sr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){nr[t]=new Sr(t,1,!1,t.toLowerCase(),null,!0,!0)});function kp(t,e,r,n){var i=nr.hasOwnProperty(e)?nr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(lC(e,r,i,n)&&(r=null),n||i===null?oC(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Ri=C_.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Dc=Symbol.for("react.element"),Qo=Symbol.for("react.portal"),Jo=Symbol.for("react.fragment"),Mp=Symbol.for("react.strict_mode"),Np=Symbol.for("react.profiler"),k_=Symbol.for("react.provider"),M_=Symbol.for("react.context"),Op=Symbol.for("react.forward_ref"),Dp=Symbol.for("react.suspense"),Lp=Symbol.for("react.suspense_list"),Bp=Symbol.for("react.memo"),os=Symbol.for("react.lazy"),N_=Symbol.for("react.offscreen"),O_=Symbol.iterator;function Cl(t){return t===null||typeof t!="object"?null:(t=O_&&t[O_]||t["@@iterator"],typeof t=="function"?t:null)}var _t=Object.assign,Fp;function Pl(t){if(Fp===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Fp=e&&e[1]||""}return`
`+Fp+t}var Up=!1;function zp(t,e){if(!t||Up)return"";Up=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var n=h}Reflect.construct(t,[],e)}else{try{e.call()}catch(h){n=h}t.call(e.prototype)}else{try{throw Error()}catch(h){n=h}t()}}catch(h){if(h&&n&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var c=`
`+i[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=l);break}}}finally{Up=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Pl(t):""}function uC(t){switch(t.tag){case 5:return Pl(t.type);case 16:return Pl("Lazy");case 13:return Pl("Suspense");case 19:return Pl("SuspenseList");case 0:case 2:case 15:return t=zp(t.type,!1),t;case 11:return t=zp(t.type.render,!1),t;case 1:return t=zp(t.type,!0),t;default:return""}}function jp(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jo:return"Fragment";case Qo:return"Portal";case Np:return"Profiler";case Mp:return"StrictMode";case Dp:return"Suspense";case Lp:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case M_:return(t.displayName||"Context")+".Consumer";case k_:return(t._context.displayName||"Context")+".Provider";case Op:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Bp:return e=t.displayName||null,e!==null?e:jp(t.type)||"Memo";case os:e=t._payload,t=t._init;try{return jp(t(e))}catch{}}return null}function cC(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return jp(e);case 8:return e===Mp?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function as(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function D_(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function hC(t){var e=D_(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Lc(t){t._valueTracker||(t._valueTracker=hC(t))}function L_(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=D_(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Bc(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Hp(t,e){var r=e.checked;return _t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function B_(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=as(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function F_(t,e){e=e.checked,e!=null&&kp(t,"checked",e,!1)}function Gp(t,e){F_(t,e);var r=as(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Wp(t,e.type,r):e.hasOwnProperty("defaultValue")&&Wp(t,e.type,as(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function U_(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function Wp(t,e,r){(e!=="number"||Bc(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Rl=Array.isArray;function Zo(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+as(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function $p(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(te(91));return _t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function z_(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(te(92));if(Rl(r)){if(1<r.length)throw Error(te(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:as(r)}}function j_(t,e){var r=as(e.value),n=as(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function H_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function G_(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Vp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?G_(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Fc,W_=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Fc=Fc||document.createElement("div"),Fc.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Fc.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Il(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var kl={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},dC=["Webkit","ms","Moz","O"];Object.keys(kl).forEach(function(t){dC.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),kl[e]=kl[t]})});function $_(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||kl.hasOwnProperty(t)&&kl[t]?(""+e).trim():e+"px"}function V_(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=$_(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var fC=_t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Xp(t,e){if(e){if(fC[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(te(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(te(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(te(61))}if(e.style!=null&&typeof e.style!="object")throw Error(te(62))}}function Yp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qp=null;function Kp(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Qp=null,ea=null,ta=null;function X_(t){if(t=Zl(t)){if(typeof Qp!="function")throw Error(te(280));var e=t.stateNode;e&&(e=ah(e),Qp(t.stateNode,t.type,e))}}function Y_(t){ea?ta?ta.push(t):ta=[t]:ea=t}function q_(){if(ea){var t=ea,e=ta;if(ta=ea=null,X_(t),e)for(t=0;t<e.length;t++)X_(e[t])}}function K_(t,e){return t(e)}function Q_(){}var Jp=!1;function J_(t,e,r){if(Jp)return t(e,r);Jp=!0;try{return K_(t,e,r)}finally{Jp=!1,(ea!==null||ta!==null)&&(Q_(),q_())}}function Ml(t,e){var r=t.stateNode;if(r===null)return null;var n=ah(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(te(231,e,typeof r));return r}var Zp=!1;if(Pi)try{var Nl={};Object.defineProperty(Nl,"passive",{get:function(){Zp=!0}}),window.addEventListener("test",Nl,Nl),window.removeEventListener("test",Nl,Nl)}catch{Zp=!1}function pC(t,e,r,n,i,s,o,l,c){var h=Array.prototype.slice.call(arguments,3);try{e.apply(r,h)}catch(f){this.onError(f)}}var Ol=!1,Uc=null,zc=!1,em=null,mC={onError:function(t){Ol=!0,Uc=t}};function gC(t,e,r,n,i,s,o,l,c){Ol=!1,Uc=null,pC.apply(mC,arguments)}function vC(t,e,r,n,i,s,o,l,c){if(gC.apply(this,arguments),Ol){if(Ol){var h=Uc;Ol=!1,Uc=null}else throw Error(te(198));zc||(zc=!0,em=h)}}function Zs(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function Z_(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eb(t){if(Zs(t)!==t)throw Error(te(188))}function yC(t){var e=t.alternate;if(!e){if(e=Zs(t),e===null)throw Error(te(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return eb(i),t;if(s===n)return eb(i),e;s=s.sibling}throw Error(te(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,l=i.child;l;){if(l===r){o=!0,r=i,n=s;break}if(l===n){o=!0,n=i,r=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===r){o=!0,r=s,n=i;break}if(l===n){o=!0,n=s,r=i;break}l=l.sibling}if(!o)throw Error(te(189))}}if(r.alternate!==n)throw Error(te(190))}if(r.tag!==3)throw Error(te(188));return r.stateNode.current===r?t:e}function tb(t){return t=yC(t),t!==null?rb(t):null}function rb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=rb(t);if(e!==null)return e;t=t.sibling}return null}var nb=$r.unstable_scheduleCallback,ib=$r.unstable_cancelCallback,_C=$r.unstable_shouldYield,bC=$r.unstable_requestPaint,Pt=$r.unstable_now,xC=$r.unstable_getCurrentPriorityLevel,tm=$r.unstable_ImmediatePriority,sb=$r.unstable_UserBlockingPriority,jc=$r.unstable_NormalPriority,wC=$r.unstable_LowPriority,ob=$r.unstable_IdlePriority,Hc=null,ei=null;function EC(t){if(ei&&typeof ei.onCommitFiberRoot=="function")try{ei.onCommitFiberRoot(Hc,t,void 0,(t.current.flags&128)===128)}catch{}}var En=Math.clz32?Math.clz32:AC,TC=Math.log,SC=Math.LN2;function AC(t){return t>>>=0,t===0?32:31-(TC(t)/SC|0)|0}var Gc=64,Wc=4194304;function Dl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function $c(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var l=o&~i;l!==0?n=Dl(l):(s&=o,s!==0&&(n=Dl(s)))}else o=r&~i,o!==0?n=Dl(o):s!==0&&(n=Dl(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-En(e),i=1<<r,n|=t[r],e&=~i;return n}function CC(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function PC(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-En(s),l=1<<o,c=i[o];c===-1?(!(l&r)||l&n)&&(i[o]=CC(l,e)):c<=e&&(t.expiredLanes|=l),s&=~l}}function rm(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function ab(){var t=Gc;return Gc<<=1,!(Gc&4194240)&&(Gc=64),t}function nm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Ll(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-En(e),t[e]=r}function RC(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-En(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function im(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-En(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Je=0;function lb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var ub,sm,cb,hb,db,om=!1,Vc=[],ls=null,us=null,cs=null,Bl=new Map,Fl=new Map,hs=[],IC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fb(t,e){switch(t){case"focusin":case"focusout":ls=null;break;case"dragenter":case"dragleave":us=null;break;case"mouseover":case"mouseout":cs=null;break;case"pointerover":case"pointerout":Bl.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fl.delete(e.pointerId)}}function Ul(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Zl(e),e!==null&&sm(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function kC(t,e,r,n,i){switch(e){case"focusin":return ls=Ul(ls,t,e,r,n,i),!0;case"dragenter":return us=Ul(us,t,e,r,n,i),!0;case"mouseover":return cs=Ul(cs,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Bl.set(s,Ul(Bl.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Fl.set(s,Ul(Fl.get(s)||null,t,e,r,n,i)),!0}return!1}function pb(t){var e=eo(t.target);if(e!==null){var r=Zs(e);if(r!==null){if(e=r.tag,e===13){if(e=Z_(r),e!==null){t.blockedOn=e,db(t.priority,function(){cb(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Xc(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=lm(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);qp=n,r.target.dispatchEvent(n),qp=null}else return e=Zl(r),e!==null&&sm(e),t.blockedOn=r,!1;e.shift()}return!0}function mb(t,e,r){Xc(t)&&r.delete(e)}function MC(){om=!1,ls!==null&&Xc(ls)&&(ls=null),us!==null&&Xc(us)&&(us=null),cs!==null&&Xc(cs)&&(cs=null),Bl.forEach(mb),Fl.forEach(mb)}function zl(t,e){t.blockedOn===e&&(t.blockedOn=null,om||(om=!0,$r.unstable_scheduleCallback($r.unstable_NormalPriority,MC)))}function jl(t){function e(i){return zl(i,t)}if(0<Vc.length){zl(Vc[0],t);for(var r=1;r<Vc.length;r++){var n=Vc[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ls!==null&&zl(ls,t),us!==null&&zl(us,t),cs!==null&&zl(cs,t),Bl.forEach(e),Fl.forEach(e),r=0;r<hs.length;r++)n=hs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<hs.length&&(r=hs[0],r.blockedOn===null);)pb(r),r.blockedOn===null&&hs.shift()}var ra=Ri.ReactCurrentBatchConfig,Yc=!0;function NC(t,e,r,n){var i=Je,s=ra.transition;ra.transition=null;try{Je=1,am(t,e,r,n)}finally{Je=i,ra.transition=s}}function OC(t,e,r,n){var i=Je,s=ra.transition;ra.transition=null;try{Je=4,am(t,e,r,n)}finally{Je=i,ra.transition=s}}function am(t,e,r,n){if(Yc){var i=lm(t,e,r,n);if(i===null)Sm(t,e,n,qc,r),fb(t,n);else if(kC(i,t,e,r,n))n.stopPropagation();else if(fb(t,n),e&4&&-1<IC.indexOf(t)){for(;i!==null;){var s=Zl(i);if(s!==null&&ub(s),s=lm(t,e,r,n),s===null&&Sm(t,e,n,qc,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Sm(t,e,n,null,r)}}var qc=null;function lm(t,e,r,n){if(qc=null,t=Kp(n),t=eo(t),t!==null)if(e=Zs(t),e===null)t=null;else if(r=e.tag,r===13){if(t=Z_(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return qc=t,null}function gb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(xC()){case tm:return 1;case sb:return 4;case jc:case wC:return 16;case ob:return 536870912;default:return 16}default:return 16}}var ds=null,um=null,Kc=null;function vb(){if(Kc)return Kc;var t,e=um,r=e.length,n,i="value"in ds?ds.value:ds.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Kc=i.slice(t,1<n?1-n:void 0)}function Qc(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Jc(){return!0}function yb(){return!1}function Vr(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in t)t.hasOwnProperty(l)&&(r=t[l],this[l]=r?r(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Jc:yb,this.isPropagationStopped=yb,this}return _t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Jc)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Jc)},persist:function(){},isPersistent:Jc}),e}var na={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},cm=Vr(na),Hl=_t({},na,{view:0,detail:0}),DC=Vr(Hl),hm,dm,Gl,Zc=_t({},Hl,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:pm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Gl&&(Gl&&t.type==="mousemove"?(hm=t.screenX-Gl.screenX,dm=t.screenY-Gl.screenY):dm=hm=0,Gl=t),hm)},movementY:function(t){return"movementY"in t?t.movementY:dm}}),_b=Vr(Zc),LC=_t({},Zc,{dataTransfer:0}),BC=Vr(LC),FC=_t({},Hl,{relatedTarget:0}),fm=Vr(FC),UC=_t({},na,{animationName:0,elapsedTime:0,pseudoElement:0}),zC=Vr(UC),jC=_t({},na,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),HC=Vr(jC),GC=_t({},na,{data:0}),bb=Vr(GC),WC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$C={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},VC={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function XC(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=VC[t])?!!e[t]:!1}function pm(){return XC}var YC=_t({},Hl,{key:function(t){if(t.key){var e=WC[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Qc(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$C[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:pm,charCode:function(t){return t.type==="keypress"?Qc(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Qc(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),qC=Vr(YC),KC=_t({},Zc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),xb=Vr(KC),QC=_t({},Hl,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:pm}),JC=Vr(QC),ZC=_t({},na,{propertyName:0,elapsedTime:0,pseudoElement:0}),eP=Vr(ZC),tP=_t({},Zc,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),rP=Vr(tP),nP=[9,13,27,32],mm=Pi&&"CompositionEvent"in window,Wl=null;Pi&&"documentMode"in document&&(Wl=document.documentMode);var iP=Pi&&"TextEvent"in window&&!Wl,wb=Pi&&(!mm||Wl&&8<Wl&&11>=Wl),Eb=String.fromCharCode(32),Tb=!1;function Sb(t,e){switch(t){case"keyup":return nP.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Ab(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ia=!1;function sP(t,e){switch(t){case"compositionend":return Ab(e);case"keypress":return e.which!==32?null:(Tb=!0,Eb);case"textInput":return t=e.data,t===Eb&&Tb?null:t;default:return null}}function oP(t,e){if(ia)return t==="compositionend"||!mm&&Sb(t,e)?(t=vb(),Kc=um=ds=null,ia=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wb&&e.locale!=="ko"?null:e.data;default:return null}}var aP={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Cb(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!aP[t.type]:e==="textarea"}function Pb(t,e,r,n){Y_(n),e=ih(e,"onChange"),0<e.length&&(r=new cm("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var $l=null,Vl=null;function lP(t){Vb(t,0)}function eh(t){var e=ua(t);if(L_(e))return t}function uP(t,e){if(t==="change")return e}var Rb=!1;if(Pi){var gm;if(Pi){var vm="oninput"in document;if(!vm){var Ib=document.createElement("div");Ib.setAttribute("oninput","return;"),vm=typeof Ib.oninput=="function"}gm=vm}else gm=!1;Rb=gm&&(!document.documentMode||9<document.documentMode)}function kb(){$l&&($l.detachEvent("onpropertychange",Mb),Vl=$l=null)}function Mb(t){if(t.propertyName==="value"&&eh(Vl)){var e=[];Pb(e,Vl,t,Kp(t)),J_(lP,e)}}function cP(t,e,r){t==="focusin"?(kb(),$l=e,Vl=r,$l.attachEvent("onpropertychange",Mb)):t==="focusout"&&kb()}function hP(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return eh(Vl)}function dP(t,e){if(t==="click")return eh(e)}function fP(t,e){if(t==="input"||t==="change")return eh(e)}function pP(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Tn=typeof Object.is=="function"?Object.is:pP;function Xl(t,e){if(Tn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!Pp.call(e,i)||!Tn(t[i],e[i]))return!1}return!0}function Nb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ob(t,e){var r=Nb(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Nb(r)}}function Db(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Db(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Lb(){for(var t=window,e=Bc();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Bc(t.document)}return e}function ym(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function mP(t){var e=Lb(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&Db(r.ownerDocument.documentElement,r)){if(n!==null&&ym(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Ob(r,s);var o=Ob(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var gP=Pi&&"documentMode"in document&&11>=document.documentMode,sa=null,_m=null,Yl=null,bm=!1;function Bb(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;bm||sa==null||sa!==Bc(n)||(n=sa,"selectionStart"in n&&ym(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Yl&&Xl(Yl,n)||(Yl=n,n=ih(_m,"onSelect"),0<n.length&&(e=new cm("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=sa)))}function th(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var oa={animationend:th("Animation","AnimationEnd"),animationiteration:th("Animation","AnimationIteration"),animationstart:th("Animation","AnimationStart"),transitionend:th("Transition","TransitionEnd")},xm={},Fb={};Pi&&(Fb=document.createElement("div").style,"AnimationEvent"in window||(delete oa.animationend.animation,delete oa.animationiteration.animation,delete oa.animationstart.animation),"TransitionEvent"in window||delete oa.transitionend.transition);function rh(t){if(xm[t])return xm[t];if(!oa[t])return t;var e=oa[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in Fb)return xm[t]=e[r];return t}var Ub=rh("animationend"),zb=rh("animationiteration"),jb=rh("animationstart"),Hb=rh("transitionend"),Gb=new Map,Wb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function fs(t,e){Gb.set(t,e),Js(e,[t])}for(var wm=0;wm<Wb.length;wm++){var Em=Wb[wm],vP=Em.toLowerCase(),yP=Em[0].toUpperCase()+Em.slice(1);fs(vP,"on"+yP)}fs(Ub,"onAnimationEnd"),fs(zb,"onAnimationIteration"),fs(jb,"onAnimationStart"),fs("dblclick","onDoubleClick"),fs("focusin","onFocus"),fs("focusout","onBlur"),fs(Hb,"onTransitionEnd"),Ko("onMouseEnter",["mouseout","mouseover"]),Ko("onMouseLeave",["mouseout","mouseover"]),Ko("onPointerEnter",["pointerout","pointerover"]),Ko("onPointerLeave",["pointerout","pointerover"]),Js("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Js("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Js("onBeforeInput",["compositionend","keypress","textInput","paste"]),Js("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Js("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Js("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ql="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_P=new Set("cancel close invalid load scroll toggle".split(" ").concat(ql));function $b(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,vC(n,e,void 0,t),t.currentTarget=null}function Vb(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var l=n[o],c=l.instance,h=l.currentTarget;if(l=l.listener,c!==s&&i.isPropagationStopped())break e;$b(i,l,h),s=c}else for(o=0;o<n.length;o++){if(l=n[o],c=l.instance,h=l.currentTarget,l=l.listener,c!==s&&i.isPropagationStopped())break e;$b(i,l,h),s=c}}}if(zc)throw t=em,zc=!1,em=null,t}function at(t,e){var r=e[km];r===void 0&&(r=e[km]=new Set);var n=t+"__bubble";r.has(n)||(Xb(e,t,2,!1),r.add(n))}function Tm(t,e,r){var n=0;e&&(n|=4),Xb(r,t,n,e)}var nh="_reactListening"+Math.random().toString(36).slice(2);function Kl(t){if(!t[nh]){t[nh]=!0,P_.forEach(function(r){r!=="selectionchange"&&(_P.has(r)||Tm(r,!1,t),Tm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nh]||(e[nh]=!0,Tm("selectionchange",!1,e))}}function Xb(t,e,r,n){switch(gb(e)){case 1:var i=NC;break;case 4:i=OC;break;default:i=am}r=i.bind(null,e,r,t),i=void 0,!Zp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Sm(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var l=n.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===i||c.nodeType===8&&c.parentNode===i))return;o=o.return}for(;l!==null;){if(o=eo(l),o===null)return;if(c=o.tag,c===5||c===6){n=s=o;continue e}l=l.parentNode}}n=n.return}J_(function(){var h=s,f=Kp(r),p=[];e:{var m=Gb.get(t);if(m!==void 0){var y=cm,_=t;switch(t){case"keypress":if(Qc(r)===0)break e;case"keydown":case"keyup":y=qC;break;case"focusin":_="focus",y=fm;break;case"focusout":_="blur",y=fm;break;case"beforeblur":case"afterblur":y=fm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":y=_b;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":y=BC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":y=JC;break;case Ub:case zb:case jb:y=zC;break;case Hb:y=eP;break;case"scroll":y=DC;break;case"wheel":y=rP;break;case"copy":case"cut":case"paste":y=HC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":y=xb}var w=(e&4)!==0,A=!w&&t==="scroll",E=w?m!==null?m+"Capture":null:m;w=[];for(var x=h,S;x!==null;){S=x;var T=S.stateNode;if(S.tag===5&&T!==null&&(S=T,E!==null&&(T=Ml(x,E),T!=null&&w.push(Ql(x,T,S)))),A)break;x=x.return}0<w.length&&(m=new y(m,_,null,r,f),p.push({event:m,listeners:w}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",y=t==="mouseout"||t==="pointerout",m&&r!==qp&&(_=r.relatedTarget||r.fromElement)&&(eo(_)||_[Ii]))break e;if((y||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,y?(_=r.relatedTarget||r.toElement,y=h,_=_?eo(_):null,_!==null&&(A=Zs(_),_!==A||_.tag!==5&&_.tag!==6)&&(_=null)):(y=null,_=h),y!==_)){if(w=_b,T="onMouseLeave",E="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(w=xb,T="onPointerLeave",E="onPointerEnter",x="pointer"),A=y==null?m:ua(y),S=_==null?m:ua(_),m=new w(T,x+"leave",y,r,f),m.target=A,m.relatedTarget=S,T=null,eo(f)===h&&(w=new w(E,x+"enter",_,r,f),w.target=S,w.relatedTarget=A,T=w),A=T,y&&_)t:{for(w=y,E=_,x=0,S=w;S;S=aa(S))x++;for(S=0,T=E;T;T=aa(T))S++;for(;0<x-S;)w=aa(w),x--;for(;0<S-x;)E=aa(E),S--;for(;x--;){if(w===E||E!==null&&w===E.alternate)break t;w=aa(w),E=aa(E)}w=null}else w=null;y!==null&&Yb(p,m,y,w,!1),_!==null&&A!==null&&Yb(p,A,_,w,!0)}}e:{if(m=h?ua(h):window,y=m.nodeName&&m.nodeName.toLowerCase(),y==="select"||y==="input"&&m.type==="file")var R=uP;else if(Cb(m))if(Rb)R=fP;else{R=hP;var L=cP}else(y=m.nodeName)&&y.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(R=dP);if(R&&(R=R(t,h))){Pb(p,R,r,f);break e}L&&L(t,m,h),t==="focusout"&&(L=m._wrapperState)&&L.controlled&&m.type==="number"&&Wp(m,"number",m.value)}switch(L=h?ua(h):window,t){case"focusin":(Cb(L)||L.contentEditable==="true")&&(sa=L,_m=h,Yl=null);break;case"focusout":Yl=_m=sa=null;break;case"mousedown":bm=!0;break;case"contextmenu":case"mouseup":case"dragend":bm=!1,Bb(p,r,f);break;case"selectionchange":if(gP)break;case"keydown":case"keyup":Bb(p,r,f)}var I;if(mm)e:{switch(t){case"compositionstart":var M="onCompositionStart";break e;case"compositionend":M="onCompositionEnd";break e;case"compositionupdate":M="onCompositionUpdate";break e}M=void 0}else ia?Sb(t,r)&&(M="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(M="onCompositionStart");M&&(wb&&r.locale!=="ko"&&(ia||M!=="onCompositionStart"?M==="onCompositionEnd"&&ia&&(I=vb()):(ds=f,um="value"in ds?ds.value:ds.textContent,ia=!0)),L=ih(h,M),0<L.length&&(M=new bb(M,t,null,r,f),p.push({event:M,listeners:L}),I?M.data=I:(I=Ab(r),I!==null&&(M.data=I)))),(I=iP?sP(t,r):oP(t,r))&&(h=ih(h,"onBeforeInput"),0<h.length&&(f=new bb("onBeforeInput","beforeinput",null,r,f),p.push({event:f,listeners:h}),f.data=I))}Vb(p,e)})}function Ql(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ih(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ml(t,r),s!=null&&n.unshift(Ql(t,s,i)),s=Ml(t,e),s!=null&&n.push(Ql(t,s,i))),t=t.return}return n}function aa(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Yb(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var l=r,c=l.alternate,h=l.stateNode;if(c!==null&&c===n)break;l.tag===5&&h!==null&&(l=h,i?(c=Ml(r,s),c!=null&&o.unshift(Ql(r,c,l))):i||(c=Ml(r,s),c!=null&&o.push(Ql(r,c,l)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var bP=/\r\n?/g,xP=/\u0000|\uFFFD/g;function qb(t){return(typeof t=="string"?t:""+t).replace(bP,`
`).replace(xP,"")}function sh(t,e,r){if(e=qb(e),qb(t)!==e&&r)throw Error(te(425))}function oh(){}var Am=null,Cm=null;function Pm(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Rm=typeof setTimeout=="function"?setTimeout:void 0,wP=typeof clearTimeout=="function"?clearTimeout:void 0,Kb=typeof Promise=="function"?Promise:void 0,EP=typeof queueMicrotask=="function"?queueMicrotask:typeof Kb<"u"?function(t){return Kb.resolve(null).then(t).catch(TP)}:Rm;function TP(t){setTimeout(function(){throw t})}function Im(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),jl(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);jl(e)}function ps(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var la=Math.random().toString(36).slice(2),ti="__reactFiber$"+la,Jl="__reactProps$"+la,Ii="__reactContainer$"+la,km="__reactEvents$"+la,SP="__reactListeners$"+la,AP="__reactHandles$"+la;function eo(t){var e=t[ti];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ii]||r[ti]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Qb(t);t!==null;){if(r=t[ti])return r;t=Qb(t)}return e}t=r,r=t.parentNode}return null}function Zl(t){return t=t[ti]||t[Ii],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ua(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(te(33))}function ah(t){return t[Jl]||null}var Mm=[],ca=-1;function ms(t){return{current:t}}function lt(t){0>ca||(t.current=Mm[ca],Mm[ca]=null,ca--)}function it(t,e){ca++,Mm[ca]=t.current,t.current=e}var gs={},hr=ms(gs),Ir=ms(!1),to=gs;function ha(t,e){var r=t.type.contextTypes;if(!r)return gs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function kr(t){return t=t.childContextTypes,t!=null}function lh(){lt(Ir),lt(hr)}function Jb(t,e,r){if(hr.current!==gs)throw Error(te(168));it(hr,e),it(Ir,r)}function Zb(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(te(108,cC(t)||"Unknown",i));return _t({},r,n)}function uh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||gs,to=hr.current,it(hr,t),it(Ir,Ir.current),!0}function e1(t,e,r){var n=t.stateNode;if(!n)throw Error(te(169));r?(t=Zb(t,e,to),n.__reactInternalMemoizedMergedChildContext=t,lt(Ir),lt(hr),it(hr,t)):lt(Ir),it(Ir,r)}var ki=null,ch=!1,Nm=!1;function t1(t){ki===null?ki=[t]:ki.push(t)}function CP(t){ch=!0,t1(t)}function vs(){if(!Nm&&ki!==null){Nm=!0;var t=0,e=Je;try{var r=ki;for(Je=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}ki=null,ch=!1}catch(i){throw ki!==null&&(ki=ki.slice(t+1)),nb(tm,vs),i}finally{Je=e,Nm=!1}}return null}var da=[],fa=0,hh=null,dh=0,sn=[],on=0,ro=null,Mi=1,Ni="";function no(t,e){da[fa++]=dh,da[fa++]=hh,hh=t,dh=e}function r1(t,e,r){sn[on++]=Mi,sn[on++]=Ni,sn[on++]=ro,ro=t;var n=Mi;t=Ni;var i=32-En(n)-1;n&=~(1<<i),r+=1;var s=32-En(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Mi=1<<32-En(e)+i|r<<i|n,Ni=s+t}else Mi=1<<s|r<<i|n,Ni=t}function Om(t){t.return!==null&&(no(t,1),r1(t,1,0))}function Dm(t){for(;t===hh;)hh=da[--fa],da[fa]=null,dh=da[--fa],da[fa]=null;for(;t===ro;)ro=sn[--on],sn[on]=null,Ni=sn[--on],sn[on]=null,Mi=sn[--on],sn[on]=null}var Xr=null,Yr=null,ut=!1,Sn=null;function n1(t,e){var r=cn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function i1(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Xr=t,Yr=ps(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Xr=t,Yr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ro!==null?{id:Mi,overflow:Ni}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=cn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,Xr=t,Yr=null,!0):!1;default:return!1}}function Lm(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Bm(t){if(ut){var e=Yr;if(e){var r=e;if(!i1(t,e)){if(Lm(t))throw Error(te(418));e=ps(r.nextSibling);var n=Xr;e&&i1(t,e)?n1(n,r):(t.flags=t.flags&-4097|2,ut=!1,Xr=t)}}else{if(Lm(t))throw Error(te(418));t.flags=t.flags&-4097|2,ut=!1,Xr=t}}}function s1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Xr=t}function fh(t){if(t!==Xr)return!1;if(!ut)return s1(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Pm(t.type,t.memoizedProps)),e&&(e=Yr)){if(Lm(t))throw o1(),Error(te(418));for(;e;)n1(t,e),e=ps(e.nextSibling)}if(s1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(te(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Yr=ps(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Yr=null}}else Yr=Xr?ps(t.stateNode.nextSibling):null;return!0}function o1(){for(var t=Yr;t;)t=ps(t.nextSibling)}function pa(){Yr=Xr=null,ut=!1}function Fm(t){Sn===null?Sn=[t]:Sn.push(t)}var PP=Ri.ReactCurrentBatchConfig;function An(t,e){if(t&&t.defaultProps){e=_t({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}var ph=ms(null),mh=null,ma=null,Um=null;function zm(){Um=ma=mh=null}function jm(t){var e=ph.current;lt(ph),t._currentValue=e}function Hm(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ga(t,e){mh=t,Um=ma=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Mr=!0),t.firstContext=null)}function an(t){var e=t._currentValue;if(Um!==t)if(t={context:t,memoizedValue:e,next:null},ma===null){if(mh===null)throw Error(te(308));ma=t,mh.dependencies={lanes:0,firstContext:t}}else ma=ma.next=t;return e}var io=null;function Gm(t){io===null?io=[t]:io.push(t)}function a1(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,Gm(e)):(r.next=i.next,i.next=r),e.interleaved=r,Oi(t,n)}function Oi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ys=!1;function Wm(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function l1(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function _s(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ve&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Oi(t,r)}return i=n.interleaved,i===null?(e.next=e,Gm(n)):(e.next=i.next,i.next=e),n.interleaved=e,Oi(t,r)}function gh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,im(t,r)}}function u1(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function vh(t,e,r,n){var i=t.updateQueue;ys=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var c=l,h=c.next;c.next=null,o===null?s=h:o.next=h,o=c;var f=t.alternate;f!==null&&(f=f.updateQueue,l=f.lastBaseUpdate,l!==o&&(l===null?f.firstBaseUpdate=h:l.next=h,f.lastBaseUpdate=c))}if(s!==null){var p=i.baseState;o=0,f=h=c=null,l=s;do{var m=l.lane,y=l.eventTime;if((n&m)===m){f!==null&&(f=f.next={eventTime:y,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var _=t,w=l;switch(m=e,y=r,w.tag){case 1:if(_=w.payload,typeof _=="function"){p=_.call(y,p,m);break e}p=_;break e;case 3:_.flags=_.flags&-65537|128;case 0:if(_=w.payload,m=typeof _=="function"?_.call(y,p,m):_,m==null)break e;p=_t({},p,m);break e;case 2:ys=!0}}l.callback!==null&&l.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[l]:m.push(l))}else y={eventTime:y,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},f===null?(h=f=y,c=p):f=f.next=y,o|=m;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;m=l,l=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(1);if(f===null&&(c=p),i.baseState=c,i.firstBaseUpdate=h,i.lastBaseUpdate=f,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);ao|=o,t.lanes=o,t.memoizedState=p}}function c1(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(te(191,i));i.call(n)}}}var h1=new C_.Component().refs;function $m(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:_t({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var yh={isMounted:function(t){return(t=t._reactInternals)?Zs(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Cr(),i=Es(t),s=Di(n,i);s.payload=e,r!=null&&(s.callback=r),e=_s(t,s,i),e!==null&&(Rn(e,t,i,n),gh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Cr(),i=Es(t),s=Di(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=_s(t,s,i),e!==null&&(Rn(e,t,i,n),gh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Cr(),n=Es(t),i=Di(r,n);i.tag=2,e!=null&&(i.callback=e),e=_s(t,i,n),e!==null&&(Rn(e,t,n,r),gh(e,t,n))}};function d1(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Xl(r,n)||!Xl(i,s):!0}function f1(t,e,r){var n=!1,i=gs,s=e.contextType;return typeof s=="object"&&s!==null?s=an(s):(i=kr(e)?to:hr.current,n=e.contextTypes,s=(n=n!=null)?ha(t,i):gs),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=yh,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function p1(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&yh.enqueueReplaceState(e,e.state,null)}function Vm(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs=h1,Wm(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=an(s):(s=kr(e)?to:hr.current,i.context=ha(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&($m(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&yh.enqueueReplaceState(i,i.state,null),vh(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function eu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(te(309));var n=r.stateNode}if(!n)throw Error(te(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;l===h1&&(l=i.refs={}),o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(te(284));if(!r._owner)throw Error(te(290,t))}return t}function _h(t,e){throw t=Object.prototype.toString.call(e),Error(te(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function m1(t){var e=t._init;return e(t._payload)}function g1(t){function e(E,x){if(t){var S=E.deletions;S===null?(E.deletions=[x],E.flags|=16):S.push(x)}}function r(E,x){if(!t)return null;for(;x!==null;)e(E,x),x=x.sibling;return null}function n(E,x){for(E=new Map;x!==null;)x.key!==null?E.set(x.key,x):E.set(x.index,x),x=x.sibling;return E}function i(E,x){return E=Ss(E,x),E.index=0,E.sibling=null,E}function s(E,x,S){return E.index=S,t?(S=E.alternate,S!==null?(S=S.index,S<x?(E.flags|=2,x):S):(E.flags|=2,x)):(E.flags|=1048576,x)}function o(E){return t&&E.alternate===null&&(E.flags|=2),E}function l(E,x,S,T){return x===null||x.tag!==6?(x=Pg(S,E.mode,T),x.return=E,x):(x=i(x,S),x.return=E,x)}function c(E,x,S,T){var R=S.type;return R===Jo?f(E,x,S.props.children,T,S.key):x!==null&&(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===os&&m1(R)===x.type)?(T=i(x,S.props),T.ref=eu(E,x,S),T.return=E,T):(T=Fh(S.type,S.key,S.props,null,E.mode,T),T.ref=eu(E,x,S),T.return=E,T)}function h(E,x,S,T){return x===null||x.tag!==4||x.stateNode.containerInfo!==S.containerInfo||x.stateNode.implementation!==S.implementation?(x=Rg(S,E.mode,T),x.return=E,x):(x=i(x,S.children||[]),x.return=E,x)}function f(E,x,S,T,R){return x===null||x.tag!==7?(x=ho(S,E.mode,T,R),x.return=E,x):(x=i(x,S),x.return=E,x)}function p(E,x,S){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Pg(""+x,E.mode,S),x.return=E,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Dc:return S=Fh(x.type,x.key,x.props,null,E.mode,S),S.ref=eu(E,null,x),S.return=E,S;case Qo:return x=Rg(x,E.mode,S),x.return=E,x;case os:var T=x._init;return p(E,T(x._payload),S)}if(Rl(x)||Cl(x))return x=ho(x,E.mode,S,null),x.return=E,x;_h(E,x)}return null}function m(E,x,S,T){var R=x!==null?x.key:null;if(typeof S=="string"&&S!==""||typeof S=="number")return R!==null?null:l(E,x,""+S,T);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Dc:return S.key===R?c(E,x,S,T):null;case Qo:return S.key===R?h(E,x,S,T):null;case os:return R=S._init,m(E,x,R(S._payload),T)}if(Rl(S)||Cl(S))return R!==null?null:f(E,x,S,T,null);_h(E,S)}return null}function y(E,x,S,T,R){if(typeof T=="string"&&T!==""||typeof T=="number")return E=E.get(S)||null,l(x,E,""+T,R);if(typeof T=="object"&&T!==null){switch(T.$$typeof){case Dc:return E=E.get(T.key===null?S:T.key)||null,c(x,E,T,R);case Qo:return E=E.get(T.key===null?S:T.key)||null,h(x,E,T,R);case os:var L=T._init;return y(E,x,S,L(T._payload),R)}if(Rl(T)||Cl(T))return E=E.get(S)||null,f(x,E,T,R,null);_h(x,T)}return null}function _(E,x,S,T){for(var R=null,L=null,I=x,M=x=0,q=null;I!==null&&M<S.length;M++){I.index>M?(q=I,I=null):q=I.sibling;var K=m(E,I,S[M],T);if(K===null){I===null&&(I=q);break}t&&I&&K.alternate===null&&e(E,I),x=s(K,x,M),L===null?R=K:L.sibling=K,L=K,I=q}if(M===S.length)return r(E,I),ut&&no(E,M),R;if(I===null){for(;M<S.length;M++)I=p(E,S[M],T),I!==null&&(x=s(I,x,M),L===null?R=I:L.sibling=I,L=I);return ut&&no(E,M),R}for(I=n(E,I);M<S.length;M++)q=y(I,E,M,S[M],T),q!==null&&(t&&q.alternate!==null&&I.delete(q.key===null?M:q.key),x=s(q,x,M),L===null?R=q:L.sibling=q,L=q);return t&&I.forEach(function(J){return e(E,J)}),ut&&no(E,M),R}function w(E,x,S,T){var R=Cl(S);if(typeof R!="function")throw Error(te(150));if(S=R.call(S),S==null)throw Error(te(151));for(var L=R=null,I=x,M=x=0,q=null,K=S.next();I!==null&&!K.done;M++,K=S.next()){I.index>M?(q=I,I=null):q=I.sibling;var J=m(E,I,K.value,T);if(J===null){I===null&&(I=q);break}t&&I&&J.alternate===null&&e(E,I),x=s(J,x,M),L===null?R=J:L.sibling=J,L=J,I=q}if(K.done)return r(E,I),ut&&no(E,M),R;if(I===null){for(;!K.done;M++,K=S.next())K=p(E,K.value,T),K!==null&&(x=s(K,x,M),L===null?R=K:L.sibling=K,L=K);return ut&&no(E,M),R}for(I=n(E,I);!K.done;M++,K=S.next())K=y(I,E,M,K.value,T),K!==null&&(t&&K.alternate!==null&&I.delete(K.key===null?M:K.key),x=s(K,x,M),L===null?R=K:L.sibling=K,L=K);return t&&I.forEach(function(V){return e(E,V)}),ut&&no(E,M),R}function A(E,x,S,T){if(typeof S=="object"&&S!==null&&S.type===Jo&&S.key===null&&(S=S.props.children),typeof S=="object"&&S!==null){switch(S.$$typeof){case Dc:e:{for(var R=S.key,L=x;L!==null;){if(L.key===R){if(R=S.type,R===Jo){if(L.tag===7){r(E,L.sibling),x=i(L,S.props.children),x.return=E,E=x;break e}}else if(L.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===os&&m1(R)===L.type){r(E,L.sibling),x=i(L,S.props),x.ref=eu(E,L,S),x.return=E,E=x;break e}r(E,L);break}else e(E,L);L=L.sibling}S.type===Jo?(x=ho(S.props.children,E.mode,T,S.key),x.return=E,E=x):(T=Fh(S.type,S.key,S.props,null,E.mode,T),T.ref=eu(E,x,S),T.return=E,E=T)}return o(E);case Qo:e:{for(L=S.key;x!==null;){if(x.key===L)if(x.tag===4&&x.stateNode.containerInfo===S.containerInfo&&x.stateNode.implementation===S.implementation){r(E,x.sibling),x=i(x,S.children||[]),x.return=E,E=x;break e}else{r(E,x);break}else e(E,x);x=x.sibling}x=Rg(S,E.mode,T),x.return=E,E=x}return o(E);case os:return L=S._init,A(E,x,L(S._payload),T)}if(Rl(S))return _(E,x,S,T);if(Cl(S))return w(E,x,S,T);_h(E,S)}return typeof S=="string"&&S!==""||typeof S=="number"?(S=""+S,x!==null&&x.tag===6?(r(E,x.sibling),x=i(x,S),x.return=E,E=x):(r(E,x),x=Pg(S,E.mode,T),x.return=E,E=x),o(E)):r(E,x)}return A}var va=g1(!0),v1=g1(!1),tu={},ri=ms(tu),ru=ms(tu),nu=ms(tu);function so(t){if(t===tu)throw Error(te(174));return t}function Xm(t,e){switch(it(nu,e),it(ru,t),it(ri,tu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Vp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Vp(e,t)}lt(ri),it(ri,e)}function ya(){lt(ri),lt(ru),lt(nu)}function y1(t){so(nu.current);var e=so(ri.current),r=Vp(e,t.type);e!==r&&(it(ru,t),it(ri,r))}function Ym(t){ru.current===t&&(lt(ri),lt(ru))}var bt=ms(0);function bh(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qm=[];function Km(){for(var t=0;t<qm.length;t++)qm[t]._workInProgressVersionPrimary=null;qm.length=0}var xh=Ri.ReactCurrentDispatcher,Qm=Ri.ReactCurrentBatchConfig,oo=0,xt=null,Bt=null,$t=null,wh=!1,iu=!1,su=0,RP=0;function dr(){throw Error(te(321))}function Jm(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Tn(t[r],e[r]))return!1;return!0}function Zm(t,e,r,n,i,s){if(oo=s,xt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xh.current=t===null||t.memoizedState===null?NP:OP,t=r(n,i),iu){s=0;do{if(iu=!1,su=0,25<=s)throw Error(te(301));s+=1,$t=Bt=null,e.updateQueue=null,xh.current=DP,t=r(n,i)}while(iu)}if(xh.current=Sh,e=Bt!==null&&Bt.next!==null,oo=0,$t=Bt=xt=null,wh=!1,e)throw Error(te(300));return t}function eg(){var t=su!==0;return su=0,t}function ni(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $t===null?xt.memoizedState=$t=t:$t=$t.next=t,$t}function ln(){if(Bt===null){var t=xt.alternate;t=t!==null?t.memoizedState:null}else t=Bt.next;var e=$t===null?xt.memoizedState:$t.next;if(e!==null)$t=e,Bt=t;else{if(t===null)throw Error(te(310));Bt=t,t={memoizedState:Bt.memoizedState,baseState:Bt.baseState,baseQueue:Bt.baseQueue,queue:Bt.queue,next:null},$t===null?xt.memoizedState=$t=t:$t=$t.next=t}return $t}function ou(t,e){return typeof e=="function"?e(t):e}function tg(t){var e=ln(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=Bt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var l=o=null,c=null,h=s;do{var f=h.lane;if((oo&f)===f)c!==null&&(c=c.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),n=h.hasEagerState?h.eagerState:t(n,h.action);else{var p={lane:f,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};c===null?(l=c=p,o=n):c=c.next=p,xt.lanes|=f,ao|=f}h=h.next}while(h!==null&&h!==s);c===null?o=n:c.next=l,Tn(n,e.memoizedState)||(Mr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=c,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,xt.lanes|=s,ao|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function rg(t){var e=ln(),r=e.queue;if(r===null)throw Error(te(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Tn(s,e.memoizedState)||(Mr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function _1(){}function b1(t,e){var r=xt,n=ln(),i=e(),s=!Tn(n.memoizedState,i);if(s&&(n.memoizedState=i,Mr=!0),n=n.queue,ng(E1.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||$t!==null&&$t.memoizedState.tag&1){if(r.flags|=2048,au(9,w1.bind(null,r,n,i,e),void 0,null),Vt===null)throw Error(te(349));oo&30||x1(r,e,i)}return i}function x1(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function w1(t,e,r,n){e.value=r,e.getSnapshot=n,T1(e)&&S1(t)}function E1(t,e,r){return r(function(){T1(e)&&S1(t)})}function T1(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Tn(t,r)}catch{return!0}}function S1(t){var e=Oi(t,1);e!==null&&Rn(e,t,1,-1)}function A1(t){var e=ni();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:t},e.queue=t,t=t.dispatch=MP.bind(null,xt,t),[e.memoizedState,t]}function au(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=xt.updateQueue,e===null?(e={lastEffect:null,stores:null},xt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function C1(){return ln().memoizedState}function Eh(t,e,r,n){var i=ni();xt.flags|=t,i.memoizedState=au(1|e,r,void 0,n===void 0?null:n)}function Th(t,e,r,n){var i=ln();n=n===void 0?null:n;var s=void 0;if(Bt!==null){var o=Bt.memoizedState;if(s=o.destroy,n!==null&&Jm(n,o.deps)){i.memoizedState=au(e,r,s,n);return}}xt.flags|=t,i.memoizedState=au(1|e,r,s,n)}function P1(t,e){return Eh(8390656,8,t,e)}function ng(t,e){return Th(2048,8,t,e)}function R1(t,e){return Th(4,2,t,e)}function I1(t,e){return Th(4,4,t,e)}function k1(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function M1(t,e,r){return r=r!=null?r.concat([t]):null,Th(4,4,k1.bind(null,e,t),r)}function ig(){}function N1(t,e){var r=ln();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Jm(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function O1(t,e){var r=ln();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Jm(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function D1(t,e,r){return oo&21?(Tn(r,e)||(r=ab(),xt.lanes|=r,ao|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Mr=!0),t.memoizedState=r)}function IP(t,e){var r=Je;Je=r!==0&&4>r?r:4,t(!0);var n=Qm.transition;Qm.transition={};try{t(!1),e()}finally{Je=r,Qm.transition=n}}function L1(){return ln().memoizedState}function kP(t,e,r){var n=Es(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},B1(t))F1(e,r);else if(r=a1(t,e,r,n),r!==null){var i=Cr();Rn(r,t,n,i),U1(r,e,n)}}function MP(t,e,r){var n=Es(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(B1(t))F1(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,r);if(i.hasEagerState=!0,i.eagerState=l,Tn(l,o)){var c=e.interleaved;c===null?(i.next=i,Gm(e)):(i.next=c.next,c.next=i),e.interleaved=i;return}}catch{}finally{}r=a1(t,e,i,n),r!==null&&(i=Cr(),Rn(r,t,n,i),U1(r,e,n))}}function B1(t){var e=t.alternate;return t===xt||e!==null&&e===xt}function F1(t,e){iu=wh=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function U1(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,im(t,r)}}var Sh={readContext:an,useCallback:dr,useContext:dr,useEffect:dr,useImperativeHandle:dr,useInsertionEffect:dr,useLayoutEffect:dr,useMemo:dr,useReducer:dr,useRef:dr,useState:dr,useDebugValue:dr,useDeferredValue:dr,useTransition:dr,useMutableSource:dr,useSyncExternalStore:dr,useId:dr,unstable_isNewReconciler:!1},NP={readContext:an,useCallback:function(t,e){return ni().memoizedState=[t,e===void 0?null:e],t},useContext:an,useEffect:P1,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Eh(4194308,4,k1.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Eh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Eh(4,2,t,e)},useMemo:function(t,e){var r=ni();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ni();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=kP.bind(null,xt,t),[n.memoizedState,t]},useRef:function(t){var e=ni();return t={current:t},e.memoizedState=t},useState:A1,useDebugValue:ig,useDeferredValue:function(t){return ni().memoizedState=t},useTransition:function(){var t=A1(!1),e=t[0];return t=IP.bind(null,t[1]),ni().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=xt,i=ni();if(ut){if(r===void 0)throw Error(te(407));r=r()}else{if(r=e(),Vt===null)throw Error(te(349));oo&30||x1(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,P1(E1.bind(null,n,s,t),[t]),n.flags|=2048,au(9,w1.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=ni(),e=Vt.identifierPrefix;if(ut){var r=Ni,n=Mi;r=(n&~(1<<32-En(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=su++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=RP++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},OP={readContext:an,useCallback:N1,useContext:an,useEffect:ng,useImperativeHandle:M1,useInsertionEffect:R1,useLayoutEffect:I1,useMemo:O1,useReducer:tg,useRef:C1,useState:function(){return tg(ou)},useDebugValue:ig,useDeferredValue:function(t){var e=ln();return D1(e,Bt.memoizedState,t)},useTransition:function(){var t=tg(ou)[0],e=ln().memoizedState;return[t,e]},useMutableSource:_1,useSyncExternalStore:b1,useId:L1,unstable_isNewReconciler:!1},DP={readContext:an,useCallback:N1,useContext:an,useEffect:ng,useImperativeHandle:M1,useInsertionEffect:R1,useLayoutEffect:I1,useMemo:O1,useReducer:rg,useRef:C1,useState:function(){return rg(ou)},useDebugValue:ig,useDeferredValue:function(t){var e=ln();return Bt===null?e.memoizedState=t:D1(e,Bt.memoizedState,t)},useTransition:function(){var t=rg(ou)[0],e=ln().memoizedState;return[t,e]},useMutableSource:_1,useSyncExternalStore:b1,useId:L1,unstable_isNewReconciler:!1};function _a(t,e){try{var r="",n=e;do r+=uC(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function sg(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function og(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var LP=typeof WeakMap=="function"?WeakMap:Map;function z1(t,e,r){r=Di(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Mh||(Mh=!0,bg=n),og(t,e)},r}function j1(t,e,r){r=Di(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){og(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){og(t,e),typeof n!="function"&&(xs===null?xs=new Set([this]):xs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function H1(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new LP;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=KP.bind(null,t,e,r),e.then(t,t))}function G1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function W1(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Di(-1,1),e.tag=2,_s(r,e,1))),r.lanes|=1),t)}var BP=Ri.ReactCurrentOwner,Mr=!1;function Ar(t,e,r,n){e.child=t===null?v1(e,null,r,n):va(e,t.child,r,n)}function $1(t,e,r,n,i){r=r.render;var s=e.ref;return ga(e,i),n=Zm(t,e,r,n,s,i),r=eg(),t!==null&&!Mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Li(t,e,i)):(ut&&r&&Om(e),e.flags|=1,Ar(t,e,n,i),e.child)}function V1(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Cg(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,X1(t,e,s,n,i)):(t=Fh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Xl,r(o,n)&&t.ref===e.ref)return Li(t,e,i)}return e.flags|=1,t=Ss(s,n),t.ref=e.ref,t.return=e,e.child=t}function X1(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Xl(s,n)&&t.ref===e.ref)if(Mr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Mr=!0);else return e.lanes=t.lanes,Li(t,e,i)}return ag(t,e,r,n,i)}function Y1(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(xa,qr),qr|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,it(xa,qr),qr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,it(xa,qr),qr|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,it(xa,qr),qr|=n;return Ar(t,e,i,r),e.child}function q1(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ag(t,e,r,n,i){var s=kr(r)?to:hr.current;return s=ha(e,s),ga(e,i),r=Zm(t,e,r,n,s,i),n=eg(),t!==null&&!Mr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Li(t,e,i)):(ut&&n&&Om(e),e.flags|=1,Ar(t,e,r,i),e.child)}function K1(t,e,r,n,i){if(kr(r)){var s=!0;uh(e)}else s=!1;if(ga(e,i),e.stateNode===null)Ch(t,e),f1(e,r,n),Vm(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var c=o.context,h=r.contextType;typeof h=="object"&&h!==null?h=an(h):(h=kr(r)?to:hr.current,h=ha(e,h));var f=r.getDerivedStateFromProps,p=typeof f=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==n||c!==h)&&p1(e,o,n,h),ys=!1;var m=e.memoizedState;o.state=m,vh(e,n,o,i),c=e.memoizedState,l!==n||m!==c||Ir.current||ys?(typeof f=="function"&&($m(e,r,f,n),c=e.memoizedState),(l=ys||d1(e,r,l,n,m,c,h))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=c),o.props=n,o.state=c,o.context=h,n=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,l1(t,e),l=e.memoizedProps,h=e.type===e.elementType?l:An(e.type,l),o.props=h,p=e.pendingProps,m=o.context,c=r.contextType,typeof c=="object"&&c!==null?c=an(c):(c=kr(r)?to:hr.current,c=ha(e,c));var y=r.getDerivedStateFromProps;(f=typeof y=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==p||m!==c)&&p1(e,o,n,c),ys=!1,m=e.memoizedState,o.state=m,vh(e,n,o,i);var _=e.memoizedState;l!==p||m!==_||Ir.current||ys?(typeof y=="function"&&($m(e,r,y,n),_=e.memoizedState),(h=ys||d1(e,r,h,n,m,_,c)||!1)?(f||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,_,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,_,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=_),o.props=n,o.state=_,o.context=c,n=h):(typeof o.componentDidUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return lg(t,e,r,n,s,i)}function lg(t,e,r,n,i,s){q1(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&e1(e,r,!1),Li(t,e,s);n=e.stateNode,BP.current=e;var l=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=va(e,t.child,null,s),e.child=va(e,null,l,s)):Ar(t,e,l,s),e.memoizedState=n.state,i&&e1(e,r,!0),e.child}function Q1(t){var e=t.stateNode;e.pendingContext?Jb(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jb(t,e.context,!1),Xm(t,e.containerInfo)}function J1(t,e,r,n,i){return pa(),Fm(i),e.flags|=256,Ar(t,e,r,n),e.child}var ug={dehydrated:null,treeContext:null,retryLane:0};function cg(t){return{baseLanes:t,cachePool:null,transitions:null}}function Z1(t,e,r){var n=e.pendingProps,i=bt.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=t!==null&&t.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),it(bt,i&1),t===null)return Bm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Uh(o,n,0,null),t=ho(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=cg(r),e.memoizedState=ug,t):hg(e,o));if(i=t.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return FP(t,e,o,n,l,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,l=i.sibling;var c={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=c,e.deletions=null):(n=Ss(i,c),n.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=Ss(l,s):(s=ho(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?cg(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=ug,n}return s=t.child,t=s.sibling,n=Ss(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function hg(t,e){return e=Uh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ah(t,e,r,n){return n!==null&&Fm(n),va(e,t.child,null,r),t=hg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function FP(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=sg(Error(te(422))),Ah(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Uh({mode:"visible",children:n.children},i,0,null),s=ho(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&va(e,t.child,null,o),e.child.memoizedState=cg(o),e.memoizedState=ug,s);if(!(e.mode&1))return Ah(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var l=n.dgst;return n=l,s=Error(te(419)),n=sg(s,n,void 0),Ah(t,e,o,n)}if(l=(o&t.childLanes)!==0,Mr||l){if(n=Vt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Oi(t,i),Rn(n,t,i,-1))}return Ag(),n=sg(Error(te(421))),Ah(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=QP.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Yr=ps(i.nextSibling),Xr=e,ut=!0,Sn=null,t!==null&&(sn[on++]=Mi,sn[on++]=Ni,sn[on++]=ro,Mi=t.id,Ni=t.overflow,ro=e),e=hg(e,n.children),e.flags|=4096,e)}function ex(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),Hm(t.return,e,r)}function dg(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function tx(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Ar(t,e,n.children,r),n=bt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ex(t,r,e);else if(t.tag===19)ex(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(it(bt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&bh(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),dg(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&bh(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}dg(e,!0,r,null,s);break;case"together":dg(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ch(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Li(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),ao|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(te(153));if(e.child!==null){for(t=e.child,r=Ss(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ss(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function UP(t,e,r){switch(e.tag){case 3:Q1(e),pa();break;case 5:y1(e);break;case 1:kr(e.type)&&uh(e);break;case 4:Xm(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;it(ph,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(it(bt,bt.current&1),e.flags|=128,null):r&e.child.childLanes?Z1(t,e,r):(it(bt,bt.current&1),t=Li(t,e,r),t!==null?t.sibling:null);it(bt,bt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return tx(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),it(bt,bt.current),n)break;return null;case 22:case 23:return e.lanes=0,Y1(t,e,r)}return Li(t,e,r)}var rx,fg,nx,ix;rx=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},fg=function(){},nx=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,so(ri.current);var s=null;switch(r){case"input":i=Hp(t,i),n=Hp(t,n),s=[];break;case"select":i=_t({},i,{value:void 0}),n=_t({},n,{value:void 0}),s=[];break;case"textarea":i=$p(t,i),n=$p(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=oh)}Xp(r,n);var o;r=null;for(h in i)if(!n.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Al.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in n){var c=n[h];if(l=i==null?void 0:i[h],n.hasOwnProperty(h)&&c!==l&&(c!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in c)c.hasOwnProperty(o)&&l[o]!==c[o]&&(r||(r={}),r[o]=c[o])}else r||(s||(s=[]),s.push(h,r)),r=c;else h==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,l=l?l.__html:void 0,c!=null&&l!==c&&(s=s||[]).push(h,c)):h==="children"?typeof c!="string"&&typeof c!="number"||(s=s||[]).push(h,""+c):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Al.hasOwnProperty(h)?(c!=null&&h==="onScroll"&&at("scroll",t),s||l===c||(s=[])):(s=s||[]).push(h,c))}r&&(s=s||[]).push("style",r);var h=s;(e.updateQueue=h)&&(e.flags|=4)}},ix=function(t,e,r,n){r!==n&&(e.flags|=4)};function lu(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function fr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function zP(t,e,r){var n=e.pendingProps;switch(Dm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return fr(e),null;case 1:return kr(e.type)&&lh(),fr(e),null;case 3:return n=e.stateNode,ya(),lt(Ir),lt(hr),Km(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(fh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Sn!==null&&(Eg(Sn),Sn=null))),fg(t,e),fr(e),null;case 5:Ym(e);var i=so(nu.current);if(r=e.type,t!==null&&e.stateNode!=null)nx(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(te(166));return fr(e),null}if(t=so(ri.current),fh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ti]=e,n[Jl]=s,t=(e.mode&1)!==0,r){case"dialog":at("cancel",n),at("close",n);break;case"iframe":case"object":case"embed":at("load",n);break;case"video":case"audio":for(i=0;i<ql.length;i++)at(ql[i],n);break;case"source":at("error",n);break;case"img":case"image":case"link":at("error",n),at("load",n);break;case"details":at("toggle",n);break;case"input":B_(n,s),at("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},at("invalid",n);break;case"textarea":z_(n,s),at("invalid",n)}Xp(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?n.textContent!==l&&(s.suppressHydrationWarning!==!0&&sh(n.textContent,l,t),i=["children",l]):typeof l=="number"&&n.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&sh(n.textContent,l,t),i=["children",""+l]):Al.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&at("scroll",n)}switch(r){case"input":Lc(n),U_(n,s,!0);break;case"textarea":Lc(n),H_(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=oh)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=G_(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ti]=e,t[Jl]=n,rx(t,e,!1,!1),e.stateNode=t;e:{switch(o=Yp(r,n),r){case"dialog":at("cancel",t),at("close",t),i=n;break;case"iframe":case"object":case"embed":at("load",t),i=n;break;case"video":case"audio":for(i=0;i<ql.length;i++)at(ql[i],t);i=n;break;case"source":at("error",t),i=n;break;case"img":case"image":case"link":at("error",t),at("load",t),i=n;break;case"details":at("toggle",t),i=n;break;case"input":B_(t,n),i=Hp(t,n),at("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=_t({},n,{value:void 0}),at("invalid",t);break;case"textarea":z_(t,n),i=$p(t,n),at("invalid",t);break;default:i=n}Xp(r,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var c=l[s];s==="style"?V_(t,c):s==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&W_(t,c)):s==="children"?typeof c=="string"?(r!=="textarea"||c!=="")&&Il(t,c):typeof c=="number"&&Il(t,""+c):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Al.hasOwnProperty(s)?c!=null&&s==="onScroll"&&at("scroll",t):c!=null&&kp(t,s,c,o))}switch(r){case"input":Lc(t),U_(t,n,!1);break;case"textarea":Lc(t),H_(t);break;case"option":n.value!=null&&t.setAttribute("value",""+as(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Zo(t,!!n.multiple,s,!1):n.defaultValue!=null&&Zo(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=oh)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return fr(e),null;case 6:if(t&&e.stateNode!=null)ix(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(te(166));if(r=so(nu.current),so(ri.current),fh(e)){if(n=e.stateNode,r=e.memoizedProps,n[ti]=e,(s=n.nodeValue!==r)&&(t=Xr,t!==null))switch(t.tag){case 3:sh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ti]=e,e.stateNode=n}return fr(e),null;case 13:if(lt(bt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&Yr!==null&&e.mode&1&&!(e.flags&128))o1(),pa(),e.flags|=98560,s=!1;else if(s=fh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(te(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(te(317));s[ti]=e}else pa(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;fr(e),s=!1}else Sn!==null&&(Eg(Sn),Sn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||bt.current&1?Ft===0&&(Ft=3):Ag())),e.updateQueue!==null&&(e.flags|=4),fr(e),null);case 4:return ya(),fg(t,e),t===null&&Kl(e.stateNode.containerInfo),fr(e),null;case 10:return jm(e.type._context),fr(e),null;case 17:return kr(e.type)&&lh(),fr(e),null;case 19:if(lt(bt),s=e.memoizedState,s===null)return fr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)lu(s,!1);else{if(Ft!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=bh(t),o!==null){for(e.flags|=128,lu(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return it(bt,bt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pt()>wa&&(e.flags|=128,n=!0,lu(s,!1),e.lanes=4194304)}else{if(!n)if(t=bh(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),lu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!ut)return fr(e),null}else 2*Pt()-s.renderingStartTime>wa&&r!==1073741824&&(e.flags|=128,n=!0,lu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pt(),e.sibling=null,r=bt.current,it(bt,n?r&1|2:r&1),e):(fr(e),null);case 22:case 23:return Sg(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?qr&1073741824&&(fr(e),e.subtreeFlags&6&&(e.flags|=8192)):fr(e),null;case 24:return null;case 25:return null}throw Error(te(156,e.tag))}function jP(t,e){switch(Dm(e),e.tag){case 1:return kr(e.type)&&lh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ya(),lt(Ir),lt(hr),Km(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ym(e),null;case 13:if(lt(bt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(te(340));pa()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return lt(bt),null;case 4:return ya(),null;case 10:return jm(e.type._context),null;case 22:case 23:return Sg(),null;case 24:return null;default:return null}}var Ph=!1,pr=!1,HP=typeof WeakSet=="function"?WeakSet:Set,he=null;function ba(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){St(t,e,n)}else r.current=null}function sx(t,e,r){try{r()}catch(n){St(t,e,n)}}var ox=!1;function GP(t,e){if(Am=Yc,t=Lb(),ym(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,l=-1,c=-1,h=0,f=0,p=t,m=null;t:for(;;){for(var y;p!==r||i!==0&&p.nodeType!==3||(l=o+i),p!==s||n!==0&&p.nodeType!==3||(c=o+n),p.nodeType===3&&(o+=p.nodeValue.length),(y=p.firstChild)!==null;)m=p,p=y;for(;;){if(p===t)break t;if(m===r&&++h===i&&(l=o),m===s&&++f===n&&(c=o),(y=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=y}r=l===-1||c===-1?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(Cm={focusedElem:t,selectionRange:r},Yc=!1,he=e;he!==null;)if(e=he,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,he=t;else for(;he!==null;){e=he;try{var _=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(_!==null){var w=_.memoizedProps,A=_.memoizedState,E=e.stateNode,x=E.getSnapshotBeforeUpdate(e.elementType===e.type?w:An(e.type,w),A);E.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var S=e.stateNode.containerInfo;S.nodeType===1?S.textContent="":S.nodeType===9&&S.documentElement&&S.removeChild(S.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(te(163))}}catch(T){St(e,e.return,T)}if(t=e.sibling,t!==null){t.return=e.return,he=t;break}he=e.return}return _=ox,ox=!1,_}function uu(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&sx(e,r,s)}i=i.next}while(i!==n)}}function Rh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function pg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function ax(t){var e=t.alternate;e!==null&&(t.alternate=null,ax(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ti],delete e[Jl],delete e[km],delete e[SP],delete e[AP])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function lx(t){return t.tag===5||t.tag===3||t.tag===4}function ux(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||lx(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function mg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=oh));else if(n!==4&&(t=t.child,t!==null))for(mg(t,e,r),t=t.sibling;t!==null;)mg(t,e,r),t=t.sibling}function gg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(gg(t,e,r),t=t.sibling;t!==null;)gg(t,e,r),t=t.sibling}var ir=null,Cn=!1;function bs(t,e,r){for(r=r.child;r!==null;)cx(t,e,r),r=r.sibling}function cx(t,e,r){if(ei&&typeof ei.onCommitFiberUnmount=="function")try{ei.onCommitFiberUnmount(Hc,r)}catch{}switch(r.tag){case 5:pr||ba(r,e);case 6:var n=ir,i=Cn;ir=null,bs(t,e,r),ir=n,Cn=i,ir!==null&&(Cn?(t=ir,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ir.removeChild(r.stateNode));break;case 18:ir!==null&&(Cn?(t=ir,r=r.stateNode,t.nodeType===8?Im(t.parentNode,r):t.nodeType===1&&Im(t,r),jl(t)):Im(ir,r.stateNode));break;case 4:n=ir,i=Cn,ir=r.stateNode.containerInfo,Cn=!0,bs(t,e,r),ir=n,Cn=i;break;case 0:case 11:case 14:case 15:if(!pr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&sx(r,e,o),i=i.next}while(i!==n)}bs(t,e,r);break;case 1:if(!pr&&(ba(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(l){St(r,e,l)}bs(t,e,r);break;case 21:bs(t,e,r);break;case 22:r.mode&1?(pr=(n=pr)||r.memoizedState!==null,bs(t,e,r),pr=n):bs(t,e,r);break;default:bs(t,e,r)}}function hx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new HP),e.forEach(function(n){var i=JP.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Pn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:ir=l.stateNode,Cn=!1;break e;case 3:ir=l.stateNode.containerInfo,Cn=!0;break e;case 4:ir=l.stateNode.containerInfo,Cn=!0;break e}l=l.return}if(ir===null)throw Error(te(160));cx(s,o,i),ir=null,Cn=!1;var c=i.alternate;c!==null&&(c.return=null),i.return=null}catch(h){St(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)dx(e,t),e=e.sibling}function dx(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Pn(e,t),ii(t),n&4){try{uu(3,t,t.return),Rh(3,t)}catch(w){St(t,t.return,w)}try{uu(5,t,t.return)}catch(w){St(t,t.return,w)}}break;case 1:Pn(e,t),ii(t),n&512&&r!==null&&ba(r,r.return);break;case 5:if(Pn(e,t),ii(t),n&512&&r!==null&&ba(r,r.return),t.flags&32){var i=t.stateNode;try{Il(i,"")}catch(w){St(t,t.return,w)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,l=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&F_(i,s),Yp(l,o);var h=Yp(l,s);for(o=0;o<c.length;o+=2){var f=c[o],p=c[o+1];f==="style"?V_(i,p):f==="dangerouslySetInnerHTML"?W_(i,p):f==="children"?Il(i,p):kp(i,f,p,h)}switch(l){case"input":Gp(i,s);break;case"textarea":j_(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var y=s.value;y!=null?Zo(i,!!s.multiple,y,!1):m!==!!s.multiple&&(s.defaultValue!=null?Zo(i,!!s.multiple,s.defaultValue,!0):Zo(i,!!s.multiple,s.multiple?[]:"",!1))}i[Jl]=s}catch(w){St(t,t.return,w)}}break;case 6:if(Pn(e,t),ii(t),n&4){if(t.stateNode===null)throw Error(te(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(w){St(t,t.return,w)}}break;case 3:if(Pn(e,t),ii(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jl(e.containerInfo)}catch(w){St(t,t.return,w)}break;case 4:Pn(e,t),ii(t);break;case 13:Pn(e,t),ii(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(_g=Pt())),n&4&&hx(t);break;case 22:if(f=r!==null&&r.memoizedState!==null,t.mode&1?(pr=(h=pr)||f,Pn(e,t),pr=h):Pn(e,t),ii(t),n&8192){if(h=t.memoizedState!==null,(t.stateNode.isHidden=h)&&!f&&t.mode&1)for(he=t,f=t.child;f!==null;){for(p=he=f;he!==null;){switch(m=he,y=m.child,m.tag){case 0:case 11:case 14:case 15:uu(4,m,m.return);break;case 1:ba(m,m.return);var _=m.stateNode;if(typeof _.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,_.props=e.memoizedProps,_.state=e.memoizedState,_.componentWillUnmount()}catch(w){St(n,r,w)}}break;case 5:ba(m,m.return);break;case 22:if(m.memoizedState!==null){mx(p);continue}}y!==null?(y.return=m,he=y):mx(p)}f=f.sibling}e:for(f=null,p=t;;){if(p.tag===5){if(f===null){f=p;try{i=p.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=p.stateNode,c=p.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,l.style.display=$_("display",o))}catch(w){St(t,t.return,w)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=h?"":p.memoizedProps}catch(w){St(t,t.return,w)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Pn(e,t),ii(t),n&4&&hx(t);break;case 21:break;default:Pn(e,t),ii(t)}}function ii(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(lx(r)){var n=r;break e}r=r.return}throw Error(te(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Il(i,""),n.flags&=-33);var s=ux(t);gg(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,l=ux(t);mg(t,l,o);break;default:throw Error(te(161))}}catch(c){St(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function WP(t,e,r){he=t,fx(t)}function fx(t,e,r){for(var n=(t.mode&1)!==0;he!==null;){var i=he,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Ph;if(!o){var l=i.alternate,c=l!==null&&l.memoizedState!==null||pr;l=Ph;var h=pr;if(Ph=o,(pr=c)&&!h)for(he=i;he!==null;)o=he,c=o.child,o.tag===22&&o.memoizedState!==null?gx(i):c!==null?(c.return=o,he=c):gx(i);for(;s!==null;)he=s,fx(s),s=s.sibling;he=i,Ph=l,pr=h}px(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,he=s):px(t)}}function px(t){for(;he!==null;){var e=he;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:pr||Rh(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!pr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:An(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&c1(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}c1(e,o,r)}break;case 5:var l=e.stateNode;if(r===null&&e.flags&4){r=l;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var f=h.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&jl(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(te(163))}pr||e.flags&512&&pg(e)}catch(m){St(e,e.return,m)}}if(e===t){he=null;break}if(r=e.sibling,r!==null){r.return=e.return,he=r;break}he=e.return}}function mx(t){for(;he!==null;){var e=he;if(e===t){he=null;break}var r=e.sibling;if(r!==null){r.return=e.return,he=r;break}he=e.return}}function gx(t){for(;he!==null;){var e=he;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Rh(4,e)}catch(c){St(e,r,c)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(c){St(e,i,c)}}var s=e.return;try{pg(e)}catch(c){St(e,s,c)}break;case 5:var o=e.return;try{pg(e)}catch(c){St(e,o,c)}}}catch(c){St(e,e.return,c)}if(e===t){he=null;break}var l=e.sibling;if(l!==null){l.return=e.return,he=l;break}he=e.return}}var $P=Math.ceil,Ih=Ri.ReactCurrentDispatcher,vg=Ri.ReactCurrentOwner,un=Ri.ReactCurrentBatchConfig,Ve=0,Vt=null,Mt=null,sr=0,qr=0,xa=ms(0),Ft=0,cu=null,ao=0,kh=0,yg=0,hu=null,Nr=null,_g=0,wa=1/0,Bi=null,Mh=!1,bg=null,xs=null,Nh=!1,ws=null,Oh=0,du=0,xg=null,Dh=-1,Lh=0;function Cr(){return Ve&6?Pt():Dh!==-1?Dh:Dh=Pt()}function Es(t){return t.mode&1?Ve&2&&sr!==0?sr&-sr:PP.transition!==null?(Lh===0&&(Lh=ab()),Lh):(t=Je,t!==0||(t=window.event,t=t===void 0?16:gb(t.type)),t):1}function Rn(t,e,r,n){if(50<du)throw du=0,xg=null,Error(te(185));Ll(t,r,n),(!(Ve&2)||t!==Vt)&&(t===Vt&&(!(Ve&2)&&(kh|=r),Ft===4&&Ts(t,sr)),Or(t,n),r===1&&Ve===0&&!(e.mode&1)&&(wa=Pt()+500,ch&&vs()))}function Or(t,e){var r=t.callbackNode;PC(t,e);var n=$c(t,t===Vt?sr:0);if(n===0)r!==null&&ib(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ib(r),e===1)t.tag===0?CP(yx.bind(null,t)):t1(yx.bind(null,t)),EP(function(){!(Ve&6)&&vs()}),r=null;else{switch(lb(n)){case 1:r=tm;break;case 4:r=sb;break;case 16:r=jc;break;case 536870912:r=ob;break;default:r=jc}r=Ax(r,vx.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function vx(t,e){if(Dh=-1,Lh=0,Ve&6)throw Error(te(327));var r=t.callbackNode;if(Ea()&&t.callbackNode!==r)return null;var n=$c(t,t===Vt?sr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Bh(t,n);else{e=n;var i=Ve;Ve|=2;var s=bx();(Vt!==t||sr!==e)&&(Bi=null,wa=Pt()+500,uo(t,e));do try{YP();break}catch(l){_x(t,l)}while(1);zm(),Ih.current=s,Ve=i,Mt!==null?e=0:(Vt=null,sr=0,e=Ft)}if(e!==0){if(e===2&&(i=rm(t),i!==0&&(n=i,e=wg(t,i))),e===1)throw r=cu,uo(t,0),Ts(t,n),Or(t,Pt()),r;if(e===6)Ts(t,n);else{if(i=t.current.alternate,!(n&30)&&!VP(i)&&(e=Bh(t,n),e===2&&(s=rm(t),s!==0&&(n=s,e=wg(t,s))),e===1))throw r=cu,uo(t,0),Ts(t,n),Or(t,Pt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(te(345));case 2:co(t,Nr,Bi);break;case 3:if(Ts(t,n),(n&130023424)===n&&(e=_g+500-Pt(),10<e)){if($c(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Cr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Rm(co.bind(null,t,Nr,Bi),e);break}co(t,Nr,Bi);break;case 4:if(Ts(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-En(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*$P(n/1960))-n,10<n){t.timeoutHandle=Rm(co.bind(null,t,Nr,Bi),n);break}co(t,Nr,Bi);break;case 5:co(t,Nr,Bi);break;default:throw Error(te(329))}}}return Or(t,Pt()),t.callbackNode===r?vx.bind(null,t):null}function wg(t,e){var r=hu;return t.current.memoizedState.isDehydrated&&(uo(t,e).flags|=256),t=Bh(t,e),t!==2&&(e=Nr,Nr=r,e!==null&&Eg(e)),t}function Eg(t){Nr===null?Nr=t:Nr.push.apply(Nr,t)}function VP(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Tn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ts(t,e){for(e&=~yg,e&=~kh,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-En(e),n=1<<r;t[r]=-1,e&=~n}}function yx(t){if(Ve&6)throw Error(te(327));Ea();var e=$c(t,0);if(!(e&1))return Or(t,Pt()),null;var r=Bh(t,e);if(t.tag!==0&&r===2){var n=rm(t);n!==0&&(e=n,r=wg(t,n))}if(r===1)throw r=cu,uo(t,0),Ts(t,e),Or(t,Pt()),r;if(r===6)throw Error(te(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,co(t,Nr,Bi),Or(t,Pt()),null}function Tg(t,e){var r=Ve;Ve|=1;try{return t(e)}finally{Ve=r,Ve===0&&(wa=Pt()+500,ch&&vs())}}function lo(t){ws!==null&&ws.tag===0&&!(Ve&6)&&Ea();var e=Ve;Ve|=1;var r=un.transition,n=Je;try{if(un.transition=null,Je=1,t)return t()}finally{Je=n,un.transition=r,Ve=e,!(Ve&6)&&vs()}}function Sg(){qr=xa.current,lt(xa)}function uo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,wP(r)),Mt!==null)for(r=Mt.return;r!==null;){var n=r;switch(Dm(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&lh();break;case 3:ya(),lt(Ir),lt(hr),Km();break;case 5:Ym(n);break;case 4:ya();break;case 13:lt(bt);break;case 19:lt(bt);break;case 10:jm(n.type._context);break;case 22:case 23:Sg()}r=r.return}if(Vt=t,Mt=t=Ss(t.current,null),sr=qr=e,Ft=0,cu=null,yg=kh=ao=0,Nr=hu=null,io!==null){for(e=0;e<io.length;e++)if(r=io[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}io=null}return t}function _x(t,e){do{var r=Mt;try{if(zm(),xh.current=Sh,wh){for(var n=xt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}wh=!1}if(oo=0,$t=Bt=xt=null,iu=!1,su=0,vg.current=null,r===null||r.return===null){Ft=1,cu=e,Mt=null;break}e:{var s=t,o=r.return,l=r,c=e;if(e=sr,l.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var h=c,f=l,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var y=G1(o);if(y!==null){y.flags&=-257,W1(y,o,l,s,e),y.mode&1&&H1(s,h,e),e=y,c=h;var _=e.updateQueue;if(_===null){var w=new Set;w.add(c),e.updateQueue=w}else _.add(c);break e}else{if(!(e&1)){H1(s,h,e),Ag();break e}c=Error(te(426))}}else if(ut&&l.mode&1){var A=G1(o);if(A!==null){!(A.flags&65536)&&(A.flags|=256),W1(A,o,l,s,e),Fm(_a(c,l));break e}}s=c=_a(c,l),Ft!==4&&(Ft=2),hu===null?hu=[s]:hu.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var E=z1(s,c,e);u1(s,E);break e;case 1:l=c;var x=s.type,S=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||S!==null&&typeof S.componentDidCatch=="function"&&(xs===null||!xs.has(S)))){s.flags|=65536,e&=-e,s.lanes|=e;var T=j1(s,l,e);u1(s,T);break e}}s=s.return}while(s!==null)}wx(r)}catch(R){e=R,Mt===r&&r!==null&&(Mt=r=r.return);continue}break}while(1)}function bx(){var t=Ih.current;return Ih.current=Sh,t===null?Sh:t}function Ag(){(Ft===0||Ft===3||Ft===2)&&(Ft=4),Vt===null||!(ao&268435455)&&!(kh&268435455)||Ts(Vt,sr)}function Bh(t,e){var r=Ve;Ve|=2;var n=bx();(Vt!==t||sr!==e)&&(Bi=null,uo(t,e));do try{XP();break}catch(i){_x(t,i)}while(1);if(zm(),Ve=r,Ih.current=n,Mt!==null)throw Error(te(261));return Vt=null,sr=0,Ft}function XP(){for(;Mt!==null;)xx(Mt)}function YP(){for(;Mt!==null&&!_C();)xx(Mt)}function xx(t){var e=Sx(t.alternate,t,qr);t.memoizedProps=t.pendingProps,e===null?wx(t):Mt=e,vg.current=null}function wx(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=jP(r,e),r!==null){r.flags&=32767,Mt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ft=6,Mt=null;return}}else if(r=zP(r,e,qr),r!==null){Mt=r;return}if(e=e.sibling,e!==null){Mt=e;return}Mt=e=t}while(e!==null);Ft===0&&(Ft=5)}function co(t,e,r){var n=Je,i=un.transition;try{un.transition=null,Je=1,qP(t,e,r,n)}finally{un.transition=i,Je=n}return null}function qP(t,e,r,n){do Ea();while(ws!==null);if(Ve&6)throw Error(te(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(te(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(RC(t,s),t===Vt&&(Mt=Vt=null,sr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Nh||(Nh=!0,Ax(jc,function(){return Ea(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=un.transition,un.transition=null;var o=Je;Je=1;var l=Ve;Ve|=4,vg.current=null,GP(t,r),dx(r,t),mP(Cm),Yc=!!Am,Cm=Am=null,t.current=r,WP(r),bC(),Ve=l,Je=o,un.transition=s}else t.current=r;if(Nh&&(Nh=!1,ws=t,Oh=i),s=t.pendingLanes,s===0&&(xs=null),EC(r.stateNode),Or(t,Pt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Mh)throw Mh=!1,t=bg,bg=null,t;return Oh&1&&t.tag!==0&&Ea(),s=t.pendingLanes,s&1?t===xg?du++:(du=0,xg=t):du=0,vs(),null}function Ea(){if(ws!==null){var t=lb(Oh),e=un.transition,r=Je;try{if(un.transition=null,Je=16>t?16:t,ws===null)var n=!1;else{if(t=ws,ws=null,Oh=0,Ve&6)throw Error(te(331));var i=Ve;for(Ve|=4,he=t.current;he!==null;){var s=he,o=s.child;if(he.flags&16){var l=s.deletions;if(l!==null){for(var c=0;c<l.length;c++){var h=l[c];for(he=h;he!==null;){var f=he;switch(f.tag){case 0:case 11:case 15:uu(8,f,s)}var p=f.child;if(p!==null)p.return=f,he=p;else for(;he!==null;){f=he;var m=f.sibling,y=f.return;if(ax(f),f===h){he=null;break}if(m!==null){m.return=y,he=m;break}he=y}}}var _=s.alternate;if(_!==null){var w=_.child;if(w!==null){_.child=null;do{var A=w.sibling;w.sibling=null,w=A}while(w!==null)}}he=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,he=o;else e:for(;he!==null;){if(s=he,s.flags&2048)switch(s.tag){case 0:case 11:case 15:uu(9,s,s.return)}var E=s.sibling;if(E!==null){E.return=s.return,he=E;break e}he=s.return}}var x=t.current;for(he=x;he!==null;){o=he;var S=o.child;if(o.subtreeFlags&2064&&S!==null)S.return=o,he=S;else e:for(o=x;he!==null;){if(l=he,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Rh(9,l)}}catch(R){St(l,l.return,R)}if(l===o){he=null;break e}var T=l.sibling;if(T!==null){T.return=l.return,he=T;break e}he=l.return}}if(Ve=i,vs(),ei&&typeof ei.onPostCommitFiberRoot=="function")try{ei.onPostCommitFiberRoot(Hc,t)}catch{}n=!0}return n}finally{Je=r,un.transition=e}}return!1}function Ex(t,e,r){e=_a(r,e),e=z1(t,e,1),t=_s(t,e,1),e=Cr(),t!==null&&(Ll(t,1,e),Or(t,e))}function St(t,e,r){if(t.tag===3)Ex(t,t,r);else for(;e!==null;){if(e.tag===3){Ex(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(xs===null||!xs.has(n))){t=_a(r,t),t=j1(e,t,1),e=_s(e,t,1),t=Cr(),e!==null&&(Ll(e,1,t),Or(e,t));break}}e=e.return}}function KP(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Cr(),t.pingedLanes|=t.suspendedLanes&r,Vt===t&&(sr&r)===r&&(Ft===4||Ft===3&&(sr&130023424)===sr&&500>Pt()-_g?uo(t,0):yg|=r),Or(t,e)}function Tx(t,e){e===0&&(t.mode&1?(e=Wc,Wc<<=1,!(Wc&130023424)&&(Wc=4194304)):e=1);var r=Cr();t=Oi(t,e),t!==null&&(Ll(t,e,r),Or(t,r))}function QP(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),Tx(t,r)}function JP(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(te(314))}n!==null&&n.delete(e),Tx(t,r)}var Sx;Sx=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Ir.current)Mr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Mr=!1,UP(t,e,r);Mr=!!(t.flags&131072)}else Mr=!1,ut&&e.flags&1048576&&r1(e,dh,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Ch(t,e),t=e.pendingProps;var i=ha(e,hr.current);ga(e,r),i=Zm(null,e,n,t,i,r);var s=eg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,kr(n)?(s=!0,uh(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Wm(e),i.updater=yh,e.stateNode=i,i._reactInternals=e,Vm(e,n,t,r),e=lg(null,e,n,!0,s,r)):(e.tag=0,ut&&s&&Om(e),Ar(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Ch(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=eR(n),t=An(n,t),i){case 0:e=ag(null,e,n,t,r);break e;case 1:e=K1(null,e,n,t,r);break e;case 11:e=$1(null,e,n,t,r);break e;case 14:e=V1(null,e,n,An(n.type,t),r);break e}throw Error(te(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),ag(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),K1(t,e,n,i,r);case 3:e:{if(Q1(e),t===null)throw Error(te(387));n=e.pendingProps,s=e.memoizedState,i=s.element,l1(t,e),vh(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=_a(Error(te(423)),e),e=J1(t,e,n,r,i);break e}else if(n!==i){i=_a(Error(te(424)),e),e=J1(t,e,n,r,i);break e}else for(Yr=ps(e.stateNode.containerInfo.firstChild),Xr=e,ut=!0,Sn=null,r=v1(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(pa(),n===i){e=Li(t,e,r);break e}Ar(t,e,n,r)}e=e.child}return e;case 5:return y1(e),t===null&&Bm(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Pm(n,i)?o=null:s!==null&&Pm(n,s)&&(e.flags|=32),q1(t,e),Ar(t,e,o,r),e.child;case 6:return t===null&&Bm(e),null;case 13:return Z1(t,e,r);case 4:return Xm(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=va(e,null,n,r):Ar(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),$1(t,e,n,i,r);case 7:return Ar(t,e,e.pendingProps,r),e.child;case 8:return Ar(t,e,e.pendingProps.children,r),e.child;case 12:return Ar(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,it(ph,n._currentValue),n._currentValue=o,s!==null)if(Tn(s.value,o)){if(s.children===i.children&&!Ir.current){e=Li(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var c=l.firstContext;c!==null;){if(c.context===n){if(s.tag===1){c=Di(-1,r&-r),c.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var f=h.pending;f===null?c.next=c:(c.next=f.next,f.next=c),h.pending=c}}s.lanes|=r,c=s.alternate,c!==null&&(c.lanes|=r),Hm(s.return,r,e),l.lanes|=r;break}c=c.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(te(341));o.lanes|=r,l=o.alternate,l!==null&&(l.lanes|=r),Hm(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Ar(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ga(e,r),i=an(i),n=n(i),e.flags|=1,Ar(t,e,n,r),e.child;case 14:return n=e.type,i=An(n,e.pendingProps),i=An(n.type,i),V1(t,e,n,i,r);case 15:return X1(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),Ch(t,e),e.tag=1,kr(n)?(t=!0,uh(e)):t=!1,ga(e,r),f1(e,n,i),Vm(e,n,i,r),lg(null,e,n,!0,t,r);case 19:return tx(t,e,r);case 22:return Y1(t,e,r)}throw Error(te(156,e.tag))};function Ax(t,e){return nb(t,e)}function ZP(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(t,e,r,n){return new ZP(t,e,r,n)}function Cg(t){return t=t.prototype,!(!t||!t.isReactComponent)}function eR(t){if(typeof t=="function")return Cg(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Op)return 11;if(t===Bp)return 14}return 2}function Ss(t,e){var r=t.alternate;return r===null?(r=cn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Fh(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")Cg(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jo:return ho(r.children,i,s,e);case Mp:o=8,i|=8;break;case Np:return t=cn(12,r,e,i|2),t.elementType=Np,t.lanes=s,t;case Dp:return t=cn(13,r,e,i),t.elementType=Dp,t.lanes=s,t;case Lp:return t=cn(19,r,e,i),t.elementType=Lp,t.lanes=s,t;case N_:return Uh(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case k_:o=10;break e;case M_:o=9;break e;case Op:o=11;break e;case Bp:o=14;break e;case os:o=16,n=null;break e}throw Error(te(130,t==null?t:typeof t,""))}return e=cn(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ho(t,e,r,n){return t=cn(7,t,n,e),t.lanes=r,t}function Uh(t,e,r,n){return t=cn(22,t,n,e),t.elementType=N_,t.lanes=r,t.stateNode={isHidden:!1},t}function Pg(t,e,r){return t=cn(6,t,null,e),t.lanes=r,t}function Rg(t,e,r){return e=cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function tR(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=nm(0),this.expirationTimes=nm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=nm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ig(t,e,r,n,i,s,o,l,c){return t=new tR(t,e,r,l,c),e===1?(e=1,s===!0&&(e|=8)):e=0,s=cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wm(s),t}function rR(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function Cx(t){if(!t)return gs;t=t._reactInternals;e:{if(Zs(t)!==t||t.tag!==1)throw Error(te(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(te(171))}if(t.tag===1){var r=t.type;if(kr(r))return Zb(t,r,e)}return e}function Px(t,e,r,n,i,s,o,l,c){return t=Ig(r,n,!0,t,i,s,o,l,c),t.context=Cx(null),r=t.current,n=Cr(),i=Es(r),s=Di(n,i),s.callback=e??null,_s(r,s,i),t.current.lanes=i,Ll(t,i,n),Or(t,n),t}function zh(t,e,r,n){var i=e.current,s=Cr(),o=Es(i);return r=Cx(r),e.context===null?e.context=r:e.pendingContext=r,e=Di(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=_s(i,e,o),t!==null&&(Rn(t,i,o,s),gh(t,i,o)),o}function jh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Rx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function kg(t,e){Rx(t,e),(t=t.alternate)&&Rx(t,e)}function nR(){return null}var Ix=typeof reportError=="function"?reportError:function(t){console.error(t)};function Mg(t){this._internalRoot=t}Hh.prototype.render=Mg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(te(409));zh(t,e,null,null)},Hh.prototype.unmount=Mg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;lo(function(){zh(null,t,null,null)}),e[Ii]=null}};function Hh(t){this._internalRoot=t}Hh.prototype.unstable_scheduleHydration=function(t){if(t){var e=hb();t={blockedOn:null,target:t,priority:e};for(var r=0;r<hs.length&&e!==0&&e<hs[r].priority;r++);hs.splice(r,0,t),r===0&&pb(t)}};function Ng(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Gh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function kx(){}function iR(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var h=jh(o);s.call(h)}}var o=Px(e,n,t,0,null,!1,!1,"",kx);return t._reactRootContainer=o,t[Ii]=o.current,Kl(t.nodeType===8?t.parentNode:t),lo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var l=n;n=function(){var h=jh(c);l.call(h)}}var c=Ig(t,0,!1,null,null,!1,!1,"",kx);return t._reactRootContainer=c,t[Ii]=c.current,Kl(t.nodeType===8?t.parentNode:t),lo(function(){zh(e,c,r,n)}),c}function Wh(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var c=jh(o);l.call(c)}}zh(e,o,t,i)}else o=iR(r,e,t,i,n);return jh(o)}ub=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Dl(e.pendingLanes);r!==0&&(im(e,r|1),Or(e,Pt()),!(Ve&6)&&(wa=Pt()+500,vs()))}break;case 13:lo(function(){var n=Oi(t,1);if(n!==null){var i=Cr();Rn(n,t,1,i)}}),kg(t,1)}},sm=function(t){if(t.tag===13){var e=Oi(t,134217728);if(e!==null){var r=Cr();Rn(e,t,134217728,r)}kg(t,134217728)}},cb=function(t){if(t.tag===13){var e=Es(t),r=Oi(t,e);if(r!==null){var n=Cr();Rn(r,t,e,n)}kg(t,e)}},hb=function(){return Je},db=function(t,e){var r=Je;try{return Je=t,e()}finally{Je=r}},Qp=function(t,e,r){switch(e){case"input":if(Gp(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ah(n);if(!i)throw Error(te(90));L_(n),Gp(n,i)}}}break;case"textarea":j_(t,r);break;case"select":e=r.value,e!=null&&Zo(t,!!r.multiple,e,!1)}},K_=Tg,Q_=lo;var sR={usingClientEntryPoint:!1,Events:[Zl,ua,ah,Y_,q_,Tg]},fu={findFiberByHostInstance:eo,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},oR={bundleType:fu.bundleType,version:fu.version,rendererPackageName:fu.rendererPackageName,rendererConfig:fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Ri.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=tb(t),t===null?null:t.stateNode},findFiberByHostInstance:fu.findFiberByHostInstance||nR,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $h=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$h.isDisabled&&$h.supportsFiber)try{Hc=$h.inject(oR),ei=$h}catch{}}Wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sR,Wr.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ng(e))throw Error(te(200));return rR(t,e,null,r)},Wr.createRoot=function(t,e){if(!Ng(t))throw Error(te(299));var r=!1,n="",i=Ix;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ig(t,1,!1,null,null,r,!1,n,i),t[Ii]=e.current,Kl(t.nodeType===8?t.parentNode:t),new Mg(e)},Wr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(te(188)):(t=Object.keys(t).join(","),Error(te(268,t)));return t=tb(e),t=t===null?null:t.stateNode,t},Wr.flushSync=function(t){return lo(t)},Wr.hydrate=function(t,e,r){if(!Gh(e))throw Error(te(200));return Wh(null,t,e,!0,r)},Wr.hydrateRoot=function(t,e,r){if(!Ng(t))throw Error(te(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=Ix;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=Px(e,null,t,1,r??null,i,!1,s,o),t[Ii]=e.current,Kl(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Hh(e)},Wr.render=function(t,e,r){if(!Gh(e))throw Error(te(200));return Wh(null,t,e,!1,r)},Wr.unmountComponentAtNode=function(t){if(!Gh(t))throw Error(te(40));return t._reactRootContainer?(lo(function(){Wh(null,null,t,!1,function(){t._reactRootContainer=null,t[Ii]=null})}),!0):!1},Wr.unstable_batchedUpdates=Tg,Wr.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Gh(r))throw Error(te(200));if(t==null||t._reactInternals===void 0)throw Error(te(38));return Wh(t,e,r,!1,n)},Wr.version="18.2.0-next-9e3b772b8-20220608";function Mx(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mx)}catch(t){console.error(t)}}Mx(),T_.exports=Wr;var aR=T_.exports,Nx=aR;Cp.createRoot=Nx.createRoot,Cp.hydrateRoot=Nx.hydrateRoot;function ct(){return ct=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ct.apply(this,arguments)}var Nt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Nt||(Nt={}));const Ox="popstate";function lR(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:l}=n.location;return pu("",{pathname:s,search:o,hash:l},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:fo(i)}return cR(e,r,null,t)}function Le(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Ta(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function uR(){return Math.random().toString(36).substr(2,8)}function Dx(t,e){return{usr:t.state,key:t.key,idx:e}}function pu(t,e,r,n){return r===void 0&&(r=null),ct({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Fi(e):e,{state:r,key:e&&e.key||n||uR()})}function fo(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Fi(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function cR(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,l=Nt.Pop,c=null,h=f();h==null&&(h=0,o.replaceState(ct({},o.state,{idx:h}),""));function f(){return(o.state||{idx:null}).idx}function p(){l=Nt.Pop;let A=f(),E=A==null?null:A-h;h=A,c&&c({action:l,location:w.location,delta:E})}function m(A,E){l=Nt.Push;let x=pu(w.location,A,E);r&&r(x,A),h=f()+1;let S=Dx(x,h),T=w.createHref(x);try{o.pushState(S,"",T)}catch(R){if(R instanceof DOMException&&R.name==="DataCloneError")throw R;i.location.assign(T)}s&&c&&c({action:l,location:w.location,delta:1})}function y(A,E){l=Nt.Replace;let x=pu(w.location,A,E);r&&r(x,A),h=f();let S=Dx(x,h),T=w.createHref(x);o.replaceState(S,"",T),s&&c&&c({action:l,location:w.location,delta:0})}function _(A){let E=i.location.origin!=="null"?i.location.origin:i.location.href,x=typeof A=="string"?A:fo(A);return Le(E,"No window.location.(origin|href) available to create URL for href: "+x),new URL(x,E)}let w={get action(){return l},get location(){return t(i,o)},listen(A){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(Ox,p),c=A,()=>{i.removeEventListener(Ox,p),c=null}},createHref(A){return e(i,A)},createURL:_,encodeLocation(A){let E=_(A);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:m,replace:y,go(A){return o.go(A)}};return w}var Ut;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Ut||(Ut={}));const hR=new Set(["lazy","caseSensitive","path","id","index","children"]);function dR(t){return t.index===!0}function Og(t,e,r,n){return r===void 0&&(r=[]),n===void 0&&(n={}),t.map((i,s)=>{let o=[...r,s],l=typeof i.id=="string"?i.id:o.join("-");if(Le(i.index!==!0||!i.children,"Cannot specify children on an index route"),Le(!n[l],'Found a route id collision on id "'+l+`".  Route id's must be globally unique within Data Router usages`),dR(i)){let c=ct({},i,e(i),{id:l});return n[l]=c,c}else{let c=ct({},i,e(i),{id:l,children:void 0});return n[l]=c,i.children&&(c.children=Og(i.children,e,o,n)),c}})}function Sa(t,e,r){r===void 0&&(r="/");let n=typeof e=="string"?Fi(e):e,i=Aa(n.pathname||"/",r);if(i==null)return null;let s=Lx(t);fR(s);let o=null;for(let l=0;o==null&&l<s.length;++l)o=wR(s[l],SR(i));return o}function Lx(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,l)=>{let c={relativePath:l===void 0?s.path||"":l,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};c.relativePath.startsWith("/")&&(Le(c.relativePath.startsWith(n),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(n.length));let h=Ui([n,c.relativePath]),f=r.concat(c);s.children&&s.children.length>0&&(Le(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+h+'".')),Lx(s.children,e,f,h)),!(s.path==null&&!s.index)&&e.push({path:h,score:bR(h,s.index),routesMeta:f})};return t.forEach((s,o)=>{var l;if(s.path===""||!((l=s.path)!=null&&l.includes("?")))i(s,o);else for(let c of Bx(s.path))i(s,o,c)}),e}function Bx(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=Bx(n.join("/")),l=[];return l.push(...o.map(c=>c===""?s:[s,c].join("/"))),i&&l.push(...o),l.map(c=>t.startsWith("/")&&c===""?"/":c)}function fR(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:xR(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const pR=/^:\w+$/,mR=3,gR=2,vR=1,yR=10,_R=-2,Fx=t=>t==="*";function bR(t,e){let r=t.split("/"),n=r.length;return r.some(Fx)&&(n+=_R),e&&(n+=gR),r.filter(i=>!Fx(i)).reduce((i,s)=>i+(pR.test(s)?mR:s===""?vR:yR),n)}function xR(t,e){return t.length===e.length&&t.slice(0,-1).every((r,n)=>r===e[n])?t[t.length-1]-e[e.length-1]:0}function wR(t,e){let{routesMeta:r}=t,n={},i="/",s=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=ER({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},h);if(!f)return null;Object.assign(n,f.params);let p=l.route;s.push({params:n,pathname:Ui([i,f.pathname]),pathnameBase:RR(Ui([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=Ui([i,f.pathnameBase]))}return s}function ER(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=TR(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),l=i.slice(1);return{params:n.reduce((c,h,f)=>{if(h==="*"){let p=l[f]||"";o=s.slice(0,s.length-p.length).replace(/(.)\/+$/,"$1")}return c[h]=AR(l[f]||"",h),c},{}),pathname:s,pathnameBase:o,pattern:t}}function TR(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Ta(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(s,o)=>(n.push(o),"/([^\\/]+)"));return t.endsWith("*")?(n.push("*"),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function SR(t){try{return decodeURI(t)}catch(e){return Ta(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function AR(t,e){try{return decodeURIComponent(t)}catch(r){return Ta(!1,'The value for the URL param "'+e+'" will not be decoded because'+(' the string "'+t+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+r+").")),t}}function Aa(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}function CR(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Fi(t):t;return{pathname:r?r.startsWith("/")?r:PR(r,e):e,search:IR(n),hash:kR(i)}}function PR(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?r.length>1&&r.pop():n!=="."&&r.push(n)}),r.length>1?r.join("/"):"/"}function Dg(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Vh(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Lg(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Fi(t):(i=ct({},t),Le(!i.pathname||!i.pathname.includes("?"),Dg("?","pathname","search",i)),Le(!i.pathname||!i.pathname.includes("#"),Dg("#","pathname","hash",i)),Le(!i.search||!i.search.includes("#"),Dg("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,l;if(n||o==null)l=r;else{let p=e.length-1;if(o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),p-=1;i.pathname=m.join("/")}l=p>=0?e[p]:"/"}let c=CR(i,l),h=o&&o!=="/"&&o.endsWith("/"),f=(s||o===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(h||f)&&(c.pathname+="/"),c}const Ui=t=>t.join("/").replace(/\/\/+/g,"/"),RR=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),IR=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,kR=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;class Bg{constructor(e,r,n,i){i===void 0&&(i=!1),this.status=e,this.statusText=r||"",this.internal=i,n instanceof Error?(this.data=n.toString(),this.error=n):this.data=n}}function Ux(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zx=["post","put","patch","delete"],MR=new Set(zx),NR=["get",...zx],OR=new Set(NR),DR=new Set([301,302,303,307,308]),LR=new Set([307,308]),Fg={state:"idle",location:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},BR={state:"idle",data:void 0,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0},mu={state:"unblocked",proceed:void 0,reset:void 0,location:void 0},jx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,FR=t=>({hasErrorBoundary:!!t.hasErrorBoundary});function UR(t){const e=t.window?t.window:typeof window<"u"?window:void 0,r=typeof e<"u"&&typeof e.document<"u"&&typeof e.document.createElement<"u",n=!r;Le(t.routes.length>0,"You must provide a non-empty routes array to createRouter");let i;if(t.mapRouteProperties)i=t.mapRouteProperties;else if(t.detectErrorBoundary){let B=t.detectErrorBoundary;i=F=>({hasErrorBoundary:B(F)})}else i=FR;let s={},o=Og(t.routes,i,void 0,s),l,c=t.basename||"/",h=ct({v7_normalizeFormMethod:!1,v7_prependBasename:!1},t.future),f=null,p=new Set,m=null,y=null,_=null,w=t.hydrationData!=null,A=Sa(o,t.history.location,c),E=null;if(A==null){let B=hn(404,{pathname:t.history.location.pathname}),{matches:F,route:Q}=Kx(o);A=F,E={[Q.id]:B}}let x=!A.some(B=>B.route.lazy)&&(!A.some(B=>B.route.loader)||t.hydrationData!=null),S,T={historyAction:t.history.action,location:t.history.location,matches:A,initialized:x,navigation:Fg,restoreScrollPosition:t.hydrationData!=null?!1:null,preventScrollReset:!1,revalidation:"idle",loaderData:t.hydrationData&&t.hydrationData.loaderData||{},actionData:t.hydrationData&&t.hydrationData.actionData||null,errors:t.hydrationData&&t.hydrationData.errors||E,fetchers:new Map,blockers:new Map},R=Nt.Pop,L=!1,I,M=!1,q=!1,K=[],J=[],V=new Map,z=0,W=-1,ge=new Map,ve=new Set,ie=new Map,O=new Map,H=new Map,k=!1;function ee(){return f=t.history.listen(B=>{let{action:F,location:Q,delta:fe}=B;if(k){k=!1;return}Ta(H.size===0||fe!=null,"You are trying to use a blocker on a POP navigation to a location that was not created by @remix-run/router. This will fail silently in production. This can happen if you are navigating outside the router via `window.history.pushState`/`window.location.hash` instead of using router navigation APIs.  This can also happen if you are using createHashRouter and the user manually changes the URL.");let Re=Rf({currentLocation:T.location,nextLocation:Q,historyAction:F});if(Re&&fe!=null){k=!0,t.history.go(fe*-1),ll(Re,{state:"blocked",location:Q,proceed(){ll(Re,{state:"proceeding",proceed:void 0,reset:void 0,location:Q}),t.history.go(fe)},reset(){let Ae=new Map(T.blockers);Ae.set(Re,mu),pe({blockers:Ae})}});return}return tt(F,Q)}),T.initialized||tt(Nt.Pop,T.location),S}function oe(){f&&f(),p.clear(),I&&I.abort(),T.fetchers.forEach((B,F)=>oc(F)),T.blockers.forEach((B,F)=>Pf(F))}function ke(B){return p.add(B),()=>p.delete(B)}function pe(B){T=ct({},T,B),p.forEach(F=>F(T))}function Ue(B,F){var Q,fe;let Re=T.actionData!=null&&T.navigation.formMethod!=null&&In(T.navigation.formMethod)&&T.navigation.state==="loading"&&((Q=B.state)==null?void 0:Q._isRedirect)!==!0,Ae;F.actionData?Object.keys(F.actionData).length>0?Ae=F.actionData:Ae=null:Re?Ae=T.actionData:Ae=null;let Pe=F.loaderData?qx(T.loaderData,F.loaderData,F.matches||[],F.errors):T.loaderData,Te=T.blockers;Te.size>0&&(Te=new Map(Te),Te.forEach((nt,He)=>Te.set(He,mu)));let be=L===!0||T.navigation.formMethod!=null&&In(T.navigation.formMethod)&&((fe=B.state)==null?void 0:fe._isRedirect)!==!0;l&&(o=l,l=void 0),M||R===Nt.Pop||(R===Nt.Push?t.history.push(B,B.state):R===Nt.Replace&&t.history.replace(B,B.state)),pe(ct({},F,{actionData:Ae,loaderData:Pe,historyAction:R,location:B,initialized:!0,navigation:Fg,revalidation:"idle",restoreScrollPosition:kf(B,F.matches||T.matches),preventScrollReset:be,blockers:Te})),R=Nt.Pop,L=!1,M=!1,q=!1,K=[],J=[]}async function Me(B,F){if(typeof B=="number"){t.history.go(B);return}let Q=Ug(T.location,T.matches,c,h.v7_prependBasename,B,F==null?void 0:F.fromRouteId,F==null?void 0:F.relative),{path:fe,submission:Re,error:Ae}=Hx(h.v7_normalizeFormMethod,!1,Q,F),Pe=T.location,Te=pu(T.location,fe,F&&F.state);Te=ct({},Te,t.history.encodeLocation(Te));let be=F&&F.replace!=null?F.replace:void 0,nt=Nt.Push;be===!0?nt=Nt.Replace:be===!1||Re!=null&&In(Re.formMethod)&&Re.formAction===T.location.pathname+T.location.search&&(nt=Nt.Replace);let He=F&&"preventScrollReset"in F?F.preventScrollReset===!0:void 0,_r=Rf({currentLocation:Pe,nextLocation:Te,historyAction:nt});if(_r){ll(_r,{state:"blocked",location:Te,proceed(){ll(_r,{state:"proceeding",proceed:void 0,reset:void 0,location:Te}),Me(B,F)},reset(){let Dt=new Map(T.blockers);Dt.set(_r,mu),pe({blockers:Dt})}});return}return await tt(nt,Te,{submission:Re,pendingError:Ae,preventScrollReset:He,replace:F&&F.replace})}function Xe(){if(Do(),pe({revalidation:"loading"}),T.navigation.state!=="submitting"){if(T.navigation.state==="idle"){tt(T.historyAction,T.location,{startUninterruptedRevalidation:!0});return}tt(R||T.historyAction,T.navigation.location,{overrideNavigation:T.navigation})}}async function tt(B,F,Q){I&&I.abort(),I=null,R=B,M=(Q&&Q.startUninterruptedRevalidation)===!0,Yy(T.location,T.matches),L=(Q&&Q.preventScrollReset)===!0;let fe=l||o,Re=Q&&Q.overrideNavigation,Ae=Sa(fe,F,c);if(!Ae){let Dt=hn(404,{pathname:F.pathname}),{matches:Jt,route:Zr}=Kx(fe);ac(),Ue(F,{matches:Jt,loaderData:{},errors:{[Zr.id]:Dt}});return}if(T.initialized&&!q&&WR(T.location,F)&&!(Q&&Q.submission&&In(Q.submission.formMethod))){Ue(F,{matches:Ae});return}I=new AbortController;let Pe=vu(t.history,F,I.signal,Q&&Q.submission),Te,be;if(Q&&Q.pendingError)be={[Ca(Ae).route.id]:Q.pendingError};else if(Q&&Q.submission&&In(Q.submission.formMethod)){let Dt=await Ht(Pe,F,Q.submission,Ae,{replace:Q.replace});if(Dt.shortCircuited)return;Te=Dt.pendingActionData,be=Dt.pendingActionError,Re=Xh(F,Q.submission),Pe=new Request(Pe.url,{signal:Pe.signal})}let{shortCircuited:nt,loaderData:He,errors:_r}=await mt(Pe,F,Ae,Re,Q&&Q.submission,Q&&Q.fetcherSubmission,Q&&Q.replace,Te,be);nt||(I=null,Ue(F,ct({matches:Ae},Te?{actionData:Te}:{},{loaderData:He,errors:_r})))}async function Ht(B,F,Q,fe,Re){Re===void 0&&(Re={}),Do();let Ae=qR(F,Q);pe({navigation:Ae});let Pe,Te=Hg(fe,F);if(!Te.route.action&&!Te.route.lazy)Pe={type:Ut.error,error:hn(405,{method:B.method,pathname:F.pathname,routeId:Te.route.id})};else if(Pe=await gu("action",B,Te,fe,s,i,c),B.signal.aborted)return{shortCircuited:!0};if(Pa(Pe)){let be;return Re&&Re.replace!=null?be=Re.replace:be=Pe.location===T.location.pathname+T.location.search,await Qt(T,Pe,{submission:Q,replace:be}),{shortCircuited:!0}}if(yu(Pe)){let be=Ca(fe,Te.route.id);return(Re&&Re.replace)!==!0&&(R=Nt.Push),{pendingActionData:{},pendingActionError:{[be.route.id]:Pe.error}}}if(po(Pe))throw hn(400,{type:"defer-action"});return{pendingActionData:{[Te.route.id]:Pe.data}}}async function mt(B,F,Q,fe,Re,Ae,Pe,Te,be){let nt=fe||Xh(F,Re),He=Re||Ae||tw(nt),_r=l||o,[Dt,Jt]=Gx(t.history,T,Q,He,F,q,K,J,ie,ve,_r,c,Te,be);if(ac(st=>!(Q&&Q.some(Ur=>Ur.route.id===st))||Dt&&Dt.some(Ur=>Ur.route.id===st)),Dt.length===0&&Jt.length===0){let st=Af();return Ue(F,ct({matches:Q,loaderData:{},errors:be||null},Te?{actionData:Te}:{},st?{fetchers:new Map(T.fetchers)}:{})),{shortCircuited:!0}}if(!M){Jt.forEach(Ur=>{let zs=T.fetchers.get(Ur.key),Gt=_u(void 0,zs?zs.data:void 0);T.fetchers.set(Ur.key,Gt)});let st=Te||T.actionData;pe(ct({navigation:nt},st?Object.keys(st).length===0?{actionData:null}:{actionData:st}:{},Jt.length>0?{fetchers:new Map(T.fetchers)}:{}))}W=++z,Jt.forEach(st=>{V.has(st.key)&&Fr(st.key),st.controller&&V.set(st.key,st.controller)});let Zr=()=>Jt.forEach(st=>Fr(st.key));I&&I.signal.addEventListener("abort",Zr);let{results:Us,loaderResults:lc,fetcherResults:ul}=await vi(T.matches,Q,Dt,Jt,B);if(B.signal.aborted)return{shortCircuited:!0};I&&I.signal.removeEventListener("abort",Zr),Jt.forEach(st=>V.delete(st.key));let Yn=Qx(Us);if(Yn)return await Qt(T,Yn,{replace:Pe}),{shortCircuited:!0};let{loaderData:Bo,errors:Fo}=Yx(T,Q,Dt,lc,be,Jt,ul,O);O.forEach((st,Ur)=>{st.subscribe(zs=>{(zs||st.done)&&O.delete(Ur)})});let uc=Af(),cc=Cf(W),es=uc||cc||Jt.length>0;return ct({loaderData:Bo,errors:Fo},es?{fetchers:new Map(T.fetchers)}:{})}function Ne(B){return T.fetchers.get(B)||BR}function rt(B,F,Q,fe){if(n)throw new Error("router.fetch() was called during the server render, but it shouldn't be. You are likely calling a useFetcher() method in the body of your component. Try moving it to a useEffect or a callback.");V.has(B)&&Fr(B);let Re=l||o,Ae=Ug(T.location,T.matches,c,h.v7_prependBasename,Q,F,fe==null?void 0:fe.relative),Pe=Sa(Re,Ae,c);if(!Pe){Xn(B,F,hn(404,{pathname:Ae}));return}let{path:Te,submission:be,error:nt}=Hx(h.v7_normalizeFormMethod,!0,Ae,fe);if(nt){Xn(B,F,nt);return}let He=Hg(Pe,Te);if(L=(fe&&fe.preventScrollReset)===!0,be&&In(be.formMethod)){$e(B,F,Te,He,Pe,be);return}ie.set(B,{routeId:F,path:Te}),Br(B,F,Te,He,Pe,be)}async function $e(B,F,Q,fe,Re,Ae){if(Do(),ie.delete(B),!fe.route.action&&!fe.route.lazy){let Gt=hn(405,{method:Ae.formMethod,pathname:Q,routeId:F});Xn(B,F,Gt);return}let Pe=T.fetchers.get(B),Te=KR(Ae,Pe);T.fetchers.set(B,Te),pe({fetchers:new Map(T.fetchers)});let be=new AbortController,nt=vu(t.history,Q,be.signal,Ae);V.set(B,be);let He=await gu("action",nt,fe,Re,s,i,c);if(nt.signal.aborted){V.get(B)===be&&V.delete(B);return}if(Pa(He)){V.delete(B),ve.add(B);let Gt=_u(Ae);return T.fetchers.set(B,Gt),pe({fetchers:new Map(T.fetchers)}),Qt(T,He,{submission:Ae,isFetchActionRedirect:!0})}if(yu(He)){Xn(B,F,He.error);return}if(po(He))throw hn(400,{type:"defer-action"});let _r=T.navigation.location||T.location,Dt=vu(t.history,_r,be.signal),Jt=l||o,Zr=T.navigation.state!=="idle"?Sa(Jt,T.navigation.location,c):T.matches;Le(Zr,"Didn't find any matches after fetcher action");let Us=++z;ge.set(B,Us);let lc=_u(Ae,He.data);T.fetchers.set(B,lc);let[ul,Yn]=Gx(t.history,T,Zr,Ae,_r,q,K,J,ie,ve,Jt,c,{[fe.route.id]:He.data},void 0);Yn.filter(Gt=>Gt.key!==B).forEach(Gt=>{let Uo=Gt.key,Mf=T.fetchers.get(Uo),Ky=_u(void 0,Mf?Mf.data:void 0);T.fetchers.set(Uo,Ky),V.has(Uo)&&Fr(Uo),Gt.controller&&V.set(Uo,Gt.controller)}),pe({fetchers:new Map(T.fetchers)});let Bo=()=>Yn.forEach(Gt=>Fr(Gt.key));be.signal.addEventListener("abort",Bo);let{results:Fo,loaderResults:uc,fetcherResults:cc}=await vi(T.matches,Zr,ul,Yn,Dt);if(be.signal.aborted)return;be.signal.removeEventListener("abort",Bo),ge.delete(B),V.delete(B),Yn.forEach(Gt=>V.delete(Gt.key));let es=Qx(Fo);if(es)return Qt(T,es);let{loaderData:st,errors:Ur}=Yx(T,T.matches,ul,uc,void 0,Yn,cc,O);if(T.fetchers.has(B)){let Gt=Yh(He.data);T.fetchers.set(B,Gt)}let zs=Cf(Us);T.navigation.state==="loading"&&Us>W?(Le(R,"Expected pending action"),I&&I.abort(),Ue(T.navigation.location,{matches:Zr,loaderData:st,errors:Ur,fetchers:new Map(T.fetchers)})):(pe(ct({errors:Ur,loaderData:qx(T.loaderData,st,Zr,Ur)},zs||Yn.length>0?{fetchers:new Map(T.fetchers)}:{})),q=!1)}async function Br(B,F,Q,fe,Re,Ae){let Pe=T.fetchers.get(B),Te=_u(Ae,Pe?Pe.data:void 0);T.fetchers.set(B,Te),pe({fetchers:new Map(T.fetchers)});let be=new AbortController,nt=vu(t.history,Q,be.signal);V.set(B,be);let He=await gu("loader",nt,fe,Re,s,i,c);if(po(He)&&(He=await ew(He,nt.signal,!0)||He),V.get(B)===be&&V.delete(B),nt.signal.aborted)return;if(Pa(He)){ve.add(B),await Qt(T,He);return}if(yu(He)){let Dt=Ca(T.matches,F);T.fetchers.delete(B),pe({fetchers:new Map(T.fetchers),errors:{[Dt.route.id]:He.error}});return}Le(!po(He),"Unhandled fetcher deferred data");let _r=Yh(He.data);T.fetchers.set(B,_r),pe({fetchers:new Map(T.fetchers)})}async function Qt(B,F,Q){let{submission:fe,replace:Re,isFetchActionRedirect:Ae}=Q===void 0?{}:Q;F.revalidate&&(q=!0);let Pe=pu(B.location,F.location,ct({_isRedirect:!0},Ae?{_isFetchActionRedirect:!0}:{}));if(Le(Pe,"Expected a location on the redirect navigation"),jx.test(F.location)&&r){let nt=t.history.createURL(F.location),He=Aa(nt.pathname,c)==null;if(e.location.origin!==nt.origin||He){Re?e.location.replace(F.location):e.location.assign(F.location);return}}I=null;let Te=Re===!0?Nt.Replace:Nt.Push,be=fe||tw(B.navigation);if(LR.has(F.status)&&be&&In(be.formMethod))await tt(Te,Pe,{submission:ct({},be,{formAction:F.location}),preventScrollReset:L});else if(Ae)await tt(Te,Pe,{overrideNavigation:Xh(Pe),fetcherSubmission:be,preventScrollReset:L});else{let nt=Xh(Pe,be);await tt(Te,Pe,{overrideNavigation:nt,preventScrollReset:L})}}async function vi(B,F,Q,fe,Re){let Ae=await Promise.all([...Q.map(be=>gu("loader",Re,be,F,s,i,c)),...fe.map(be=>be.matches&&be.match&&be.controller?gu("loader",vu(t.history,be.path,be.controller.signal),be.match,be.matches,s,i,c):{type:Ut.error,error:hn(404,{pathname:be.path})})]),Pe=Ae.slice(0,Q.length),Te=Ae.slice(Q.length);return await Promise.all([Zx(B,Q,Pe,Pe.map(()=>Re.signal),!1,T.loaderData),Zx(B,fe.map(be=>be.match),Te,fe.map(be=>be.controller?be.controller.signal:null),!0)]),{results:Ae,loaderResults:Pe,fetcherResults:Te}}function Do(){q=!0,K.push(...ac()),ie.forEach((B,F)=>{V.has(F)&&(J.push(F),Fr(F))})}function Xn(B,F,Q){let fe=Ca(T.matches,F);oc(B),pe({errors:{[fe.route.id]:Q},fetchers:new Map(T.fetchers)})}function oc(B){let F=T.fetchers.get(B);V.has(B)&&!(F&&F.state==="loading"&&ge.has(B))&&Fr(B),ie.delete(B),ge.delete(B),ve.delete(B),T.fetchers.delete(B)}function Fr(B){let F=V.get(B);Le(F,"Expected fetch controller: "+B),F.abort(),V.delete(B)}function Sf(B){for(let F of B){let Q=Ne(F),fe=Yh(Q.data);T.fetchers.set(F,fe)}}function Af(){let B=[],F=!1;for(let Q of ve){let fe=T.fetchers.get(Q);Le(fe,"Expected fetcher: "+Q),fe.state==="loading"&&(ve.delete(Q),B.push(Q),F=!0)}return Sf(B),F}function Cf(B){let F=[];for(let[Q,fe]of ge)if(fe<B){let Re=T.fetchers.get(Q);Le(Re,"Expected fetcher: "+Q),Re.state==="loading"&&(Fr(Q),ge.delete(Q),F.push(Q))}return Sf(F),F.length>0}function Lo(B,F){let Q=T.blockers.get(B)||mu;return H.get(B)!==F&&H.set(B,F),Q}function Pf(B){T.blockers.delete(B),H.delete(B)}function ll(B,F){let Q=T.blockers.get(B)||mu;Le(Q.state==="unblocked"&&F.state==="blocked"||Q.state==="blocked"&&F.state==="blocked"||Q.state==="blocked"&&F.state==="proceeding"||Q.state==="blocked"&&F.state==="unblocked"||Q.state==="proceeding"&&F.state==="unblocked","Invalid blocker state transition: "+Q.state+" -> "+F.state);let fe=new Map(T.blockers);fe.set(B,F),pe({blockers:fe})}function Rf(B){let{currentLocation:F,nextLocation:Q,historyAction:fe}=B;if(H.size===0)return;H.size>1&&Ta(!1,"A router only supports one blocker at a time");let Re=Array.from(H.entries()),[Ae,Pe]=Re[Re.length-1],Te=T.blockers.get(Ae);if(!(Te&&Te.state==="proceeding")&&Pe({currentLocation:F,nextLocation:Q,historyAction:fe}))return Ae}function ac(B){let F=[];return O.forEach((Q,fe)=>{(!B||B(fe))&&(Q.cancel(),F.push(fe),O.delete(fe))}),F}function Xy(B,F,Q){if(m=B,_=F,y=Q||null,!w&&T.navigation===Fg){w=!0;let fe=kf(T.location,T.matches);fe!=null&&pe({restoreScrollPosition:fe})}return()=>{m=null,_=null,y=null}}function If(B,F){return y&&y(B,F.map(Q=>YR(Q,T.loaderData)))||B.key}function Yy(B,F){if(m&&_){let Q=If(B,F);m[Q]=_()}}function kf(B,F){if(m){let Q=If(B,F),fe=m[Q];if(typeof fe=="number")return fe}return null}function qy(B){s={},l=Og(B,i,void 0,s)}return S={get basename(){return c},get state(){return T},get routes(){return o},initialize:ee,subscribe:ke,enableScrollRestoration:Xy,navigate:Me,fetch:rt,revalidate:Xe,createHref:B=>t.history.createHref(B),encodeLocation:B=>t.history.encodeLocation(B),getFetcher:Ne,deleteFetcher:oc,dispose:oe,getBlocker:Lo,deleteBlocker:Pf,_internalFetchControllers:V,_internalActiveDeferreds:O,_internalSetRoutes:qy},S}function zR(t){return t!=null&&("formData"in t&&t.formData!=null||"body"in t&&t.body!==void 0)}function Ug(t,e,r,n,i,s,o){let l,c;if(s!=null&&o!=="path"){l=[];for(let f of e)if(l.push(f),f.route.id===s){c=f;break}}else l=e,c=e[e.length-1];let h=Lg(i||".",Vh(l).map(f=>f.pathnameBase),Aa(t.pathname,r)||t.pathname,o==="path");return i==null&&(h.search=t.search,h.hash=t.hash),(i==null||i===""||i===".")&&c&&c.route.index&&!jg(h.search)&&(h.search=h.search?h.search.replace(/^\?/,"?index&"):"?index"),n&&r!=="/"&&(h.pathname=h.pathname==="/"?r:Ui([r,h.pathname])),fo(h)}function Hx(t,e,r,n){if(!n||!zR(n))return{path:r};if(n.formMethod&&!XR(n.formMethod))return{path:r,error:hn(405,{method:n.formMethod})};let i=()=>({path:r,error:hn(400,{type:"invalid-body"})}),s=n.formMethod||"get",o=t?s.toUpperCase():s.toLowerCase(),l=Jx(r);if(n.body!==void 0){if(n.formEncType==="text/plain"){if(!In(o))return i();let m=typeof n.body=="string"?n.body:n.body instanceof FormData||n.body instanceof URLSearchParams?Array.from(n.body.entries()).reduce((y,_)=>{let[w,A]=_;return""+y+w+"="+A+`
`},""):String(n.body);return{path:r,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:void 0,text:m}}}else if(n.formEncType==="application/json"){if(!In(o))return i();try{let m=typeof n.body=="string"?JSON.parse(n.body):n.body;return{path:r,submission:{formMethod:o,formAction:l,formEncType:n.formEncType,formData:void 0,json:m,text:void 0}}}catch{return i()}}}Le(typeof FormData=="function","FormData is not available in this environment");let c,h;if(n.formData)c=zg(n.formData),h=n.formData;else if(n.body instanceof FormData)c=zg(n.body),h=n.body;else if(n.body instanceof URLSearchParams)c=n.body,h=Xx(c);else if(n.body==null)c=new URLSearchParams,h=new FormData;else try{c=new URLSearchParams(n.body),h=Xx(c)}catch{return i()}let f={formMethod:o,formAction:l,formEncType:n&&n.formEncType||"application/x-www-form-urlencoded",formData:h,json:void 0,text:void 0};if(In(f.formMethod))return{path:r,submission:f};let p=Fi(r);return e&&p.search&&jg(p.search)&&c.append("index",""),p.search="?"+c,{path:fo(p),submission:f}}function jR(t,e){let r=t;if(e){let n=t.findIndex(i=>i.route.id===e);n>=0&&(r=t.slice(0,n))}return r}function Gx(t,e,r,n,i,s,o,l,c,h,f,p,m,y){let _=y?Object.values(y)[0]:m?Object.values(m)[0]:void 0,w=t.createURL(e.location),A=t.createURL(i),E=y?Object.keys(y)[0]:void 0,x=jR(r,E).filter((T,R)=>{if(T.route.lazy)return!0;if(T.route.loader==null)return!1;if(HR(e.loaderData,e.matches[R],T)||o.some(M=>M===T.route.id))return!0;let L=e.matches[R],I=T;return $x(T,ct({currentUrl:w,currentParams:L.params,nextUrl:A,nextParams:I.params},n,{actionResult:_,defaultShouldRevalidate:s||w.pathname+w.search===A.pathname+A.search||w.search!==A.search||Wx(L,I)}))}),S=[];return c.forEach((T,R)=>{if(!r.some(K=>K.route.id===T.routeId))return;let L=Sa(f,T.path,p);if(!L){S.push({key:R,routeId:T.routeId,path:T.path,matches:null,match:null,controller:null});return}let I=e.fetchers.get(R),M=I&&I.state!=="idle"&&I.data===void 0&&!h.has(R),q=Hg(L,T.path);(l.includes(R)||M||$x(q,ct({currentUrl:w,currentParams:e.matches[e.matches.length-1].params,nextUrl:A,nextParams:r[r.length-1].params},n,{actionResult:_,defaultShouldRevalidate:s})))&&S.push({key:R,routeId:T.routeId,path:T.path,matches:L,match:q,controller:new AbortController})}),[x,S]}function HR(t,e,r){let n=!e||r.route.id!==e.route.id,i=t[r.route.id]===void 0;return n||i}function Wx(t,e){let r=t.route.path;return t.pathname!==e.pathname||r!=null&&r.endsWith("*")&&t.params["*"]!==e.params["*"]}function $x(t,e){if(t.route.shouldRevalidate){let r=t.route.shouldRevalidate(e);if(typeof r=="boolean")return r}return e.defaultShouldRevalidate}async function Vx(t,e,r){if(!t.lazy)return;let n=await t.lazy();if(!t.lazy)return;let i=r[t.id];Le(i,"No route found in manifest");let s={};for(let o in n){let l=i[o]!==void 0&&o!=="hasErrorBoundary";Ta(!l,'Route "'+i.id+'" has a static property "'+o+'" defined but its lazy function is also returning a value for this property. '+('The lazy route property "'+o+'" will be ignored.')),!l&&!hR.has(o)&&(s[o]=n[o])}Object.assign(i,s),Object.assign(i,ct({},e(i),{lazy:void 0}))}async function gu(t,e,r,n,i,s,o,l){l===void 0&&(l={});let c,h,f,p=_=>{let w,A=new Promise((E,x)=>w=x);return f=()=>w(),e.signal.addEventListener("abort",f),Promise.race([_({request:e,params:r.params,context:l.requestContext}),A])};try{let _=r.route[t];if(r.route.lazy)if(_)h=(await Promise.all([p(_),Vx(r.route,s,i)]))[0];else if(await Vx(r.route,s,i),_=r.route[t],_)h=await p(_);else if(t==="action"){let w=new URL(e.url),A=w.pathname+w.search;throw hn(405,{method:e.method,pathname:A,routeId:r.route.id})}else return{type:Ut.data,data:void 0};else if(_)h=await p(_);else{let w=new URL(e.url),A=w.pathname+w.search;throw hn(404,{pathname:A})}Le(h!==void 0,"You defined "+(t==="action"?"an action":"a loader")+" for route "+('"'+r.route.id+"\" but didn't return anything from your `"+t+"` ")+"function. Please return a value or `null`.")}catch(_){c=Ut.error,h=_}finally{f&&e.signal.removeEventListener("abort",f)}if(VR(h)){let _=h.status;if(DR.has(_)){let E=h.headers.get("Location");if(Le(E,"Redirects returned/thrown from loaders/actions must have a Location header"),!jx.test(E))E=Ug(new URL(e.url),n.slice(0,n.indexOf(r)+1),o,!0,E);else if(!l.isStaticRequest){let x=new URL(e.url),S=E.startsWith("//")?new URL(x.protocol+E):new URL(E),T=Aa(S.pathname,o)!=null;S.origin===x.origin&&T&&(E=S.pathname+S.search+S.hash)}if(l.isStaticRequest)throw h.headers.set("Location",E),h;return{type:Ut.redirect,status:_,location:E,revalidate:h.headers.get("X-Remix-Revalidate")!==null}}if(l.isRouteRequest)throw{type:c||Ut.data,response:h};let w,A=h.headers.get("Content-Type");return A&&/\bapplication\/json\b/.test(A)?w=await h.json():w=await h.text(),c===Ut.error?{type:c,error:new Bg(_,h.statusText,w),headers:h.headers}:{type:Ut.data,data:w,statusCode:h.status,headers:h.headers}}if(c===Ut.error)return{type:c,error:h};if($R(h)){var m,y;return{type:Ut.deferred,deferredData:h,statusCode:(m=h.init)==null?void 0:m.status,headers:((y=h.init)==null?void 0:y.headers)&&new Headers(h.init.headers)}}return{type:Ut.data,data:h}}function vu(t,e,r,n){let i=t.createURL(Jx(e)).toString(),s={signal:r};if(n&&In(n.formMethod)){let{formMethod:o,formEncType:l}=n;s.method=o.toUpperCase(),l==="application/json"?(s.headers=new Headers({"Content-Type":l}),s.body=JSON.stringify(n.json)):l==="text/plain"?s.body=n.text:l==="application/x-www-form-urlencoded"&&n.formData?s.body=zg(n.formData):s.body=n.formData}return new Request(i,s)}function zg(t){let e=new URLSearchParams;for(let[r,n]of t.entries())e.append(r,typeof n=="string"?n:n.name);return e}function Xx(t){let e=new FormData;for(let[r,n]of t.entries())e.append(r,n);return e}function GR(t,e,r,n,i){let s={},o=null,l,c=!1,h={};return r.forEach((f,p)=>{let m=e[p].route.id;if(Le(!Pa(f),"Cannot handle redirect results in processLoaderData"),yu(f)){let y=Ca(t,m),_=f.error;n&&(_=Object.values(n)[0],n=void 0),o=o||{},o[y.route.id]==null&&(o[y.route.id]=_),s[m]=void 0,c||(c=!0,l=Ux(f.error)?f.error.status:500),f.headers&&(h[m]=f.headers)}else po(f)?(i.set(m,f.deferredData),s[m]=f.deferredData.data):s[m]=f.data,f.statusCode!=null&&f.statusCode!==200&&!c&&(l=f.statusCode),f.headers&&(h[m]=f.headers)}),n&&(o=n,s[Object.keys(n)[0]]=void 0),{loaderData:s,errors:o,statusCode:l||200,loaderHeaders:h}}function Yx(t,e,r,n,i,s,o,l){let{loaderData:c,errors:h}=GR(e,r,n,i,l);for(let f=0;f<s.length;f++){let{key:p,match:m,controller:y}=s[f];Le(o!==void 0&&o[f]!==void 0,"Did not find corresponding fetcher result");let _=o[f];if(!(y&&y.signal.aborted))if(yu(_)){let w=Ca(t.matches,m==null?void 0:m.route.id);h&&h[w.route.id]||(h=ct({},h,{[w.route.id]:_.error})),t.fetchers.delete(p)}else if(Pa(_))Le(!1,"Unhandled fetcher revalidation redirect");else if(po(_))Le(!1,"Unhandled fetcher deferred data");else{let w=Yh(_.data);t.fetchers.set(p,w)}}return{loaderData:c,errors:h}}function qx(t,e,r,n){let i=ct({},e);for(let s of r){let o=s.route.id;if(e.hasOwnProperty(o)?e[o]!==void 0&&(i[o]=e[o]):t[o]!==void 0&&s.route.loader&&(i[o]=t[o]),n&&n.hasOwnProperty(o))break}return i}function Ca(t,e){return(e?t.slice(0,t.findIndex(r=>r.route.id===e)+1):[...t]).reverse().find(r=>r.route.hasErrorBoundary===!0)||t[0]}function Kx(t){let e=t.find(r=>r.index||!r.path||r.path==="/")||{id:"__shim-error-route__"};return{matches:[{params:{},pathname:"",pathnameBase:"",route:e}],route:e}}function hn(t,e){let{pathname:r,routeId:n,method:i,type:s}=e===void 0?{}:e,o="Unknown Server Error",l="Unknown @remix-run/router error";return t===400?(o="Bad Request",i&&r&&n?l="You made a "+i+' request to "'+r+'" but '+('did not provide a `loader` for route "'+n+'", ')+"so there is no way to handle the request.":s==="defer-action"?l="defer() is not supported in actions":s==="invalid-body"&&(l="Unable to encode submission body")):t===403?(o="Forbidden",l='Route "'+n+'" does not match URL "'+r+'"'):t===404?(o="Not Found",l='No route matches URL "'+r+'"'):t===405&&(o="Method Not Allowed",i&&r&&n?l="You made a "+i.toUpperCase()+' request to "'+r+'" but '+('did not provide an `action` for route "'+n+'", ')+"so there is no way to handle the request.":i&&(l='Invalid request method "'+i.toUpperCase()+'"')),new Bg(t||500,o,new Error(l),!0)}function Qx(t){for(let e=t.length-1;e>=0;e--){let r=t[e];if(Pa(r))return r}}function Jx(t){let e=typeof t=="string"?Fi(t):t;return fo(ct({},e,{hash:""}))}function WR(t,e){return t.pathname!==e.pathname||t.search!==e.search?!1:t.hash===""?e.hash!=="":t.hash===e.hash?!0:e.hash!==""}function po(t){return t.type===Ut.deferred}function yu(t){return t.type===Ut.error}function Pa(t){return(t&&t.type)===Ut.redirect}function $R(t){let e=t;return e&&typeof e=="object"&&typeof e.data=="object"&&typeof e.subscribe=="function"&&typeof e.cancel=="function"&&typeof e.resolveData=="function"}function VR(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.headers=="object"&&typeof t.body<"u"}function XR(t){return OR.has(t.toLowerCase())}function In(t){return MR.has(t.toLowerCase())}async function Zx(t,e,r,n,i,s){for(let o=0;o<r.length;o++){let l=r[o],c=e[o];if(!c)continue;let h=t.find(p=>p.route.id===c.route.id),f=h!=null&&!Wx(h,c)&&(s&&s[c.route.id])!==void 0;if(po(l)&&(i||f)){let p=n[o];Le(p,"Expected an AbortSignal for revalidating fetcher deferred result"),await ew(l,p,i).then(m=>{m&&(r[o]=m||r[o])})}}}async function ew(t,e,r){if(r===void 0&&(r=!1),!await t.deferredData.resolveData(e)){if(r)try{return{type:Ut.data,data:t.deferredData.unwrappedData}}catch(n){return{type:Ut.error,error:n}}return{type:Ut.data,data:t.deferredData.data}}}function jg(t){return new URLSearchParams(t).getAll("index").some(e=>e==="")}function YR(t,e){let{route:r,pathname:n,params:i}=t;return{id:r.id,pathname:n,params:i,data:e[r.id],handle:r.handle}}function Hg(t,e){let r=typeof e=="string"?Fi(e).search:e.search;if(t[t.length-1].route.index&&jg(r||""))return t[t.length-1];let n=Vh(t);return n[n.length-1]}function tw(t){let{formMethod:e,formAction:r,formEncType:n,text:i,formData:s,json:o}=t;if(!(!e||!r||!n)){if(i!=null)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:void 0,text:i};if(s!=null)return{formMethod:e,formAction:r,formEncType:n,formData:s,json:void 0,text:void 0};if(o!==void 0)return{formMethod:e,formAction:r,formEncType:n,formData:void 0,json:o,text:void 0}}}function Xh(t,e){return e?{state:"loading",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}:{state:"loading",location:t,formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0}}function qR(t,e){return{state:"submitting",location:t,formMethod:e.formMethod,formAction:e.formAction,formEncType:e.formEncType,formData:e.formData,json:e.json,text:e.text}}function _u(t,e){return t?{state:"loading",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e," _hasFetcherDoneAnything ":!0}:{state:"loading",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:e," _hasFetcherDoneAnything ":!0}}function KR(t,e){return{state:"submitting",formMethod:t.formMethod,formAction:t.formAction,formEncType:t.formEncType,formData:t.formData,json:t.json,text:t.text,data:e?e.data:void 0," _hasFetcherDoneAnything ":!0}}function Yh(t){return{state:"idle",formMethod:void 0,formAction:void 0,formEncType:void 0,formData:void 0,json:void 0,text:void 0,data:t," _hasFetcherDoneAnything ":!0}}function qh(){return qh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qh.apply(this,arguments)}const Kh=se.createContext(null),rw=se.createContext(null),Ra=se.createContext(null),Qh=se.createContext(null),mo=se.createContext({outlet:null,matches:[],isDataRoute:!1}),nw=se.createContext(null);function QR(t,e){let{relative:r}=e===void 0?{}:e;bu()||Le(!1);let{basename:n,navigator:i}=se.useContext(Ra),{hash:s,pathname:o,search:l}=sw(t,{relative:r}),c=o;return n!=="/"&&(c=o==="/"?n:Ui([n,o])),i.createHref({pathname:c,search:l,hash:s})}function bu(){return se.useContext(Qh)!=null}function Jh(){return bu()||Le(!1),se.useContext(Qh).location}function iw(t){se.useContext(Ra).static||se.useLayoutEffect(t)}function JR(){let{isDataRoute:t}=se.useContext(mo);return t?cI():ZR()}function ZR(){bu()||Le(!1);let t=se.useContext(Kh),{basename:e,navigator:r}=se.useContext(Ra),{matches:n}=se.useContext(mo),{pathname:i}=Jh(),s=JSON.stringify(Vh(n).map(l=>l.pathnameBase)),o=se.useRef(!1);return iw(()=>{o.current=!0}),se.useCallback(function(l,c){if(c===void 0&&(c={}),!o.current)return;if(typeof l=="number"){r.go(l);return}let h=Lg(l,JSON.parse(s),i,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ui([e,h.pathname])),(c.replace?r.replace:r.push)(h,c.state,c)},[e,r,s,i,t])}function sw(t,e){let{relative:r}=e===void 0?{}:e,{matches:n}=se.useContext(mo),{pathname:i}=Jh(),s=JSON.stringify(Vh(n).map(o=>o.pathnameBase));return se.useMemo(()=>Lg(t,JSON.parse(s),i,r==="path"),[t,s,i,r])}function eI(t,e,r){bu()||Le(!1);let{navigator:n}=se.useContext(Ra),{matches:i}=se.useContext(mo),s=i[i.length-1],o=s?s.params:{};s&&s.pathname;let l=s?s.pathnameBase:"/";s&&s.route;let c=Jh(),h;if(e){var f;let w=typeof e=="string"?Fi(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||Le(!1),h=w}else h=c;let p=h.pathname||"/",m=l==="/"?p:p.slice(l.length)||"/",y=Sa(t,{pathname:m}),_=sI(y&&y.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:Ui([l,n.encodeLocation?n.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Ui([l,n.encodeLocation?n.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),i,r);return e&&_?se.createElement(Qh.Provider,{value:{location:qh({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:Nt.Pop}},_):_}function tI(){let t=uI(),e=Ux(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return se.createElement(se.Fragment,null,se.createElement("h2",null,"Unexpected Application Error!"),se.createElement("h3",{style:{fontStyle:"italic"}},e),r?se.createElement("pre",{style:n},r):null,i)}const rI=se.createElement(tI,null);class nI extends se.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error||r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error?se.createElement(mo.Provider,{value:this.props.routeContext},se.createElement(nw.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function iI(t){let{routeContext:e,match:r,children:n}=t,i=se.useContext(Kh);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),se.createElement(mo.Provider,{value:e},n)}function sI(t,e,r){var n;if(e===void 0&&(e=[]),r===void 0&&(r=null),t==null){var i;if((i=r)!=null&&i.errors)t=r.matches;else return null}let s=t,o=(n=r)==null?void 0:n.errors;if(o!=null){let l=s.findIndex(c=>c.route.id&&(o==null?void 0:o[c.route.id]));l>=0||Le(!1),s=s.slice(0,Math.min(s.length,l+1))}return s.reduceRight((l,c,h)=>{let f=c.route.id?o==null?void 0:o[c.route.id]:null,p=null;r&&(p=c.route.errorElement||rI);let m=e.concat(s.slice(0,h+1)),y=()=>{let _;return f?_=p:c.route.Component?_=se.createElement(c.route.Component,null):c.route.element?_=c.route.element:_=l,se.createElement(iI,{match:c,routeContext:{outlet:l,matches:m,isDataRoute:r!=null},children:_})};return r&&(c.route.ErrorBoundary||c.route.errorElement||h===0)?se.createElement(nI,{location:r.location,revalidation:r.revalidation,component:p,error:f,children:y(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):y()},null)}var Gg;(function(t){t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate"})(Gg||(Gg={}));var xu;(function(t){t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId"})(xu||(xu={}));function oI(t){let e=se.useContext(Kh);return e||Le(!1),e}function aI(t){let e=se.useContext(rw);return e||Le(!1),e}function lI(t){let e=se.useContext(mo);return e||Le(!1),e}function ow(t){let e=lI(),r=e.matches[e.matches.length-1];return r.route.id||Le(!1),r.route.id}function uI(){var t;let e=se.useContext(nw),r=aI(xu.UseRouteError),n=ow(xu.UseRouteError);return e||((t=r.errors)==null?void 0:t[n])}function cI(){let{router:t}=oI(Gg.UseNavigateStable),e=ow(xu.UseNavigateStable),r=se.useRef(!1);return iw(()=>{r.current=!0}),se.useCallback(function(n,i){i===void 0&&(i={}),r.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,qh({fromRouteId:e},i)))},[t,e])}const hI="startTransition",aw=Q2[hI];function dI(t){let{fallbackElement:e,router:r,future:n}=t,[i,s]=se.useState(r.state),{v7_startTransition:o}=n||{},l=se.useCallback(p=>{o&&aw?aw(()=>s(p)):s(p)},[s,o]);se.useLayoutEffect(()=>r.subscribe(l),[r,l]);let c=se.useMemo(()=>({createHref:r.createHref,encodeLocation:r.encodeLocation,go:p=>r.navigate(p),push:(p,m,y)=>r.navigate(p,{state:m,preventScrollReset:y==null?void 0:y.preventScrollReset}),replace:(p,m,y)=>r.navigate(p,{replace:!0,state:m,preventScrollReset:y==null?void 0:y.preventScrollReset})}),[r]),h=r.basename||"/",f=se.useMemo(()=>({router:r,navigator:c,static:!1,basename:h}),[r,c,h]);return se.createElement(se.Fragment,null,se.createElement(Kh.Provider,{value:f},se.createElement(rw.Provider,{value:i},se.createElement(pI,{basename:h,location:i.location,navigationType:i.historyAction,navigator:c},i.initialized?se.createElement(fI,{routes:r.routes,state:i}):e))),null)}function fI(t){let{routes:e,state:r}=t;return eI(e,void 0,r)}function pI(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Nt.Pop,navigator:s,static:o=!1}=t;bu()&&Le(!1);let l=e.replace(/^\/*/,"/"),c=se.useMemo(()=>({basename:l,navigator:s,static:o}),[l,s,o]);typeof n=="string"&&(n=Fi(n));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:y="default"}=n,_=se.useMemo(()=>{let w=Aa(h,l);return w==null?null:{location:{pathname:w,search:f,hash:p,state:m,key:y},navigationType:i}},[l,h,f,p,m,y,i]);return _==null?null:se.createElement(Ra.Provider,{value:c},se.createElement(Qh.Provider,{children:r,value:_}))}var lw;(function(t){t[t.pending=0]="pending",t[t.success=1]="success",t[t.error=2]="error"})(lw||(lw={})),new Promise(()=>{});function mI(t){let e={hasErrorBoundary:t.ErrorBoundary!=null||t.errorElement!=null};return t.Component&&Object.assign(e,{element:se.createElement(t.Component),Component:void 0}),t.ErrorBoundary&&Object.assign(e,{errorElement:se.createElement(t.ErrorBoundary),ErrorBoundary:void 0}),e}function wu(){return wu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wu.apply(this,arguments)}function gI(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function vI(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function yI(t,e){return t.button===0&&(!e||e==="_self")&&!vI(t)}const _I=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function bI(t,e){return UR({basename:e==null?void 0:e.basename,future:wu({},e==null?void 0:e.future,{v7_prependBasename:!0}),history:lR({window:e==null?void 0:e.window}),hydrationData:(e==null?void 0:e.hydrationData)||xI(),routes:t,mapRouteProperties:mI}).initialize()}function xI(){var t;let e=(t=window)==null?void 0:t.__staticRouterHydrationData;return e&&e.errors&&(e=wu({},e,{errors:wI(e.errors)})),e}function wI(t){if(!t)return null;let e=Object.entries(t),r={};for(let[n,i]of e)if(i&&i.__type==="RouteErrorResponse")r[n]=new Bg(i.status,i.statusText,i.data,i.internal===!0);else if(i&&i.__type==="Error"){let s=new Error(i.message);s.stack="",r[n]=s}else r[n]=i;return r}const EI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",TI=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uw=se.forwardRef(function(t,e){let{onClick:r,relative:n,reloadDocument:i,replace:s,state:o,target:l,to:c,preventScrollReset:h}=t,f=gI(t,_I),{basename:p}=se.useContext(Ra),m,y=!1;if(typeof c=="string"&&TI.test(c)&&(m=c,EI))try{let E=new URL(window.location.href),x=c.startsWith("//")?new URL(E.protocol+c):new URL(c),S=Aa(x.pathname,p);x.origin===E.origin&&S!=null?c=S+x.search+x.hash:y=!0}catch{}let _=QR(c,{relative:n}),w=SI(c,{replace:s,state:o,target:l,preventScrollReset:h,relative:n});function A(E){r&&r(E),E.defaultPrevented||w(E)}return se.createElement("a",wu({},f,{href:m||_,onClick:y||i?r:A,ref:e,target:l}))});var cw;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher"})(cw||(cw={}));var hw;(function(t){t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(hw||(hw={}));function SI(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o}=e===void 0?{}:e,l=JR(),c=Jh(),h=sw(t,{relative:o});return se.useCallback(f=>{if(yI(f,r)){f.preventDefault();let p=n!==void 0?n:fo(c)===fo(h);l(t,{replace:p,state:i,preventScrollReset:s,relative:o})}},[c,l,h,n,i,r,t,s,o])}var dw={exports:{}},go=(t=>(t[t.WEBGL_LEGACY=0]="WEBGL_LEGACY",t[t.WEBGL=1]="WEBGL",t[t.WEBGL2=2]="WEBGL2",t))(go||{}),fw=(t=>(t[t.UNKNOWN=0]="UNKNOWN",t[t.WEBGL=1]="WEBGL",t[t.CANVAS=2]="CANVAS",t))(fw||{}),Wg=(t=>(t[t.COLOR=16384]="COLOR",t[t.DEPTH=256]="DEPTH",t[t.STENCIL=1024]="STENCIL",t))(Wg||{}),Se=(t=>(t[t.NORMAL=0]="NORMAL",t[t.ADD=1]="ADD",t[t.MULTIPLY=2]="MULTIPLY",t[t.SCREEN=3]="SCREEN",t[t.OVERLAY=4]="OVERLAY",t[t.DARKEN=5]="DARKEN",t[t.LIGHTEN=6]="LIGHTEN",t[t.COLOR_DODGE=7]="COLOR_DODGE",t[t.COLOR_BURN=8]="COLOR_BURN",t[t.HARD_LIGHT=9]="HARD_LIGHT",t[t.SOFT_LIGHT=10]="SOFT_LIGHT",t[t.DIFFERENCE=11]="DIFFERENCE",t[t.EXCLUSION=12]="EXCLUSION",t[t.HUE=13]="HUE",t[t.SATURATION=14]="SATURATION",t[t.COLOR=15]="COLOR",t[t.LUMINOSITY=16]="LUMINOSITY",t[t.NORMAL_NPM=17]="NORMAL_NPM",t[t.ADD_NPM=18]="ADD_NPM",t[t.SCREEN_NPM=19]="SCREEN_NPM",t[t.NONE=20]="NONE",t[t.SRC_OVER=0]="SRC_OVER",t[t.SRC_IN=21]="SRC_IN",t[t.SRC_OUT=22]="SRC_OUT",t[t.SRC_ATOP=23]="SRC_ATOP",t[t.DST_OVER=24]="DST_OVER",t[t.DST_IN=25]="DST_IN",t[t.DST_OUT=26]="DST_OUT",t[t.DST_ATOP=27]="DST_ATOP",t[t.ERASE=26]="ERASE",t[t.SUBTRACT=28]="SUBTRACT",t[t.XOR=29]="XOR",t))(Se||{}),kn=(t=>(t[t.POINTS=0]="POINTS",t[t.LINES=1]="LINES",t[t.LINE_LOOP=2]="LINE_LOOP",t[t.LINE_STRIP=3]="LINE_STRIP",t[t.TRIANGLES=4]="TRIANGLES",t[t.TRIANGLE_STRIP=5]="TRIANGLE_STRIP",t[t.TRIANGLE_FAN=6]="TRIANGLE_FAN",t))(kn||{}),ne=(t=>(t[t.RGBA=6408]="RGBA",t[t.RGB=6407]="RGB",t[t.RG=33319]="RG",t[t.RED=6403]="RED",t[t.RGBA_INTEGER=36249]="RGBA_INTEGER",t[t.RGB_INTEGER=36248]="RGB_INTEGER",t[t.RG_INTEGER=33320]="RG_INTEGER",t[t.RED_INTEGER=36244]="RED_INTEGER",t[t.ALPHA=6406]="ALPHA",t[t.LUMINANCE=6409]="LUMINANCE",t[t.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA",t[t.DEPTH_COMPONENT=6402]="DEPTH_COMPONENT",t[t.DEPTH_STENCIL=34041]="DEPTH_STENCIL",t))(ne||{}),Ia=(t=>(t[t.TEXTURE_2D=3553]="TEXTURE_2D",t[t.TEXTURE_CUBE_MAP=34067]="TEXTURE_CUBE_MAP",t[t.TEXTURE_2D_ARRAY=35866]="TEXTURE_2D_ARRAY",t[t.TEXTURE_CUBE_MAP_POSITIVE_X=34069]="TEXTURE_CUBE_MAP_POSITIVE_X",t[t.TEXTURE_CUBE_MAP_NEGATIVE_X=34070]="TEXTURE_CUBE_MAP_NEGATIVE_X",t[t.TEXTURE_CUBE_MAP_POSITIVE_Y=34071]="TEXTURE_CUBE_MAP_POSITIVE_Y",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Y=34072]="TEXTURE_CUBE_MAP_NEGATIVE_Y",t[t.TEXTURE_CUBE_MAP_POSITIVE_Z=34073]="TEXTURE_CUBE_MAP_POSITIVE_Z",t[t.TEXTURE_CUBE_MAP_NEGATIVE_Z=34074]="TEXTURE_CUBE_MAP_NEGATIVE_Z",t))(Ia||{}),Ee=(t=>(t[t.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",t[t.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",t[t.UNSIGNED_SHORT_5_6_5=33635]="UNSIGNED_SHORT_5_6_5",t[t.UNSIGNED_SHORT_4_4_4_4=32819]="UNSIGNED_SHORT_4_4_4_4",t[t.UNSIGNED_SHORT_5_5_5_1=32820]="UNSIGNED_SHORT_5_5_5_1",t[t.UNSIGNED_INT=5125]="UNSIGNED_INT",t[t.UNSIGNED_INT_10F_11F_11F_REV=35899]="UNSIGNED_INT_10F_11F_11F_REV",t[t.UNSIGNED_INT_2_10_10_10_REV=33640]="UNSIGNED_INT_2_10_10_10_REV",t[t.UNSIGNED_INT_24_8=34042]="UNSIGNED_INT_24_8",t[t.UNSIGNED_INT_5_9_9_9_REV=35902]="UNSIGNED_INT_5_9_9_9_REV",t[t.BYTE=5120]="BYTE",t[t.SHORT=5122]="SHORT",t[t.INT=5124]="INT",t[t.FLOAT=5126]="FLOAT",t[t.FLOAT_32_UNSIGNED_INT_24_8_REV=36269]="FLOAT_32_UNSIGNED_INT_24_8_REV",t[t.HALF_FLOAT=36193]="HALF_FLOAT",t))(Ee||{}),$g=(t=>(t[t.FLOAT=0]="FLOAT",t[t.INT=1]="INT",t[t.UINT=2]="UINT",t))($g||{}),zi=(t=>(t[t.NEAREST=0]="NEAREST",t[t.LINEAR=1]="LINEAR",t))(zi||{}),ji=(t=>(t[t.CLAMP=33071]="CLAMP",t[t.REPEAT=10497]="REPEAT",t[t.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",t))(ji||{}),si=(t=>(t[t.OFF=0]="OFF",t[t.POW2=1]="POW2",t[t.ON=2]="ON",t[t.ON_MANUAL=3]="ON_MANUAL",t))(si||{}),Mn=(t=>(t[t.NPM=0]="NPM",t[t.UNPACK=1]="UNPACK",t[t.PMA=2]="PMA",t[t.NO_PREMULTIPLIED_ALPHA=0]="NO_PREMULTIPLIED_ALPHA",t[t.PREMULTIPLY_ON_UPLOAD=1]="PREMULTIPLY_ON_UPLOAD",t[t.PREMULTIPLIED_ALPHA=2]="PREMULTIPLIED_ALPHA",t))(Mn||{}),oi=(t=>(t[t.NO=0]="NO",t[t.YES=1]="YES",t[t.AUTO=2]="AUTO",t[t.BLEND=0]="BLEND",t[t.CLEAR=1]="CLEAR",t[t.BLIT=2]="BLIT",t))(oi||{}),Vg=(t=>(t[t.AUTO=0]="AUTO",t[t.MANUAL=1]="MANUAL",t))(Vg||{}),dn=(t=>(t.LOW="lowp",t.MEDIUM="mediump",t.HIGH="highp",t))(dn||{}),zt=(t=>(t[t.NONE=0]="NONE",t[t.SCISSOR=1]="SCISSOR",t[t.STENCIL=2]="STENCIL",t[t.SPRITE=3]="SPRITE",t[t.COLOR=4]="COLOR",t))(zt||{}),Ot=(t=>(t[t.NONE=0]="NONE",t[t.LOW=2]="LOW",t[t.MEDIUM=4]="MEDIUM",t[t.HIGH=8]="HIGH",t))(Ot||{}),ai=(t=>(t[t.ELEMENT_ARRAY_BUFFER=34963]="ELEMENT_ARRAY_BUFFER",t[t.ARRAY_BUFFER=34962]="ARRAY_BUFFER",t[t.UNIFORM_BUFFER=35345]="UNIFORM_BUFFER",t))(ai||{});const AI={createCanvas:(t,e)=>{const r=document.createElement("canvas");return r.width=t,r.height=e,r},getCanvasRenderingContext2D:()=>CanvasRenderingContext2D,getWebGLRenderingContext:()=>WebGLRenderingContext,getNavigator:()=>navigator,getBaseUrl:()=>document.baseURI??window.location.href,getFontFaceSet:()=>document.fonts,fetch:(t,e)=>fetch(t,e),parseXML:t=>new DOMParser().parseFromString(t,"text/xml")},le={ADAPTER:AI,RESOLUTION:1,CREATE_IMAGE_BITMAP:!1,ROUND_PIXELS:!1};var Xg=/iPhone/i,pw=/iPod/i,mw=/iPad/i,gw=/\biOS-universal(?:.+)Mac\b/i,Yg=/\bAndroid(?:.+)Mobile\b/i,vw=/Android/i,ka=/(?:SD4930UR|\bSilk(?:.+)Mobile\b)/i,Zh=/Silk/i,Hi=/Windows Phone/i,yw=/\bWindows(?:.+)ARM\b/i,_w=/BlackBerry/i,bw=/BB10/i,xw=/Opera Mini/i,ww=/\b(CriOS|Chrome)(?:.+)Mobile/i,Ew=/Mobile(?:.+)Firefox\b/i,Tw=function(t){return typeof t<"u"&&t.platform==="MacIntel"&&typeof t.maxTouchPoints=="number"&&t.maxTouchPoints>1&&typeof MSStream>"u"};function CI(t){return function(e){return e.test(t)}}function Sw(t){var e={userAgent:"",platform:"",maxTouchPoints:0};!t&&typeof navigator<"u"?e={userAgent:navigator.userAgent,platform:navigator.platform,maxTouchPoints:navigator.maxTouchPoints||0}:typeof t=="string"?e.userAgent=t:t&&t.userAgent&&(e={userAgent:t.userAgent,platform:t.platform,maxTouchPoints:t.maxTouchPoints||0});var r=e.userAgent,n=r.split("[FBAN");typeof n[1]<"u"&&(r=n[0]),n=r.split("Twitter"),typeof n[1]<"u"&&(r=n[0]);var i=CI(r),s={apple:{phone:i(Xg)&&!i(Hi),ipod:i(pw),tablet:!i(Xg)&&(i(mw)||Tw(e))&&!i(Hi),universal:i(gw),device:(i(Xg)||i(pw)||i(mw)||i(gw)||Tw(e))&&!i(Hi)},amazon:{phone:i(ka),tablet:!i(ka)&&i(Zh),device:i(ka)||i(Zh)},android:{phone:!i(Hi)&&i(ka)||!i(Hi)&&i(Yg),tablet:!i(Hi)&&!i(ka)&&!i(Yg)&&(i(Zh)||i(vw)),device:!i(Hi)&&(i(ka)||i(Zh)||i(Yg)||i(vw))||i(/\bokhttp\b/i)},windows:{phone:i(Hi),tablet:i(yw),device:i(Hi)||i(yw)},other:{blackberry:i(_w),blackberry10:i(bw),opera:i(xw),firefox:i(Ew),chrome:i(ww),device:i(_w)||i(bw)||i(xw)||i(Ew)||i(ww)},any:!1,phone:!1,tablet:!1};return s.any=s.apple.device||s.android.device||s.windows.device||s.other.device,s.phone=s.apple.phone||s.android.phone||s.windows.phone,s.tablet=s.apple.tablet||s.android.tablet||s.windows.tablet,s}const PI=Sw.default??Sw,Gi=PI(globalThis.navigator);le.RETINA_PREFIX=/@([0-9\.]+)x/,le.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT=!1;var Aw={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,h,f){this.fn=c,this.context=h,this.once=f||!1}function s(c,h,f,p,m){if(typeof f!="function")throw new TypeError("The listener must be a function");var y=new i(f,p||c,m),_=r?r+h:h;return c._events[_]?c._events[_].fn?c._events[_]=[c._events[_],y]:c._events[_].push(y):(c._events[_]=y,c._eventsCount++),c}function o(c,h){--c._eventsCount===0?c._events=new n:delete c._events[h]}function l(){this._events=new n,this._eventsCount=0}l.prototype.eventNames=function(){var c=[],h,f;if(this._eventsCount===0)return c;for(f in h=this._events)e.call(h,f)&&c.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(h)):c},l.prototype.listeners=function(c){var h=r?r+c:c,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var p=0,m=f.length,y=new Array(m);p<m;p++)y[p]=f[p].fn;return y},l.prototype.listenerCount=function(c){var h=r?r+c:c,f=this._events[h];return f?f.fn?1:f.length:0},l.prototype.emit=function(c,h,f,p,m,y){var _=r?r+c:c;if(!this._events[_])return!1;var w=this._events[_],A=arguments.length,E,x;if(w.fn){switch(w.once&&this.removeListener(c,w.fn,void 0,!0),A){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,h),!0;case 3:return w.fn.call(w.context,h,f),!0;case 4:return w.fn.call(w.context,h,f,p),!0;case 5:return w.fn.call(w.context,h,f,p,m),!0;case 6:return w.fn.call(w.context,h,f,p,m,y),!0}for(x=1,E=new Array(A-1);x<A;x++)E[x-1]=arguments[x];w.fn.apply(w.context,E)}else{var S=w.length,T;for(x=0;x<S;x++)switch(w[x].once&&this.removeListener(c,w[x].fn,void 0,!0),A){case 1:w[x].fn.call(w[x].context);break;case 2:w[x].fn.call(w[x].context,h);break;case 3:w[x].fn.call(w[x].context,h,f);break;case 4:w[x].fn.call(w[x].context,h,f,p);break;default:if(!E)for(T=1,E=new Array(A-1);T<A;T++)E[T-1]=arguments[T];w[x].fn.apply(w[x].context,E)}}return!0},l.prototype.on=function(c,h,f){return s(this,c,h,f,!1)},l.prototype.once=function(c,h,f){return s(this,c,h,f,!0)},l.prototype.removeListener=function(c,h,f,p){var m=r?r+c:c;if(!this._events[m])return this;if(!h)return o(this,m),this;var y=this._events[m];if(y.fn)y.fn===h&&(!p||y.once)&&(!f||y.context===f)&&o(this,m);else{for(var _=0,w=[],A=y.length;_<A;_++)(y[_].fn!==h||p&&!y[_].once||f&&y[_].context!==f)&&w.push(y[_]);w.length?this._events[m]=w.length===1?w[0]:w:o(this,m)}return this},l.prototype.removeAllListeners=function(c){var h;return c?(h=r?r+c:c,this._events[h]&&o(this,h)):(this._events=new n,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=r,l.EventEmitter=l,t.exports=l})(Aw);var RI=Aw.exports;const Eu=Ic(RI);var qg={exports:{}};qg.exports=ed,qg.exports.default=ed;function ed(t,e,r){r=r||2;var n=e&&e.length,i=n?e[0]*r:t.length,s=Cw(t,0,i,r,!0),o=[];if(!s||s.next===s.prev)return o;var l,c,h,f,p,m,y;if(n&&(s=OI(t,e,s,r)),t.length>80*r){l=h=t[0],c=f=t[1];for(var _=r;_<i;_+=r)p=t[_],m=t[_+1],p<l&&(l=p),m<c&&(c=m),p>h&&(h=p),m>f&&(f=m);y=Math.max(h-l,f-c),y=y!==0?32767/y:0}return Tu(s,o,r,l,c,y,0),o}function Cw(t,e,r,n,i){var s,o;if(i===Jg(t,e,r,n)>0)for(s=e;s<r;s+=n)o=Iw(s,t[s],t[s+1],o);else for(s=r-n;s>=e;s-=n)o=Iw(s,t[s],t[s+1],o);return o&&td(o,o.next)&&(Au(o),o=o.next),o}function vo(t,e){if(!t)return t;e||(e=t);var r=t,n;do if(n=!1,!r.steiner&&(td(r,r.next)||wt(r.prev,r,r.next)===0)){if(Au(r),r=e=r.prev,r===r.next)break;n=!0}else r=r.next;while(n||r!==e);return e}function Tu(t,e,r,n,i,s,o){if(t){!o&&s&&UI(t,n,i,s);for(var l=t,c,h;t.prev!==t.next;){if(c=t.prev,h=t.next,s?kI(t,n,i,s):II(t)){e.push(c.i/r|0),e.push(t.i/r|0),e.push(h.i/r|0),Au(t),t=h.next,l=h.next;continue}if(t=h,t===l){o?o===1?(t=MI(vo(t),e,r),Tu(t,e,r,n,i,s,2)):o===2&&NI(t,e,r,n,i,s):Tu(vo(t),e,r,n,i,s,1);break}}}}function II(t){var e=t.prev,r=t,n=t.next;if(wt(e,r,n)>=0)return!1;for(var i=e.x,s=r.x,o=n.x,l=e.y,c=r.y,h=n.y,f=i<s?i<o?i:o:s<o?s:o,p=l<c?l<h?l:h:c<h?c:h,m=i>s?i>o?i:o:s>o?s:o,y=l>c?l>h?l:h:c>h?c:h,_=n.next;_!==e;){if(_.x>=f&&_.x<=m&&_.y>=p&&_.y<=y&&Ma(i,l,s,c,o,h,_.x,_.y)&&wt(_.prev,_,_.next)>=0)return!1;_=_.next}return!0}function kI(t,e,r,n){var i=t.prev,s=t,o=t.next;if(wt(i,s,o)>=0)return!1;for(var l=i.x,c=s.x,h=o.x,f=i.y,p=s.y,m=o.y,y=l<c?l<h?l:h:c<h?c:h,_=f<p?f<m?f:m:p<m?p:m,w=l>c?l>h?l:h:c>h?c:h,A=f>p?f>m?f:m:p>m?p:m,E=Kg(y,_,e,r,n),x=Kg(w,A,e,r,n),S=t.prevZ,T=t.nextZ;S&&S.z>=E&&T&&T.z<=x;){if(S.x>=y&&S.x<=w&&S.y>=_&&S.y<=A&&S!==i&&S!==o&&Ma(l,f,c,p,h,m,S.x,S.y)&&wt(S.prev,S,S.next)>=0||(S=S.prevZ,T.x>=y&&T.x<=w&&T.y>=_&&T.y<=A&&T!==i&&T!==o&&Ma(l,f,c,p,h,m,T.x,T.y)&&wt(T.prev,T,T.next)>=0))return!1;T=T.nextZ}for(;S&&S.z>=E;){if(S.x>=y&&S.x<=w&&S.y>=_&&S.y<=A&&S!==i&&S!==o&&Ma(l,f,c,p,h,m,S.x,S.y)&&wt(S.prev,S,S.next)>=0)return!1;S=S.prevZ}for(;T&&T.z<=x;){if(T.x>=y&&T.x<=w&&T.y>=_&&T.y<=A&&T!==i&&T!==o&&Ma(l,f,c,p,h,m,T.x,T.y)&&wt(T.prev,T,T.next)>=0)return!1;T=T.nextZ}return!0}function MI(t,e,r){var n=t;do{var i=n.prev,s=n.next.next;!td(i,s)&&Pw(i,n,n.next,s)&&Su(i,s)&&Su(s,i)&&(e.push(i.i/r|0),e.push(n.i/r|0),e.push(s.i/r|0),Au(n),Au(n.next),n=t=s),n=n.next}while(n!==t);return vo(n)}function NI(t,e,r,n,i,s){var o=t;do{for(var l=o.next.next;l!==o.prev;){if(o.i!==l.i&&HI(o,l)){var c=Rw(o,l);o=vo(o,o.next),c=vo(c,c.next),Tu(o,e,r,n,i,s,0),Tu(c,e,r,n,i,s,0);return}l=l.next}o=o.next}while(o!==t)}function OI(t,e,r,n){var i=[],s,o,l,c,h;for(s=0,o=e.length;s<o;s++)l=e[s]*n,c=s<o-1?e[s+1]*n:t.length,h=Cw(t,l,c,n,!1),h===h.next&&(h.steiner=!0),i.push(jI(h));for(i.sort(DI),s=0;s<i.length;s++)r=LI(i[s],r);return r}function DI(t,e){return t.x-e.x}function LI(t,e){var r=BI(t,e);if(!r)return e;var n=Rw(r,t);return vo(n,n.next),vo(r,r.next)}function BI(t,e){var r=e,n=t.x,i=t.y,s=-1/0,o;do{if(i<=r.y&&i>=r.next.y&&r.next.y!==r.y){var l=r.x+(i-r.y)*(r.next.x-r.x)/(r.next.y-r.y);if(l<=n&&l>s&&(s=l,o=r.x<r.next.x?r:r.next,l===n))return o}r=r.next}while(r!==e);if(!o)return null;var c=o,h=o.x,f=o.y,p=1/0,m;r=o;do n>=r.x&&r.x>=h&&n!==r.x&&Ma(i<f?n:s,i,h,f,i<f?s:n,i,r.x,r.y)&&(m=Math.abs(i-r.y)/(n-r.x),Su(r,t)&&(m<p||m===p&&(r.x>o.x||r.x===o.x&&FI(o,r)))&&(o=r,p=m)),r=r.next;while(r!==c);return o}function FI(t,e){return wt(t.prev,t,e.prev)<0&&wt(e.next,t,t.next)<0}function UI(t,e,r,n){var i=t;do i.z===0&&(i.z=Kg(i.x,i.y,e,r,n)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,zI(i)}function zI(t){var e,r,n,i,s,o,l,c,h=1;do{for(r=t,t=null,s=null,o=0;r;){for(o++,n=r,l=0,e=0;e<h&&(l++,n=n.nextZ,!!n);e++);for(c=h;l>0||c>0&&n;)l!==0&&(c===0||!n||r.z<=n.z)?(i=r,r=r.nextZ,l--):(i=n,n=n.nextZ,c--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;r=n}s.nextZ=null,h*=2}while(o>1);return t}function Kg(t,e,r,n,i){return t=(t-r)*i|0,e=(e-n)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function jI(t){var e=t,r=t;do(e.x<r.x||e.x===r.x&&e.y<r.y)&&(r=e),e=e.next;while(e!==t);return r}function Ma(t,e,r,n,i,s,o,l){return(i-o)*(e-l)>=(t-o)*(s-l)&&(t-o)*(n-l)>=(r-o)*(e-l)&&(r-o)*(s-l)>=(i-o)*(n-l)}function HI(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!GI(t,e)&&(Su(t,e)&&Su(e,t)&&WI(t,e)&&(wt(t.prev,t,e.prev)||wt(t,e.prev,e))||td(t,e)&&wt(t.prev,t,t.next)>0&&wt(e.prev,e,e.next)>0)}function wt(t,e,r){return(e.y-t.y)*(r.x-e.x)-(e.x-t.x)*(r.y-e.y)}function td(t,e){return t.x===e.x&&t.y===e.y}function Pw(t,e,r,n){var i=nd(wt(t,e,r)),s=nd(wt(t,e,n)),o=nd(wt(r,n,t)),l=nd(wt(r,n,e));return!!(i!==s&&o!==l||i===0&&rd(t,r,e)||s===0&&rd(t,n,e)||o===0&&rd(r,t,n)||l===0&&rd(r,e,n))}function rd(t,e,r){return e.x<=Math.max(t.x,r.x)&&e.x>=Math.min(t.x,r.x)&&e.y<=Math.max(t.y,r.y)&&e.y>=Math.min(t.y,r.y)}function nd(t){return t>0?1:t<0?-1:0}function GI(t,e){var r=t;do{if(r.i!==t.i&&r.next.i!==t.i&&r.i!==e.i&&r.next.i!==e.i&&Pw(r,r.next,t,e))return!0;r=r.next}while(r!==t);return!1}function Su(t,e){return wt(t.prev,t,t.next)<0?wt(t,e,t.next)>=0&&wt(t,t.prev,e)>=0:wt(t,e,t.prev)<0||wt(t,t.next,e)<0}function WI(t,e){var r=t,n=!1,i=(t.x+e.x)/2,s=(t.y+e.y)/2;do r.y>s!=r.next.y>s&&r.next.y!==r.y&&i<(r.next.x-r.x)*(s-r.y)/(r.next.y-r.y)+r.x&&(n=!n),r=r.next;while(r!==t);return n}function Rw(t,e){var r=new Qg(t.i,t.x,t.y),n=new Qg(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,r.next=i,i.prev=r,n.next=r,r.prev=n,s.next=n,n.prev=s,n}function Iw(t,e,r,n){var i=new Qg(t,e,r);return n?(i.next=n.next,i.prev=n,n.next.prev=i,n.next=i):(i.prev=i,i.next=i),i}function Au(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function Qg(t,e,r){this.i=t,this.x=e,this.y=r,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}ed.deviation=function(t,e,r,n){var i=e&&e.length,s=i?e[0]*r:t.length,o=Math.abs(Jg(t,0,s,r));if(i)for(var l=0,c=e.length;l<c;l++){var h=e[l]*r,f=l<c-1?e[l+1]*r:t.length;o-=Math.abs(Jg(t,h,f,r))}var p=0;for(l=0;l<n.length;l+=3){var m=n[l]*r,y=n[l+1]*r,_=n[l+2]*r;p+=Math.abs((t[m]-t[_])*(t[y+1]-t[m+1])-(t[m]-t[y])*(t[_+1]-t[m+1]))}return o===0&&p===0?0:Math.abs((p-o)/o)};function Jg(t,e,r,n){for(var i=0,s=e,o=r-n;s<r;s+=n)i+=(t[o]-t[s])*(t[s+1]+t[o+1]),o=s;return i}ed.flatten=function(t){for(var e=t[0][0].length,r={vertices:[],holes:[],dimensions:e},n=0,i=0;i<t.length;i++){for(var s=0;s<t[i].length;s++)for(var o=0;o<e;o++)r.vertices.push(t[i][s][o]);i>0&&(n+=t[i-1].length,r.holes.push(n))}return r};var $I=qg.exports;const VI=Ic($I);var id={exports:{}};id.exports,function(t,e){(function(r){var n=e&&!e.nodeType&&e,i=t&&!t.nodeType&&t,s=typeof ss=="object"&&ss;(s.global===s||s.window===s||s.self===s)&&(r=s);var o,l=2147483647,c=36,h=1,f=26,p=38,m=700,y=72,_=128,w="-",A=/^xn--/,E=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,S={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},T=c-h,R=Math.floor,L=String.fromCharCode,I;function M(k){throw new RangeError(S[k])}function q(k,ee){for(var oe=k.length,ke=[];oe--;)ke[oe]=ee(k[oe]);return ke}function K(k,ee){var oe=k.split("@"),ke="";oe.length>1&&(ke=oe[0]+"@",k=oe[1]),k=k.replace(x,".");var pe=k.split("."),Ue=q(pe,ee).join(".");return ke+Ue}function J(k){for(var ee=[],oe=0,ke=k.length,pe,Ue;oe<ke;)pe=k.charCodeAt(oe++),pe>=55296&&pe<=56319&&oe<ke?(Ue=k.charCodeAt(oe++),(Ue&64512)==56320?ee.push(((pe&1023)<<10)+(Ue&1023)+65536):(ee.push(pe),oe--)):ee.push(pe);return ee}function V(k){return q(k,function(ee){var oe="";return ee>65535&&(ee-=65536,oe+=L(ee>>>10&1023|55296),ee=56320|ee&1023),oe+=L(ee),oe}).join("")}function z(k){return k-48<10?k-22:k-65<26?k-65:k-97<26?k-97:c}function W(k,ee){return k+22+75*(k<26)-((ee!=0)<<5)}function ge(k,ee,oe){var ke=0;for(k=oe?R(k/m):k>>1,k+=R(k/ee);k>T*f>>1;ke+=c)k=R(k/T);return R(ke+(T+1)*k/(k+p))}function ve(k){var ee=[],oe=k.length,ke,pe=0,Ue=_,Me=y,Xe,tt,Ht,mt,Ne,rt,$e,Br,Qt;for(Xe=k.lastIndexOf(w),Xe<0&&(Xe=0),tt=0;tt<Xe;++tt)k.charCodeAt(tt)>=128&&M("not-basic"),ee.push(k.charCodeAt(tt));for(Ht=Xe>0?Xe+1:0;Ht<oe;){for(mt=pe,Ne=1,rt=c;Ht>=oe&&M("invalid-input"),$e=z(k.charCodeAt(Ht++)),($e>=c||$e>R((l-pe)/Ne))&&M("overflow"),pe+=$e*Ne,Br=rt<=Me?h:rt>=Me+f?f:rt-Me,!($e<Br);rt+=c)Qt=c-Br,Ne>R(l/Qt)&&M("overflow"),Ne*=Qt;ke=ee.length+1,Me=ge(pe-mt,ke,mt==0),R(pe/ke)>l-Ue&&M("overflow"),Ue+=R(pe/ke),pe%=ke,ee.splice(pe++,0,Ue)}return V(ee)}function ie(k){var ee,oe,ke,pe,Ue,Me,Xe,tt,Ht,mt,Ne,rt=[],$e,Br,Qt,vi;for(k=J(k),$e=k.length,ee=_,oe=0,Ue=y,Me=0;Me<$e;++Me)Ne=k[Me],Ne<128&&rt.push(L(Ne));for(ke=pe=rt.length,pe&&rt.push(w);ke<$e;){for(Xe=l,Me=0;Me<$e;++Me)Ne=k[Me],Ne>=ee&&Ne<Xe&&(Xe=Ne);for(Br=ke+1,Xe-ee>R((l-oe)/Br)&&M("overflow"),oe+=(Xe-ee)*Br,ee=Xe,Me=0;Me<$e;++Me)if(Ne=k[Me],Ne<ee&&++oe>l&&M("overflow"),Ne==ee){for(tt=oe,Ht=c;mt=Ht<=Ue?h:Ht>=Ue+f?f:Ht-Ue,!(tt<mt);Ht+=c)vi=tt-mt,Qt=c-mt,rt.push(L(W(mt+vi%Qt,0))),tt=R(vi/Qt);rt.push(L(W(tt,0))),Ue=ge(oe,Br,ke==pe),oe=0,++ke}++oe,++ee}return rt.join("")}function O(k){return K(k,function(ee){return A.test(ee)?ve(ee.slice(4).toLowerCase()):ee})}function H(k){return K(k,function(ee){return E.test(ee)?"xn--"+ie(ee):ee})}if(o={version:"1.4.1",ucs2:{decode:J,encode:V},decode:ve,encode:ie,toASCII:H,toUnicode:O},n&&i)if(t.exports==n)i.exports=o;else for(I in o)o.hasOwnProperty(I)&&(n[I]=o[I]);else r.punycode=o})(ss)}(id,id.exports);var XI=id.exports,YI=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var t={},e=Symbol("test"),r=Object(e);if(typeof e=="string"||Object.prototype.toString.call(e)!=="[object Symbol]"||Object.prototype.toString.call(r)!=="[object Symbol]")return!1;var n=42;t[e]=n;for(e in t)return!1;if(typeof Object.keys=="function"&&Object.keys(t).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(t).length!==0)return!1;var i=Object.getOwnPropertySymbols(t);if(i.length!==1||i[0]!==e||!Object.prototype.propertyIsEnumerable.call(t,e))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var s=Object.getOwnPropertyDescriptor(t,e);if(s.value!==n||s.enumerable!==!0)return!1}return!0},kw=typeof Symbol<"u"&&Symbol,qI=YI,KI=function(){return typeof kw!="function"||typeof Symbol!="function"||typeof kw("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:qI()},Mw={foo:{}},QI=Object,JI=function(){return{__proto__:Mw}.foo===Mw.foo&&!({__proto__:null}instanceof QI)},ZI="Function.prototype.bind called on incompatible ",Zg=Array.prototype.slice,ek=Object.prototype.toString,tk="[object Function]",rk=function(t){var e=this;if(typeof e!="function"||ek.call(e)!==tk)throw new TypeError(ZI+e);for(var r=Zg.call(arguments,1),n,i=function(){if(this instanceof n){var h=e.apply(this,r.concat(Zg.call(arguments)));return Object(h)===h?h:this}else return e.apply(t,r.concat(Zg.call(arguments)))},s=Math.max(0,e.length-r.length),o=[],l=0;l<s;l++)o.push("$"+l);if(n=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(i),e.prototype){var c=function(){};c.prototype=e.prototype,n.prototype=new c,c.prototype=null}return n},nk=rk,ev=Function.prototype.bind||nk,ik=ev,sk=ik.call(Function.call,Object.prototype.hasOwnProperty),ze,Na=SyntaxError,Nw=Function,Oa=TypeError,tv=function(t){try{return Nw('"use strict"; return ('+t+").constructor;")()}catch{}},yo=Object.getOwnPropertyDescriptor;if(yo)try{yo({},"")}catch{yo=null}var rv=function(){throw new Oa},ok=yo?function(){try{return arguments.callee,rv}catch{try{return yo(arguments,"callee").get}catch{return rv}}}():rv,Da=KI(),ak=JI(),Xt=Object.getPrototypeOf||(ak?function(t){return t.__proto__}:null),La={},lk=typeof Uint8Array>"u"||!Xt?ze:Xt(Uint8Array),_o={"%AggregateError%":typeof AggregateError>"u"?ze:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?ze:ArrayBuffer,"%ArrayIteratorPrototype%":Da&&Xt?Xt([][Symbol.iterator]()):ze,"%AsyncFromSyncIteratorPrototype%":ze,"%AsyncFunction%":La,"%AsyncGenerator%":La,"%AsyncGeneratorFunction%":La,"%AsyncIteratorPrototype%":La,"%Atomics%":typeof Atomics>"u"?ze:Atomics,"%BigInt%":typeof BigInt>"u"?ze:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?ze:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?ze:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?ze:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?ze:Float32Array,"%Float64Array%":typeof Float64Array>"u"?ze:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?ze:FinalizationRegistry,"%Function%":Nw,"%GeneratorFunction%":La,"%Int8Array%":typeof Int8Array>"u"?ze:Int8Array,"%Int16Array%":typeof Int16Array>"u"?ze:Int16Array,"%Int32Array%":typeof Int32Array>"u"?ze:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":Da&&Xt?Xt(Xt([][Symbol.iterator]())):ze,"%JSON%":typeof JSON=="object"?JSON:ze,"%Map%":typeof Map>"u"?ze:Map,"%MapIteratorPrototype%":typeof Map>"u"||!Da||!Xt?ze:Xt(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?ze:Promise,"%Proxy%":typeof Proxy>"u"?ze:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?ze:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?ze:Set,"%SetIteratorPrototype%":typeof Set>"u"||!Da||!Xt?ze:Xt(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?ze:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":Da&&Xt?Xt(""[Symbol.iterator]()):ze,"%Symbol%":Da?Symbol:ze,"%SyntaxError%":Na,"%ThrowTypeError%":ok,"%TypedArray%":lk,"%TypeError%":Oa,"%Uint8Array%":typeof Uint8Array>"u"?ze:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?ze:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?ze:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?ze:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?ze:WeakMap,"%WeakRef%":typeof WeakRef>"u"?ze:WeakRef,"%WeakSet%":typeof WeakSet>"u"?ze:WeakSet};if(Xt)try{null.error}catch(t){var uk=Xt(Xt(t));_o["%Error.prototype%"]=uk}var ck=function t(e){var r;if(e==="%AsyncFunction%")r=tv("async function () {}");else if(e==="%GeneratorFunction%")r=tv("function* () {}");else if(e==="%AsyncGeneratorFunction%")r=tv("async function* () {}");else if(e==="%AsyncGenerator%"){var n=t("%AsyncGeneratorFunction%");n&&(r=n.prototype)}else if(e==="%AsyncIteratorPrototype%"){var i=t("%AsyncGenerator%");i&&Xt&&(r=Xt(i.prototype))}return _o[e]=r,r},Ow={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},Cu=ev,sd=sk,hk=Cu.call(Function.call,Array.prototype.concat),dk=Cu.call(Function.apply,Array.prototype.splice),Dw=Cu.call(Function.call,String.prototype.replace),od=Cu.call(Function.call,String.prototype.slice),fk=Cu.call(Function.call,RegExp.prototype.exec),pk=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,mk=/\\(\\)?/g,gk=function(t){var e=od(t,0,1),r=od(t,-1);if(e==="%"&&r!=="%")throw new Na("invalid intrinsic syntax, expected closing `%`");if(r==="%"&&e!=="%")throw new Na("invalid intrinsic syntax, expected opening `%`");var n=[];return Dw(t,pk,function(i,s,o,l){n[n.length]=o?Dw(l,mk,"$1"):s||i}),n},vk=function(t,e){var r=t,n;if(sd(Ow,r)&&(n=Ow[r],r="%"+n[0]+"%"),sd(_o,r)){var i=_o[r];if(i===La&&(i=ck(r)),typeof i>"u"&&!e)throw new Oa("intrinsic "+t+" exists, but is not available. Please file an issue!");return{alias:n,name:r,value:i}}throw new Na("intrinsic "+t+" does not exist!")},nv=function(t,e){if(typeof t!="string"||t.length===0)throw new Oa("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof e!="boolean")throw new Oa('"allowMissing" argument must be a boolean');if(fk(/^%?[^%]*%?$/,t)===null)throw new Na("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var r=gk(t),n=r.length>0?r[0]:"",i=vk("%"+n+"%",e),s=i.name,o=i.value,l=!1,c=i.alias;c&&(n=c[0],dk(r,hk([0,1],c)));for(var h=1,f=!0;h<r.length;h+=1){var p=r[h],m=od(p,0,1),y=od(p,-1);if((m==='"'||m==="'"||m==="`"||y==='"'||y==="'"||y==="`")&&m!==y)throw new Na("property names with quotes must have matching quotes");if((p==="constructor"||!f)&&(l=!0),n+="."+p,s="%"+n+"%",sd(_o,s))o=_o[s];else if(o!=null){if(!(p in o)){if(!e)throw new Oa("base intrinsic for "+t+" exists, but the property is not available.");return}if(yo&&h+1>=r.length){var _=yo(o,p);f=!!_,f&&"get"in _&&!("originalValue"in _.get)?o=_.get:o=o[p]}else f=sd(o,p),o=o[p];f&&!l&&(_o[s]=o)}}return o},Lw={exports:{}};(function(t){var e=ev,r=nv,n=r("%Function.prototype.apply%"),i=r("%Function.prototype.call%"),s=r("%Reflect.apply%",!0)||e.call(i,n),o=r("%Object.getOwnPropertyDescriptor%",!0),l=r("%Object.defineProperty%",!0),c=r("%Math.max%");if(l)try{l({},"a",{value:1})}catch{l=null}t.exports=function(f){var p=s(e,i,arguments);if(o&&l){var m=o(p,"length");m.configurable&&l(p,"length",{value:1+c(0,f.length-(arguments.length-1))})}return p};var h=function(){return s(e,n,arguments)};l?l(t.exports,"apply",{value:h}):t.exports.apply=h})(Lw);var yk=Lw.exports,Bw=nv,Fw=yk,_k=Fw(Bw("String.prototype.indexOf")),bk=function(t,e){var r=Bw(t,!!e);return typeof r=="function"&&_k(t,".prototype.")>-1?Fw(r):r};const xk={},wk=Object.freeze(Object.defineProperty({__proto__:null,default:xk},Symbol.toStringTag,{value:"Module"})),Ek=c_(wk);var iv=typeof Map=="function"&&Map.prototype,sv=Object.getOwnPropertyDescriptor&&iv?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,ad=iv&&sv&&typeof sv.get=="function"?sv.get:null,Uw=iv&&Map.prototype.forEach,ov=typeof Set=="function"&&Set.prototype,av=Object.getOwnPropertyDescriptor&&ov?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,ld=ov&&av&&typeof av.get=="function"?av.get:null,zw=ov&&Set.prototype.forEach,Tk=typeof WeakMap=="function"&&WeakMap.prototype,Pu=Tk?WeakMap.prototype.has:null,Sk=typeof WeakSet=="function"&&WeakSet.prototype,Ru=Sk?WeakSet.prototype.has:null,Ak=typeof WeakRef=="function"&&WeakRef.prototype,jw=Ak?WeakRef.prototype.deref:null,Ck=Boolean.prototype.valueOf,Pk=Object.prototype.toString,Rk=Function.prototype.toString,Ik=String.prototype.match,lv=String.prototype.slice,As=String.prototype.replace,kk=String.prototype.toUpperCase,Hw=String.prototype.toLowerCase,Gw=RegExp.prototype.test,Ww=Array.prototype.concat,li=Array.prototype.join,Mk=Array.prototype.slice,$w=Math.floor,uv=typeof BigInt=="function"?BigInt.prototype.valueOf:null,cv=Object.getOwnPropertySymbols,hv=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,Ba=typeof Symbol=="function"&&typeof Symbol.iterator=="object",mr=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===Ba||"symbol")?Symbol.toStringTag:null,Vw=Object.prototype.propertyIsEnumerable,Xw=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(t){return t.__proto__}:null);function Yw(t,e){if(t===1/0||t===-1/0||t!==t||t&&t>-1e3&&t<1e3||Gw.call(/e/,e))return e;var r=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof t=="number"){var n=t<0?-$w(-t):$w(t);if(n!==t){var i=String(n),s=lv.call(e,i.length+1);return As.call(i,r,"$&_")+"."+As.call(As.call(s,/([0-9]{3})/g,"$&_"),/_$/,"")}}return As.call(e,r,"$&_")}var dv=Ek,qw=dv.custom,Kw=Zw(qw)?qw:null,Nk=function t(e,r,n,i){var s=r||{};if(Cs(s,"quoteStyle")&&s.quoteStyle!=="single"&&s.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(Cs(s,"maxStringLength")&&(typeof s.maxStringLength=="number"?s.maxStringLength<0&&s.maxStringLength!==1/0:s.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var o=Cs(s,"customInspect")?s.customInspect:!0;if(typeof o!="boolean"&&o!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(Cs(s,"indent")&&s.indent!==null&&s.indent!=="	"&&!(parseInt(s.indent,10)===s.indent&&s.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(Cs(s,"numericSeparator")&&typeof s.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var l=s.numericSeparator;if(typeof e>"u")return"undefined";if(e===null)return"null";if(typeof e=="boolean")return e?"true":"false";if(typeof e=="string")return tE(e,s);if(typeof e=="number"){if(e===0)return 1/0/e>0?"0":"-0";var c=String(e);return l?Yw(e,c):c}if(typeof e=="bigint"){var h=String(e)+"n";return l?Yw(e,h):h}var f=typeof s.depth>"u"?5:s.depth;if(typeof n>"u"&&(n=0),n>=f&&f>0&&typeof e=="object")return fv(e)?"[Array]":"[Object]";var p=Qk(s,n);if(typeof i>"u")i=[];else if(eE(i,e)>=0)return"[Circular]";function m(z,W,ge){if(W&&(i=Mk.call(i),i.push(W)),ge){var ve={depth:s.depth};return Cs(s,"quoteStyle")&&(ve.quoteStyle=s.quoteStyle),t(z,ve,n+1,i)}return t(z,s,n+1,i)}if(typeof e=="function"&&!Jw(e)){var y=Hk(e),_=ud(e,m);return"[Function"+(y?": "+y:" (anonymous)")+"]"+(_.length>0?" { "+li.call(_,", ")+" }":"")}if(Zw(e)){var w=Ba?As.call(String(e),/^(Symbol\(.*\))_[^)]*$/,"$1"):hv.call(e);return typeof e=="object"&&!Ba?Iu(w):w}if(Yk(e)){for(var A="<"+Hw.call(String(e.nodeName)),E=e.attributes||[],x=0;x<E.length;x++)A+=" "+E[x].name+"="+Qw(Ok(E[x].value),"double",s);return A+=">",e.childNodes&&e.childNodes.length&&(A+="..."),A+="</"+Hw.call(String(e.nodeName))+">",A}if(fv(e)){if(e.length===0)return"[]";var S=ud(e,m);return p&&!Kk(S)?"["+mv(S,p)+"]":"[ "+li.call(S,", ")+" ]"}if(Lk(e)){var T=ud(e,m);return!("cause"in Error.prototype)&&"cause"in e&&!Vw.call(e,"cause")?"{ ["+String(e)+"] "+li.call(Ww.call("[cause]: "+m(e.cause),T),", ")+" }":T.length===0?"["+String(e)+"]":"{ ["+String(e)+"] "+li.call(T,", ")+" }"}if(typeof e=="object"&&o){if(Kw&&typeof e[Kw]=="function"&&dv)return dv(e,{depth:f-n});if(o!=="symbol"&&typeof e.inspect=="function")return e.inspect()}if(Gk(e)){var R=[];return Uw&&Uw.call(e,function(z,W){R.push(m(W,e,!0)+" => "+m(z,e))}),rE("Map",ad.call(e),R,p)}if(Vk(e)){var L=[];return zw&&zw.call(e,function(z){L.push(m(z,e))}),rE("Set",ld.call(e),L,p)}if(Wk(e))return pv("WeakMap");if(Xk(e))return pv("WeakSet");if($k(e))return pv("WeakRef");if(Fk(e))return Iu(m(Number(e)));if(zk(e))return Iu(m(uv.call(e)));if(Uk(e))return Iu(Ck.call(e));if(Bk(e))return Iu(m(String(e)));if(!Dk(e)&&!Jw(e)){var I=ud(e,m),M=Xw?Xw(e)===Object.prototype:e instanceof Object||e.constructor===Object,q=e instanceof Object?"":"null prototype",K=!M&&mr&&Object(e)===e&&mr in e?lv.call(Ps(e),8,-1):q?"Object":"",J=M||typeof e.constructor!="function"?"":e.constructor.name?e.constructor.name+" ":"",V=J+(K||q?"["+li.call(Ww.call([],K||[],q||[]),": ")+"] ":"");return I.length===0?V+"{}":p?V+"{"+mv(I,p)+"}":V+"{ "+li.call(I,", ")+" }"}return String(e)};function Qw(t,e,r){var n=(r.quoteStyle||e)==="double"?'"':"'";return n+t+n}function Ok(t){return As.call(String(t),/"/g,"&quot;")}function fv(t){return Ps(t)==="[object Array]"&&(!mr||!(typeof t=="object"&&mr in t))}function Dk(t){return Ps(t)==="[object Date]"&&(!mr||!(typeof t=="object"&&mr in t))}function Jw(t){return Ps(t)==="[object RegExp]"&&(!mr||!(typeof t=="object"&&mr in t))}function Lk(t){return Ps(t)==="[object Error]"&&(!mr||!(typeof t=="object"&&mr in t))}function Bk(t){return Ps(t)==="[object String]"&&(!mr||!(typeof t=="object"&&mr in t))}function Fk(t){return Ps(t)==="[object Number]"&&(!mr||!(typeof t=="object"&&mr in t))}function Uk(t){return Ps(t)==="[object Boolean]"&&(!mr||!(typeof t=="object"&&mr in t))}function Zw(t){if(Ba)return t&&typeof t=="object"&&t instanceof Symbol;if(typeof t=="symbol")return!0;if(!t||typeof t!="object"||!hv)return!1;try{return hv.call(t),!0}catch{}return!1}function zk(t){if(!t||typeof t!="object"||!uv)return!1;try{return uv.call(t),!0}catch{}return!1}var jk=Object.prototype.hasOwnProperty||function(t){return t in this};function Cs(t,e){return jk.call(t,e)}function Ps(t){return Pk.call(t)}function Hk(t){if(t.name)return t.name;var e=Ik.call(Rk.call(t),/^function\s*([\w$]+)/);return e?e[1]:null}function eE(t,e){if(t.indexOf)return t.indexOf(e);for(var r=0,n=t.length;r<n;r++)if(t[r]===e)return r;return-1}function Gk(t){if(!ad||!t||typeof t!="object")return!1;try{ad.call(t);try{ld.call(t)}catch{return!0}return t instanceof Map}catch{}return!1}function Wk(t){if(!Pu||!t||typeof t!="object")return!1;try{Pu.call(t,Pu);try{Ru.call(t,Ru)}catch{return!0}return t instanceof WeakMap}catch{}return!1}function $k(t){if(!jw||!t||typeof t!="object")return!1;try{return jw.call(t),!0}catch{}return!1}function Vk(t){if(!ld||!t||typeof t!="object")return!1;try{ld.call(t);try{ad.call(t)}catch{return!0}return t instanceof Set}catch{}return!1}function Xk(t){if(!Ru||!t||typeof t!="object")return!1;try{Ru.call(t,Ru);try{Pu.call(t,Pu)}catch{return!0}return t instanceof WeakSet}catch{}return!1}function Yk(t){return!t||typeof t!="object"?!1:typeof HTMLElement<"u"&&t instanceof HTMLElement?!0:typeof t.nodeName=="string"&&typeof t.getAttribute=="function"}function tE(t,e){if(t.length>e.maxStringLength){var r=t.length-e.maxStringLength,n="... "+r+" more character"+(r>1?"s":"");return tE(lv.call(t,0,e.maxStringLength),e)+n}var i=As.call(As.call(t,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,qk);return Qw(i,"single",e)}function qk(t){var e=t.charCodeAt(0),r={8:"b",9:"t",10:"n",12:"f",13:"r"}[e];return r?"\\"+r:"\\x"+(e<16?"0":"")+kk.call(e.toString(16))}function Iu(t){return"Object("+t+")"}function pv(t){return t+" { ? }"}function rE(t,e,r,n){var i=n?mv(r,n):li.call(r,", ");return t+" ("+e+") {"+i+"}"}function Kk(t){for(var e=0;e<t.length;e++)if(eE(t[e],`
`)>=0)return!1;return!0}function Qk(t,e){var r;if(t.indent==="	")r="	";else if(typeof t.indent=="number"&&t.indent>0)r=li.call(Array(t.indent+1)," ");else return null;return{base:r,prev:li.call(Array(e+1),r)}}function mv(t,e){if(t.length===0)return"";var r=`
`+e.prev+e.base;return r+li.call(t,","+r)+`
`+e.prev}function ud(t,e){var r=fv(t),n=[];if(r){n.length=t.length;for(var i=0;i<t.length;i++)n[i]=Cs(t,i)?e(t[i],t):""}var s=typeof cv=="function"?cv(t):[],o;if(Ba){o={};for(var l=0;l<s.length;l++)o["$"+s[l]]=s[l]}for(var c in t)Cs(t,c)&&(r&&String(Number(c))===c&&c<t.length||Ba&&o["$"+c]instanceof Symbol||(Gw.call(/[^\w$]/,c)?n.push(e(c,t)+": "+e(t[c],t)):n.push(c+": "+e(t[c],t))));if(typeof cv=="function")for(var h=0;h<s.length;h++)Vw.call(t,s[h])&&n.push("["+e(s[h])+"]: "+e(t[s[h]],t));return n}var gv=nv,Fa=bk,Jk=Nk,Zk=gv("%TypeError%"),cd=gv("%WeakMap%",!0),hd=gv("%Map%",!0),eM=Fa("WeakMap.prototype.get",!0),tM=Fa("WeakMap.prototype.set",!0),rM=Fa("WeakMap.prototype.has",!0),nM=Fa("Map.prototype.get",!0),iM=Fa("Map.prototype.set",!0),sM=Fa("Map.prototype.has",!0),vv=function(t,e){for(var r=t,n;(n=r.next)!==null;r=n)if(n.key===e)return r.next=n.next,n.next=t.next,t.next=n,n},oM=function(t,e){var r=vv(t,e);return r&&r.value},aM=function(t,e,r){var n=vv(t,e);n?n.value=r:t.next={key:e,next:t.next,value:r}},lM=function(t,e){return!!vv(t,e)},uM=function(){var t,e,r,n={assert:function(i){if(!n.has(i))throw new Zk("Side channel does not contain "+Jk(i))},get:function(i){if(cd&&i&&(typeof i=="object"||typeof i=="function")){if(t)return eM(t,i)}else if(hd){if(e)return nM(e,i)}else if(r)return oM(r,i)},has:function(i){if(cd&&i&&(typeof i=="object"||typeof i=="function")){if(t)return rM(t,i)}else if(hd){if(e)return sM(e,i)}else if(r)return lM(r,i);return!1},set:function(i,s){cd&&i&&(typeof i=="object"||typeof i=="function")?(t||(t=new cd),tM(t,i,s)):hd?(e||(e=new hd),iM(e,i,s)):(r||(r={key:{},next:null}),aM(r,i,s))}};return n},cM=String.prototype.replace,hM=/%20/g,yv={RFC1738:"RFC1738",RFC3986:"RFC3986"},_v={default:yv.RFC3986,formatters:{RFC1738:function(t){return cM.call(t,hM,"+")},RFC3986:function(t){return String(t)}},RFC1738:yv.RFC1738,RFC3986:yv.RFC3986},dM=_v,bv=Object.prototype.hasOwnProperty,bo=Array.isArray,ui=function(){for(var t=[],e=0;e<256;++e)t.push("%"+((e<16?"0":"")+e.toString(16)).toUpperCase());return t}(),fM=function(t){for(;t.length>1;){var e=t.pop(),r=e.obj[e.prop];if(bo(r)){for(var n=[],i=0;i<r.length;++i)typeof r[i]<"u"&&n.push(r[i]);e.obj[e.prop]=n}}},nE=function(t,e){for(var r=e&&e.plainObjects?Object.create(null):{},n=0;n<t.length;++n)typeof t[n]<"u"&&(r[n]=t[n]);return r},pM=function t(e,r,n){if(!r)return e;if(typeof r!="object"){if(bo(e))e.push(r);else if(e&&typeof e=="object")(n&&(n.plainObjects||n.allowPrototypes)||!bv.call(Object.prototype,r))&&(e[r]=!0);else return[e,r];return e}if(!e||typeof e!="object")return[e].concat(r);var i=e;return bo(e)&&!bo(r)&&(i=nE(e,n)),bo(e)&&bo(r)?(r.forEach(function(s,o){if(bv.call(e,o)){var l=e[o];l&&typeof l=="object"&&s&&typeof s=="object"?e[o]=t(l,s,n):e.push(s)}else e[o]=s}),e):Object.keys(r).reduce(function(s,o){var l=r[o];return bv.call(s,o)?s[o]=t(s[o],l,n):s[o]=l,s},i)},mM=function(t,e){return Object.keys(e).reduce(function(r,n){return r[n]=e[n],r},t)},gM=function(t,e,r){var n=t.replace(/\+/g," ");if(r==="iso-8859-1")return n.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(n)}catch{return n}},vM=function(t,e,r,n,i){if(t.length===0)return t;var s=t;if(typeof t=="symbol"?s=Symbol.prototype.toString.call(t):typeof t!="string"&&(s=String(t)),r==="iso-8859-1")return escape(s).replace(/%u[0-9a-f]{4}/gi,function(h){return"%26%23"+parseInt(h.slice(2),16)+"%3B"});for(var o="",l=0;l<s.length;++l){var c=s.charCodeAt(l);if(c===45||c===46||c===95||c===126||c>=48&&c<=57||c>=65&&c<=90||c>=97&&c<=122||i===dM.RFC1738&&(c===40||c===41)){o+=s.charAt(l);continue}if(c<128){o=o+ui[c];continue}if(c<2048){o=o+(ui[192|c>>6]+ui[128|c&63]);continue}if(c<55296||c>=57344){o=o+(ui[224|c>>12]+ui[128|c>>6&63]+ui[128|c&63]);continue}l+=1,c=65536+((c&1023)<<10|s.charCodeAt(l)&1023),o+=ui[240|c>>18]+ui[128|c>>12&63]+ui[128|c>>6&63]+ui[128|c&63]}return o},yM=function(t){for(var e=[{obj:{o:t},prop:"o"}],r=[],n=0;n<e.length;++n)for(var i=e[n],s=i.obj[i.prop],o=Object.keys(s),l=0;l<o.length;++l){var c=o[l],h=s[c];typeof h=="object"&&h!==null&&r.indexOf(h)===-1&&(e.push({obj:s,prop:c}),r.push(h))}return fM(e),t},_M=function(t){return Object.prototype.toString.call(t)==="[object RegExp]"},bM=function(t){return!t||typeof t!="object"?!1:!!(t.constructor&&t.constructor.isBuffer&&t.constructor.isBuffer(t))},xM=function(t,e){return[].concat(t,e)},wM=function(t,e){if(bo(t)){for(var r=[],n=0;n<t.length;n+=1)r.push(e(t[n]));return r}return e(t)},iE={arrayToObject:nE,assign:mM,combine:xM,compact:yM,decode:gM,encode:vM,isBuffer:bM,isRegExp:_M,maybeMap:wM,merge:pM},sE=uM,dd=iE,ku=_v,EM=Object.prototype.hasOwnProperty,oE={brackets:function(t){return t+"[]"},comma:"comma",indices:function(t,e){return t+"["+e+"]"},repeat:function(t){return t}},Wi=Array.isArray,TM=Array.prototype.push,aE=function(t,e){TM.apply(t,Wi(e)?e:[e])},SM=Date.prototype.toISOString,lE=ku.default,gr={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:dd.encode,encodeValuesOnly:!1,format:lE,formatter:ku.formatters[lE],indices:!1,serializeDate:function(t){return SM.call(t)},skipNulls:!1,strictNullHandling:!1},AM=function(t){return typeof t=="string"||typeof t=="number"||typeof t=="boolean"||typeof t=="symbol"||typeof t=="bigint"},xv={},CM=function t(e,r,n,i,s,o,l,c,h,f,p,m,y,_,w,A){for(var E=e,x=A,S=0,T=!1;(x=x.get(xv))!==void 0&&!T;){var R=x.get(e);if(S+=1,typeof R<"u"){if(R===S)throw new RangeError("Cyclic object value");T=!0}typeof x.get(xv)>"u"&&(S=0)}if(typeof c=="function"?E=c(r,E):E instanceof Date?E=p(E):n==="comma"&&Wi(E)&&(E=dd.maybeMap(E,function(ve){return ve instanceof Date?p(ve):ve})),E===null){if(s)return l&&!_?l(r,gr.encoder,w,"key",m):r;E=""}if(AM(E)||dd.isBuffer(E)){if(l){var L=_?r:l(r,gr.encoder,w,"key",m);return[y(L)+"="+y(l(E,gr.encoder,w,"value",m))]}return[y(r)+"="+y(String(E))]}var I=[];if(typeof E>"u")return I;var M;if(n==="comma"&&Wi(E))_&&l&&(E=dd.maybeMap(E,l)),M=[{value:E.length>0?E.join(",")||null:void 0}];else if(Wi(c))M=c;else{var q=Object.keys(E);M=h?q.sort(h):q}for(var K=i&&Wi(E)&&E.length===1?r+"[]":r,J=0;J<M.length;++J){var V=M[J],z=typeof V=="object"&&typeof V.value<"u"?V.value:E[V];if(!(o&&z===null)){var W=Wi(E)?typeof n=="function"?n(K,V):K:K+(f?"."+V:"["+V+"]");A.set(e,S);var ge=sE();ge.set(xv,A),aE(I,t(z,W,n,i,s,o,n==="comma"&&_&&Wi(E)?null:l,c,h,f,p,m,y,_,w,ge))}}return I},PM=function(t){if(!t)return gr;if(t.encoder!==null&&typeof t.encoder<"u"&&typeof t.encoder!="function")throw new TypeError("Encoder has to be a function.");var e=t.charset||gr.charset;if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var r=ku.default;if(typeof t.format<"u"){if(!EM.call(ku.formatters,t.format))throw new TypeError("Unknown format option provided.");r=t.format}var n=ku.formatters[r],i=gr.filter;return(typeof t.filter=="function"||Wi(t.filter))&&(i=t.filter),{addQueryPrefix:typeof t.addQueryPrefix=="boolean"?t.addQueryPrefix:gr.addQueryPrefix,allowDots:typeof t.allowDots>"u"?gr.allowDots:!!t.allowDots,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:gr.charsetSentinel,delimiter:typeof t.delimiter>"u"?gr.delimiter:t.delimiter,encode:typeof t.encode=="boolean"?t.encode:gr.encode,encoder:typeof t.encoder=="function"?t.encoder:gr.encoder,encodeValuesOnly:typeof t.encodeValuesOnly=="boolean"?t.encodeValuesOnly:gr.encodeValuesOnly,filter:i,format:r,formatter:n,serializeDate:typeof t.serializeDate=="function"?t.serializeDate:gr.serializeDate,skipNulls:typeof t.skipNulls=="boolean"?t.skipNulls:gr.skipNulls,sort:typeof t.sort=="function"?t.sort:null,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:gr.strictNullHandling}},RM=function(t,e){var r=t,n=PM(e),i,s;typeof n.filter=="function"?(s=n.filter,r=s("",r)):Wi(n.filter)&&(s=n.filter,i=s);var o=[];if(typeof r!="object"||r===null)return"";var l;e&&e.arrayFormat in oE?l=e.arrayFormat:e&&"indices"in e?l=e.indices?"indices":"repeat":l="indices";var c=oE[l];if(e&&"commaRoundTrip"in e&&typeof e.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var h=c==="comma"&&e&&e.commaRoundTrip;i||(i=Object.keys(r)),n.sort&&i.sort(n.sort);for(var f=sE(),p=0;p<i.length;++p){var m=i[p];n.skipNulls&&r[m]===null||aE(o,CM(r[m],m,c,h,n.strictNullHandling,n.skipNulls,n.encode?n.encoder:null,n.filter,n.sort,n.allowDots,n.serializeDate,n.format,n.formatter,n.encodeValuesOnly,n.charset,f))}var y=o.join(n.delimiter),_=n.addQueryPrefix===!0?"?":"";return n.charsetSentinel&&(n.charset==="iso-8859-1"?_+="utf8=%26%2310003%3B&":_+="utf8=%E2%9C%93&"),y.length>0?_+y:""},Ua=iE,wv=Object.prototype.hasOwnProperty,IM=Array.isArray,Yt={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:Ua.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},kM=function(t){return t.replace(/&#(\d+);/g,function(e,r){return String.fromCharCode(parseInt(r,10))})},uE=function(t,e){return t&&typeof t=="string"&&e.comma&&t.indexOf(",")>-1?t.split(","):t},MM="utf8=%26%2310003%3B",NM="utf8=%E2%9C%93",OM=function(t,e){var r={__proto__:null},n=e.ignoreQueryPrefix?t.replace(/^\?/,""):t,i=e.parameterLimit===1/0?void 0:e.parameterLimit,s=n.split(e.delimiter,i),o=-1,l,c=e.charset;if(e.charsetSentinel)for(l=0;l<s.length;++l)s[l].indexOf("utf8=")===0&&(s[l]===NM?c="utf-8":s[l]===MM&&(c="iso-8859-1"),o=l,l=s.length);for(l=0;l<s.length;++l)if(l!==o){var h=s[l],f=h.indexOf("]="),p=f===-1?h.indexOf("="):f+1,m,y;p===-1?(m=e.decoder(h,Yt.decoder,c,"key"),y=e.strictNullHandling?null:""):(m=e.decoder(h.slice(0,p),Yt.decoder,c,"key"),y=Ua.maybeMap(uE(h.slice(p+1),e),function(_){return e.decoder(_,Yt.decoder,c,"value")})),y&&e.interpretNumericEntities&&c==="iso-8859-1"&&(y=kM(y)),h.indexOf("[]=")>-1&&(y=IM(y)?[y]:y),wv.call(r,m)?r[m]=Ua.combine(r[m],y):r[m]=y}return r},DM=function(t,e,r,n){for(var i=n?e:uE(e,r),s=t.length-1;s>=0;--s){var o,l=t[s];if(l==="[]"&&r.parseArrays)o=[].concat(i);else{o=r.plainObjects?Object.create(null):{};var c=l.charAt(0)==="["&&l.charAt(l.length-1)==="]"?l.slice(1,-1):l,h=parseInt(c,10);!r.parseArrays&&c===""?o={0:i}:!isNaN(h)&&l!==c&&String(h)===c&&h>=0&&r.parseArrays&&h<=r.arrayLimit?(o=[],o[h]=i):c!=="__proto__"&&(o[c]=i)}i=o}return i},LM=function(t,e,r,n){if(t){var i=r.allowDots?t.replace(/\.([^.[]+)/g,"[$1]"):t,s=/(\[[^[\]]*])/,o=/(\[[^[\]]*])/g,l=r.depth>0&&s.exec(i),c=l?i.slice(0,l.index):i,h=[];if(c){if(!r.plainObjects&&wv.call(Object.prototype,c)&&!r.allowPrototypes)return;h.push(c)}for(var f=0;r.depth>0&&(l=o.exec(i))!==null&&f<r.depth;){if(f+=1,!r.plainObjects&&wv.call(Object.prototype,l[1].slice(1,-1))&&!r.allowPrototypes)return;h.push(l[1])}return l&&h.push("["+i.slice(l.index)+"]"),DM(h,e,r,n)}},BM=function(t){if(!t)return Yt;if(t.decoder!==null&&t.decoder!==void 0&&typeof t.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof t.charset<"u"&&t.charset!=="utf-8"&&t.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var e=typeof t.charset>"u"?Yt.charset:t.charset;return{allowDots:typeof t.allowDots>"u"?Yt.allowDots:!!t.allowDots,allowPrototypes:typeof t.allowPrototypes=="boolean"?t.allowPrototypes:Yt.allowPrototypes,allowSparse:typeof t.allowSparse=="boolean"?t.allowSparse:Yt.allowSparse,arrayLimit:typeof t.arrayLimit=="number"?t.arrayLimit:Yt.arrayLimit,charset:e,charsetSentinel:typeof t.charsetSentinel=="boolean"?t.charsetSentinel:Yt.charsetSentinel,comma:typeof t.comma=="boolean"?t.comma:Yt.comma,decoder:typeof t.decoder=="function"?t.decoder:Yt.decoder,delimiter:typeof t.delimiter=="string"||Ua.isRegExp(t.delimiter)?t.delimiter:Yt.delimiter,depth:typeof t.depth=="number"||t.depth===!1?+t.depth:Yt.depth,ignoreQueryPrefix:t.ignoreQueryPrefix===!0,interpretNumericEntities:typeof t.interpretNumericEntities=="boolean"?t.interpretNumericEntities:Yt.interpretNumericEntities,parameterLimit:typeof t.parameterLimit=="number"?t.parameterLimit:Yt.parameterLimit,parseArrays:t.parseArrays!==!1,plainObjects:typeof t.plainObjects=="boolean"?t.plainObjects:Yt.plainObjects,strictNullHandling:typeof t.strictNullHandling=="boolean"?t.strictNullHandling:Yt.strictNullHandling}},FM=function(t,e){var r=BM(e);if(t===""||t===null||typeof t>"u")return r.plainObjects?Object.create(null):{};for(var n=typeof t=="string"?OM(t,r):t,i=r.plainObjects?Object.create(null):{},s=Object.keys(n),o=0;o<s.length;++o){var l=s[o],c=LM(l,n[l],r,typeof t=="string");i=Ua.merge(i,c,r)}return r.allowSparse===!0?i:Ua.compact(i)},UM=RM,zM=FM,jM=_v,HM={formats:jM,parse:zM,stringify:UM},GM=XI;function Nn(){this.protocol=null,this.slashes=null,this.auth=null,this.host=null,this.port=null,this.hostname=null,this.hash=null,this.search=null,this.query=null,this.pathname=null,this.path=null,this.href=null}var WM=/^([a-z0-9.+-]+:)/i,$M=/:[0-9]*$/,VM=/^(\/\/?(?!\/)[^?\s]*)(\?[^\s]*)?$/,XM=["<",">",'"',"`"," ","\r",`
`,"	"],YM=["{","}","|","\\","^","`"].concat(XM),Ev=["'"].concat(YM),cE=["%","/","?",";","#"].concat(Ev),hE=["/","?","#"],qM=255,dE=/^[+a-z0-9A-Z_-]{0,63}$/,KM=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,QM={javascript:!0,"javascript:":!0},Tv={javascript:!0,"javascript:":!0},za={http:!0,https:!0,ftp:!0,gopher:!0,file:!0,"http:":!0,"https:":!0,"ftp:":!0,"gopher:":!0,"file:":!0},Sv=HM;function fd(t,e,r){if(t&&typeof t=="object"&&t instanceof Nn)return t;var n=new Nn;return n.parse(t,e,r),n}Nn.prototype.parse=function(t,e,r){if(typeof t!="string")throw new TypeError("Parameter 'url' must be a string, not "+typeof t);var n=t.indexOf("?"),i=n!==-1&&n<t.indexOf("#")?"?":"#",s=t.split(i),o=/\\/g;s[0]=s[0].replace(o,"/"),t=s.join(i);var l=t;if(l=l.trim(),!r&&t.split("#").length===1){var c=VM.exec(l);if(c)return this.path=l,this.href=l,this.pathname=c[1],c[2]?(this.search=c[2],e?this.query=Sv.parse(this.search.substr(1)):this.query=this.search.substr(1)):e&&(this.search="",this.query={}),this}var h=WM.exec(l);if(h){h=h[0];var f=h.toLowerCase();this.protocol=f,l=l.substr(h.length)}if(r||h||l.match(/^\/\/[^@/]+@[^@/]+/)){var p=l.substr(0,2)==="//";p&&!(h&&Tv[h])&&(l=l.substr(2),this.slashes=!0)}if(!Tv[h]&&(p||h&&!za[h])){for(var m=-1,y=0;y<hE.length;y++){var _=l.indexOf(hE[y]);_!==-1&&(m===-1||_<m)&&(m=_)}var w,A;m===-1?A=l.lastIndexOf("@"):A=l.lastIndexOf("@",m),A!==-1&&(w=l.slice(0,A),l=l.slice(A+1),this.auth=decodeURIComponent(w)),m=-1;for(var y=0;y<cE.length;y++){var _=l.indexOf(cE[y]);_!==-1&&(m===-1||_<m)&&(m=_)}m===-1&&(m=l.length),this.host=l.slice(0,m),l=l.slice(m),this.parseHost(),this.hostname=this.hostname||"";var E=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!E)for(var x=this.hostname.split(/\./),y=0,S=x.length;y<S;y++){var T=x[y];if(T&&!T.match(dE)){for(var R="",L=0,I=T.length;L<I;L++)T.charCodeAt(L)>127?R+="x":R+=T[L];if(!R.match(dE)){var M=x.slice(0,y),q=x.slice(y+1),K=T.match(KM);K&&(M.push(K[1]),q.unshift(K[2])),q.length&&(l="/"+q.join(".")+l),this.hostname=M.join(".");break}}}this.hostname.length>qM?this.hostname="":this.hostname=this.hostname.toLowerCase(),E||(this.hostname=GM.toASCII(this.hostname));var J=this.port?":"+this.port:"",V=this.hostname||"";this.host=V+J,this.href+=this.host,E&&(this.hostname=this.hostname.substr(1,this.hostname.length-2),l[0]!=="/"&&(l="/"+l))}if(!QM[f])for(var y=0,S=Ev.length;y<S;y++){var z=Ev[y];if(l.indexOf(z)!==-1){var W=encodeURIComponent(z);W===z&&(W=escape(z)),l=l.split(z).join(W)}}var ge=l.indexOf("#");ge!==-1&&(this.hash=l.substr(ge),l=l.slice(0,ge));var ve=l.indexOf("?");if(ve!==-1?(this.search=l.substr(ve),this.query=l.substr(ve+1),e&&(this.query=Sv.parse(this.query)),l=l.slice(0,ve)):e&&(this.search="",this.query={}),l&&(this.pathname=l),za[f]&&this.hostname&&!this.pathname&&(this.pathname="/"),this.pathname||this.search){var J=this.pathname||"",ie=this.search||"";this.path=J+ie}return this.href=this.format(),this};function JM(t){return typeof t=="string"&&(t=fd(t)),t instanceof Nn?t.format():Nn.prototype.format.call(t)}Nn.prototype.format=function(){var t=this.auth||"";t&&(t=encodeURIComponent(t),t=t.replace(/%3A/i,":"),t+="@");var e=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=!1,s="";this.host?i=t+this.host:this.hostname&&(i=t+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]"),this.port&&(i+=":"+this.port)),this.query&&typeof this.query=="object"&&Object.keys(this.query).length&&(s=Sv.stringify(this.query));var o=this.search||s&&"?"+s||"";return e&&e.substr(-1)!==":"&&(e+=":"),this.slashes||(!e||za[e])&&i!==!1?(i="//"+(i||""),r&&r.charAt(0)!=="/"&&(r="/"+r)):i||(i=""),n&&n.charAt(0)!=="#"&&(n="#"+n),o&&o.charAt(0)!=="?"&&(o="?"+o),r=r.replace(/[?#]/g,function(l){return encodeURIComponent(l)}),o=o.replace("#","%23"),e+i+r+o+n};function ZM(t,e){return fd(t,!1,!0).resolve(e)}Nn.prototype.resolve=function(t){return this.resolveObject(fd(t,!1,!0)).format()},Nn.prototype.resolveObject=function(t){if(typeof t=="string"){var e=new Nn;e.parse(t,!1,!0),t=e}for(var r=new Nn,n=Object.keys(this),i=0;i<n.length;i++){var s=n[i];r[s]=this[s]}if(r.hash=t.hash,t.href==="")return r.href=r.format(),r;if(t.slashes&&!t.protocol){for(var o=Object.keys(t),l=0;l<o.length;l++){var c=o[l];c!=="protocol"&&(r[c]=t[c])}return za[r.protocol]&&r.hostname&&!r.pathname&&(r.pathname="/",r.path=r.pathname),r.href=r.format(),r}if(t.protocol&&t.protocol!==r.protocol){if(!za[t.protocol]){for(var h=Object.keys(t),f=0;f<h.length;f++){var p=h[f];r[p]=t[p]}return r.href=r.format(),r}if(r.protocol=t.protocol,!t.host&&!Tv[t.protocol]){for(var S=(t.pathname||"").split("/");S.length&&!(t.host=S.shift()););t.host||(t.host=""),t.hostname||(t.hostname=""),S[0]!==""&&S.unshift(""),S.length<2&&S.unshift(""),r.pathname=S.join("/")}else r.pathname=t.pathname;if(r.search=t.search,r.query=t.query,r.host=t.host||"",r.auth=t.auth,r.hostname=t.hostname||t.host,r.port=t.port,r.pathname||r.search){var m=r.pathname||"",y=r.search||"";r.path=m+y}return r.slashes=r.slashes||t.slashes,r.href=r.format(),r}var _=r.pathname&&r.pathname.charAt(0)==="/",w=t.host||t.pathname&&t.pathname.charAt(0)==="/",A=w||_||r.host&&t.pathname,E=A,x=r.pathname&&r.pathname.split("/")||[],S=t.pathname&&t.pathname.split("/")||[],T=r.protocol&&!za[r.protocol];if(T&&(r.hostname="",r.port=null,r.host&&(x[0]===""?x[0]=r.host:x.unshift(r.host)),r.host="",t.protocol&&(t.hostname=null,t.port=null,t.host&&(S[0]===""?S[0]=t.host:S.unshift(t.host)),t.host=null),A=A&&(S[0]===""||x[0]==="")),w)r.host=t.host||t.host===""?t.host:r.host,r.hostname=t.hostname||t.hostname===""?t.hostname:r.hostname,r.search=t.search,r.query=t.query,x=S;else if(S.length)x||(x=[]),x.pop(),x=x.concat(S),r.search=t.search,r.query=t.query;else if(t.search!=null){if(T){r.host=x.shift(),r.hostname=r.host;var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname)}return r.search=t.search,r.query=t.query,(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.href=r.format(),r}if(!x.length)return r.pathname=null,r.search?r.path="/"+r.search:r.path=null,r.href=r.format(),r;for(var L=x.slice(-1)[0],I=(r.host||t.host||x.length>1)&&(L==="."||L==="..")||L==="",M=0,q=x.length;q>=0;q--)L=x[q],L==="."?x.splice(q,1):L===".."?(x.splice(q,1),M++):M&&(x.splice(q,1),M--);if(!A&&!E)for(;M--;M)x.unshift("..");A&&x[0]!==""&&(!x[0]||x[0].charAt(0)!=="/")&&x.unshift(""),I&&x.join("/").substr(-1)!=="/"&&x.push("");var K=x[0]===""||x[0]&&x[0].charAt(0)==="/";if(T){r.hostname=K?"":x.length?x.shift():"",r.host=r.hostname;var R=r.host&&r.host.indexOf("@")>0?r.host.split("@"):!1;R&&(r.auth=R.shift(),r.hostname=R.shift(),r.host=r.hostname)}return A=A||r.host&&x.length,A&&!K&&x.unshift(""),x.length>0?r.pathname=x.join("/"):(r.pathname=null,r.path=null),(r.pathname!==null||r.search!==null)&&(r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")),r.auth=t.auth||r.auth,r.slashes=r.slashes||t.slashes,r.href=r.format(),r},Nn.prototype.parseHost=function(){var t=this.host,e=$M.exec(t);e&&(e=e[0],e!==":"&&(this.port=e.substr(1)),t=t.substr(0,t.length-e.length)),t&&(this.hostname=t)};var eN=fd,tN=ZM,rN=JM;const nN={parse:eN,format:rN,resolve:tN};function On(t){if(typeof t!="string")throw new TypeError(`Path must be a string. Received ${JSON.stringify(t)}`)}function Mu(t){return t.split("?")[0].split("#")[0]}function iN(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function sN(t,e,r){return t.replace(new RegExp(iN(e),"g"),r)}function oN(t,e){let r="",n=0,i=-1,s=0,o=-1;for(let l=0;l<=t.length;++l){if(l<t.length)o=t.charCodeAt(l);else{if(o===47)break;o=47}if(o===47){if(!(i===l-1||s===1))if(i!==l-1&&s===2){if(r.length<2||n!==2||r.charCodeAt(r.length-1)!==46||r.charCodeAt(r.length-2)!==46){if(r.length>2){const c=r.lastIndexOf("/");if(c!==r.length-1){c===-1?(r="",n=0):(r=r.slice(0,c),n=r.length-1-r.lastIndexOf("/")),i=l,s=0;continue}}else if(r.length===2||r.length===1){r="",n=0,i=l,s=0;continue}}e&&(r.length>0?r+="/..":r="..",n=2)}else r.length>0?r+=`/${t.slice(i+1,l)}`:r=t.slice(i+1,l),n=l-i-1;i=l,s=0}else o===46&&s!==-1?++s:s=-1}return r}const vr={toPosix(t){return sN(t,"\\","/")},isUrl(t){return/^https?:/.test(this.toPosix(t))},isDataUrl(t){return/^data:([a-z]+\/[a-z0-9-+.]+(;[a-z0-9-.!#$%*+.{}|~`]+=[a-z0-9-.!#$%*+.{}()_|~`]+)*)?(;base64)?,([a-z0-9!$&',()*+;=\-._~:@\/?%\s<>]*?)$/i.test(t)},hasProtocol(t){return/^[^/:]+:\//.test(this.toPosix(t))},getProtocol(t){On(t),t=this.toPosix(t);let e="";const r=/^file:\/\/\//.exec(t),n=/^[^/:]+:\/\//.exec(t),i=/^[^/:]+:\//.exec(t);if(r||n||i){const s=(r==null?void 0:r[0])||(n==null?void 0:n[0])||(i==null?void 0:i[0]);e=s,t=t.slice(s.length)}return e},toAbsolute(t,e,r){if(this.isDataUrl(t))return t;const n=Mu(this.toPosix(e??le.ADAPTER.getBaseUrl())),i=Mu(this.toPosix(r??this.rootname(n)));return On(t),t=this.toPosix(t),t.startsWith("/")?vr.join(i,t.slice(1)):this.isAbsolute(t)?t:this.join(n,t)},normalize(t){if(t=this.toPosix(t),On(t),t.length===0)return".";let e="";const r=t.startsWith("/");this.hasProtocol(t)&&(e=this.rootname(t),t=t.slice(e.length));const n=t.endsWith("/");return t=oN(t,!1),t.length>0&&n&&(t+="/"),r?`/${t}`:e+t},isAbsolute(t){return On(t),t=this.toPosix(t),this.hasProtocol(t)?!0:t.startsWith("/")},join(...t){if(t.length===0)return".";let e;for(let r=0;r<t.length;++r){const n=t[r];if(On(n),n.length>0)if(e===void 0)e=n;else{const i=t[r-1]??"";this.extname(i)?e+=`/../${n}`:e+=`/${n}`}}return e===void 0?".":this.normalize(e)},dirname(t){if(On(t),t.length===0)return".";t=this.toPosix(t);let e=t.charCodeAt(0);const r=e===47;let n=-1,i=!0;const s=this.getProtocol(t),o=t;t=t.slice(s.length);for(let l=t.length-1;l>=1;--l)if(e=t.charCodeAt(l),e===47){if(!i){n=l;break}}else i=!1;return n===-1?r?"/":this.isUrl(o)?s+t:s:r&&n===1?"//":s+t.slice(0,n)},rootname(t){On(t),t=this.toPosix(t);let e="";if(t.startsWith("/")?e="/":e=this.getProtocol(t),this.isUrl(t)){const r=t.indexOf("/",e.length);r!==-1?e=t.slice(0,r):e=t,e.endsWith("/")||(e+="/")}return e},basename(t,e){On(t),e&&On(e),t=Mu(this.toPosix(t));let r=0,n=-1,i=!0,s;if(e!==void 0&&e.length>0&&e.length<=t.length){if(e.length===t.length&&e===t)return"";let o=e.length-1,l=-1;for(s=t.length-1;s>=0;--s){const c=t.charCodeAt(s);if(c===47){if(!i){r=s+1;break}}else l===-1&&(i=!1,l=s+1),o>=0&&(c===e.charCodeAt(o)?--o===-1&&(n=s):(o=-1,n=l))}return r===n?n=l:n===-1&&(n=t.length),t.slice(r,n)}for(s=t.length-1;s>=0;--s)if(t.charCodeAt(s)===47){if(!i){r=s+1;break}}else n===-1&&(i=!1,n=s+1);return n===-1?"":t.slice(r,n)},extname(t){On(t),t=Mu(this.toPosix(t));let e=-1,r=0,n=-1,i=!0,s=0;for(let o=t.length-1;o>=0;--o){const l=t.charCodeAt(o);if(l===47){if(!i){r=o+1;break}continue}n===-1&&(i=!1,n=o+1),l===46?e===-1?e=o:s!==1&&(s=1):e!==-1&&(s=-1)}return e===-1||n===-1||s===0||s===1&&e===n-1&&e===r+1?"":t.slice(e,n)},parse(t){On(t);const e={root:"",dir:"",base:"",ext:"",name:""};if(t.length===0)return e;t=Mu(this.toPosix(t));let r=t.charCodeAt(0);const n=this.isAbsolute(t);let i;e.root=this.rootname(t),n||this.hasProtocol(t)?i=1:i=0;let s=-1,o=0,l=-1,c=!0,h=t.length-1,f=0;for(;h>=i;--h){if(r=t.charCodeAt(h),r===47){if(!c){o=h+1;break}continue}l===-1&&(c=!1,l=h+1),r===46?s===-1?s=h:f!==1&&(f=1):s!==-1&&(f=-1)}return s===-1||l===-1||f===0||f===1&&s===l-1&&s===o+1?l!==-1&&(o===0&&n?e.base=e.name=t.slice(1,l):e.base=e.name=t.slice(o,l)):(o===0&&n?(e.name=t.slice(1,s),e.base=t.slice(1,l)):(e.name=t.slice(o,s),e.base=t.slice(o,l)),e.ext=t.slice(s,l)),e.dir=this.dirname(t),e},sep:"/",delimiter:":"},fE={};function Fe(t,e,r=3){if(fE[e])return;let n=new Error().stack;typeof n>"u"?console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`):(n=n.split(`
`).splice(r).join(`
`),console.groupCollapsed?(console.groupCollapsed("%cPixiJS Deprecation Warning: %c%s","color:#614108;background:#fffbe6","font-weight:normal;color:#614108;background:#fffbe6",`${e}
Deprecated since v${t}`),console.warn(n),console.groupEnd()):(console.warn("PixiJS Deprecation Warning: ",`${e}
Deprecated since v${t}`),console.warn(n))),fE[e]=!0}let Av;function aN(){return typeof Av>"u"&&(Av=function(){var e;const t={stencil:!0,failIfMajorPerformanceCaveat:le.FAIL_IF_MAJOR_PERFORMANCE_CAVEAT};try{if(!le.ADAPTER.getWebGLRenderingContext())return!1;const r=le.ADAPTER.createCanvas();let n=r.getContext("webgl",t)||r.getContext("experimental-webgl",t);const i=!!((e=n==null?void 0:n.getContextAttributes())!=null&&e.stencil);if(n){const s=n.getExtension("WEBGL_lose_context");s&&s.loseContext()}return n=null,i}catch{return!1}}()),Av}var lN={grad:.9,turn:360,rad:360/(2*Math.PI)},$i=function(t){return typeof t=="string"?t.length>0:typeof t=="number"},qt=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=Math.pow(10,e)),Math.round(r*t)/r+0},fn=function(t,e,r){return e===void 0&&(e=0),r===void 0&&(r=1),t>r?r:t>e?t:e},pE=function(t){return(t=isFinite(t)?t%360:0)>0?t:t+360},mE=function(t){return{r:fn(t.r,0,255),g:fn(t.g,0,255),b:fn(t.b,0,255),a:fn(t.a)}},Cv=function(t){return{r:qt(t.r),g:qt(t.g),b:qt(t.b),a:qt(t.a,3)}},uN=/^#([0-9a-f]{3,8})$/i,pd=function(t){var e=t.toString(16);return e.length<2?"0"+e:e},gE=function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=Math.max(e,r,n),o=s-Math.min(e,r,n),l=o?s===e?(r-n)/o:s===r?2+(n-e)/o:4+(e-r)/o:0;return{h:60*(l<0?l+6:l),s:s?o/s*100:0,v:s/255*100,a:i}},vE=function(t){var e=t.h,r=t.s,n=t.v,i=t.a;e=e/360*6,r/=100,n/=100;var s=Math.floor(e),o=n*(1-r),l=n*(1-(e-s)*r),c=n*(1-(1-e+s)*r),h=s%6;return{r:255*[n,l,o,o,c,n][h],g:255*[c,n,n,l,o,o][h],b:255*[o,o,c,n,n,l][h],a:i}},yE=function(t){return{h:pE(t.h),s:fn(t.s,0,100),l:fn(t.l,0,100),a:fn(t.a)}},_E=function(t){return{h:qt(t.h),s:qt(t.s),l:qt(t.l),a:qt(t.a,3)}},bE=function(t){return vE((r=(e=t).s,{h:e.h,s:(r*=((n=e.l)<50?n:100-n)/100)>0?2*r/(n+r)*100:0,v:n+r,a:e.a}));var e,r,n},Nu=function(t){return{h:(e=gE(t)).h,s:(i=(200-(r=e.s))*(n=e.v)/100)>0&&i<200?r*n/100/(i<=100?i:200-i)*100:0,l:i/2,a:e.a};var e,r,n,i},cN=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s*,\s*([+-]?\d*\.?\d+)%\s*,\s*([+-]?\d*\.?\d+)%\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,hN=/^hsla?\(\s*([+-]?\d*\.?\d+)(deg|rad|grad|turn)?\s+([+-]?\d*\.?\d+)%\s+([+-]?\d*\.?\d+)%\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,dN=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*,\s*([+-]?\d*\.?\d+)(%)?\s*(?:,\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,fN=/^rgba?\(\s*([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s+([+-]?\d*\.?\d+)(%)?\s*(?:\/\s*([+-]?\d*\.?\d+)(%)?\s*)?\)$/i,Pv={string:[[function(t){var e=uN.exec(t);return e?(t=e[1]).length<=4?{r:parseInt(t[0]+t[0],16),g:parseInt(t[1]+t[1],16),b:parseInt(t[2]+t[2],16),a:t.length===4?qt(parseInt(t[3]+t[3],16)/255,2):1}:t.length===6||t.length===8?{r:parseInt(t.substr(0,2),16),g:parseInt(t.substr(2,2),16),b:parseInt(t.substr(4,2),16),a:t.length===8?qt(parseInt(t.substr(6,2),16)/255,2):1}:null:null},"hex"],[function(t){var e=dN.exec(t)||fN.exec(t);return e?e[2]!==e[4]||e[4]!==e[6]?null:mE({r:Number(e[1])/(e[2]?100/255:1),g:Number(e[3])/(e[4]?100/255:1),b:Number(e[5])/(e[6]?100/255:1),a:e[7]===void 0?1:Number(e[7])/(e[8]?100:1)}):null},"rgb"],[function(t){var e=cN.exec(t)||hN.exec(t);if(!e)return null;var r,n,i=yE({h:(r=e[1],n=e[2],n===void 0&&(n="deg"),Number(r)*(lN[n]||1)),s:Number(e[3]),l:Number(e[4]),a:e[5]===void 0?1:Number(e[5])/(e[6]?100:1)});return bE(i)},"hsl"]],object:[[function(t){var e=t.r,r=t.g,n=t.b,i=t.a,s=i===void 0?1:i;return $i(e)&&$i(r)&&$i(n)?mE({r:Number(e),g:Number(r),b:Number(n),a:Number(s)}):null},"rgb"],[function(t){var e=t.h,r=t.s,n=t.l,i=t.a,s=i===void 0?1:i;if(!$i(e)||!$i(r)||!$i(n))return null;var o=yE({h:Number(e),s:Number(r),l:Number(n),a:Number(s)});return bE(o)},"hsl"],[function(t){var e=t.h,r=t.s,n=t.v,i=t.a,s=i===void 0?1:i;if(!$i(e)||!$i(r)||!$i(n))return null;var o=function(l){return{h:pE(l.h),s:fn(l.s,0,100),v:fn(l.v,0,100),a:fn(l.a)}}({h:Number(e),s:Number(r),v:Number(n),a:Number(s)});return vE(o)},"hsv"]]},xE=function(t,e){for(var r=0;r<e.length;r++){var n=e[r][0](t);if(n)return[n,e[r][1]]}return[null,void 0]},pN=function(t){return typeof t=="string"?xE(t.trim(),Pv.string):typeof t=="object"&&t!==null?xE(t,Pv.object):[null,void 0]},Rv=function(t,e){var r=Nu(t);return{h:r.h,s:fn(r.s+100*e,0,100),l:r.l,a:r.a}},Iv=function(t){return(299*t.r+587*t.g+114*t.b)/1e3/255},wE=function(t,e){var r=Nu(t);return{h:r.h,s:r.s,l:fn(r.l+100*e,0,100),a:r.a}},kv=function(){function t(e){this.parsed=pN(e)[0],this.rgba=this.parsed||{r:0,g:0,b:0,a:1}}return t.prototype.isValid=function(){return this.parsed!==null},t.prototype.brightness=function(){return qt(Iv(this.rgba),2)},t.prototype.isDark=function(){return Iv(this.rgba)<.5},t.prototype.isLight=function(){return Iv(this.rgba)>=.5},t.prototype.toHex=function(){return e=Cv(this.rgba),r=e.r,n=e.g,i=e.b,o=(s=e.a)<1?pd(qt(255*s)):"","#"+pd(r)+pd(n)+pd(i)+o;var e,r,n,i,s,o},t.prototype.toRgb=function(){return Cv(this.rgba)},t.prototype.toRgbString=function(){return e=Cv(this.rgba),r=e.r,n=e.g,i=e.b,(s=e.a)<1?"rgba("+r+", "+n+", "+i+", "+s+")":"rgb("+r+", "+n+", "+i+")";var e,r,n,i,s},t.prototype.toHsl=function(){return _E(Nu(this.rgba))},t.prototype.toHslString=function(){return e=_E(Nu(this.rgba)),r=e.h,n=e.s,i=e.l,(s=e.a)<1?"hsla("+r+", "+n+"%, "+i+"%, "+s+")":"hsl("+r+", "+n+"%, "+i+"%)";var e,r,n,i,s},t.prototype.toHsv=function(){return e=gE(this.rgba),{h:qt(e.h),s:qt(e.s),v:qt(e.v),a:qt(e.a,3)};var e},t.prototype.invert=function(){return ci({r:255-(e=this.rgba).r,g:255-e.g,b:255-e.b,a:e.a});var e},t.prototype.saturate=function(e){return e===void 0&&(e=.1),ci(Rv(this.rgba,e))},t.prototype.desaturate=function(e){return e===void 0&&(e=.1),ci(Rv(this.rgba,-e))},t.prototype.grayscale=function(){return ci(Rv(this.rgba,-1))},t.prototype.lighten=function(e){return e===void 0&&(e=.1),ci(wE(this.rgba,e))},t.prototype.darken=function(e){return e===void 0&&(e=.1),ci(wE(this.rgba,-e))},t.prototype.rotate=function(e){return e===void 0&&(e=15),this.hue(this.hue()+e)},t.prototype.alpha=function(e){return typeof e=="number"?ci({r:(r=this.rgba).r,g:r.g,b:r.b,a:e}):qt(this.rgba.a,3);var r},t.prototype.hue=function(e){var r=Nu(this.rgba);return typeof e=="number"?ci({h:e,s:r.s,l:r.l,a:r.a}):qt(r.h)},t.prototype.isEqual=function(e){return this.toHex()===ci(e).toHex()},t}(),ci=function(t){return t instanceof kv?t:new kv(t)},EE=[],mN=function(t){t.forEach(function(e){EE.indexOf(e)<0&&(e(kv,Pv),EE.push(e))})};function gN(t,e){var r={white:"#ffffff",bisque:"#ffe4c4",blue:"#0000ff",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",antiquewhite:"#faebd7",aqua:"#00ffff",azure:"#f0ffff",whitesmoke:"#f5f5f5",papayawhip:"#ffefd5",plum:"#dda0dd",blanchedalmond:"#ffebcd",black:"#000000",gold:"#ffd700",goldenrod:"#daa520",gainsboro:"#dcdcdc",cornsilk:"#fff8dc",cornflowerblue:"#6495ed",burlywood:"#deb887",aquamarine:"#7fffd4",beige:"#f5f5dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkkhaki:"#bdb76b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",peachpuff:"#ffdab9",darkmagenta:"#8b008b",darkred:"#8b0000",darkorchid:"#9932cc",darkorange:"#ff8c00",darkslateblue:"#483d8b",gray:"#808080",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",deeppink:"#ff1493",deepskyblue:"#00bfff",wheat:"#f5deb3",firebrick:"#b22222",floralwhite:"#fffaf0",ghostwhite:"#f8f8ff",darkviolet:"#9400d3",magenta:"#ff00ff",green:"#008000",dodgerblue:"#1e90ff",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",blueviolet:"#8a2be2",forestgreen:"#228b22",lawngreen:"#7cfc00",indianred:"#cd5c5c",indigo:"#4b0082",fuchsia:"#ff00ff",brown:"#a52a2a",maroon:"#800000",mediumblue:"#0000cd",lightcoral:"#f08080",darkturquoise:"#00ced1",lightcyan:"#e0ffff",ivory:"#fffff0",lightyellow:"#ffffe0",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",linen:"#faf0e6",mediumaquamarine:"#66cdaa",lemonchiffon:"#fffacd",lime:"#00ff00",khaki:"#f0e68c",mediumseagreen:"#3cb371",limegreen:"#32cd32",mediumspringgreen:"#00fa9a",lightskyblue:"#87cefa",lightblue:"#add8e6",midnightblue:"#191970",lightpink:"#ffb6c1",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",mintcream:"#f5fffa",lightslategray:"#778899",lightslategrey:"#778899",navajowhite:"#ffdead",navy:"#000080",mediumvioletred:"#c71585",powderblue:"#b0e0e6",palegoldenrod:"#eee8aa",oldlace:"#fdf5e6",paleturquoise:"#afeeee",mediumturquoise:"#48d1cc",mediumorchid:"#ba55d3",rebeccapurple:"#663399",lightsteelblue:"#b0c4de",mediumslateblue:"#7b68ee",thistle:"#d8bfd8",tan:"#d2b48c",orchid:"#da70d6",mediumpurple:"#9370db",purple:"#800080",pink:"#ffc0cb",skyblue:"#87ceeb",springgreen:"#00ff7f",palegreen:"#98fb98",red:"#ff0000",yellow:"#ffff00",slateblue:"#6a5acd",lavenderblush:"#fff0f5",peru:"#cd853f",palevioletred:"#db7093",violet:"#ee82ee",teal:"#008080",slategray:"#708090",slategrey:"#708090",aliceblue:"#f0f8ff",darkseagreen:"#8fbc8f",darkolivegreen:"#556b2f",greenyellow:"#adff2f",seagreen:"#2e8b57",seashell:"#fff5ee",tomato:"#ff6347",silver:"#c0c0c0",sienna:"#a0522d",lavender:"#e6e6fa",lightgreen:"#90ee90",orange:"#ffa500",orangered:"#ff4500",steelblue:"#4682b4",royalblue:"#4169e1",turquoise:"#40e0d0",yellowgreen:"#9acd32",salmon:"#fa8072",saddlebrown:"#8b4513",sandybrown:"#f4a460",rosybrown:"#bc8f8f",darksalmon:"#e9967a",lightgoldenrodyellow:"#fafad2",snow:"#fffafa",lightgrey:"#d3d3d3",lightgray:"#d3d3d3",dimgray:"#696969",dimgrey:"#696969",olivedrab:"#6b8e23",olive:"#808000"},n={};for(var i in r)n[r[i]]=i;var s={};t.prototype.toName=function(o){if(!(this.rgba.a||this.rgba.r||this.rgba.g||this.rgba.b))return"transparent";var l,c,h=n[this.toHex()];if(h)return h;if(o!=null&&o.closest){var f=this.toRgb(),p=1/0,m="black";if(!s.length)for(var y in r)s[y]=new t(r[y]).toRgb();for(var _ in r){var w=(l=f,c=s[_],Math.pow(l.r-c.r,2)+Math.pow(l.g-c.g,2)+Math.pow(l.b-c.b,2));w<p&&(p=w,m=_)}return m}},e.string.push([function(o){var l=o.toLowerCase(),c=l==="transparent"?"#0000":r[l];return c?new t(c).toRgb():null},"name"])}mN([gN]);const ja=class{constructor(t=16777215){this._value=null,this._components=new Float32Array(4),this._components.fill(1),this._int=16777215,this.value=t}get red(){return this._components[0]}get green(){return this._components[1]}get blue(){return this._components[2]}get alpha(){return this._components[3]}setValue(t){return this.value=t,this}set value(t){if(t instanceof ja)this._value=this.cloneSource(t._value),this._int=t._int,this._components.set(t._components);else{if(t===null)throw new Error("Cannot set PIXI.Color#value to null");(this._value===null||!this.isSourceEqual(this._value,t))&&(this.normalize(t),this._value=this.cloneSource(t))}}get value(){return this._value}cloneSource(t){return typeof t=="string"||typeof t=="number"||t instanceof Number||t===null?t:Array.isArray(t)||ArrayBuffer.isView(t)?t.slice(0):typeof t=="object"&&t!==null?{...t}:t}isSourceEqual(t,e){const r=typeof t;if(r!==typeof e)return!1;if(r==="number"||r==="string"||t instanceof Number)return t===e;if(Array.isArray(t)&&Array.isArray(e)||ArrayBuffer.isView(t)&&ArrayBuffer.isView(e))return t.length!==e.length?!1:t.every((n,i)=>n===e[i]);if(t!==null&&e!==null){const n=Object.keys(t),i=Object.keys(e);return n.length!==i.length?!1:n.every(s=>t[s]===e[s])}return t===e}toRgba(){const[t,e,r,n]=this._components;return{r:t,g:e,b:r,a:n}}toRgb(){const[t,e,r]=this._components;return{r:t,g:e,b:r}}toRgbaString(){const[t,e,r]=this.toUint8RgbArray();return`rgba(${t},${e},${r},${this.alpha})`}toUint8RgbArray(t){const[e,r,n]=this._components;return t=t??[],t[0]=Math.round(e*255),t[1]=Math.round(r*255),t[2]=Math.round(n*255),t}toRgbArray(t){t=t??[];const[e,r,n]=this._components;return t[0]=e,t[1]=r,t[2]=n,t}toNumber(){return this._int}toLittleEndianNumber(){const t=this._int;return(t>>16)+(t&65280)+((t&255)<<16)}multiply(t){const[e,r,n,i]=ja.temp.setValue(t)._components;return this._components[0]*=e,this._components[1]*=r,this._components[2]*=n,this._components[3]*=i,this.refreshInt(),this._value=null,this}premultiply(t,e=!0){return e&&(this._components[0]*=t,this._components[1]*=t,this._components[2]*=t),this._components[3]=t,this.refreshInt(),this._value=null,this}toPremultiplied(t,e=!0){if(t===1)return(255<<24)+this._int;if(t===0)return e?0:this._int;let r=this._int>>16&255,n=this._int>>8&255,i=this._int&255;return e&&(r=r*t+.5|0,n=n*t+.5|0,i=i*t+.5|0),(t*255<<24)+(r<<16)+(n<<8)+i}toHex(){const t=this._int.toString(16);return`#${"000000".substring(0,6-t.length)+t}`}toHexa(){const t=Math.round(this._components[3]*255).toString(16);return this.toHex()+"00".substring(0,2-t.length)+t}setAlpha(t){return this._components[3]=this._clamp(t),this}round(t){const[e,r,n]=this._components;return this._components[0]=Math.round(e*t)/t,this._components[1]=Math.round(r*t)/t,this._components[2]=Math.round(n*t)/t,this.refreshInt(),this._value=null,this}toArray(t){t=t??[];const[e,r,n,i]=this._components;return t[0]=e,t[1]=r,t[2]=n,t[3]=i,t}normalize(t){let e,r,n,i;if((typeof t=="number"||t instanceof Number)&&t>=0&&t<=16777215){const s=t;e=(s>>16&255)/255,r=(s>>8&255)/255,n=(s&255)/255,i=1}else if((Array.isArray(t)||t instanceof Float32Array)&&t.length>=3&&t.length<=4)t=this._clamp(t),[e,r,n,i=1]=t;else if((t instanceof Uint8Array||t instanceof Uint8ClampedArray)&&t.length>=3&&t.length<=4)t=this._clamp(t,0,255),[e,r,n,i=255]=t,e/=255,r/=255,n/=255,i/=255;else if(typeof t=="string"||typeof t=="object"){if(typeof t=="string"){const o=ja.HEX_PATTERN.exec(t);o&&(t=`#${o[2]}`)}const s=ci(t);s.isValid()&&({r:e,g:r,b:n,a:i}=s.rgba,e/=255,r/=255,n/=255)}if(e!==void 0)this._components[0]=e,this._components[1]=r,this._components[2]=n,this._components[3]=i,this.refreshInt();else throw new Error(`Unable to convert color ${t}`)}refreshInt(){this._clamp(this._components);const[t,e,r]=this._components;this._int=(t*255<<16)+(e*255<<8)+(r*255|0)}_clamp(t,e=0,r=1){return typeof t=="number"?Math.min(Math.max(t,e),r):(t.forEach((n,i)=>{t[i]=Math.min(Math.max(n,e),r)}),t)}};let Ye=ja;Ye.shared=new ja,Ye.temp=new ja,Ye.HEX_PATTERN=/^(#|0x)?(([a-f0-9]{3}){1,2}([a-f0-9]{2})?)$/i;function vN(t){return Fe("7.2.0","utils.hex2string is deprecated, use Color#toHex instead"),Ye.shared.setValue(t).toHex()}function yN(t){return Fe("7.2.0","utils.rgb2hex is deprecated, use Color#toNumber instead"),Ye.shared.setValue(t).toNumber()}function _N(){const t=[],e=[];for(let n=0;n<32;n++)t[n]=n,e[n]=n;t[Se.NORMAL_NPM]=Se.NORMAL,t[Se.ADD_NPM]=Se.ADD,t[Se.SCREEN_NPM]=Se.SCREEN,e[Se.NORMAL]=Se.NORMAL_NPM,e[Se.ADD]=Se.ADD_NPM,e[Se.SCREEN]=Se.SCREEN_NPM;const r=[];return r.push(e),r.push(t),r}const TE=_N();function SE(t,e){return TE[e?1:0][t]}function bN(t,e=null){const r=t*6;if(e=e||new Uint16Array(r),e.length!==r)throw new Error(`Out buffer length is incorrect, got ${e.length} and expected ${r}`);for(let n=0,i=0;n<r;n+=6,i+=4)e[n+0]=i+0,e[n+1]=i+1,e[n+2]=i+2,e[n+3]=i+0,e[n+4]=i+2,e[n+5]=i+3;return e}function AE(t){if(t.BYTES_PER_ELEMENT===4)return t instanceof Float32Array?"Float32Array":t instanceof Uint32Array?"Uint32Array":"Int32Array";if(t.BYTES_PER_ELEMENT===2){if(t instanceof Uint16Array)return"Uint16Array"}else if(t.BYTES_PER_ELEMENT===1&&t instanceof Uint8Array)return"Uint8Array";return null}function md(t){return t+=t===0?1:0,--t,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t+1}function CE(t){return!(t&t-1)&&!!t}function PE(t){let e=(t>65535?1:0)<<4;t>>>=e;let r=(t>255?1:0)<<3;return t>>>=r,e|=r,r=(t>15?1:0)<<2,t>>>=r,e|=r,r=(t>3?1:0)<<1,t>>>=r,e|=r,e|t>>1}function Ha(t,e,r){const n=t.length;let i;if(e>=n||r===0)return;r=e+r>n?n-e:r;const s=n-r;for(i=e;i<s;++i)t[i]=t[i+r];t.length=s}function Rs(t){return t===0?0:t<0?-1:1}let xN=0;function xo(){return++xN}const RE=class{constructor(t,e,r,n){this.left=t,this.top=e,this.right=r,this.bottom=n}get width(){return this.right-this.left}get height(){return this.bottom-this.top}isEmpty(){return this.left===this.right||this.top===this.bottom}};let Mv=RE;Mv.EMPTY=new RE(0,0,0,0);const IE={},hi=Object.create(null),Is=Object.create(null);class wN{constructor(e,r,n){this._canvas=le.ADAPTER.createCanvas(),this._context=this._canvas.getContext("2d"),this.resolution=n||le.RESOLUTION,this.resize(e,r)}clear(){this._checkDestroyed(),this._context.setTransform(1,0,0,1,0,0),this._context.clearRect(0,0,this._canvas.width,this._canvas.height)}resize(e,r){this._checkDestroyed(),this._canvas.width=Math.round(e*this.resolution),this._canvas.height=Math.round(r*this.resolution)}destroy(){this._context=null,this._canvas=null}get width(){return this._checkDestroyed(),this._canvas.width}set width(e){this._checkDestroyed(),this._canvas.width=Math.round(e)}get height(){return this._checkDestroyed(),this._canvas.height}set height(e){this._checkDestroyed(),this._canvas.height=Math.round(e)}get canvas(){return this._checkDestroyed(),this._canvas}get context(){return this._checkDestroyed(),this._context}_checkDestroyed(){if(this._canvas===null)throw new TypeError("The CanvasRenderTarget has already been destroyed")}}function kE(t,e,r){for(let n=0,i=4*r*e;n<e;++n,i+=4)if(t[i+3]!==0)return!1;return!0}function ME(t,e,r,n,i){const s=4*e;for(let o=n,l=n*s+4*r;o<=i;++o,l+=s)if(t[l+3]!==0)return!1;return!0}function EN(t){const{width:e,height:r}=t,n=t.getContext("2d",{willReadFrequently:!0});if(n===null)throw new TypeError("Failed to get canvas 2D context");const i=n.getImageData(0,0,e,r).data;let s=0,o=0,l=e-1,c=r-1;for(;o<r&&kE(i,e,o);)++o;if(o===r)return Mv.EMPTY;for(;kE(i,e,c);)--c;for(;ME(i,e,s,o,c);)++s;for(;ME(i,e,l,o,c);)--l;return++l,++c,new Mv(s,o,l,c)}function TN(t){const e=EN(t),{width:r,height:n}=e;let i=null;if(!e.isEmpty()){const s=t.getContext("2d");if(s===null)throw new TypeError("Failed to get canvas 2D context");i=s.getImageData(e.left,e.top,r,n)}return{width:r,height:n,data:i}}let gd;function SN(t,e=globalThis.location){if(t.startsWith("data:"))return"";e=e||globalThis.location,gd||(gd=document.createElement("a")),gd.href=t;const r=nN.parse(gd.href),n=!r.port&&e.port===""||r.port===e.port;return r.hostname!==e.hostname||!n||r.protocol!==e.protocol?"anonymous":""}function ks(t,e=1){var n;const r=(n=le.RETINA_PREFIX)==null?void 0:n.exec(t);return r?parseFloat(r[1]):e}var ce=(t=>(t.Renderer="renderer",t.Application="application",t.RendererSystem="renderer-webgl-system",t.RendererPlugin="renderer-webgl-plugin",t.CanvasRendererSystem="renderer-canvas-system",t.CanvasRendererPlugin="renderer-canvas-plugin",t.Asset="asset",t.LoadParser="load-parser",t.ResolveParser="resolve-parser",t.CacheParser="cache-parser",t.DetectionParser="detection-parser",t))(ce||{});const Nv=t=>{if(typeof t=="function"||typeof t=="object"&&t.extension){if(!t.extension)throw new Error("Extension class must have an extension object");t={...typeof t.extension!="object"?{type:t.extension}:t.extension,ref:t}}if(typeof t=="object")t={...t};else throw new Error("Invalid extension type");return typeof t.type=="string"&&(t.type=[t.type]),t},NE=(t,e)=>Nv(t).priority??e,xe={_addHandlers:{},_removeHandlers:{},_queue:{},remove(...t){return t.map(Nv).forEach(e=>{e.type.forEach(r=>{var n,i;return(i=(n=this._removeHandlers)[r])==null?void 0:i.call(n,e)})}),this},add(...t){return t.map(Nv).forEach(e=>{e.type.forEach(r=>{const n=this._addHandlers,i=this._queue;n[r]?n[r](e):(i[r]=i[r]||[],i[r].push(e))})}),this},handle(t,e,r){const n=this._addHandlers,i=this._removeHandlers;if(n[t]||i[t])throw new Error(`Extension type ${t} already has a handler`);n[t]=e,i[t]=r;const s=this._queue;return s[t]&&(s[t].forEach(o=>e(o)),delete s[t]),this},handleByMap(t,e){return this.handle(t,r=>{e[r.name]=r.ref},r=>{delete e[r.name]})},handleByList(t,e,r=-1){return this.handle(t,n=>{e.includes(n.ref)||(e.push(n.ref),e.sort((i,s)=>NE(s,r)-NE(i,r)))},n=>{const i=e.indexOf(n.ref);i!==-1&&e.splice(i,1)})}};class Ov{constructor(e){typeof e=="number"?this.rawBinaryData=new ArrayBuffer(e):e instanceof Uint8Array?this.rawBinaryData=e.buffer:this.rawBinaryData=e,this.uint32View=new Uint32Array(this.rawBinaryData),this.float32View=new Float32Array(this.rawBinaryData)}get int8View(){return this._int8View||(this._int8View=new Int8Array(this.rawBinaryData)),this._int8View}get uint8View(){return this._uint8View||(this._uint8View=new Uint8Array(this.rawBinaryData)),this._uint8View}get int16View(){return this._int16View||(this._int16View=new Int16Array(this.rawBinaryData)),this._int16View}get uint16View(){return this._uint16View||(this._uint16View=new Uint16Array(this.rawBinaryData)),this._uint16View}get int32View(){return this._int32View||(this._int32View=new Int32Array(this.rawBinaryData)),this._int32View}view(e){return this[`${e}View`]}destroy(){this.rawBinaryData=null,this._int8View=null,this._uint8View=null,this._int16View=null,this._uint16View=null,this._int32View=null,this.uint32View=null,this.float32View=null}static sizeOf(e){switch(e){case"int8":case"uint8":return 1;case"int16":case"uint16":return 2;case"int32":case"uint32":case"float32":return 4;default:throw new Error(`${e} isn't a valid view type`)}}}const AN=["precision mediump float;","void main(void){","float test = 0.1;","%forloop%","gl_FragColor = vec4(0.0);","}"].join(`
`);function CN(t){let e="";for(let r=0;r<t;++r)r>0&&(e+=`
else `),r<t-1&&(e+=`if(test == ${r}.0){}`);return e}function PN(t,e){if(t===0)throw new Error("Invalid value of `0` passed to `checkMaxIfStatementsInShader`");const r=e.createShader(e.FRAGMENT_SHADER);for(;;){const n=AN.replace(/%forloop%/gi,CN(t));if(e.shaderSource(r,n),e.compileShader(r),!e.getShaderParameter(r,e.COMPILE_STATUS))t=t/2|0;else break}return t}const Dv=0,Lv=1,Bv=2,Fv=3,Uv=4,zv=5;class Vi{constructor(){this.data=0,this.blendMode=Se.NORMAL,this.polygonOffset=0,this.blend=!0,this.depthMask=!0}get blend(){return!!(this.data&1<<Dv)}set blend(e){!!(this.data&1<<Dv)!==e&&(this.data^=1<<Dv)}get offsets(){return!!(this.data&1<<Lv)}set offsets(e){!!(this.data&1<<Lv)!==e&&(this.data^=1<<Lv)}get culling(){return!!(this.data&1<<Bv)}set culling(e){!!(this.data&1<<Bv)!==e&&(this.data^=1<<Bv)}get depthTest(){return!!(this.data&1<<Fv)}set depthTest(e){!!(this.data&1<<Fv)!==e&&(this.data^=1<<Fv)}get depthMask(){return!!(this.data&1<<zv)}set depthMask(e){!!(this.data&1<<zv)!==e&&(this.data^=1<<zv)}get clockwiseFrontFace(){return!!(this.data&1<<Uv)}set clockwiseFrontFace(e){!!(this.data&1<<Uv)!==e&&(this.data^=1<<Uv)}get blendMode(){return this._blendMode}set blendMode(e){this.blend=e!==Se.NONE,this._blendMode=e}get polygonOffset(){return this._polygonOffset}set polygonOffset(e){this.offsets=!!e,this._polygonOffset=e}toString(){return`[@pixi/core:State blendMode=${this.blendMode} clockwiseFrontFace=${this.clockwiseFrontFace} culling=${this.culling} depthMask=${this.depthMask} polygonOffset=${this.polygonOffset}]`}static for2d(){const e=new Vi;return e.depthTest=!1,e.blend=!0,e}}const jv=[];function OE(t,e){if(!t)return null;let r="";if(typeof t=="string"){const n=/\.(\w{3,4})(?:$|\?|#)/i.exec(t);n&&(r=n[1].toLowerCase())}for(let n=jv.length-1;n>=0;--n){const i=jv[n];if(i.test&&i.test(t,r))return new i(t,e)}throw new Error("Unrecognized source type to auto-detect Resource")}class Dn{constructor(e){this.items=[],this._name=e,this._aliasCount=0}emit(e,r,n,i,s,o,l,c){if(arguments.length>8)throw new Error("max arguments reached");const{name:h,items:f}=this;this._aliasCount++;for(let p=0,m=f.length;p<m;p++)f[p][h](e,r,n,i,s,o,l,c);return f===this.items&&this._aliasCount--,this}ensureNonAliasedItems(){this._aliasCount>0&&this.items.length>1&&(this._aliasCount=0,this.items=this.items.slice(0))}add(e){return e[this._name]&&(this.ensureNonAliasedItems(),this.remove(e),this.items.push(e)),this}remove(e){const r=this.items.indexOf(e);return r!==-1&&(this.ensureNonAliasedItems(),this.items.splice(r,1)),this}contains(e){return this.items.includes(e)}removeAll(){return this.ensureNonAliasedItems(),this.items.length=0,this}destroy(){this.removeAll(),this.items=null,this._name=null}get empty(){return this.items.length===0}get name(){return this._name}}Object.defineProperties(Dn.prototype,{dispatch:{value:Dn.prototype.emit},run:{value:Dn.prototype.emit}});class Ou{constructor(e=0,r=0){this._width=e,this._height=r,this.destroyed=!1,this.internal=!1,this.onResize=new Dn("setRealSize"),this.onUpdate=new Dn("update"),this.onError=new Dn("onError")}bind(e){this.onResize.add(e),this.onUpdate.add(e),this.onError.add(e),(this._width||this._height)&&this.onResize.emit(this._width,this._height)}unbind(e){this.onResize.remove(e),this.onUpdate.remove(e),this.onError.remove(e)}resize(e,r){(e!==this._width||r!==this._height)&&(this._width=e,this._height=r,this.onResize.emit(e,r))}get valid(){return!!this._width&&!!this._height}update(){this.destroyed||this.onUpdate.emit()}load(){return Promise.resolve(this)}get width(){return this._width}get height(){return this._height}style(e,r,n){return!1}dispose(){}destroy(){this.destroyed||(this.destroyed=!0,this.dispose(),this.onError.removeAll(),this.onError=null,this.onResize.removeAll(),this.onResize=null,this.onUpdate.removeAll(),this.onUpdate=null)}static test(e,r){return!1}}class Du extends Ou{constructor(e,r){const{width:n,height:i}=r||{};if(!n||!i)throw new Error("BufferResource width or height invalid");super(n,i),this.data=e}upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Mn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}dispose(){this.data=null}static test(e){return e instanceof Float32Array||e instanceof Uint8Array||e instanceof Uint32Array}}const RN={scaleMode:zi.NEAREST,format:ne.RGBA,alphaMode:Mn.NPM},Ga=class extends Eu{constructor(t=null,e=null){super(),e=Object.assign({},Ga.defaultOptions,e);const{alphaMode:r,mipmap:n,anisotropicLevel:i,scaleMode:s,width:o,height:l,wrapMode:c,format:h,type:f,target:p,resolution:m,resourceOptions:y}=e;t&&!(t instanceof Ou)&&(t=OE(t,y),t.internal=!0),this.resolution=m||le.RESOLUTION,this.width=Math.round((o||0)*this.resolution)/this.resolution,this.height=Math.round((l||0)*this.resolution)/this.resolution,this._mipmap=n,this.anisotropicLevel=i,this._wrapMode=c,this._scaleMode=s,this.format=h,this.type=f,this.target=p,this.alphaMode=r,this.uid=xo(),this.touched=0,this.isPowerOfTwo=!1,this._refreshPOT(),this._glTextures={},this.dirtyId=0,this.dirtyStyleId=0,this.cacheId=null,this.valid=o>0&&l>0,this.textureCacheIds=[],this.destroyed=!1,this.resource=null,this._batchEnabled=0,this._batchLocation=0,this.parentTextureArray=null,this.setResource(t)}get realWidth(){return Math.round(this.width*this.resolution)}get realHeight(){return Math.round(this.height*this.resolution)}get mipmap(){return this._mipmap}set mipmap(t){this._mipmap!==t&&(this._mipmap=t,this.dirtyStyleId++)}get scaleMode(){return this._scaleMode}set scaleMode(t){this._scaleMode!==t&&(this._scaleMode=t,this.dirtyStyleId++)}get wrapMode(){return this._wrapMode}set wrapMode(t){this._wrapMode!==t&&(this._wrapMode=t,this.dirtyStyleId++)}setStyle(t,e){let r;return t!==void 0&&t!==this.scaleMode&&(this.scaleMode=t,r=!0),e!==void 0&&e!==this.mipmap&&(this.mipmap=e,r=!0),r&&this.dirtyStyleId++,this}setSize(t,e,r){return r=r||this.resolution,this.setRealSize(t*r,e*r,r)}setRealSize(t,e,r){return this.resolution=r||this.resolution,this.width=Math.round(t)/this.resolution,this.height=Math.round(e)/this.resolution,this._refreshPOT(),this.update(),this}_refreshPOT(){this.isPowerOfTwo=CE(this.realWidth)&&CE(this.realHeight)}setResolution(t){const e=this.resolution;return e===t?this:(this.resolution=t,this.valid&&(this.width=Math.round(this.width*e)/t,this.height=Math.round(this.height*e)/t,this.emit("update",this)),this._refreshPOT(),this)}setResource(t){if(this.resource===t)return this;if(this.resource)throw new Error("Resource can be set only once");return t.bind(this),this.resource=t,this}update(){this.valid?(this.dirtyId++,this.dirtyStyleId++,this.emit("update",this)):this.width>0&&this.height>0&&(this.valid=!0,this.emit("loaded",this),this.emit("update",this))}onError(t){this.emit("error",this,t)}destroy(){this.resource&&(this.resource.unbind(this),this.resource.internal&&this.resource.destroy(),this.resource=null),this.cacheId&&(delete Is[this.cacheId],delete hi[this.cacheId],this.cacheId=null),this.dispose(),Ga.removeFromCache(this),this.textureCacheIds=null,this.destroyed=!0}dispose(){this.emit("dispose",this)}castToBaseTexture(){return this}static from(t,e,r=le.STRICT_TEXTURE_CACHE){const n=typeof t=="string";let i=null;if(n)i=t;else{if(!t._pixiId){const o=(e==null?void 0:e.pixiIdPrefix)||"pixiid";t._pixiId=`${o}_${xo()}`}i=t._pixiId}let s=Is[i];if(n&&r&&!s)throw new Error(`The cacheId "${i}" does not exist in BaseTextureCache.`);return s||(s=new Ga(t,e),s.cacheId=i,Ga.addToCache(s,i)),s}static fromBuffer(t,e,r,n){t=t||new Float32Array(e*r*4);const i=new Du(t,{width:e,height:r}),s=t instanceof Float32Array?Ee.FLOAT:Ee.UNSIGNED_BYTE;return new Ga(i,Object.assign({},RN,{type:s},n))}static addToCache(t,e){e&&(t.textureCacheIds.includes(e)||t.textureCacheIds.push(e),Is[e]&&Is[e]!==t&&console.warn(`BaseTexture added to the cache with an id [${e}] that already had an entry`),Is[e]=t)}static removeFromCache(t){if(typeof t=="string"){const e=Is[t];if(e){const r=e.textureCacheIds.indexOf(t);return r>-1&&e.textureCacheIds.splice(r,1),delete Is[t],e}}else if(t!=null&&t.textureCacheIds){for(let e=0;e<t.textureCacheIds.length;++e)delete Is[t.textureCacheIds[e]];return t.textureCacheIds.length=0,t}return null}};let Ie=Ga;Ie.defaultOptions={mipmap:si.POW2,anisotropicLevel:0,scaleMode:zi.LINEAR,wrapMode:ji.CLAMP,alphaMode:Mn.UNPACK,target:Ia.TEXTURE_2D,format:ne.RGBA,type:Ee.UNSIGNED_BYTE},Ie._globalBatch=0;class Hv{constructor(){this.texArray=null,this.blend=0,this.type=kn.TRIANGLES,this.start=0,this.size=0,this.data=null}}let IN=0,jt=class D2{constructor(e,r=!0,n=!1){this.data=e||new Float32Array(1),this._glBuffers={},this._updateID=0,this.index=n,this.static=r,this.id=IN++,this.disposeRunner=new Dn("disposeBuffer")}update(e){e instanceof Array&&(e=new Float32Array(e)),this.data=e||this.data,this._updateID++}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.data=null}set index(e){this.type=e?ai.ELEMENT_ARRAY_BUFFER:ai.ARRAY_BUFFER}get index(){return this.type===ai.ELEMENT_ARRAY_BUFFER}static from(e){return e instanceof Array&&(e=new Float32Array(e)),new D2(e)}};class vd{constructor(e,r=0,n=!1,i=Ee.FLOAT,s,o,l,c=1){this.buffer=e,this.size=r,this.normalized=n,this.type=i,this.stride=s,this.start=o,this.instance=l,this.divisor=c}destroy(){this.buffer=null}static from(e,r,n,i,s){return new vd(e,r,n,i,s)}}const kN={Float32Array,Uint32Array,Int32Array,Uint8Array};function MN(t,e){let r=0,n=0;const i={};for(let c=0;c<t.length;c++)n+=e[c],r+=t[c].length;const s=new ArrayBuffer(r*4);let o=null,l=0;for(let c=0;c<t.length;c++){const h=e[c],f=t[c],p=AE(f);i[p]||(i[p]=new kN[p](s)),o=i[p];for(let m=0;m<f.length;m++){const y=(m/h|0)*n+l,_=m%h;o[y+_]=f[m]}l+=h}return new Float32Array(s)}const DE={5126:4,5123:2,5121:1};let NN=0;const ON={Float32Array,Uint32Array,Int32Array,Uint8Array,Uint16Array};class Ms{constructor(e=[],r={}){this.buffers=e,this.indexBuffer=null,this.attributes=r,this.glVertexArrayObjects={},this.id=NN++,this.instanced=!1,this.instanceCount=1,this.disposeRunner=new Dn("disposeGeometry"),this.refCount=0}addAttribute(e,r,n=0,i=!1,s,o,l,c=!1){if(!r)throw new Error("You must pass a buffer when creating an attribute");r instanceof jt||(r instanceof Array&&(r=new Float32Array(r)),r=new jt(r));const h=e.split("|");if(h.length>1){for(let p=0;p<h.length;p++)this.addAttribute(h[p],r,n,i,s);return this}let f=this.buffers.indexOf(r);return f===-1&&(this.buffers.push(r),f=this.buffers.length-1),this.attributes[e]=new vd(f,n,i,s,o,l,c),this.instanced=this.instanced||c,this}getAttribute(e){return this.attributes[e]}getBuffer(e){return this.buffers[this.getAttribute(e).buffer]}addIndex(e){return e instanceof jt||(e instanceof Array&&(e=new Uint16Array(e)),e=new jt(e)),e.type=ai.ELEMENT_ARRAY_BUFFER,this.indexBuffer=e,this.buffers.includes(e)||this.buffers.push(e),this}getIndex(){return this.indexBuffer}interleave(){if(this.buffers.length===1||this.buffers.length===2&&this.indexBuffer)return this;const e=[],r=[],n=new jt;let i;for(i in this.attributes){const s=this.attributes[i],o=this.buffers[s.buffer];e.push(o.data),r.push(s.size*DE[s.type]/4),s.buffer=0}for(n.data=MN(e,r),i=0;i<this.buffers.length;i++)this.buffers[i]!==this.indexBuffer&&this.buffers[i].destroy();return this.buffers=[n],this.indexBuffer&&this.buffers.push(this.indexBuffer),this}getSize(){for(const e in this.attributes){const r=this.attributes[e];return this.buffers[r.buffer].data.length/(r.stride/4||r.size)}return 0}dispose(){this.disposeRunner.emit(this,!1)}destroy(){this.dispose(),this.buffers=null,this.indexBuffer=null,this.attributes=null}clone(){const e=new Ms;for(let r=0;r<this.buffers.length;r++)e.buffers[r]=new jt(this.buffers[r].data.slice(0));for(const r in this.attributes){const n=this.attributes[r];e.attributes[r]=new vd(n.buffer,n.size,n.normalized,n.type,n.stride,n.start,n.instance)}return this.indexBuffer&&(e.indexBuffer=e.buffers[this.buffers.indexOf(this.indexBuffer)],e.indexBuffer.type=ai.ELEMENT_ARRAY_BUFFER),e}static merge(e){const r=new Ms,n=[],i=[],s=[];let o;for(let l=0;l<e.length;l++){o=e[l];for(let c=0;c<o.buffers.length;c++)i[c]=i[c]||0,i[c]+=o.buffers[c].data.length,s[c]=0}for(let l=0;l<o.buffers.length;l++)n[l]=new ON[AE(o.buffers[l].data)](i[l]),r.buffers[l]=new jt(n[l]);for(let l=0;l<e.length;l++){o=e[l];for(let c=0;c<o.buffers.length;c++)n[c].set(o.buffers[c].data,s[c]),s[c]+=o.buffers[c].data.length}if(r.attributes=o.attributes,o.indexBuffer){r.indexBuffer=r.buffers[o.buffers.indexOf(o.indexBuffer)],r.indexBuffer.type=ai.ELEMENT_ARRAY_BUFFER;let l=0,c=0,h=0,f=0;for(let p=0;p<o.buffers.length;p++)if(o.buffers[p]!==o.indexBuffer){f=p;break}for(const p in o.attributes){const m=o.attributes[p];(m.buffer|0)===f&&(c+=m.size*DE[m.type]/4)}for(let p=0;p<e.length;p++){const m=e[p].indexBuffer.data;for(let y=0;y<m.length;y++)r.indexBuffer.data[y+h]+=l;l+=e[p].buffers[f].data.length/c,h+=m.length}}return r}}class LE extends Ms{constructor(e=!1){super(),this._buffer=new jt(null,e,!1),this._indexBuffer=new jt(null,e,!0),this.addAttribute("aVertexPosition",this._buffer,2,!1,Ee.FLOAT).addAttribute("aTextureCoord",this._buffer,2,!1,Ee.FLOAT).addAttribute("aColor",this._buffer,4,!0,Ee.UNSIGNED_BYTE).addAttribute("aTextureId",this._buffer,1,!0,Ee.FLOAT).addIndex(this._indexBuffer)}}const yd=Math.PI*2,DN=180/Math.PI,LN=Math.PI/180;var or=(t=>(t[t.POLY=0]="POLY",t[t.RECT=1]="RECT",t[t.CIRC=2]="CIRC",t[t.ELIP=3]="ELIP",t[t.RREC=4]="RREC",t))(or||{});class je{constructor(e=0,r=0){this.x=0,this.y=0,this.x=e,this.y=r}clone(){return new je(this.x,this.y)}copyFrom(e){return this.set(e.x,e.y),this}copyTo(e){return e.set(this.x,this.y),e}equals(e){return e.x===this.x&&e.y===this.y}set(e=0,r=e){return this.x=e,this.y=r,this}toString(){return`[@pixi/math:Point x=${this.x} y=${this.y}]`}}const _d=[new je,new je,new je,new je];class De{constructor(e=0,r=0,n=0,i=0){this.x=Number(e),this.y=Number(r),this.width=Number(n),this.height=Number(i),this.type=or.RECT}get left(){return this.x}get right(){return this.x+this.width}get top(){return this.y}get bottom(){return this.y+this.height}static get EMPTY(){return new De(0,0,0,0)}clone(){return new De(this.x,this.y,this.width,this.height)}copyFrom(e){return this.x=e.x,this.y=e.y,this.width=e.width,this.height=e.height,this}copyTo(e){return e.x=this.x,e.y=this.y,e.width=this.width,e.height=this.height,e}contains(e,r){return this.width<=0||this.height<=0?!1:e>=this.x&&e<this.x+this.width&&r>=this.y&&r<this.y+this.height}intersects(e,r){if(!r){const M=this.x<e.x?e.x:this.x;if((this.right>e.right?e.right:this.right)<=M)return!1;const q=this.y<e.y?e.y:this.y;return(this.bottom>e.bottom?e.bottom:this.bottom)>q}const n=this.left,i=this.right,s=this.top,o=this.bottom;if(i<=n||o<=s)return!1;const l=_d[0].set(e.left,e.top),c=_d[1].set(e.left,e.bottom),h=_d[2].set(e.right,e.top),f=_d[3].set(e.right,e.bottom);if(h.x<=l.x||c.y<=l.y)return!1;const p=Math.sign(r.a*r.d-r.b*r.c);if(p===0||(r.apply(l,l),r.apply(c,c),r.apply(h,h),r.apply(f,f),Math.max(l.x,c.x,h.x,f.x)<=n||Math.min(l.x,c.x,h.x,f.x)>=i||Math.max(l.y,c.y,h.y,f.y)<=s||Math.min(l.y,c.y,h.y,f.y)>=o))return!1;const m=p*(c.y-l.y),y=p*(l.x-c.x),_=m*n+y*s,w=m*i+y*s,A=m*n+y*o,E=m*i+y*o;if(Math.max(_,w,A,E)<=m*l.x+y*l.y||Math.min(_,w,A,E)>=m*f.x+y*f.y)return!1;const x=p*(l.y-h.y),S=p*(h.x-l.x),T=x*n+S*s,R=x*i+S*s,L=x*n+S*o,I=x*i+S*o;return!(Math.max(T,R,L,I)<=x*l.x+S*l.y||Math.min(T,R,L,I)>=x*f.x+S*f.y)}pad(e=0,r=e){return this.x-=e,this.y-=r,this.width+=e*2,this.height+=r*2,this}fit(e){const r=Math.max(this.x,e.x),n=Math.min(this.x+this.width,e.x+e.width),i=Math.max(this.y,e.y),s=Math.min(this.y+this.height,e.y+e.height);return this.x=r,this.width=Math.max(n-r,0),this.y=i,this.height=Math.max(s-i,0),this}ceil(e=1,r=.001){const n=Math.ceil((this.x+this.width-r)*e)/e,i=Math.ceil((this.y+this.height-r)*e)/e;return this.x=Math.floor((this.x+r)*e)/e,this.y=Math.floor((this.y+r)*e)/e,this.width=n-this.x,this.height=i-this.y,this}enlarge(e){const r=Math.min(this.x,e.x),n=Math.max(this.x+this.width,e.x+e.width),i=Math.min(this.y,e.y),s=Math.max(this.y+this.height,e.y+e.height);return this.x=r,this.width=n-r,this.y=i,this.height=s-i,this}toString(){return`[@pixi/math:Rectangle x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Gv{constructor(e=0,r=0,n=0){this.x=e,this.y=r,this.radius=n,this.type=or.CIRC}clone(){return new Gv(this.x,this.y,this.radius)}contains(e,r){if(this.radius<=0)return!1;const n=this.radius*this.radius;let i=this.x-e,s=this.y-r;return i*=i,s*=s,i+s<=n}getBounds(){return new De(this.x-this.radius,this.y-this.radius,this.radius*2,this.radius*2)}toString(){return`[@pixi/math:Circle x=${this.x} y=${this.y} radius=${this.radius}]`}}class Wv{constructor(e=0,r=0,n=0,i=0){this.x=e,this.y=r,this.width=n,this.height=i,this.type=or.ELIP}clone(){return new Wv(this.x,this.y,this.width,this.height)}contains(e,r){if(this.width<=0||this.height<=0)return!1;let n=(e-this.x)/this.width,i=(r-this.y)/this.height;return n*=n,i*=i,n+i<=1}getBounds(){return new De(this.x-this.width,this.y-this.height,this.width,this.height)}toString(){return`[@pixi/math:Ellipse x=${this.x} y=${this.y} width=${this.width} height=${this.height}]`}}class Wa{constructor(...e){let r=Array.isArray(e[0])?e[0]:e;if(typeof r[0]!="number"){const n=[];for(let i=0,s=r.length;i<s;i++)n.push(r[i].x,r[i].y);r=n}this.points=r,this.type=or.POLY,this.closeStroke=!0}clone(){const e=this.points.slice(),r=new Wa(e);return r.closeStroke=this.closeStroke,r}contains(e,r){let n=!1;const i=this.points.length/2;for(let s=0,o=i-1;s<i;o=s++){const l=this.points[s*2],c=this.points[s*2+1],h=this.points[o*2],f=this.points[o*2+1];c>r!=f>r&&e<(h-l)*((r-c)/(f-c))+l&&(n=!n)}return n}toString(){return`[@pixi/math:PolygoncloseStroke=${this.closeStroke}points=${this.points.reduce((e,r)=>`${e}, ${r}`,"")}]`}}class $v{constructor(e=0,r=0,n=0,i=0,s=20){this.x=e,this.y=r,this.width=n,this.height=i,this.radius=s,this.type=or.RREC}clone(){return new $v(this.x,this.y,this.width,this.height,this.radius)}contains(e,r){if(this.width<=0||this.height<=0)return!1;if(e>=this.x&&e<=this.x+this.width&&r>=this.y&&r<=this.y+this.height){const n=Math.max(0,Math.min(this.radius,Math.min(this.width,this.height)/2));if(r>=this.y+n&&r<=this.y+this.height-n||e>=this.x+n&&e<=this.x+this.width-n)return!0;let i=e-(this.x+n),s=r-(this.y+n);const o=n*n;if(i*i+s*s<=o||(i=e-(this.x+this.width-n),i*i+s*s<=o)||(s=r-(this.y+this.height-n),i*i+s*s<=o)||(i=e-(this.x+n),i*i+s*s<=o))return!0}return!1}toString(){return`[@pixi/math:RoundedRectangle x=${this.x} y=${this.y}width=${this.width} height=${this.height} radius=${this.radius}]`}}class ht{constructor(e=1,r=0,n=0,i=1,s=0,o=0){this.array=null,this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o}fromArray(e){this.a=e[0],this.b=e[1],this.c=e[3],this.d=e[4],this.tx=e[2],this.ty=e[5]}set(e,r,n,i,s,o){return this.a=e,this.b=r,this.c=n,this.d=i,this.tx=s,this.ty=o,this}toArray(e,r){this.array||(this.array=new Float32Array(9));const n=r||this.array;return e?(n[0]=this.a,n[1]=this.b,n[2]=0,n[3]=this.c,n[4]=this.d,n[5]=0,n[6]=this.tx,n[7]=this.ty,n[8]=1):(n[0]=this.a,n[1]=this.c,n[2]=this.tx,n[3]=this.b,n[4]=this.d,n[5]=this.ty,n[6]=0,n[7]=0,n[8]=1),n}apply(e,r){r=r||new je;const n=e.x,i=e.y;return r.x=this.a*n+this.c*i+this.tx,r.y=this.b*n+this.d*i+this.ty,r}applyInverse(e,r){r=r||new je;const n=1/(this.a*this.d+this.c*-this.b),i=e.x,s=e.y;return r.x=this.d*n*i+-this.c*n*s+(this.ty*this.c-this.tx*this.d)*n,r.y=this.a*n*s+-this.b*n*i+(-this.ty*this.a+this.tx*this.b)*n,r}translate(e,r){return this.tx+=e,this.ty+=r,this}scale(e,r){return this.a*=e,this.d*=r,this.c*=e,this.b*=r,this.tx*=e,this.ty*=r,this}rotate(e){const r=Math.cos(e),n=Math.sin(e),i=this.a,s=this.c,o=this.tx;return this.a=i*r-this.b*n,this.b=i*n+this.b*r,this.c=s*r-this.d*n,this.d=s*n+this.d*r,this.tx=o*r-this.ty*n,this.ty=o*n+this.ty*r,this}append(e){const r=this.a,n=this.b,i=this.c,s=this.d;return this.a=e.a*r+e.b*i,this.b=e.a*n+e.b*s,this.c=e.c*r+e.d*i,this.d=e.c*n+e.d*s,this.tx=e.tx*r+e.ty*i+this.tx,this.ty=e.tx*n+e.ty*s+this.ty,this}setTransform(e,r,n,i,s,o,l,c,h){return this.a=Math.cos(l+h)*s,this.b=Math.sin(l+h)*s,this.c=-Math.sin(l-c)*o,this.d=Math.cos(l-c)*o,this.tx=e-(n*this.a+i*this.c),this.ty=r-(n*this.b+i*this.d),this}prepend(e){const r=this.tx;if(e.a!==1||e.b!==0||e.c!==0||e.d!==1){const n=this.a,i=this.c;this.a=n*e.a+this.b*e.c,this.b=n*e.b+this.b*e.d,this.c=i*e.a+this.d*e.c,this.d=i*e.b+this.d*e.d}return this.tx=r*e.a+this.ty*e.c+e.tx,this.ty=r*e.b+this.ty*e.d+e.ty,this}decompose(e){const r=this.a,n=this.b,i=this.c,s=this.d,o=e.pivot,l=-Math.atan2(-i,s),c=Math.atan2(n,r),h=Math.abs(l+c);return h<1e-5||Math.abs(yd-h)<1e-5?(e.rotation=c,e.skew.x=e.skew.y=0):(e.rotation=0,e.skew.x=l,e.skew.y=c),e.scale.x=Math.sqrt(r*r+n*n),e.scale.y=Math.sqrt(i*i+s*s),e.position.x=this.tx+(o.x*r+o.y*i),e.position.y=this.ty+(o.x*n+o.y*s),e}invert(){const e=this.a,r=this.b,n=this.c,i=this.d,s=this.tx,o=e*i-r*n;return this.a=i/o,this.b=-r/o,this.c=-n/o,this.d=e/o,this.tx=(n*this.ty-i*s)/o,this.ty=-(e*this.ty-r*s)/o,this}identity(){return this.a=1,this.b=0,this.c=0,this.d=1,this.tx=0,this.ty=0,this}clone(){const e=new ht;return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyTo(e){return e.a=this.a,e.b=this.b,e.c=this.c,e.d=this.d,e.tx=this.tx,e.ty=this.ty,e}copyFrom(e){return this.a=e.a,this.b=e.b,this.c=e.c,this.d=e.d,this.tx=e.tx,this.ty=e.ty,this}toString(){return`[@pixi/math:Matrix a=${this.a} b=${this.b} c=${this.c} d=${this.d} tx=${this.tx} ty=${this.ty}]`}static get IDENTITY(){return new ht}static get TEMP_MATRIX(){return new ht}}const wo=[1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1,0,1],Eo=[0,1,1,1,0,-1,-1,-1,0,1,1,1,0,-1,-1,-1],To=[0,-1,-1,-1,0,1,1,1,0,1,1,1,0,-1,-1,-1],So=[1,1,0,-1,-1,-1,0,1,-1,-1,0,1,1,1,0,-1],Vv=[],BE=[],bd=Math.sign;function BN(){for(let t=0;t<16;t++){const e=[];Vv.push(e);for(let r=0;r<16;r++){const n=bd(wo[t]*wo[r]+To[t]*Eo[r]),i=bd(Eo[t]*wo[r]+So[t]*Eo[r]),s=bd(wo[t]*To[r]+To[t]*So[r]),o=bd(Eo[t]*To[r]+So[t]*So[r]);for(let l=0;l<16;l++)if(wo[l]===n&&Eo[l]===i&&To[l]===s&&So[l]===o){e.push(l);break}}}for(let t=0;t<16;t++){const e=new ht;e.set(wo[t],Eo[t],To[t],So[t],0,0),BE.push(e)}}BN();const Et={E:0,SE:1,S:2,SW:3,W:4,NW:5,N:6,NE:7,MIRROR_VERTICAL:8,MAIN_DIAGONAL:10,MIRROR_HORIZONTAL:12,REVERSE_DIAGONAL:14,uX:t=>wo[t],uY:t=>Eo[t],vX:t=>To[t],vY:t=>So[t],inv:t=>t&8?t&15:-t&7,add:(t,e)=>Vv[t][e],sub:(t,e)=>Vv[t][Et.inv(e)],rotate180:t=>t^4,isVertical:t=>(t&3)===2,byDirection:(t,e)=>Math.abs(t)*2<=Math.abs(e)?e>=0?Et.S:Et.N:Math.abs(e)*2<=Math.abs(t)?t>0?Et.E:Et.W:e>0?t>0?Et.SE:Et.SW:t>0?Et.NE:Et.NW,matrixAppendRotationInv:(t,e,r=0,n=0)=>{const i=BE[Et.inv(e)];i.tx=r,i.ty=n,t.append(i)}};class Xi{constructor(e,r,n=0,i=0){this._x=n,this._y=i,this.cb=e,this.scope=r}clone(e=this.cb,r=this.scope){return new Xi(e,r,this._x,this._y)}set(e=0,r=e){return(this._x!==e||this._y!==r)&&(this._x=e,this._y=r,this.cb.call(this.scope)),this}copyFrom(e){return(this._x!==e.x||this._y!==e.y)&&(this._x=e.x,this._y=e.y,this.cb.call(this.scope)),this}copyTo(e){return e.set(this._x,this._y),e}equals(e){return e.x===this._x&&e.y===this._y}toString(){return`[@pixi/math:ObservablePoint x=0 y=0 scope=${this.scope}]`}get x(){return this._x}set x(e){this._x!==e&&(this._x=e,this.cb.call(this.scope))}get y(){return this._y}set y(e){this._y!==e&&(this._y=e,this.cb.call(this.scope))}}const FE=class{constructor(){this.worldTransform=new ht,this.localTransform=new ht,this.position=new Xi(this.onChange,this,0,0),this.scale=new Xi(this.onChange,this,1,1),this.pivot=new Xi(this.onChange,this,0,0),this.skew=new Xi(this.updateSkew,this,0,0),this._rotation=0,this._cx=1,this._sx=0,this._cy=0,this._sy=1,this._localID=0,this._currentLocalID=0,this._worldID=0,this._parentID=0}onChange(){this._localID++}updateSkew(){this._cx=Math.cos(this._rotation+this.skew.y),this._sx=Math.sin(this._rotation+this.skew.y),this._cy=-Math.sin(this._rotation-this.skew.x),this._sy=Math.cos(this._rotation-this.skew.x),this._localID++}toString(){return`[@pixi/math:Transform position=(${this.position.x}, ${this.position.y}) rotation=${this.rotation} scale=(${this.scale.x}, ${this.scale.y}) skew=(${this.skew.x}, ${this.skew.y}) ]`}updateLocalTransform(){const t=this.localTransform;this._localID!==this._currentLocalID&&(t.a=this._cx*this.scale.x,t.b=this._sx*this.scale.x,t.c=this._cy*this.scale.y,t.d=this._sy*this.scale.y,t.tx=this.position.x-(this.pivot.x*t.a+this.pivot.y*t.c),t.ty=this.position.y-(this.pivot.x*t.b+this.pivot.y*t.d),this._currentLocalID=this._localID,this._parentID=-1)}updateTransform(t){const e=this.localTransform;if(this._localID!==this._currentLocalID&&(e.a=this._cx*this.scale.x,e.b=this._sx*this.scale.x,e.c=this._cy*this.scale.y,e.d=this._sy*this.scale.y,e.tx=this.position.x-(this.pivot.x*e.a+this.pivot.y*e.c),e.ty=this.position.y-(this.pivot.x*e.b+this.pivot.y*e.d),this._currentLocalID=this._localID,this._parentID=-1),this._parentID!==t._worldID){const r=t.worldTransform,n=this.worldTransform;n.a=e.a*r.a+e.b*r.c,n.b=e.a*r.b+e.b*r.d,n.c=e.c*r.a+e.d*r.c,n.d=e.c*r.b+e.d*r.d,n.tx=e.tx*r.a+e.ty*r.c+r.tx,n.ty=e.tx*r.b+e.ty*r.d+r.ty,this._parentID=t._worldID,this._worldID++}}setFromMatrix(t){t.decompose(this),this._localID++}get rotation(){return this._rotation}set rotation(t){this._rotation!==t&&(this._rotation=t,this.updateSkew())}};let xd=FE;xd.IDENTITY=new FE;var FN=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor *= texture2D(uSampler, vTextureCoord);
}`,UN=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void){
   gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
   vTextureCoord = aTextureCoord;
}
`;function UE(t,e,r){const n=t.createShader(e);return t.shaderSource(n,r),t.compileShader(n),n}function Xv(t){const e=new Array(t);for(let r=0;r<e.length;r++)e[r]=!1;return e}function zE(t,e){switch(t){case"float":return 0;case"vec2":return new Float32Array(2*e);case"vec3":return new Float32Array(3*e);case"vec4":return new Float32Array(4*e);case"int":case"uint":case"sampler2D":case"sampler2DArray":return 0;case"ivec2":return new Int32Array(2*e);case"ivec3":return new Int32Array(3*e);case"ivec4":return new Int32Array(4*e);case"uvec2":return new Uint32Array(2*e);case"uvec3":return new Uint32Array(3*e);case"uvec4":return new Uint32Array(4*e);case"bool":return!1;case"bvec2":return Xv(2*e);case"bvec3":return Xv(3*e);case"bvec4":return Xv(4*e);case"mat2":return new Float32Array([1,0,0,1]);case"mat3":return new Float32Array([1,0,0,0,1,0,0,0,1]);case"mat4":return new Float32Array([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1])}return null}const $a=[{test:t=>t.type==="float"&&t.size===1&&!t.isArray,code:t=>`
            if(uv["${t}"] !== ud["${t}"].value)
            {
                ud["${t}"].value = uv["${t}"]
                gl.uniform1f(ud["${t}"].location, uv["${t}"])
            }
            `},{test:(t,e)=>(t.type==="sampler2D"||t.type==="samplerCube"||t.type==="sampler2DArray")&&t.size===1&&!t.isArray&&(e==null||e.castToBaseTexture!==void 0),code:t=>`t = syncData.textureCount++;

            renderer.texture.bind(uv["${t}"], t);

            if(ud["${t}"].value !== t)
            {
                ud["${t}"].value = t;
                gl.uniform1i(ud["${t}"].location, t);
; // eslint-disable-line max-len
            }`},{test:(t,e)=>t.type==="mat3"&&t.size===1&&!t.isArray&&e.a!==void 0,code:t=>`
            gl.uniformMatrix3fv(ud["${t}"].location, false, uv["${t}"].toArray(true));
            `,codeUbo:t=>`
                var ${t}_matrix = uv.${t}.toArray(true);

                data[offset] = ${t}_matrix[0];
                data[offset+1] = ${t}_matrix[1];
                data[offset+2] = ${t}_matrix[2];
        
                data[offset + 4] = ${t}_matrix[3];
                data[offset + 5] = ${t}_matrix[4];
                data[offset + 6] = ${t}_matrix[5];
        
                data[offset + 8] = ${t}_matrix[6];
                data[offset + 9] = ${t}_matrix[7];
                data[offset + 10] = ${t}_matrix[8];
            `},{test:(t,e)=>t.type==="vec2"&&t.size===1&&!t.isArray&&e.x!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    gl.uniform2f(ud["${t}"].location, v.x, v.y);
                }`,codeUbo:t=>`
                v = uv.${t};

                data[offset] = v.x;
                data[offset+1] = v.y;
            `},{test:t=>t.type==="vec2"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    gl.uniform2f(ud["${t}"].location, v[0], v[1]);
                }
            `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.width!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.x || cv[1] !== v.y || cv[2] !== v.width || cv[3] !== v.height)
                {
                    cv[0] = v.x;
                    cv[1] = v.y;
                    cv[2] = v.width;
                    cv[3] = v.height;
                    gl.uniform4f(ud["${t}"].location, v.x, v.y, v.width, v.height)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.x;
                    data[offset+1] = v.y;
                    data[offset+2] = v.width;
                    data[offset+3] = v.height;
                `},{test:(t,e)=>t.type==="vec4"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.alpha)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
                    cv[3] = v.alpha;
                    gl.uniform4f(ud["${t}"].location, v.red, v.green, v.blue, v.alpha)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                    data[offset+3] = v.alpha;
                `},{test:(t,e)=>t.type==="vec3"&&t.size===1&&!t.isArray&&e.red!==void 0,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v.red || cv[1] !== v.green || cv[2] !== v.blue || cv[3] !== v.a)
                {
                    cv[0] = v.red;
                    cv[1] = v.green;
                    cv[2] = v.blue;
    
                    gl.uniform3f(ud["${t}"].location, v.red, v.green, v.blue)
                }`,codeUbo:t=>`
                    v = uv.${t};

                    data[offset] = v.red;
                    data[offset+1] = v.green;
                    data[offset+2] = v.blue;
                `},{test:t=>t.type==="vec4"&&t.size===1&&!t.isArray,code:t=>`
                cv = ud["${t}"].value;
                v = uv["${t}"];

                if(cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
                {
                    cv[0] = v[0];
                    cv[1] = v[1];
                    cv[2] = v[2];
                    cv[3] = v[3];

                    gl.uniform4f(ud["${t}"].location, v[0], v[1], v[2], v[3])
                }`}],zN={float:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1f(location, v);
    }`,vec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2f(location, v[0], v[1])
    }`,vec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3f(location, v[0], v[1], v[2])
    }`,vec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4f(location, v[0], v[1], v[2], v[3]);
    }`,int:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,ivec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,ivec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,ivec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,uint:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1ui(location, v);
    }`,uvec2:`
    if (cv[0] !== v[0] || cv[1] !== v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2ui(location, v[0], v[1]);
    }`,uvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3ui(location, v[0], v[1], v[2]);
    }`,uvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4ui(location, v[0], v[1], v[2], v[3]);
    }`,bool:`
    if (cv !== v)
    {
        cu.value = v;
        gl.uniform1i(location, v);
    }`,bvec2:`
    if (cv[0] != v[0] || cv[1] != v[1])
    {
        cv[0] = v[0];
        cv[1] = v[1];

        gl.uniform2i(location, v[0], v[1]);
    }`,bvec3:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];

        gl.uniform3i(location, v[0], v[1], v[2]);
    }`,bvec4:`
    if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3])
    {
        cv[0] = v[0];
        cv[1] = v[1];
        cv[2] = v[2];
        cv[3] = v[3];

        gl.uniform4i(location, v[0], v[1], v[2], v[3]);
    }`,mat2:"gl.uniformMatrix2fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",sampler2D:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,samplerCube:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`,sampler2DArray:`
    if (cv !== v)
    {
        cu.value = v;

        gl.uniform1i(location, v);
    }`},jN={float:"gl.uniform1fv(location, v)",vec2:"gl.uniform2fv(location, v)",vec3:"gl.uniform3fv(location, v)",vec4:"gl.uniform4fv(location, v)",mat4:"gl.uniformMatrix4fv(location, false, v)",mat3:"gl.uniformMatrix3fv(location, false, v)",mat2:"gl.uniformMatrix2fv(location, false, v)",int:"gl.uniform1iv(location, v)",ivec2:"gl.uniform2iv(location, v)",ivec3:"gl.uniform3iv(location, v)",ivec4:"gl.uniform4iv(location, v)",uint:"gl.uniform1uiv(location, v)",uvec2:"gl.uniform2uiv(location, v)",uvec3:"gl.uniform3uiv(location, v)",uvec4:"gl.uniform4uiv(location, v)",bool:"gl.uniform1iv(location, v)",bvec2:"gl.uniform2iv(location, v)",bvec3:"gl.uniform3iv(location, v)",bvec4:"gl.uniform4iv(location, v)",sampler2D:"gl.uniform1iv(location, v)",samplerCube:"gl.uniform1iv(location, v)",sampler2DArray:"gl.uniform1iv(location, v)"};function HN(t,e){var n;const r=[`
        var v = null;
        var cv = null;
        var cu = null;
        var t = 0;
        var gl = renderer.gl;
    `];for(const i in t.uniforms){const s=e[i];if(!s){(n=t.uniforms[i])!=null&&n.group&&(t.uniforms[i].ubo?r.push(`
                        renderer.shader.syncUniformBufferGroup(uv.${i}, '${i}');
                    `):r.push(`
                        renderer.shader.syncUniformGroup(uv.${i}, syncData);
                    `));continue}const o=t.uniforms[i];let l=!1;for(let c=0;c<$a.length;c++)if($a[c].test(s,o)){r.push($a[c].code(i,o)),l=!0;break}if(!l){const c=(s.size===1&&!s.isArray?zN:jN)[s.type].replace("location",`ud["${i}"].location`);r.push(`
            cu = ud["${i}"];
            cv = cu.value;
            v = uv["${i}"];
            ${c};`)}}return new Function("ud","uv","renderer","syncData",r.join(`
`))}const jE={};let Va=jE;function GN(){if(Va===jE||Va!=null&&Va.isContextLost()){const t=le.ADAPTER.createCanvas();let e;le.PREFER_ENV>=go.WEBGL2&&(e=t.getContext("webgl2",{})),e||(e=t.getContext("webgl",{})||t.getContext("experimental-webgl",{}),e?e.getExtension("WEBGL_draw_buffers"):e=null),Va=e}return Va}let wd;function WN(){if(!wd){wd=dn.MEDIUM;const t=GN();t&&t.getShaderPrecisionFormat&&(wd=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision?dn.HIGH:dn.MEDIUM)}return wd}function HE(t,e){const r=t.getShaderSource(e).split(`
`).map((h,f)=>`${f}: ${h}`),n=t.getShaderInfoLog(e),i=n.split(`
`),s={},o=i.map(h=>parseFloat(h.replace(/^ERROR\: 0\:([\d]+)\:.*$/,"$1"))).filter(h=>h&&!s[h]?(s[h]=!0,!0):!1),l=[""];o.forEach(h=>{r[h-1]=`%c${r[h-1]}%c`,l.push("background: #FF0000; color:#FFFFFF; font-size: 10px","font-size: 10px")});const c=r.join(`
`);l[0]=c,console.error(n),console.groupCollapsed("click to view full shader code"),console.warn(...l),console.groupEnd()}function $N(t,e,r,n){t.getProgramParameter(e,t.LINK_STATUS)||(t.getShaderParameter(r,t.COMPILE_STATUS)||HE(t,r),t.getShaderParameter(n,t.COMPILE_STATUS)||HE(t,n),console.error("PixiJS Error: Could not initialize shader."),t.getProgramInfoLog(e)!==""&&console.warn("PixiJS Warning: gl.getProgramInfoLog()",t.getProgramInfoLog(e)))}const VN={float:1,vec2:2,vec3:3,vec4:4,int:1,ivec2:2,ivec3:3,ivec4:4,uint:1,uvec2:2,uvec3:3,uvec4:4,bool:1,bvec2:2,bvec3:3,bvec4:4,mat2:4,mat3:9,mat4:16,sampler2D:1};function GE(t){return VN[t]}let Ed=null;const WE={FLOAT:"float",FLOAT_VEC2:"vec2",FLOAT_VEC3:"vec3",FLOAT_VEC4:"vec4",INT:"int",INT_VEC2:"ivec2",INT_VEC3:"ivec3",INT_VEC4:"ivec4",UNSIGNED_INT:"uint",UNSIGNED_INT_VEC2:"uvec2",UNSIGNED_INT_VEC3:"uvec3",UNSIGNED_INT_VEC4:"uvec4",BOOL:"bool",BOOL_VEC2:"bvec2",BOOL_VEC3:"bvec3",BOOL_VEC4:"bvec4",FLOAT_MAT2:"mat2",FLOAT_MAT3:"mat3",FLOAT_MAT4:"mat4",SAMPLER_2D:"sampler2D",INT_SAMPLER_2D:"sampler2D",UNSIGNED_INT_SAMPLER_2D:"sampler2D",SAMPLER_CUBE:"samplerCube",INT_SAMPLER_CUBE:"samplerCube",UNSIGNED_INT_SAMPLER_CUBE:"samplerCube",SAMPLER_2D_ARRAY:"sampler2DArray",INT_SAMPLER_2D_ARRAY:"sampler2DArray",UNSIGNED_INT_SAMPLER_2D_ARRAY:"sampler2DArray"};function $E(t,e){if(!Ed){const r=Object.keys(WE);Ed={};for(let n=0;n<r.length;++n){const i=r[n];Ed[t[i]]=WE[i]}}return Ed[e]}function VE(t,e,r){if(t.substring(0,9)!=="precision"){let n=e;return e===dn.HIGH&&r!==dn.HIGH&&(n=dn.MEDIUM),`precision ${n} float;
${t}`}else if(r!==dn.HIGH&&t.substring(0,15)==="precision highp")return t.replace("precision highp","precision mediump");return t}let Lu;function XN(){if(typeof Lu=="boolean")return Lu;try{Lu=new Function("param1","param2","param3","return param1[param2] === param3;")({a:"b"},"a","b")===!0}catch{Lu=!1}return Lu}let YN=0;const Td={},Xa=class{constructor(t,e,r="pixi-shader",n={}){this.extra={},this.id=YN++,this.vertexSrc=t||Xa.defaultVertexSrc,this.fragmentSrc=e||Xa.defaultFragmentSrc,this.vertexSrc=this.vertexSrc.trim(),this.fragmentSrc=this.fragmentSrc.trim(),this.extra=n,this.vertexSrc.substring(0,8)!=="#version"&&(r=r.replace(/\s+/g,"-"),Td[r]?(Td[r]++,r+=`-${Td[r]}`):Td[r]=1,this.vertexSrc=`#define SHADER_NAME ${r}
${this.vertexSrc}`,this.fragmentSrc=`#define SHADER_NAME ${r}
${this.fragmentSrc}`,this.vertexSrc=VE(this.vertexSrc,Xa.defaultVertexPrecision,dn.HIGH),this.fragmentSrc=VE(this.fragmentSrc,Xa.defaultFragmentPrecision,WN())),this.glPrograms={},this.syncUniforms=null}static get defaultVertexSrc(){return UN}static get defaultFragmentSrc(){return FN}static from(t,e,r){const n=t+e;let i=IE[n];return i||(IE[n]=i=new Xa(t,e,r)),i}};let Ln=Xa;Ln.defaultVertexPrecision=dn.HIGH,Ln.defaultFragmentPrecision=Gi.apple.device?dn.HIGH:dn.MEDIUM;let qN=0;class Bn{constructor(e,r,n){this.group=!0,this.syncUniforms={},this.dirtyId=0,this.id=qN++,this.static=!!r,this.ubo=!!n,e instanceof jt?(this.buffer=e,this.buffer.type=ai.UNIFORM_BUFFER,this.autoManage=!1,this.ubo=!0):(this.uniforms=e,this.ubo&&(this.buffer=new jt(new Float32Array(1)),this.buffer.type=ai.UNIFORM_BUFFER,this.autoManage=!0))}update(){this.dirtyId++,!this.autoManage&&this.buffer&&this.buffer.update()}add(e,r,n){if(!this.ubo)this.uniforms[e]=new Bn(r,n);else throw new Error("[UniformGroup] uniform groups in ubo mode cannot be modified, or have uniform groups nested in them")}static from(e,r,n){return new Bn(e,r,n)}static uboFrom(e,r){return new Bn(e,r??!0,!0)}}class di{constructor(e,r){this.uniformBindCount=0,this.program=e,r?r instanceof Bn?this.uniformGroup=r:this.uniformGroup=new Bn(r):this.uniformGroup=new Bn({}),this.disposeRunner=new Dn("disposeShader")}checkUniformExists(e,r){if(r.uniforms[e])return!0;for(const n in r.uniforms){const i=r.uniforms[n];if(i.group&&this.checkUniformExists(e,i))return!0}return!1}destroy(){this.uniformGroup=null,this.disposeRunner.emit(this),this.disposeRunner.destroy()}get uniforms(){return this.uniformGroup.uniforms}static from(e,r,n){const i=Ln.from(e,r);return new di(i,n)}}class KN{constructor(e,r){if(this.vertexSrc=e,this.fragTemplate=r,this.programCache={},this.defaultGroupCache={},!r.includes("%count%"))throw new Error('Fragment template must contain "%count%".');if(!r.includes("%forloop%"))throw new Error('Fragment template must contain "%forloop%".')}generateShader(e){if(!this.programCache[e]){const n=new Int32Array(e);for(let s=0;s<e;s++)n[s]=s;this.defaultGroupCache[e]=Bn.from({uSamplers:n},!0);let i=this.fragTemplate;i=i.replace(/%count%/gi,`${e}`),i=i.replace(/%forloop%/gi,this.generateSampleSrc(e)),this.programCache[e]=new Ln(this.vertexSrc,i)}const r={tint:new Float32Array([1,1,1,1]),translationMatrix:new ht,default:this.defaultGroupCache[e]};return new di(this.programCache[e],r)}generateSampleSrc(e){let r="";r+=`
`,r+=`
`;for(let n=0;n<e;n++)n>0&&(r+=`
else `),n<e-1&&(r+=`if(vTextureId < ${n}.5)`),r+=`
{`,r+=`
	color = texture2D(uSamplers[${n}], vTextureCoord);`,r+=`
}`;return r+=`
`,r+=`
`,r}}class Yv{constructor(){this.elements=[],this.ids=[],this.count=0}clear(){for(let e=0;e<this.count;e++)this.elements[e]=null;this.count=0}}function QN(){return!Gi.apple.device}function JN(t){let e=!0;const r=le.ADAPTER.getNavigator();if(Gi.tablet||Gi.phone){if(Gi.apple.device){const n=r.userAgent.match(/OS (\d+)_(\d+)?/);n&&parseInt(n[1],10)<11&&(e=!1)}if(Gi.android.device){const n=r.userAgent.match(/Android\s([0-9.]*)/);n&&parseInt(n[1],10)<7&&(e=!1)}}return e?t:4}class Sd{constructor(e){this.renderer=e}flush(){}destroy(){this.renderer=null}start(){}stop(){this.flush()}render(e){}}var ZN=`varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;
uniform sampler2D uSamplers[%count%];

void main(void){
    vec4 color;
    %forloop%
    gl_FragColor = color * vColor;
}
`,eO=`precision highp float;
attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;
attribute float aTextureId;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform vec4 tint;

varying vec2 vTextureCoord;
varying vec4 vColor;
varying float vTextureId;

void main(void){
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vTextureId = aTextureId;
    vColor = aColor * tint;
}
`;const Fn=class extends Sd{constructor(t){super(t),this.setShaderGenerator(),this.geometryClass=LE,this.vertexSize=6,this.state=Vi.for2d(),this.size=Fn.defaultBatchSize*4,this._vertexCount=0,this._indexCount=0,this._bufferedElements=[],this._bufferedTextures=[],this._bufferSize=0,this._shader=null,this._packedGeometries=[],this._packedGeometryPoolSize=2,this._flushId=0,this._aBuffers={},this._iBuffers={},this.maxTextures=1,this.renderer.on("prerender",this.onPrerender,this),t.runners.contextChange.add(this),this._dcIndex=0,this._aIndex=0,this._iIndex=0,this._attributeBuffer=null,this._indexBuffer=null,this._tempBoundTextures=[]}static get defaultMaxTextures(){return this._defaultMaxTextures=this._defaultMaxTextures??JN(32),this._defaultMaxTextures}static set defaultMaxTextures(t){this._defaultMaxTextures=t}static get canUploadSameBuffer(){return this._canUploadSameBuffer=this._canUploadSameBuffer??QN(),this._canUploadSameBuffer}static set canUploadSameBuffer(t){this._canUploadSameBuffer=t}get MAX_TEXTURES(){return Fe("7.1.0","BatchRenderer#MAX_TEXTURES renamed to BatchRenderer#maxTextures"),this.maxTextures}static get defaultVertexSrc(){return eO}static get defaultFragmentTemplate(){return ZN}setShaderGenerator({vertex:t=Fn.defaultVertexSrc,fragment:e=Fn.defaultFragmentTemplate}={}){this.shaderGenerator=new KN(t,e)}contextChange(){const t=this.renderer.gl;le.PREFER_ENV===go.WEBGL_LEGACY?this.maxTextures=1:(this.maxTextures=Math.min(t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),Fn.defaultMaxTextures),this.maxTextures=PN(this.maxTextures,t)),this._shader=this.shaderGenerator.generateShader(this.maxTextures);for(let e=0;e<this._packedGeometryPoolSize;e++)this._packedGeometries[e]=new this.geometryClass;this.initFlushBuffers()}initFlushBuffers(){const{_drawCallPool:t,_textureArrayPool:e}=Fn,r=this.size/4,n=Math.floor(r/this.maxTextures)+1;for(;t.length<r;)t.push(new Hv);for(;e.length<n;)e.push(new Yv);for(let i=0;i<this.maxTextures;i++)this._tempBoundTextures[i]=null}onPrerender(){this._flushId=0}render(t){t._texture.valid&&(this._vertexCount+t.vertexData.length/2>this.size&&this.flush(),this._vertexCount+=t.vertexData.length/2,this._indexCount+=t.indices.length,this._bufferedTextures[this._bufferSize]=t._texture.baseTexture,this._bufferedElements[this._bufferSize++]=t)}buildTexturesAndDrawCalls(){const{_bufferedTextures:t,maxTextures:e}=this,r=Fn._textureArrayPool,n=this.renderer.batch,i=this._tempBoundTextures,s=this.renderer.textureGC.count;let o=++Ie._globalBatch,l=0,c=r[0],h=0;n.copyBoundTextures(i,e);for(let f=0;f<this._bufferSize;++f){const p=t[f];t[f]=null,p._batchEnabled!==o&&(c.count>=e&&(n.boundArray(c,i,o,e),this.buildDrawCalls(c,h,f),h=f,c=r[++l],++o),p._batchEnabled=o,p.touched=s,c.elements[c.count++]=p)}c.count>0&&(n.boundArray(c,i,o,e),this.buildDrawCalls(c,h,this._bufferSize),++l,++o);for(let f=0;f<i.length;f++)i[f]=null;Ie._globalBatch=o}buildDrawCalls(t,e,r){const{_bufferedElements:n,_attributeBuffer:i,_indexBuffer:s,vertexSize:o}=this,l=Fn._drawCallPool;let c=this._dcIndex,h=this._aIndex,f=this._iIndex,p=l[c];p.start=this._iIndex,p.texArray=t;for(let m=e;m<r;++m){const y=n[m],_=y._texture.baseTexture,w=TE[_.alphaMode?1:0][y.blendMode];n[m]=null,e<m&&p.blend!==w&&(p.size=f-p.start,e=m,p=l[++c],p.texArray=t,p.start=f),this.packInterleavedGeometry(y,i,s,h,f),h+=y.vertexData.length/2*o,f+=y.indices.length,p.blend=w}e<r&&(p.size=f-p.start,++c),this._dcIndex=c,this._aIndex=h,this._iIndex=f}bindAndClearTexArray(t){const e=this.renderer.texture;for(let r=0;r<t.count;r++)e.bind(t.elements[r],t.ids[r]),t.elements[r]=null;t.count=0}updateGeometry(){const{_packedGeometries:t,_attributeBuffer:e,_indexBuffer:r}=this;Fn.canUploadSameBuffer?(t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.updateBuffers()):(this._packedGeometryPoolSize<=this._flushId&&(this._packedGeometryPoolSize++,t[this._flushId]=new this.geometryClass),t[this._flushId]._buffer.update(e.rawBinaryData),t[this._flushId]._indexBuffer.update(r),this.renderer.geometry.bind(t[this._flushId]),this.renderer.geometry.updateBuffers(),this._flushId++)}drawBatches(){const t=this._dcIndex,{gl:e,state:r}=this.renderer,n=Fn._drawCallPool;let i=null;for(let s=0;s<t;s++){const{texArray:o,type:l,size:c,start:h,blend:f}=n[s];i!==o&&(i=o,this.bindAndClearTexArray(o)),this.state.blendMode=f,r.set(this.state),e.drawElements(l,c,e.UNSIGNED_SHORT,h*2)}}flush(){this._vertexCount!==0&&(this._attributeBuffer=this.getAttributeBuffer(this._vertexCount),this._indexBuffer=this.getIndexBuffer(this._indexCount),this._aIndex=0,this._iIndex=0,this._dcIndex=0,this.buildTexturesAndDrawCalls(),this.updateGeometry(),this.drawBatches(),this._bufferSize=0,this._vertexCount=0,this._indexCount=0)}start(){this.renderer.state.set(this.state),this.renderer.texture.ensureSamplerType(this.maxTextures),this.renderer.shader.bind(this._shader),Fn.canUploadSameBuffer&&this.renderer.geometry.bind(this._packedGeometries[this._flushId])}stop(){this.flush()}destroy(){for(let t=0;t<this._packedGeometryPoolSize;t++)this._packedGeometries[t]&&this._packedGeometries[t].destroy();this.renderer.off("prerender",this.onPrerender,this),this._aBuffers=null,this._iBuffers=null,this._packedGeometries=null,this._attributeBuffer=null,this._indexBuffer=null,this._shader&&(this._shader.destroy(),this._shader=null),super.destroy()}getAttributeBuffer(t){const e=md(Math.ceil(t/8)),r=PE(e),n=e*8;this._aBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._aBuffers[n];return i||(this._aBuffers[n]=i=new Ov(n*this.vertexSize*4)),i}getIndexBuffer(t){const e=md(Math.ceil(t/12)),r=PE(e),n=e*12;this._iBuffers.length<=r&&(this._iBuffers.length=r+1);let i=this._iBuffers[r];return i||(this._iBuffers[r]=i=new Uint16Array(n)),i}packInterleavedGeometry(t,e,r,n,i){const{uint32View:s,float32View:o}=e,l=n/this.vertexSize,c=t.uvs,h=t.indices,f=t.vertexData,p=t._texture.baseTexture._batchLocation,m=Math.min(t.worldAlpha,1),y=Ye.shared.setValue(t._tintRGB).toPremultiplied(m,t._texture.baseTexture.alphaMode>0);for(let _=0;_<f.length;_+=2)o[n++]=f[_],o[n++]=f[_+1],o[n++]=c[_],o[n++]=c[_+1],s[n++]=y,o[n++]=p;for(let _=0;_<h.length;_++)r[i++]=l+h[_]}};let Un=Fn;Un.defaultBatchSize=4096,Un.extension={name:"batch",type:ce.RendererPlugin},Un._drawCallPool=[],Un._textureArrayPool=[],xe.add(Un);var tO=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;

void main(void){
   gl_FragColor = texture2D(uSampler, vTextureCoord);
}
`,rO=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const Bu=class extends di{constructor(t,e,r){const n=Ln.from(t||Bu.defaultVertexSrc,e||Bu.defaultFragmentSrc);super(n,r),this.padding=0,this.resolution=Bu.defaultResolution,this.multisample=Bu.defaultMultisample,this.enabled=!0,this.autoFit=!0,this.state=new Vi}apply(t,e,r,n,i){t.applyFilter(this,e,r,n)}get blendMode(){return this.state.blendMode}set blendMode(t){this.state.blendMode=t}get resolution(){return this._resolution}set resolution(t){this._resolution=t}static get defaultVertexSrc(){return rO}static get defaultFragmentSrc(){return tO}};let ar=Bu;ar.defaultResolution=1,ar.defaultMultisample=Ot.NONE;class Ad{constructor(){this.clearBeforeRender=!0,this._backgroundColor=new Ye(0),this.alpha=1}init(e){this.clearBeforeRender=e.clearBeforeRender;const{backgroundColor:r,background:n,backgroundAlpha:i}=e,s=n??r;s!==void 0&&(this.color=s),this.alpha=i}get color(){return this._backgroundColor.value}set color(e){this._backgroundColor.setValue(e)}get alpha(){return this._backgroundColor.alpha}set alpha(e){this._backgroundColor.setAlpha(e)}get backgroundColor(){return this._backgroundColor}destroy(){}}Ad.defaultOptions={backgroundAlpha:1,backgroundColor:0,clearBeforeRender:!0},Ad.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"background"},xe.add(Ad);class XE{constructor(e){this.renderer=e,this.emptyRenderer=new Sd(e),this.currentRenderer=this.emptyRenderer}setObjectRenderer(e){this.currentRenderer!==e&&(this.currentRenderer.stop(),this.currentRenderer=e,this.currentRenderer.start())}flush(){this.setObjectRenderer(this.emptyRenderer)}reset(){this.setObjectRenderer(this.emptyRenderer)}copyBoundTextures(e,r){const{boundTextures:n}=this.renderer.texture;for(let i=r-1;i>=0;--i)e[i]=n[i]||null,e[i]&&(e[i]._batchLocation=i)}boundArray(e,r,n,i){const{elements:s,ids:o,count:l}=e;let c=0;for(let h=0;h<l;h++){const f=s[h],p=f._batchLocation;if(p>=0&&p<i&&r[p]===f){o[h]=p;continue}for(;c<i;){const m=r[c];if(m&&m._batchEnabled===n&&m._batchLocation===c){c++;continue}o[h]=c,f._batchLocation=c,r[c]=f;break}}}destroy(){this.renderer=null}}XE.extension={type:ce.RendererSystem,name:"batch"},xe.add(XE);let YE=0;class Cd{constructor(e){this.renderer=e,this.webGLVersion=1,this.extensions={},this.supports={uint32Indices:!1},this.handleContextLost=this.handleContextLost.bind(this),this.handleContextRestored=this.handleContextRestored.bind(this)}get isLost(){return!this.gl||this.gl.isContextLost()}contextChange(e){this.gl=e,this.renderer.gl=e,this.renderer.CONTEXT_UID=YE++}init(e){if(e.context)this.initFromContext(e.context);else{const r=this.renderer.background.alpha<1,n=e.premultipliedAlpha;this.preserveDrawingBuffer=e.preserveDrawingBuffer,this.useContextAlpha=e.useContextAlpha,this.powerPreference=e.powerPreference,this.initFromOptions({alpha:r,premultipliedAlpha:n,antialias:e.antialias,stencil:!0,preserveDrawingBuffer:e.preserveDrawingBuffer,powerPreference:e.powerPreference})}}initFromContext(e){this.gl=e,this.validateContext(e),this.renderer.gl=e,this.renderer.CONTEXT_UID=YE++,this.renderer.runners.contextChange.emit(e);const r=this.renderer.view;r.addEventListener!==void 0&&(r.addEventListener("webglcontextlost",this.handleContextLost,!1),r.addEventListener("webglcontextrestored",this.handleContextRestored,!1))}initFromOptions(e){const r=this.createContext(this.renderer.view,e);this.initFromContext(r)}createContext(e,r){let n;if(le.PREFER_ENV>=go.WEBGL2&&(n=e.getContext("webgl2",r)),n)this.webGLVersion=2;else if(this.webGLVersion=1,n=e.getContext("webgl",r)||e.getContext("experimental-webgl",r),!n)throw new Error("This browser does not support WebGL. Try using the canvas renderer");return this.gl=n,this.getExtensions(),this.gl}getExtensions(){const{gl:e}=this,r={loseContext:e.getExtension("WEBGL_lose_context"),anisotropicFiltering:e.getExtension("EXT_texture_filter_anisotropic"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),s3tc:e.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:e.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:e.getExtension("WEBGL_compressed_texture_etc"),etc1:e.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:e.getExtension("WEBGL_compressed_texture_pvrtc")||e.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:e.getExtension("WEBGL_compressed_texture_atc"),astc:e.getExtension("WEBGL_compressed_texture_astc")};this.webGLVersion===1?Object.assign(this.extensions,r,{drawBuffers:e.getExtension("WEBGL_draw_buffers"),depthTexture:e.getExtension("WEBGL_depth_texture"),vertexArrayObject:e.getExtension("OES_vertex_array_object")||e.getExtension("MOZ_OES_vertex_array_object")||e.getExtension("WEBKIT_OES_vertex_array_object"),uint32ElementIndex:e.getExtension("OES_element_index_uint"),floatTexture:e.getExtension("OES_texture_float"),floatTextureLinear:e.getExtension("OES_texture_float_linear"),textureHalfFloat:e.getExtension("OES_texture_half_float"),textureHalfFloatLinear:e.getExtension("OES_texture_half_float_linear")}):this.webGLVersion===2&&Object.assign(this.extensions,r,{colorBufferFloat:e.getExtension("EXT_color_buffer_float")})}handleContextLost(e){e.preventDefault(),setTimeout(()=>{this.gl.isContextLost()&&this.extensions.loseContext&&this.extensions.loseContext.restoreContext()},0)}handleContextRestored(){this.renderer.runners.contextChange.emit(this.gl)}destroy(){const e=this.renderer.view;this.renderer=null,e.removeEventListener!==void 0&&(e.removeEventListener("webglcontextlost",this.handleContextLost),e.removeEventListener("webglcontextrestored",this.handleContextRestored)),this.gl.useProgram(null),this.extensions.loseContext&&this.extensions.loseContext.loseContext()}postrender(){this.renderer.objectRenderer.renderingToScreen&&this.gl.flush()}validateContext(e){const r=e.getContextAttributes(),n="WebGL2RenderingContext"in globalThis&&e instanceof globalThis.WebGL2RenderingContext;n&&(this.webGLVersion=2),r&&!r.stencil&&console.warn("Provided WebGL context does not have a stencil buffer, masks may not render correctly");const i=n||!!e.getExtension("OES_element_index_uint");this.supports.uint32Indices=i,i||console.warn("Provided WebGL context does not support 32 index buffer, complex graphics may not render correctly")}}Cd.defaultOptions={context:null,antialias:!1,premultipliedAlpha:!0,preserveDrawingBuffer:!1,powerPreference:"default"},Cd.extension={type:ce.RendererSystem,name:"context"},xe.add(Cd);class nO extends Du{upload(e,r,n){const i=e.gl;i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Mn.UNPACK);const s=r.realWidth,o=r.realHeight;return n.width===s&&n.height===o?i.texSubImage2D(r.target,0,0,0,s,o,r.format,n.type,this.data):(n.width=s,n.height=o,i.texImage2D(r.target,0,n.internalFormat,s,o,0,r.format,n.type,this.data)),!0}}class qv{constructor(e,r){this.width=Math.round(e||100),this.height=Math.round(r||100),this.stencil=!1,this.depth=!1,this.dirtyId=0,this.dirtyFormat=0,this.dirtySize=0,this.depthTexture=null,this.colorTextures=[],this.glFramebuffers={},this.disposeRunner=new Dn("disposeFramebuffer"),this.multisample=Ot.NONE}get colorTexture(){return this.colorTextures[0]}addColorTexture(e=0,r){return this.colorTextures[e]=r||new Ie(null,{scaleMode:zi.NEAREST,resolution:1,mipmap:si.OFF,width:this.width,height:this.height}),this.dirtyId++,this.dirtyFormat++,this}addDepthTexture(e){return this.depthTexture=e||new Ie(new nO(null,{width:this.width,height:this.height}),{scaleMode:zi.NEAREST,resolution:1,width:this.width,height:this.height,mipmap:si.OFF,format:ne.DEPTH_COMPONENT,type:Ee.UNSIGNED_SHORT}),this.dirtyId++,this.dirtyFormat++,this}enableDepth(){return this.depth=!0,this.dirtyId++,this.dirtyFormat++,this}enableStencil(){return this.stencil=!0,this.dirtyId++,this.dirtyFormat++,this}resize(e,r){if(e=Math.round(e),r=Math.round(r),!(e===this.width&&r===this.height)){this.width=e,this.height=r,this.dirtyId++,this.dirtySize++;for(let n=0;n<this.colorTextures.length;n++){const i=this.colorTextures[n],s=i.resolution;i.setSize(e/s,r/s)}if(this.depthTexture){const n=this.depthTexture.resolution;this.depthTexture.setSize(e/n,r/n)}}}dispose(){this.disposeRunner.emit(this,!1)}destroyDepthTexture(){this.depthTexture&&(this.depthTexture.destroy(),this.depthTexture=null,++this.dirtyId,++this.dirtyFormat)}}class qE extends Ie{constructor(e={}){if(typeof e=="number"){const r=arguments[0],n=arguments[1],i=arguments[2],s=arguments[3];e={width:r,height:n,scaleMode:i,resolution:s}}e.width=e.width||100,e.height=e.height||100,e.multisample??(e.multisample=Ot.NONE),super(null,e),this.mipmap=si.OFF,this.valid=!0,this._clear=new Ye([0,0,0,0]),this.framebuffer=new qv(this.realWidth,this.realHeight).addColorTexture(0,this),this.framebuffer.multisample=e.multisample,this.maskStack=[],this.filterStack=[{}]}set clearColor(e){this._clear.setValue(e)}get clearColor(){return this._clear.value}get clear(){return this._clear}resize(e,r){this.framebuffer.resize(e*this.resolution,r*this.resolution),this.setRealSize(this.framebuffer.width,this.framebuffer.height)}dispose(){this.framebuffer.dispose(),super.dispose()}destroy(){super.destroy(),this.framebuffer.destroyDepthTexture(),this.framebuffer=null}}class Ns extends Ou{constructor(e){const r=e,n=r.naturalWidth||r.videoWidth||r.width,i=r.naturalHeight||r.videoHeight||r.height;super(n,i),this.source=e,this.noSubImage=!1}static crossOrigin(e,r,n){n===void 0&&!r.startsWith("data:")?e.crossOrigin=SN(r):n!==!1&&(e.crossOrigin=typeof n=="string"?n:"anonymous")}upload(e,r,n,i){const s=e.gl,o=r.realWidth,l=r.realHeight;if(i=i||this.source,typeof HTMLImageElement<"u"&&i instanceof HTMLImageElement){if(!i.complete||i.naturalWidth===0)return!1}else if(typeof HTMLVideoElement<"u"&&i instanceof HTMLVideoElement&&i.readyState<=1&&i.buffered.length===0)return!1;return s.pixelStorei(s.UNPACK_PREMULTIPLY_ALPHA_WEBGL,r.alphaMode===Mn.UNPACK),!this.noSubImage&&r.target===s.TEXTURE_2D&&n.width===o&&n.height===l?s.texSubImage2D(s.TEXTURE_2D,0,0,0,r.format,n.type,i):(n.width=o,n.height=l,s.texImage2D(r.target,0,n.internalFormat,r.format,n.type,i)),!0}update(){if(this.destroyed)return;const e=this.source,r=e.naturalWidth||e.videoWidth||e.width,n=e.naturalHeight||e.videoHeight||e.height;this.resize(r,n),super.update()}dispose(){this.source=null}}class KE extends Ns{constructor(e,r){if(r=r||{},typeof e=="string"){const n=new Image;Ns.crossOrigin(n,e,r.crossorigin),n.src=e,e=n}super(e),!e.complete&&this._width&&this._height&&(this._width=0,this._height=0),this.url=e.src,this._process=null,this.preserveBitmap=!1,this.createBitmap=(r.createBitmap??le.CREATE_IMAGE_BITMAP)&&!!globalThis.createImageBitmap,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this.bitmap=null,this._load=null,r.autoLoad!==!1&&this.load()}load(e){return this._load?this._load:(e!==void 0&&(this.createBitmap=e),this._load=new Promise((r,n)=>{const i=this.source;this.url=i.src;const s=()=>{this.destroyed||(i.onload=null,i.onerror=null,this.resize(i.width,i.height),this._load=null,this.createBitmap?r(this.process()):r(this))};i.complete&&i.src?s():(i.onload=s,i.onerror=o=>{n(o),this.onError.emit(o)})}),this._load)}process(){const e=this.source;if(this._process!==null)return this._process;if(this.bitmap!==null||!globalThis.createImageBitmap)return Promise.resolve(this);const r=globalThis.createImageBitmap,n=!e.crossOrigin||e.crossOrigin==="anonymous";return this._process=fetch(e.src,{mode:n?"cors":"no-cors"}).then(i=>i.blob()).then(i=>r(i,0,0,e.width,e.height,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Mn.UNPACK?"premultiply":"none"})).then(i=>this.destroyed?Promise.reject():(this.bitmap=i,this.update(),this._process=null,Promise.resolve(this))),this._process}upload(e,r,n){if(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),!this.createBitmap)return super.upload(e,r,n);if(!this.bitmap&&(this.process(),!this.bitmap))return!1;if(super.upload(e,r,n,this.bitmap),!this.preserveBitmap){let i=!0;const s=r._glTextures;for(const o in s){const l=s[o];if(l!==n&&l.dirtyId!==r.dirtyId){i=!1;break}}i&&(this.bitmap.close&&this.bitmap.close(),this.bitmap=null)}return!0}dispose(){this.source.onload=null,this.source.onerror=null,super.dispose(),this.bitmap&&(this.bitmap.close(),this.bitmap=null),this._process=null,this._load=null}static test(e){return typeof HTMLImageElement<"u"&&(typeof e=="string"||e instanceof HTMLImageElement)}}class QE{constructor(){this.x0=0,this.y0=0,this.x1=1,this.y1=0,this.x2=1,this.y2=1,this.x3=0,this.y3=1,this.uvsFloat32=new Float32Array(8)}set(e,r,n){const i=r.width,s=r.height;if(n){const o=e.width/2/i,l=e.height/2/s,c=e.x/i+o,h=e.y/s+l;n=Et.add(n,Et.NW),this.x0=c+o*Et.uX(n),this.y0=h+l*Et.uY(n),n=Et.add(n,2),this.x1=c+o*Et.uX(n),this.y1=h+l*Et.uY(n),n=Et.add(n,2),this.x2=c+o*Et.uX(n),this.y2=h+l*Et.uY(n),n=Et.add(n,2),this.x3=c+o*Et.uX(n),this.y3=h+l*Et.uY(n)}else this.x0=e.x/i,this.y0=e.y/s,this.x1=(e.x+e.width)/i,this.y1=e.y/s,this.x2=(e.x+e.width)/i,this.y2=(e.y+e.height)/s,this.x3=e.x/i,this.y3=(e.y+e.height)/s;this.uvsFloat32[0]=this.x0,this.uvsFloat32[1]=this.y0,this.uvsFloat32[2]=this.x1,this.uvsFloat32[3]=this.y1,this.uvsFloat32[4]=this.x2,this.uvsFloat32[5]=this.y2,this.uvsFloat32[6]=this.x3,this.uvsFloat32[7]=this.y3}toString(){return`[@pixi/core:TextureUvs x0=${this.x0} y0=${this.y0} x1=${this.x1} y1=${this.y1} x2=${this.x2} y2=${this.y2} x3=${this.x3} y3=${this.y3}]`}}const JE=new QE;function Pd(t){t.destroy=function(){},t.on=function(){},t.once=function(){},t.emit=function(){}}class ue extends Eu{constructor(e,r,n,i,s,o,l){if(super(),this.noFrame=!1,r||(this.noFrame=!0,r=new De(0,0,1,1)),e instanceof ue&&(e=e.baseTexture),this.baseTexture=e,this._frame=r,this.trim=i,this.valid=!1,this._uvs=JE,this.uvMatrix=null,this.orig=n||r,this._rotate=Number(s||0),s===!0)this._rotate=2;else if(this._rotate%2!==0)throw new Error("attempt to use diamond-shaped UVs. If you are sure, set rotation manually");this.defaultAnchor=o?new je(o.x,o.y):new je(0,0),this.defaultBorders=l,this._updateID=0,this.textureCacheIds=[],e.valid?this.noFrame?e.valid&&this.onBaseTextureUpdated(e):this.frame=r:e.once("loaded",this.onBaseTextureUpdated,this),this.noFrame&&e.on("update",this.onBaseTextureUpdated,this)}update(){this.baseTexture.resource&&this.baseTexture.resource.update()}onBaseTextureUpdated(e){if(this.noFrame){if(!this.baseTexture.valid)return;this._frame.width=e.width,this._frame.height=e.height,this.valid=!0,this.updateUvs()}else this.frame=this._frame;this.emit("update",this)}destroy(e){if(this.baseTexture){if(e){const{resource:r}=this.baseTexture;r!=null&&r.url&&hi[r.url]&&ue.removeFromCache(r.url),this.baseTexture.destroy()}this.baseTexture.off("loaded",this.onBaseTextureUpdated,this),this.baseTexture.off("update",this.onBaseTextureUpdated,this),this.baseTexture=null}this._frame=null,this._uvs=null,this.trim=null,this.orig=null,this.valid=!1,ue.removeFromCache(this),this.textureCacheIds=null}clone(){var i;const e=this._frame.clone(),r=this._frame===this.orig?e:this.orig.clone(),n=new ue(this.baseTexture,!this.noFrame&&e,r,(i=this.trim)==null?void 0:i.clone(),this.rotate,this.defaultAnchor,this.defaultBorders);return this.noFrame&&(n._frame=e),n}updateUvs(){this._uvs===JE&&(this._uvs=new QE),this._uvs.set(this._frame,this.baseTexture,this.rotate),this._updateID++}static from(e,r={},n=le.STRICT_TEXTURE_CACHE){const i=typeof e=="string";let s=null;if(i)s=e;else if(e instanceof Ie){if(!e.cacheId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e.cacheId=`${l}-${xo()}`,Ie.addToCache(e,e.cacheId)}s=e.cacheId}else{if(!e._pixiId){const l=(r==null?void 0:r.pixiIdPrefix)||"pixiid";e._pixiId=`${l}_${xo()}`}s=e._pixiId}let o=hi[s];if(i&&n&&!o)throw new Error(`The cacheId "${s}" does not exist in TextureCache.`);return!o&&!(e instanceof Ie)?(r.resolution||(r.resolution=ks(e)),o=new ue(new Ie(e,r)),o.baseTexture.cacheId=s,Ie.addToCache(o.baseTexture,s),ue.addToCache(o,s)):!o&&e instanceof Ie&&(o=new ue(e),ue.addToCache(o,s)),o}static fromURL(e,r){const n=Object.assign({autoLoad:!1},r==null?void 0:r.resourceOptions),i=ue.from(e,Object.assign({resourceOptions:n},r),!1),s=i.baseTexture.resource;return i.baseTexture.valid?Promise.resolve(i):s.load().then(()=>Promise.resolve(i))}static fromBuffer(e,r,n,i){return new ue(Ie.fromBuffer(e,r,n,i))}static fromLoader(e,r,n,i){const s=new Ie(e,Object.assign({scaleMode:Ie.defaultOptions.scaleMode,resolution:ks(r)},i)),{resource:o}=s;o instanceof KE&&(o.url=r);const l=new ue(s);return n||(n=r),Ie.addToCache(l.baseTexture,n),ue.addToCache(l,n),n!==r&&(Ie.addToCache(l.baseTexture,r),ue.addToCache(l,r)),l.baseTexture.valid?Promise.resolve(l):new Promise(c=>{l.baseTexture.once("loaded",()=>c(l))})}static addToCache(e,r){r&&(e.textureCacheIds.includes(r)||e.textureCacheIds.push(r),hi[r]&&hi[r]!==e&&console.warn(`Texture added to the cache with an id [${r}] that already had an entry`),hi[r]=e)}static removeFromCache(e){if(typeof e=="string"){const r=hi[e];if(r){const n=r.textureCacheIds.indexOf(e);return n>-1&&r.textureCacheIds.splice(n,1),delete hi[e],r}}else if(e!=null&&e.textureCacheIds){for(let r=0;r<e.textureCacheIds.length;++r)hi[e.textureCacheIds[r]]===e&&delete hi[e.textureCacheIds[r]];return e.textureCacheIds.length=0,e}return null}get resolution(){return this.baseTexture.resolution}get frame(){return this._frame}set frame(e){this._frame=e,this.noFrame=!1;const{x:r,y:n,width:i,height:s}=e,o=r+i>this.baseTexture.width,l=n+s>this.baseTexture.height;if(o||l){const c=o&&l?"and":"or",h=`X: ${r} + ${i} = ${r+i} > ${this.baseTexture.width}`,f=`Y: ${n} + ${s} = ${n+s} > ${this.baseTexture.height}`;throw new Error(`Texture Error: frame does not fit inside the base Texture dimensions: ${h} ${c} ${f}`)}this.valid=i&&s&&this.baseTexture.valid,!this.trim&&!this.rotate&&(this.orig=e),this.valid&&this.updateUvs()}get rotate(){return this._rotate}set rotate(e){this._rotate=e,this.valid&&this.updateUvs()}get width(){return this.orig.width}get height(){return this.orig.height}castToBaseTexture(){return this.baseTexture}static get EMPTY(){return ue._EMPTY||(ue._EMPTY=new ue(new Ie),Pd(ue._EMPTY),Pd(ue._EMPTY.baseTexture)),ue._EMPTY}static get WHITE(){if(!ue._WHITE){const e=le.ADAPTER.createCanvas(16,16),r=e.getContext("2d");e.width=16,e.height=16,r.fillStyle="white",r.fillRect(0,0,16,16),ue._WHITE=new ue(Ie.from(e)),Pd(ue._WHITE),Pd(ue._WHITE.baseTexture)}return ue._WHITE}}class Ao extends ue{constructor(e,r){super(e,r),this.valid=!0,this.filterFrame=null,this.filterPoolKey=null,this.updateUvs()}get framebuffer(){return this.baseTexture.framebuffer}get multisample(){return this.framebuffer.multisample}set multisample(e){this.framebuffer.multisample=e}resize(e,r,n=!0){const i=this.baseTexture.resolution,s=Math.round(e*i)/i,o=Math.round(r*i)/i;this.valid=s>0&&o>0,this._frame.width=this.orig.width=s,this._frame.height=this.orig.height=o,n&&this.baseTexture.resize(s,o),this.updateUvs()}setResolution(e){const{baseTexture:r}=this;r.resolution!==e&&(r.setResolution(e),this.resize(r.width,r.height,!1))}static create(e){return new Ao(new qE(e))}}class ZE{constructor(e){this.texturePool={},this.textureOptions=e||{},this.enableFullScreen=!1,this._pixelsWidth=0,this._pixelsHeight=0}createTexture(e,r,n=Ot.NONE){const i=new qE(Object.assign({width:e,height:r,resolution:1,multisample:n},this.textureOptions));return new Ao(i)}getOptimalTexture(e,r,n=1,i=Ot.NONE){let s;e=Math.ceil(e*n-1e-6),r=Math.ceil(r*n-1e-6),!this.enableFullScreen||e!==this._pixelsWidth||r!==this._pixelsHeight?(e=md(e),r=md(r),s=((e&65535)<<16|r&65535)>>>0,i>1&&(s+=i*4294967296)):s=i>1?-i:-1,this.texturePool[s]||(this.texturePool[s]=[]);let o=this.texturePool[s].pop();return o||(o=this.createTexture(e,r,i)),o.filterPoolKey=s,o.setResolution(n),o}getFilterTexture(e,r,n){const i=this.getOptimalTexture(e.width,e.height,r||e.resolution,n||Ot.NONE);return i.filterFrame=e.filterFrame,i}returnTexture(e){const r=e.filterPoolKey;e.filterFrame=null,this.texturePool[r].push(e)}returnFilterTexture(e){this.returnTexture(e)}clear(e){if(e=e!==!1,e)for(const r in this.texturePool){const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0)}this.texturePool={}}setScreenSize(e){if(!(e.width===this._pixelsWidth&&e.height===this._pixelsHeight)){this.enableFullScreen=e.width>0&&e.height>0;for(const r in this.texturePool){if(!(Number(r)<0))continue;const n=this.texturePool[r];if(n)for(let i=0;i<n.length;i++)n[i].destroy(!0);this.texturePool[r]=[]}this._pixelsWidth=e.width,this._pixelsHeight=e.height}}}ZE.SCREEN_KEY=-1;class iO extends Ms{constructor(){super(),this.addAttribute("aVertexPosition",new Float32Array([0,0,1,0,1,1,0,1])).addIndex([0,1,3,2])}}class eT extends Ms{constructor(){super(),this.vertices=new Float32Array([-1,-1,1,-1,1,1,-1,1]),this.uvs=new Float32Array([0,0,1,0,1,1,0,1]),this.vertexBuffer=new jt(this.vertices),this.uvBuffer=new jt(this.uvs),this.addAttribute("aVertexPosition",this.vertexBuffer).addAttribute("aTextureCoord",this.uvBuffer).addIndex([0,1,2,0,2,3])}map(e,r){let n=0,i=0;return this.uvs[0]=n,this.uvs[1]=i,this.uvs[2]=n+r.width/e.width,this.uvs[3]=i,this.uvs[4]=n+r.width/e.width,this.uvs[5]=i+r.height/e.height,this.uvs[6]=n,this.uvs[7]=i+r.height/e.height,n=r.x,i=r.y,this.vertices[0]=n,this.vertices[1]=i,this.vertices[2]=n+r.width,this.vertices[3]=i,this.vertices[4]=n+r.width,this.vertices[5]=i+r.height,this.vertices[6]=n,this.vertices[7]=i+r.height,this.invalidate(),this}invalidate(){return this.vertexBuffer._updateID++,this.uvBuffer._updateID++,this}}class sO{constructor(){this.renderTexture=null,this.target=null,this.legacy=!1,this.resolution=1,this.multisample=Ot.NONE,this.sourceFrame=new De,this.destinationFrame=new De,this.bindingSourceFrame=new De,this.bindingDestinationFrame=new De,this.filters=[],this.transform=null}clear(){this.target=null,this.filters=null,this.renderTexture=null}}const Rd=[new je,new je,new je,new je],Kv=new ht;class tT{constructor(e){this.renderer=e,this.defaultFilterStack=[{}],this.texturePool=new ZE,this.statePool=[],this.quad=new iO,this.quadUv=new eT,this.tempRect=new De,this.activeState={},this.globalUniforms=new Bn({outputFrame:new De,inputSize:new Float32Array(4),inputPixel:new Float32Array(4),inputClamp:new Float32Array(4),resolution:1,filterArea:new Float32Array(4),filterClamp:new Float32Array(4)},!0),this.forceClear=!1,this.useMaxPadding=!1}init(){this.texturePool.setScreenSize(this.renderer.view)}push(e,r){const n=this.renderer,i=this.defaultFilterStack,s=this.statePool.pop()||new sO,o=this.renderer.renderTexture;let l=r[0].resolution,c=r[0].multisample,h=r[0].padding,f=r[0].autoFit,p=r[0].legacy??!0;for(let _=1;_<r.length;_++){const w=r[_];l=Math.min(l,w.resolution),c=Math.min(c,w.multisample),h=this.useMaxPadding?Math.max(h,w.padding):h+w.padding,f=f&&w.autoFit,p=p||(w.legacy??!0)}i.length===1&&(this.defaultFilterStack[0].renderTexture=o.current),i.push(s),s.resolution=l,s.multisample=c,s.legacy=p,s.target=e,s.sourceFrame.copyFrom(e.filterArea||e.getBounds(!0)),s.sourceFrame.pad(h);const m=this.tempRect.copyFrom(o.sourceFrame);n.projection.transform&&this.transformAABB(Kv.copyFrom(n.projection.transform).invert(),m),f?(s.sourceFrame.fit(m),(s.sourceFrame.width<=0||s.sourceFrame.height<=0)&&(s.sourceFrame.width=0,s.sourceFrame.height=0)):s.sourceFrame.intersects(m)||(s.sourceFrame.width=0,s.sourceFrame.height=0),this.roundFrame(s.sourceFrame,o.current?o.current.resolution:n.resolution,o.sourceFrame,o.destinationFrame,n.projection.transform),s.renderTexture=this.getOptimalFilterTexture(s.sourceFrame.width,s.sourceFrame.height,l,c),s.filters=r,s.destinationFrame.width=s.renderTexture.width,s.destinationFrame.height=s.renderTexture.height;const y=this.tempRect;y.x=0,y.y=0,y.width=s.sourceFrame.width,y.height=s.sourceFrame.height,s.renderTexture.filterFrame=s.sourceFrame,s.bindingSourceFrame.copyFrom(o.sourceFrame),s.bindingDestinationFrame.copyFrom(o.destinationFrame),s.transform=n.projection.transform,n.projection.transform=null,o.bind(s.renderTexture,s.sourceFrame,y),n.framebuffer.clear(0,0,0,0)}pop(){const e=this.defaultFilterStack,r=e.pop(),n=r.filters;this.activeState=r;const i=this.globalUniforms.uniforms;i.outputFrame=r.sourceFrame,i.resolution=r.resolution;const s=i.inputSize,o=i.inputPixel,l=i.inputClamp;if(s[0]=r.destinationFrame.width,s[1]=r.destinationFrame.height,s[2]=1/s[0],s[3]=1/s[1],o[0]=Math.round(s[0]*r.resolution),o[1]=Math.round(s[1]*r.resolution),o[2]=1/o[0],o[3]=1/o[1],l[0]=.5*o[2],l[1]=.5*o[3],l[2]=r.sourceFrame.width*s[2]-.5*o[2],l[3]=r.sourceFrame.height*s[3]-.5*o[3],r.legacy){const h=i.filterArea;h[0]=r.destinationFrame.width,h[1]=r.destinationFrame.height,h[2]=r.sourceFrame.x,h[3]=r.sourceFrame.y,i.filterClamp=i.inputClamp}this.globalUniforms.update();const c=e[e.length-1];if(this.renderer.framebuffer.blit(),n.length===1)n[0].apply(this,r.renderTexture,c.renderTexture,oi.BLEND,r),this.returnFilterTexture(r.renderTexture);else{let h=r.renderTexture,f=this.getOptimalFilterTexture(h.width,h.height,r.resolution);f.filterFrame=h.filterFrame;let p=0;for(p=0;p<n.length-1;++p){p===1&&r.multisample>1&&(f=this.getOptimalFilterTexture(h.width,h.height,r.resolution),f.filterFrame=h.filterFrame),n[p].apply(this,h,f,oi.CLEAR,r);const m=h;h=f,f=m}n[p].apply(this,h,c.renderTexture,oi.BLEND,r),p>1&&r.multisample>1&&this.returnFilterTexture(r.renderTexture),this.returnFilterTexture(h),this.returnFilterTexture(f)}r.clear(),this.statePool.push(r)}bindAndClear(e,r=oi.CLEAR){const{renderTexture:n,state:i}=this.renderer;if(e===this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?this.renderer.projection.transform=this.activeState.transform:this.renderer.projection.transform=null,e==null?void 0:e.filterFrame){const o=this.tempRect;o.x=0,o.y=0,o.width=e.filterFrame.width,o.height=e.filterFrame.height,n.bind(e,e.filterFrame,o)}else e!==this.defaultFilterStack[this.defaultFilterStack.length-1].renderTexture?n.bind(e):this.renderer.renderTexture.bind(e,this.activeState.bindingSourceFrame,this.activeState.bindingDestinationFrame);const s=i.stateId&1||this.forceClear;(r===oi.CLEAR||r===oi.BLIT&&s)&&this.renderer.framebuffer.clear(0,0,0,0)}applyFilter(e,r,n,i){const s=this.renderer;s.state.set(e.state),this.bindAndClear(n,i),e.uniforms.uSampler=r,e.uniforms.filterGlobals=this.globalUniforms,s.shader.bind(e),e.legacy=!!e.program.attributeData.aTextureCoord,e.legacy?(this.quadUv.map(r._frame,r.filterFrame),s.geometry.bind(this.quadUv),s.geometry.draw(kn.TRIANGLES)):(s.geometry.bind(this.quad),s.geometry.draw(kn.TRIANGLE_STRIP))}calculateSpriteMatrix(e,r){const{sourceFrame:n,destinationFrame:i}=this.activeState,{orig:s}=r._texture,o=e.set(i.width,0,0,i.height,n.x,n.y),l=r.worldTransform.copyTo(ht.TEMP_MATRIX);return l.invert(),o.prepend(l),o.scale(1/s.width,1/s.height),o.translate(r.anchor.x,r.anchor.y),o}destroy(){this.renderer=null,this.texturePool.clear(!1)}getOptimalFilterTexture(e,r,n=1,i=Ot.NONE){return this.texturePool.getOptimalTexture(e,r,n,i)}getFilterTexture(e,r,n){if(typeof e=="number"){const s=e;e=r,r=s}e=e||this.activeState.renderTexture;const i=this.texturePool.getOptimalTexture(e.width,e.height,r||e.resolution,n||Ot.NONE);return i.filterFrame=e.filterFrame,i}returnFilterTexture(e){this.texturePool.returnTexture(e)}emptyPool(){this.texturePool.clear(!0)}resize(){this.texturePool.setScreenSize(this.renderer.view)}transformAABB(e,r){const n=Rd[0],i=Rd[1],s=Rd[2],o=Rd[3];n.set(r.left,r.top),i.set(r.left,r.bottom),s.set(r.right,r.top),o.set(r.right,r.bottom),e.apply(n,n),e.apply(i,i),e.apply(s,s),e.apply(o,o);const l=Math.min(n.x,i.x,s.x,o.x),c=Math.min(n.y,i.y,s.y,o.y),h=Math.max(n.x,i.x,s.x,o.x),f=Math.max(n.y,i.y,s.y,o.y);r.x=l,r.y=c,r.width=h-l,r.height=f-c}roundFrame(e,r,n,i,s){if(!(e.width<=0||e.height<=0||n.width<=0||n.height<=0)){if(s){const{a:o,b:l,c,d:h}=s;if((Math.abs(l)>1e-4||Math.abs(c)>1e-4)&&(Math.abs(o)>1e-4||Math.abs(h)>1e-4))return}s=s?Kv.copyFrom(s):Kv.identity(),s.translate(-n.x,-n.y).scale(i.width/n.width,i.height/n.height).translate(i.x,i.y),this.transformAABB(s,e),e.ceil(r),this.transformAABB(s.invert(),e)}}}tT.extension={type:ce.RendererSystem,name:"filter"},xe.add(tT);class oO{constructor(e){this.framebuffer=e,this.stencil=null,this.dirtyId=-1,this.dirtyFormat=-1,this.dirtySize=-1,this.multisample=Ot.NONE,this.msaaBuffer=null,this.blitFramebuffer=null,this.mipLevel=0}}const aO=new De;class rT{constructor(e){this.renderer=e,this.managedFramebuffers=[],this.unknownFramebuffer=new qv(10,10),this.msaaSamples=null}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.current=this.unknownFramebuffer,this.viewport=new De,this.hasMRT=!0,this.writeDepthTexture=!0,this.renderer.context.webGLVersion===1){let r=this.renderer.context.extensions.drawBuffers,n=this.renderer.context.extensions.depthTexture;le.PREFER_ENV===go.WEBGL_LEGACY&&(r=null,n=null),r?e.drawBuffers=i=>r.drawBuffersWEBGL(i):(this.hasMRT=!1,e.drawBuffers=()=>{}),n||(this.writeDepthTexture=!1)}else this.msaaSamples=e.getInternalformatParameter(e.RENDERBUFFER,e.RGBA8,e.SAMPLES)}bind(e,r,n=0){const{gl:i}=this;if(e){const s=e.glFramebuffers[this.CONTEXT_UID]||this.initFramebuffer(e);this.current!==e&&(this.current=e,i.bindFramebuffer(i.FRAMEBUFFER,s.framebuffer)),s.mipLevel!==n&&(e.dirtyId++,e.dirtyFormat++,s.mipLevel=n),s.dirtyId!==e.dirtyId&&(s.dirtyId=e.dirtyId,s.dirtyFormat!==e.dirtyFormat?(s.dirtyFormat=e.dirtyFormat,s.dirtySize=e.dirtySize,this.updateFramebuffer(e,n)):s.dirtySize!==e.dirtySize&&(s.dirtySize=e.dirtySize,this.resizeFramebuffer(e)));for(let o=0;o<e.colorTextures.length;o++){const l=e.colorTextures[o];this.renderer.texture.unbind(l.parentTextureArray||l)}if(e.depthTexture&&this.renderer.texture.unbind(e.depthTexture),r){const o=r.width>>n,l=r.height>>n,c=o/r.width;this.setViewport(r.x*c,r.y*c,o,l)}else{const o=e.width>>n,l=e.height>>n;this.setViewport(0,0,o,l)}}else this.current&&(this.current=null,i.bindFramebuffer(i.FRAMEBUFFER,null)),r?this.setViewport(r.x,r.y,r.width,r.height):this.setViewport(0,0,this.renderer.width,this.renderer.height)}setViewport(e,r,n,i){const s=this.viewport;e=Math.round(e),r=Math.round(r),n=Math.round(n),i=Math.round(i),(s.width!==n||s.height!==i||s.x!==e||s.y!==r)&&(s.x=e,s.y=r,s.width=n,s.height=i,this.gl.viewport(e,r,n,i))}get size(){return this.current?{x:0,y:0,width:this.current.width,height:this.current.height}:{x:0,y:0,width:this.renderer.width,height:this.renderer.height}}clear(e,r,n,i,s=Wg.COLOR|Wg.DEPTH){const{gl:o}=this;o.clearColor(e,r,n,i),o.clear(s)}initFramebuffer(e){const{gl:r}=this,n=new oO(r.createFramebuffer());return n.multisample=this.detectSamples(e.multisample),e.glFramebuffers[this.CONTEXT_UID]=n,this.managedFramebuffers.push(e),e.disposeRunner.add(this),n}resizeFramebuffer(e){const{gl:r}=this,n=e.glFramebuffers[this.CONTEXT_UID];n.stencil&&(r.bindRenderbuffer(r.RENDERBUFFER,n.stencil),n.msaaBuffer?r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,r.DEPTH24_STENCIL8,e.width,e.height):r.renderbufferStorage(r.RENDERBUFFER,r.DEPTH_STENCIL,e.width,e.height));const i=e.colorTextures;let s=i.length;r.drawBuffers||(s=Math.min(s,1));for(let o=0;o<s;o++){const l=i[o],c=l.parentTextureArray||l;this.renderer.texture.bind(c,0),o===0&&n.msaaBuffer&&(r.bindRenderbuffer(r.RENDERBUFFER,n.msaaBuffer),r.renderbufferStorageMultisample(r.RENDERBUFFER,n.multisample,c._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height))}e.depthTexture&&this.writeDepthTexture&&this.renderer.texture.bind(e.depthTexture,0)}updateFramebuffer(e,r){const{gl:n}=this,i=e.glFramebuffers[this.CONTEXT_UID],s=e.colorTextures;let o=s.length;n.drawBuffers||(o=Math.min(o,1)),i.multisample>1&&this.canMultisampleFramebuffer(e)?i.msaaBuffer=i.msaaBuffer||n.createRenderbuffer():i.msaaBuffer&&(n.deleteRenderbuffer(i.msaaBuffer),i.msaaBuffer=null,i.blitFramebuffer&&(i.blitFramebuffer.dispose(),i.blitFramebuffer=null));const l=[];for(let c=0;c<o;c++){const h=s[c],f=h.parentTextureArray||h;this.renderer.texture.bind(f,0),c===0&&i.msaaBuffer?(n.bindRenderbuffer(n.RENDERBUFFER,i.msaaBuffer),n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,f._glTextures[this.CONTEXT_UID].internalFormat,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.RENDERBUFFER,i.msaaBuffer)):(n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0+c,h.target,f._glTextures[this.CONTEXT_UID].texture,r),l.push(n.COLOR_ATTACHMENT0+c))}if(l.length>1&&n.drawBuffers(l),e.depthTexture&&this.writeDepthTexture){const c=e.depthTexture;this.renderer.texture.bind(c,0),n.framebufferTexture2D(n.FRAMEBUFFER,n.DEPTH_ATTACHMENT,n.TEXTURE_2D,c._glTextures[this.CONTEXT_UID].texture,r)}(e.stencil||e.depth)&&!(e.depthTexture&&this.writeDepthTexture)?(i.stencil=i.stencil||n.createRenderbuffer(),n.bindRenderbuffer(n.RENDERBUFFER,i.stencil),i.msaaBuffer?n.renderbufferStorageMultisample(n.RENDERBUFFER,i.multisample,n.DEPTH24_STENCIL8,e.width,e.height):n.renderbufferStorage(n.RENDERBUFFER,n.DEPTH_STENCIL,e.width,e.height),n.framebufferRenderbuffer(n.FRAMEBUFFER,n.DEPTH_STENCIL_ATTACHMENT,n.RENDERBUFFER,i.stencil)):i.stencil&&(n.deleteRenderbuffer(i.stencil),i.stencil=null)}canMultisampleFramebuffer(e){return this.renderer.context.webGLVersion!==1&&e.colorTextures.length<=1&&!e.depthTexture}detectSamples(e){const{msaaSamples:r}=this;let n=Ot.NONE;if(e<=1||r===null)return n;for(let i=0;i<r.length;i++)if(r[i]<=e){n=r[i];break}return n===1&&(n=Ot.NONE),n}blit(e,r,n){const{current:i,renderer:s,gl:o,CONTEXT_UID:l}=this;if(s.context.webGLVersion!==2||!i)return;const c=i.glFramebuffers[l];if(!c)return;if(!e){if(!c.msaaBuffer)return;const f=i.colorTextures[0];if(!f)return;c.blitFramebuffer||(c.blitFramebuffer=new qv(i.width,i.height),c.blitFramebuffer.addColorTexture(0,f)),e=c.blitFramebuffer,e.colorTextures[0]!==f&&(e.colorTextures[0]=f,e.dirtyId++,e.dirtyFormat++),(e.width!==i.width||e.height!==i.height)&&(e.width=i.width,e.height=i.height,e.dirtyId++,e.dirtySize++)}r||(r=aO,r.width=i.width,r.height=i.height),n||(n=r);const h=r.width===n.width&&r.height===n.height;this.bind(e),o.bindFramebuffer(o.READ_FRAMEBUFFER,c.framebuffer),o.blitFramebuffer(r.left,r.top,r.right,r.bottom,n.left,n.top,n.right,n.bottom,o.COLOR_BUFFER_BIT,h?o.NEAREST:o.LINEAR),o.bindFramebuffer(o.READ_FRAMEBUFFER,e.glFramebuffers[this.CONTEXT_UID].framebuffer)}disposeFramebuffer(e,r){const n=e.glFramebuffers[this.CONTEXT_UID],i=this.gl;if(!n)return;delete e.glFramebuffers[this.CONTEXT_UID];const s=this.managedFramebuffers.indexOf(e);s>=0&&this.managedFramebuffers.splice(s,1),e.disposeRunner.remove(this),r||(i.deleteFramebuffer(n.framebuffer),n.msaaBuffer&&i.deleteRenderbuffer(n.msaaBuffer),n.stencil&&i.deleteRenderbuffer(n.stencil)),n.blitFramebuffer&&this.disposeFramebuffer(n.blitFramebuffer,r)}disposeAll(e){const r=this.managedFramebuffers;this.managedFramebuffers=[];for(let n=0;n<r.length;n++)this.disposeFramebuffer(r[n],e)}forceStencil(){const e=this.current;if(!e)return;const r=e.glFramebuffers[this.CONTEXT_UID];if(!r||r.stencil)return;e.stencil=!0;const n=e.width,i=e.height,s=this.gl,o=s.createRenderbuffer();s.bindRenderbuffer(s.RENDERBUFFER,o),r.msaaBuffer?s.renderbufferStorageMultisample(s.RENDERBUFFER,r.multisample,s.DEPTH24_STENCIL8,n,i):s.renderbufferStorage(s.RENDERBUFFER,s.DEPTH_STENCIL,n,i),r.stencil=o,s.framebufferRenderbuffer(s.FRAMEBUFFER,s.DEPTH_STENCIL_ATTACHMENT,s.RENDERBUFFER,o)}reset(){this.current=this.unknownFramebuffer,this.viewport=new De}destroy(){this.renderer=null}}rT.extension={type:ce.RendererSystem,name:"framebuffer"},xe.add(rT);const Qv={5126:4,5123:2,5121:1};class nT{constructor(e){this.renderer=e,this._activeGeometry=null,this._activeVao=null,this.hasVao=!0,this.hasInstance=!0,this.canUseUInt32ElementIndex=!1,this.managedGeometries={}}contextChange(){this.disposeAll(!0);const e=this.gl=this.renderer.gl,r=this.renderer.context;if(this.CONTEXT_UID=this.renderer.CONTEXT_UID,r.webGLVersion!==2){let n=this.renderer.context.extensions.vertexArrayObject;le.PREFER_ENV===go.WEBGL_LEGACY&&(n=null),n?(e.createVertexArray=()=>n.createVertexArrayOES(),e.bindVertexArray=i=>n.bindVertexArrayOES(i),e.deleteVertexArray=i=>n.deleteVertexArrayOES(i)):(this.hasVao=!1,e.createVertexArray=()=>null,e.bindVertexArray=()=>null,e.deleteVertexArray=()=>null)}if(r.webGLVersion!==2){const n=e.getExtension("ANGLE_instanced_arrays");n?(e.vertexAttribDivisor=(i,s)=>n.vertexAttribDivisorANGLE(i,s),e.drawElementsInstanced=(i,s,o,l,c)=>n.drawElementsInstancedANGLE(i,s,o,l,c),e.drawArraysInstanced=(i,s,o,l)=>n.drawArraysInstancedANGLE(i,s,o,l)):this.hasInstance=!1}this.canUseUInt32ElementIndex=r.webGLVersion===2||!!r.extensions.uint32ElementIndex}bind(e,r){r=r||this.renderer.shader.shader;const{gl:n}=this;let i=e.glVertexArrayObjects[this.CONTEXT_UID],s=!1;i||(this.managedGeometries[e.id]=e,e.disposeRunner.add(this),e.glVertexArrayObjects[this.CONTEXT_UID]=i={},s=!0);const o=i[r.program.id]||this.initGeometryVao(e,r,s);this._activeGeometry=e,this._activeVao!==o&&(this._activeVao=o,this.hasVao?n.bindVertexArray(o):this.activateVao(e,r.program)),this.updateBuffers()}reset(){this.unbind()}updateBuffers(){const e=this._activeGeometry,r=this.renderer.buffer;for(let n=0;n<e.buffers.length;n++){const i=e.buffers[n];r.update(i)}}checkCompatibility(e,r){const n=e.attributes,i=r.attributeData;for(const s in i)if(!n[s])throw new Error(`shader and geometry incompatible, geometry missing the "${s}" attribute`)}getSignature(e,r){const n=e.attributes,i=r.attributeData,s=["g",e.id];for(const o in n)i[o]&&s.push(o,i[o].location);return s.join("-")}initGeometryVao(e,r,n=!0){const i=this.gl,s=this.CONTEXT_UID,o=this.renderer.buffer,l=r.program;l.glPrograms[s]||this.renderer.shader.generateProgram(r),this.checkCompatibility(e,l);const c=this.getSignature(e,l),h=e.glVertexArrayObjects[this.CONTEXT_UID];let f=h[c];if(f)return h[l.id]=f,f;const p=e.buffers,m=e.attributes,y={},_={};for(const w in p)y[w]=0,_[w]=0;for(const w in m)!m[w].size&&l.attributeData[w]?m[w].size=l.attributeData[w].size:m[w].size||console.warn(`PIXI Geometry attribute '${w}' size cannot be determined (likely the bound shader does not have the attribute)`),y[m[w].buffer]+=m[w].size*Qv[m[w].type];for(const w in m){const A=m[w],E=A.size;A.stride===void 0&&(y[A.buffer]===E*Qv[A.type]?A.stride=0:A.stride=y[A.buffer]),A.start===void 0&&(A.start=_[A.buffer],_[A.buffer]+=E*Qv[A.type])}f=i.createVertexArray(),i.bindVertexArray(f);for(let w=0;w<p.length;w++){const A=p[w];o.bind(A),n&&A._glBuffers[s].refCount++}return this.activateVao(e,l),h[l.id]=f,h[c]=f,i.bindVertexArray(null),o.unbind(ai.ARRAY_BUFFER),f}disposeGeometry(e,r){var l;if(!this.managedGeometries[e.id])return;delete this.managedGeometries[e.id];const n=e.glVertexArrayObjects[this.CONTEXT_UID],i=this.gl,s=e.buffers,o=(l=this.renderer)==null?void 0:l.buffer;if(e.disposeRunner.remove(this),!!n){if(o)for(let c=0;c<s.length;c++){const h=s[c]._glBuffers[this.CONTEXT_UID];h&&(h.refCount--,h.refCount===0&&!r&&o.dispose(s[c],r))}if(!r){for(const c in n)if(c[0]==="g"){const h=n[c];this._activeVao===h&&this.unbind(),i.deleteVertexArray(h)}}delete e.glVertexArrayObjects[this.CONTEXT_UID]}}disposeAll(e){const r=Object.keys(this.managedGeometries);for(let n=0;n<r.length;n++)this.disposeGeometry(this.managedGeometries[r[n]],e)}activateVao(e,r){const n=this.gl,i=this.CONTEXT_UID,s=this.renderer.buffer,o=e.buffers,l=e.attributes;e.indexBuffer&&s.bind(e.indexBuffer);let c=null;for(const h in l){const f=l[h],p=o[f.buffer],m=p._glBuffers[i];if(r.attributeData[h]){c!==m&&(s.bind(p),c=m);const y=r.attributeData[h].location;if(n.enableVertexAttribArray(y),n.vertexAttribPointer(y,f.size,f.type||n.FLOAT,f.normalized,f.stride,f.start),f.instance)if(this.hasInstance)n.vertexAttribDivisor(y,f.divisor);else throw new Error("geometry error, GPU Instancing is not supported on this device")}}}draw(e,r,n,i){const{gl:s}=this,o=this._activeGeometry;if(o.indexBuffer){const l=o.indexBuffer.data.BYTES_PER_ELEMENT,c=l===2?s.UNSIGNED_SHORT:s.UNSIGNED_INT;l===2||l===4&&this.canUseUInt32ElementIndex?o.instanced?s.drawElementsInstanced(e,r||o.indexBuffer.data.length,c,(n||0)*l,i||1):s.drawElements(e,r||o.indexBuffer.data.length,c,(n||0)*l):console.warn("unsupported index buffer type: uint32")}else o.instanced?s.drawArraysInstanced(e,n,r||o.getSize(),i||1):s.drawArrays(e,n,r||o.getSize());return this}unbind(){this.gl.bindVertexArray(null),this._activeVao=null,this._activeGeometry=null}destroy(){this.renderer=null}}nT.extension={type:ce.RendererSystem,name:"geometry"},xe.add(nT);const iT=new ht;class Jv{constructor(e,r){this._texture=e,this.mapCoord=new ht,this.uClampFrame=new Float32Array(4),this.uClampOffset=new Float32Array(2),this._textureID=-1,this._updateID=0,this.clampOffset=0,this.clampMargin=typeof r>"u"?.5:r,this.isSimple=!1}get texture(){return this._texture}set texture(e){this._texture=e,this._textureID=-1}multiplyUvs(e,r){r===void 0&&(r=e);const n=this.mapCoord;for(let i=0;i<e.length;i+=2){const s=e[i],o=e[i+1];r[i]=s*n.a+o*n.c+n.tx,r[i+1]=s*n.b+o*n.d+n.ty}return r}update(e){const r=this._texture;if(!r||!r.valid||!e&&this._textureID===r._updateID)return!1;this._textureID=r._updateID,this._updateID++;const n=r._uvs;this.mapCoord.set(n.x1-n.x0,n.y1-n.y0,n.x3-n.x0,n.y3-n.y0,n.x0,n.y0);const i=r.orig,s=r.trim;s&&(iT.set(i.width/s.width,0,0,i.height/s.height,-s.x/s.width,-s.y/s.height),this.mapCoord.append(iT));const o=r.baseTexture,l=this.uClampFrame,c=this.clampMargin/o.resolution,h=this.clampOffset;return l[0]=(r._frame.x+c+h)/o.width,l[1]=(r._frame.y+c+h)/o.height,l[2]=(r._frame.x+r._frame.width-c+h)/o.width,l[3]=(r._frame.y+r._frame.height-c+h)/o.height,this.uClampOffset[0]=h/o.realWidth,this.uClampOffset[1]=h/o.realHeight,this.isSimple=r._frame.width===o.width&&r._frame.height===o.height&&r.rotate===0,!0}}var lO=`varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform sampler2D mask;
uniform float alpha;
uniform float npmAlpha;
uniform vec4 maskClamp;

void main(void)
{
    float clip = step(3.5,
        step(maskClamp.x, vMaskCoord.x) +
        step(maskClamp.y, vMaskCoord.y) +
        step(vMaskCoord.x, maskClamp.z) +
        step(vMaskCoord.y, maskClamp.w));

    vec4 original = texture2D(uSampler, vTextureCoord);
    vec4 masky = texture2D(mask, vMaskCoord);
    float alphaMul = 1.0 - npmAlpha * (1.0 - masky.a);

    original *= (alphaMul * masky.r * alpha * clip);

    gl_FragColor = original;
}
`,uO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 otherMatrix;

varying vec2 vMaskCoord;
varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vMaskCoord = ( otherMatrix * vec3( aTextureCoord, 1.0)  ).xy;
}
`;class cO extends ar{constructor(e,r,n){let i=null;typeof e!="string"&&r===void 0&&n===void 0&&(i=e,e=void 0,r=void 0,n=void 0),super(e||uO,r||lO,n),this.maskSprite=i,this.maskMatrix=new ht}get maskSprite(){return this._maskSprite}set maskSprite(e){this._maskSprite=e,this._maskSprite&&(this._maskSprite.renderable=!1)}apply(e,r,n,i){const s=this._maskSprite,o=s._texture;o.valid&&(o.uvMatrix||(o.uvMatrix=new Jv(o,0)),o.uvMatrix.update(),this.uniforms.npmAlpha=o.baseTexture.alphaMode?0:1,this.uniforms.mask=o,this.uniforms.otherMatrix=e.calculateSpriteMatrix(this.maskMatrix,s).prepend(o.uvMatrix.mapCoord),this.uniforms.alpha=s.worldAlpha,this.uniforms.maskClamp=o.uvMatrix.uClampFrame,e.applyFilter(this,r,n,i))}}class hO{constructor(e=null){this.type=zt.NONE,this.autoDetect=!0,this.maskObject=e||null,this.pooled=!1,this.isMaskData=!0,this.resolution=null,this.multisample=ar.defaultMultisample,this.enabled=!0,this.colorMask=15,this._filters=null,this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null,this._scissorRectLocal=null,this._colorMask=15,this._target=null}get filter(){return this._filters?this._filters[0]:null}set filter(e){e?this._filters?this._filters[0]=e:this._filters=[e]:this._filters=null}reset(){this.pooled&&(this.maskObject=null,this.type=zt.NONE,this.autoDetect=!0),this._target=null,this._scissorRectLocal=null}copyCountersOrReset(e){e?(this._stencilCounter=e._stencilCounter,this._scissorCounter=e._scissorCounter,this._scissorRect=e._scissorRect):(this._stencilCounter=0,this._scissorCounter=0,this._scissorRect=null)}}class sT{constructor(e){this.renderer=e,this.enableScissor=!0,this.alphaMaskPool=[],this.maskDataPool=[],this.maskStack=[],this.alphaMaskIndex=0}setMaskStack(e){this.maskStack=e,this.renderer.scissor.setMaskStack(e),this.renderer.stencil.setMaskStack(e)}push(e,r){let n=r;if(!n.isMaskData){const s=this.maskDataPool.pop()||new hO;s.pooled=!0,s.maskObject=r,n=s}const i=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null;if(n.copyCountersOrReset(i),n._colorMask=i?i._colorMask:15,n.autoDetect&&this.detect(n),n._target=e,n.type!==zt.SPRITE&&this.maskStack.push(n),n.enabled)switch(n.type){case zt.SCISSOR:this.renderer.scissor.push(n);break;case zt.STENCIL:this.renderer.stencil.push(n);break;case zt.SPRITE:n.copyCountersOrReset(null),this.pushSpriteMask(n);break;case zt.COLOR:this.pushColorMask(n);break}n.type===zt.SPRITE&&this.maskStack.push(n)}pop(e){const r=this.maskStack.pop();if(!(!r||r._target!==e)){if(r.enabled)switch(r.type){case zt.SCISSOR:this.renderer.scissor.pop(r);break;case zt.STENCIL:this.renderer.stencil.pop(r.maskObject);break;case zt.SPRITE:this.popSpriteMask(r);break;case zt.COLOR:this.popColorMask(r);break}if(r.reset(),r.pooled&&this.maskDataPool.push(r),this.maskStack.length!==0){const n=this.maskStack[this.maskStack.length-1];n.type===zt.SPRITE&&n._filters&&(n._filters[0].maskSprite=n.maskObject)}}}detect(e){const r=e.maskObject;r?r.isSprite?e.type=zt.SPRITE:this.enableScissor&&this.renderer.scissor.testScissor(e)?e.type=zt.SCISSOR:e.type=zt.STENCIL:e.type=zt.COLOR}pushSpriteMask(e){const{maskObject:r}=e,n=e._target;let i=e._filters;i||(i=this.alphaMaskPool[this.alphaMaskIndex],i||(i=this.alphaMaskPool[this.alphaMaskIndex]=[new cO]));const s=this.renderer,o=s.renderTexture;let l,c;if(o.current){const f=o.current;l=e.resolution||f.resolution,c=e.multisample??f.multisample}else l=e.resolution||s.resolution,c=e.multisample??s.multisample;i[0].resolution=l,i[0].multisample=c,i[0].maskSprite=r;const h=n.filterArea;n.filterArea=r.getBounds(!0),s.filter.push(n,i),n.filterArea=h,e._filters||this.alphaMaskIndex++}popSpriteMask(e){this.renderer.filter.pop(),e._filters?e._filters[0].maskSprite=null:(this.alphaMaskIndex--,this.alphaMaskPool[this.alphaMaskIndex][0].maskSprite=null)}pushColorMask(e){const r=e._colorMask,n=e._colorMask=r&e.colorMask;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}popColorMask(e){const r=e._colorMask,n=this.maskStack.length>0?this.maskStack[this.maskStack.length-1]._colorMask:15;n!==r&&this.renderer.gl.colorMask((n&1)!==0,(n&2)!==0,(n&4)!==0,(n&8)!==0)}destroy(){this.renderer=null}}sT.extension={type:ce.RendererSystem,name:"mask"},xe.add(sT);class oT{constructor(e){this.renderer=e,this.maskStack=[],this.glConst=0}getStackLength(){return this.maskStack.length}setMaskStack(e){const{gl:r}=this.renderer,n=this.getStackLength();this.maskStack=e;const i=this.getStackLength();i!==n&&(i===0?r.disable(this.glConst):(r.enable(this.glConst),this._useCurrent()))}_useCurrent(){}destroy(){this.renderer=null,this.maskStack=null}}const aT=new ht,lT=[],Id=class extends oT{constructor(t){super(t),this.glConst=le.ADAPTER.getWebGLRenderingContext().SCISSOR_TEST}getStackLength(){const t=this.maskStack[this.maskStack.length-1];return t?t._scissorCounter:0}calcScissorRect(t){if(t._scissorRectLocal)return;const e=t._scissorRect,{maskObject:r}=t,{renderer:n}=this,i=n.renderTexture,s=r.getBounds(!0,lT.pop()??new De);this.roundFrameToPixels(s,i.current?i.current.resolution:n.resolution,i.sourceFrame,i.destinationFrame,n.projection.transform),e&&s.fit(e),t._scissorRectLocal=s}static isMatrixRotated(t){if(!t)return!1;const{a:e,b:r,c:n,d:i}=t;return(Math.abs(r)>1e-4||Math.abs(n)>1e-4)&&(Math.abs(e)>1e-4||Math.abs(i)>1e-4)}testScissor(t){const{maskObject:e}=t;if(!e.isFastRect||!e.isFastRect()||Id.isMatrixRotated(e.worldTransform)||Id.isMatrixRotated(this.renderer.projection.transform))return!1;this.calcScissorRect(t);const r=t._scissorRectLocal;return r.width>0&&r.height>0}roundFrameToPixels(t,e,r,n,i){Id.isMatrixRotated(i)||(i=i?aT.copyFrom(i):aT.identity(),i.translate(-r.x,-r.y).scale(n.width/r.width,n.height/r.height).translate(n.x,n.y),this.renderer.filter.transformAABB(i,t),t.fit(n),t.x=Math.round(t.x*e),t.y=Math.round(t.y*e),t.width=Math.round(t.width*e),t.height=Math.round(t.height*e))}push(t){t._scissorRectLocal||this.calcScissorRect(t);const{gl:e}=this.renderer;t._scissorRect||e.enable(e.SCISSOR_TEST),t._scissorCounter++,t._scissorRect=t._scissorRectLocal,this._useCurrent()}pop(t){const{gl:e}=this.renderer;t&&lT.push(t._scissorRectLocal),this.getStackLength()>0?this._useCurrent():e.disable(e.SCISSOR_TEST)}_useCurrent(){const t=this.maskStack[this.maskStack.length-1]._scissorRect;let e;this.renderer.renderTexture.current?e=t.y:e=this.renderer.height-t.height-t.y,this.renderer.gl.scissor(t.x,e,t.width,t.height)}};let uT=Id;uT.extension={type:ce.RendererSystem,name:"scissor"},xe.add(uT);class cT extends oT{constructor(e){super(e),this.glConst=le.ADAPTER.getWebGLRenderingContext().STENCIL_TEST}getStackLength(){const e=this.maskStack[this.maskStack.length-1];return e?e._stencilCounter:0}push(e){const r=e.maskObject,{gl:n}=this.renderer,i=e._stencilCounter;i===0&&(this.renderer.framebuffer.forceStencil(),n.clearStencil(0),n.clear(n.STENCIL_BUFFER_BIT),n.enable(n.STENCIL_TEST)),e._stencilCounter++;const s=e._colorMask;s!==0&&(e._colorMask=0,n.colorMask(!1,!1,!1,!1)),n.stencilFunc(n.EQUAL,i,4294967295),n.stencilOp(n.KEEP,n.KEEP,n.INCR),r.renderable=!0,r.render(this.renderer),this.renderer.batch.flush(),r.renderable=!1,s!==0&&(e._colorMask=s,n.colorMask((s&1)!==0,(s&2)!==0,(s&4)!==0,(s&8)!==0)),this._useCurrent()}pop(e){const r=this.renderer.gl;if(this.getStackLength()===0)r.disable(r.STENCIL_TEST);else{const n=this.maskStack.length!==0?this.maskStack[this.maskStack.length-1]:null,i=n?n._colorMask:15;i!==0&&(n._colorMask=0,r.colorMask(!1,!1,!1,!1)),r.stencilOp(r.KEEP,r.KEEP,r.DECR),e.renderable=!0,e.render(this.renderer),this.renderer.batch.flush(),e.renderable=!1,i!==0&&(n._colorMask=i,r.colorMask((i&1)!==0,(i&2)!==0,(i&4)!==0,(i&8)!==0)),this._useCurrent()}}_useCurrent(){const e=this.renderer.gl;e.stencilFunc(e.EQUAL,this.getStackLength(),4294967295),e.stencilOp(e.KEEP,e.KEEP,e.KEEP)}}cT.extension={type:ce.RendererSystem,name:"stencil"},xe.add(cT);class hT{constructor(e){this.renderer=e,this.plugins={},Object.defineProperties(this.plugins,{extract:{enumerable:!1,get(){return Fe("7.0.0","renderer.plugins.extract has moved to renderer.extract"),e.extract}},prepare:{enumerable:!1,get(){return Fe("7.0.0","renderer.plugins.prepare has moved to renderer.prepare"),e.prepare}},interaction:{enumerable:!1,get(){return Fe("7.0.0","renderer.plugins.interaction has been deprecated, use renderer.events"),e.events}}})}init(){const e=this.rendererPlugins;for(const r in e)this.plugins[r]=new e[r](this.renderer)}destroy(){for(const e in this.plugins)this.plugins[e].destroy(),this.plugins[e]=null}}hT.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"_plugin"},xe.add(hT);class dT{constructor(e){this.renderer=e,this.destinationFrame=null,this.sourceFrame=null,this.defaultFrame=null,this.projectionMatrix=new ht,this.transform=null}update(e,r,n,i){this.destinationFrame=e||this.destinationFrame||this.defaultFrame,this.sourceFrame=r||this.sourceFrame||e,this.calculateProjection(this.destinationFrame,this.sourceFrame,n,i),this.transform&&this.projectionMatrix.append(this.transform);const s=this.renderer;s.globalUniforms.uniforms.projectionMatrix=this.projectionMatrix,s.globalUniforms.update(),s.shader.shader&&s.shader.syncUniformGroup(s.shader.shader.uniforms.globals)}calculateProjection(e,r,n,i){const s=this.projectionMatrix,o=i?-1:1;s.identity(),s.a=1/r.width*2,s.d=o*(1/r.height*2),s.tx=-1-r.x*s.a,s.ty=-o-r.y*s.d}setTransform(e){}destroy(){this.renderer=null}}dT.extension={type:ce.RendererSystem,name:"projection"},xe.add(dT);const dO=new xd;class fT{constructor(e){this.renderer=e,this._tempMatrix=new ht}generateTexture(e,r){const{region:n,...i}=r||{},s=n||e.getLocalBounds(null,!0);s.width===0&&(s.width=1),s.height===0&&(s.height=1);const o=Ao.create({width:s.width,height:s.height,...i});this._tempMatrix.tx=-s.x,this._tempMatrix.ty=-s.y;const l=e.transform;return e.transform=dO,this.renderer.render(e,{renderTexture:o,transform:this._tempMatrix,skipUpdateTransform:!!e.parent,blit:!0}),e.transform=l,o}destroy(){}}fT.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"textureGenerator"},xe.add(fT);const Co=new De,Fu=new De;class pT{constructor(e){this.renderer=e,this.defaultMaskStack=[],this.current=null,this.sourceFrame=new De,this.destinationFrame=new De,this.viewportFrame=new De}contextChange(){var r;const e=(r=this.renderer)==null?void 0:r.gl.getContextAttributes();this._rendererPremultipliedAlpha=!!(e&&e.alpha&&e.premultipliedAlpha)}bind(e=null,r,n){const i=this.renderer;this.current=e;let s,o,l;e?(s=e.baseTexture,l=s.resolution,r||(Co.width=e.frame.width,Co.height=e.frame.height,r=Co),n||(Fu.x=e.frame.x,Fu.y=e.frame.y,Fu.width=r.width,Fu.height=r.height,n=Fu),o=s.framebuffer):(l=i.resolution,r||(Co.width=i._view.screen.width,Co.height=i._view.screen.height,r=Co),n||(n=Co,n.width=r.width,n.height=r.height));const c=this.viewportFrame;c.x=n.x*l,c.y=n.y*l,c.width=n.width*l,c.height=n.height*l,e||(c.y=i.view.height-(c.y+c.height)),c.ceil(),this.renderer.framebuffer.bind(o,c),this.renderer.projection.update(n,r,l,!o),e?this.renderer.mask.setMaskStack(s.maskStack):this.renderer.mask.setMaskStack(this.defaultMaskStack),this.sourceFrame.copyFrom(r),this.destinationFrame.copyFrom(n)}clear(e,r){const n=this.current?this.current.baseTexture.clear:this.renderer.background.backgroundColor,i=Ye.shared.setValue(e||n);(this.current&&this.current.baseTexture.alphaMode>0||!this.current&&this._rendererPremultipliedAlpha)&&i.premultiply(i.alpha);const s=this.destinationFrame,o=this.current?this.current.baseTexture:this.renderer._view.screen,l=s.width!==o.width||s.height!==o.height;if(l){let{x:c,y:h,width:f,height:p}=this.viewportFrame;c=Math.round(c),h=Math.round(h),f=Math.round(f),p=Math.round(p),this.renderer.gl.enable(this.renderer.gl.SCISSOR_TEST),this.renderer.gl.scissor(c,h,f,p)}this.renderer.framebuffer.clear(i.red,i.green,i.blue,i.alpha,r),l&&this.renderer.scissor.pop()}resize(){this.bind(null)}reset(){this.bind(null)}destroy(){this.renderer=null}}pT.extension={type:ce.RendererSystem,name:"renderTexture"},xe.add(pT);class fO{constructor(e,r){this.program=e,this.uniformData=r,this.uniformGroups={},this.uniformDirtyGroups={},this.uniformBufferBindings={}}destroy(){this.uniformData=null,this.uniformGroups=null,this.uniformDirtyGroups=null,this.uniformBufferBindings=null,this.program=null}}function pO(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_ATTRIBUTES);for(let i=0;i<n;i++){const s=e.getActiveAttrib(t,i);if(s.name.startsWith("gl_"))continue;const o=$E(e,s.type),l={type:o,name:s.name,size:GE(o),location:e.getAttribLocation(t,s.name)};r[s.name]=l}return r}function mO(t,e){const r={},n=e.getProgramParameter(t,e.ACTIVE_UNIFORMS);for(let i=0;i<n;i++){const s=e.getActiveUniform(t,i),o=s.name.replace(/\[.*?\]$/,""),l=!!s.name.match(/\[.*?\]$/),c=$E(e,s.type);r[o]={name:o,index:i,type:c,size:s.size,isArray:l,value:zE(c,s.size)}}return r}function gO(t,e){var l;const r=UE(t,t.VERTEX_SHADER,e.vertexSrc),n=UE(t,t.FRAGMENT_SHADER,e.fragmentSrc),i=t.createProgram();t.attachShader(i,r),t.attachShader(i,n);const s=(l=e.extra)==null?void 0:l.transformFeedbackVaryings;if(s&&(typeof t.transformFeedbackVaryings!="function"?console.warn("TransformFeedback is not supported but TransformFeedbackVaryings are given."):t.transformFeedbackVaryings(i,s.names,s.bufferMode==="separate"?t.SEPARATE_ATTRIBS:t.INTERLEAVED_ATTRIBS)),t.linkProgram(i),t.getProgramParameter(i,t.LINK_STATUS)||$N(t,i,r,n),e.attributeData=pO(i,t),e.uniformData=mO(i,t),!/^[ \t]*#[ \t]*version[ \t]+300[ \t]+es[ \t]*$/m.test(e.vertexSrc)){const c=Object.keys(e.attributeData);c.sort((h,f)=>h>f?1:-1);for(let h=0;h<c.length;h++)e.attributeData[c[h]].location=h,t.bindAttribLocation(i,h,c[h]);t.linkProgram(i)}t.deleteShader(r),t.deleteShader(n);const o={};for(const c in e.uniformData){const h=e.uniformData[c];o[c]={location:t.getUniformLocation(i,c),value:zE(h.type,h.size)}}return new fO(i,o)}function vO(t,e,r,n,i){r.buffer.update(i)}const yO={float:`
        data[offset] = v;
    `,vec2:`
        data[offset] = v[0];
        data[offset+1] = v[1];
    `,vec3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

    `,vec4:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];
        data[offset+3] = v[3];
    `,mat2:`
        data[offset] = v[0];
        data[offset+1] = v[1];

        data[offset+4] = v[2];
        data[offset+5] = v[3];
    `,mat3:`
        data[offset] = v[0];
        data[offset+1] = v[1];
        data[offset+2] = v[2];

        data[offset + 4] = v[3];
        data[offset + 5] = v[4];
        data[offset + 6] = v[5];

        data[offset + 8] = v[6];
        data[offset + 9] = v[7];
        data[offset + 10] = v[8];
    `,mat4:`
        for(var i = 0; i < 16; i++)
        {
            data[offset + i] = v[i];
        }
    `},mT={float:4,vec2:8,vec3:12,vec4:16,int:4,ivec2:8,ivec3:12,ivec4:16,uint:4,uvec2:8,uvec3:12,uvec4:16,bool:4,bvec2:8,bvec3:12,bvec4:16,mat2:16*2,mat3:16*3,mat4:16*4};function _O(t){const e=t.map(s=>({data:s,offset:0,dataLen:0,dirty:0}));let r=0,n=0,i=0;for(let s=0;s<e.length;s++){const o=e[s];if(r=mT[o.data.type],o.data.size>1&&(r=Math.max(r,16)*o.data.size),o.dataLen=r,n%r!==0&&n<16){const l=n%r%16;n+=l,i+=l}n+r>16?(i=Math.ceil(i/16)*16,o.offset=i,i+=r,n=r):(o.offset=i,n+=r,i+=r)}return i=Math.ceil(i/16)*16,{uboElements:e,size:i}}function bO(t,e){const r=[];for(const n in t)e[n]&&r.push(e[n]);return r.sort((n,i)=>n.index-i.index),r}function xO(t,e){if(!t.autoManage)return{size:0,syncFunc:vO};const r=bO(t.uniforms,e),{uboElements:n,size:i}=_O(r),s=[`
    var v = null;
    var v2 = null;
    var cv = null;
    var t = 0;
    var gl = renderer.gl
    var index = 0;
    var data = buffer.data;
    `];for(let o=0;o<n.length;o++){const l=n[o],c=t.uniforms[l.data.name],h=l.data.name;let f=!1;for(let p=0;p<$a.length;p++){const m=$a[p];if(m.codeUbo&&m.test(l.data,c)){s.push(`offset = ${l.offset/4};`,$a[p].codeUbo(l.data.name,c)),f=!0;break}}if(!f)if(l.data.size>1){const p=GE(l.data.type),m=Math.max(mT[l.data.type]/16,1),y=p/m,_=(4-y%4)%4;s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${l.offset/4};

                t = 0;

                for(var i=0; i < ${l.data.size*m}; i++)
                {
                    for(var j = 0; j < ${y}; j++)
                    {
                        data[offset++] = v[t++];
                    }
                    offset += ${_};
                }

                `)}else{const p=yO[l.data.type];s.push(`
                cv = ud.${h}.value;
                v = uv.${h};
                offset = ${l.offset/4};
                ${p};
                `)}}return s.push(`
       renderer.buffer.update(buffer);
    `),{size:i,syncFunc:new Function("ud","uv","renderer","syncData","buffer",s.join(`
`))}}let wO=0;const kd={textureCount:0,uboCount:0};class gT{constructor(e){this.destroyed=!1,this.renderer=e,this.systemCheck(),this.gl=null,this.shader=null,this.program=null,this.cache={},this._uboCache={},this.id=wO++}systemCheck(){if(!XN())throw new Error("Current environment does not allow unsafe-eval, please use @pixi/unsafe-eval module to enable support.")}contextChange(e){this.gl=e,this.reset()}bind(e,r){e.disposeRunner.add(this),e.uniforms.globals=this.renderer.globalUniforms;const n=e.program,i=n.glPrograms[this.renderer.CONTEXT_UID]||this.generateProgram(e);return this.shader=e,this.program!==n&&(this.program=n,this.gl.useProgram(i.program)),r||(kd.textureCount=0,kd.uboCount=0,this.syncUniformGroup(e.uniformGroup,kd)),i}setUniforms(e){const r=this.shader.program,n=r.glPrograms[this.renderer.CONTEXT_UID];r.syncUniforms(n.uniformData,e,this.renderer)}syncUniformGroup(e,r){const n=this.getGlProgram();(!e.static||e.dirtyId!==n.uniformDirtyGroups[e.id])&&(n.uniformDirtyGroups[e.id]=e.dirtyId,this.syncUniforms(e,n,r))}syncUniforms(e,r,n){(e.syncUniforms[this.shader.program.id]||this.createSyncGroups(e))(r.uniformData,e.uniforms,this.renderer,n)}createSyncGroups(e){const r=this.getSignature(e,this.shader.program.uniformData,"u");return this.cache[r]||(this.cache[r]=HN(e,this.shader.program.uniformData)),e.syncUniforms[this.shader.program.id]=this.cache[r],e.syncUniforms[this.shader.program.id]}syncUniformBufferGroup(e,r){const n=this.getGlProgram();if(!e.static||e.dirtyId!==0||!n.uniformGroups[e.id]){e.dirtyId=0;const i=n.uniformGroups[e.id]||this.createSyncBufferGroup(e,n,r);e.buffer.update(),i(n.uniformData,e.uniforms,this.renderer,kd,e.buffer)}this.renderer.buffer.bindBufferBase(e.buffer,n.uniformBufferBindings[r])}createSyncBufferGroup(e,r,n){const{gl:i}=this.renderer;this.renderer.buffer.bind(e.buffer);const s=this.gl.getUniformBlockIndex(r.program,n);r.uniformBufferBindings[n]=this.shader.uniformBindCount,i.uniformBlockBinding(r.program,s,this.shader.uniformBindCount),this.shader.uniformBindCount++;const o=this.getSignature(e,this.shader.program.uniformData,"ubo");let l=this._uboCache[o];if(l||(l=this._uboCache[o]=xO(e,this.shader.program.uniformData)),e.autoManage){const c=new Float32Array(l.size/4);e.buffer.update(c)}return r.uniformGroups[e.id]=l.syncFunc,r.uniformGroups[e.id]}getSignature(e,r,n){const i=e.uniforms,s=[`${n}-`];for(const o in i)s.push(o),r[o]&&s.push(r[o].type);return s.join("-")}getGlProgram(){return this.shader?this.shader.program.glPrograms[this.renderer.CONTEXT_UID]:null}generateProgram(e){const r=this.gl,n=e.program,i=gO(r,n);return n.glPrograms[this.renderer.CONTEXT_UID]=i,i}reset(){this.program=null,this.shader=null}disposeShader(e){this.shader===e&&(this.shader=null)}destroy(){this.renderer=null,this.destroyed=!0}}gT.extension={type:ce.RendererSystem,name:"shader"},xe.add(gT);class Md{constructor(e){this.renderer=e}run(e){const{renderer:r}=this;r.runners.init.emit(r.options),e.hello&&console.log(`PixiJS 7.2.4 - ${r.rendererLogId} - https://pixijs.com`),r.resize(r.screen.width,r.screen.height)}destroy(){}}Md.defaultOptions={hello:!1},Md.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"startup"},xe.add(Md);function EO(t,e=[]){return e[Se.NORMAL]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.ADD]=[t.ONE,t.ONE],e[Se.MULTIPLY]=[t.DST_COLOR,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.SCREEN]=[t.ONE,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.OVERLAY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.DARKEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.LIGHTEN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.COLOR_DODGE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.COLOR_BURN]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.HARD_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.SOFT_LIGHT]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.DIFFERENCE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.EXCLUSION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.HUE]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.SATURATION]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.COLOR]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.LUMINOSITY]=[t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.NONE]=[0,0],e[Se.NORMAL_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.ADD_NPM]=[t.SRC_ALPHA,t.ONE,t.ONE,t.ONE],e[Se.SCREEN_NPM]=[t.SRC_ALPHA,t.ONE_MINUS_SRC_COLOR,t.ONE,t.ONE_MINUS_SRC_ALPHA],e[Se.SRC_IN]=[t.DST_ALPHA,t.ZERO],e[Se.SRC_OUT]=[t.ONE_MINUS_DST_ALPHA,t.ZERO],e[Se.SRC_ATOP]=[t.DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Se.DST_OVER]=[t.ONE_MINUS_DST_ALPHA,t.ONE],e[Se.DST_IN]=[t.ZERO,t.SRC_ALPHA],e[Se.DST_OUT]=[t.ZERO,t.ONE_MINUS_SRC_ALPHA],e[Se.DST_ATOP]=[t.ONE_MINUS_DST_ALPHA,t.SRC_ALPHA],e[Se.XOR]=[t.ONE_MINUS_DST_ALPHA,t.ONE_MINUS_SRC_ALPHA],e[Se.SUBTRACT]=[t.ONE,t.ONE,t.ONE,t.ONE,t.FUNC_REVERSE_SUBTRACT,t.FUNC_ADD],e}const TO=0,SO=1,AO=2,CO=3,PO=4,RO=5,Zv=class{constructor(){this.gl=null,this.stateId=0,this.polygonOffset=0,this.blendMode=Se.NONE,this._blendEq=!1,this.map=[],this.map[TO]=this.setBlend,this.map[SO]=this.setOffset,this.map[AO]=this.setCullFace,this.map[CO]=this.setDepthTest,this.map[PO]=this.setFrontFace,this.map[RO]=this.setDepthMask,this.checks=[],this.defaultState=new Vi,this.defaultState.blend=!0}contextChange(t){this.gl=t,this.blendModes=EO(t),this.set(this.defaultState),this.reset()}set(t){if(t=t||this.defaultState,this.stateId!==t.data){let e=this.stateId^t.data,r=0;for(;e;)e&1&&this.map[r].call(this,!!(t.data&1<<r)),e=e>>1,r++;this.stateId=t.data}for(let e=0;e<this.checks.length;e++)this.checks[e](this,t)}forceState(t){t=t||this.defaultState;for(let e=0;e<this.map.length;e++)this.map[e].call(this,!!(t.data&1<<e));for(let e=0;e<this.checks.length;e++)this.checks[e](this,t);this.stateId=t.data}setBlend(t){this.updateCheck(Zv.checkBlendMode,t),this.gl[t?"enable":"disable"](this.gl.BLEND)}setOffset(t){this.updateCheck(Zv.checkPolygonOffset,t),this.gl[t?"enable":"disable"](this.gl.POLYGON_OFFSET_FILL)}setDepthTest(t){this.gl[t?"enable":"disable"](this.gl.DEPTH_TEST)}setDepthMask(t){this.gl.depthMask(t)}setCullFace(t){this.gl[t?"enable":"disable"](this.gl.CULL_FACE)}setFrontFace(t){this.gl.frontFace(this.gl[t?"CW":"CCW"])}setBlendMode(t){if(t===this.blendMode)return;this.blendMode=t;const e=this.blendModes[t],r=this.gl;e.length===2?r.blendFunc(e[0],e[1]):r.blendFuncSeparate(e[0],e[1],e[2],e[3]),e.length===6?(this._blendEq=!0,r.blendEquationSeparate(e[4],e[5])):this._blendEq&&(this._blendEq=!1,r.blendEquationSeparate(r.FUNC_ADD,r.FUNC_ADD))}setPolygonOffset(t,e){this.gl.polygonOffset(t,e)}reset(){this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL,!1),this.forceState(this.defaultState),this._blendEq=!0,this.blendMode=-1,this.setBlendMode(0)}updateCheck(t,e){const r=this.checks.indexOf(t);e&&r===-1?this.checks.push(t):!e&&r!==-1&&this.checks.splice(r,1)}static checkBlendMode(t,e){t.setBlendMode(e.blendMode)}static checkPolygonOffset(t,e){t.setPolygonOffset(1,e.polygonOffset)}destroy(){this.gl=null}};let vT=Zv;vT.extension={type:ce.RendererSystem,name:"state"},xe.add(vT);class IO extends Eu{constructor(){super(...arguments),this.runners={},this._systemsHash={}}setup(e){this.addRunners(...e.runners);const r=(e.priority??[]).filter(i=>e.systems[i]),n=[...r,...Object.keys(e.systems).filter(i=>!r.includes(i))];for(const i of n)this.addSystem(e.systems[i],i)}addRunners(...e){e.forEach(r=>{this.runners[r]=new Dn(r)})}addSystem(e,r){const n=new e(this);if(this[r])throw new Error(`Whoops! The name "${r}" is already in use`);this[r]=n,this._systemsHash[r]=n;for(const i in this.runners)this.runners[i].add(n);return this}emitWithCustomOptions(e,r){const n=Object.keys(this._systemsHash);e.items.forEach(i=>{const s=n.find(o=>this._systemsHash[o]===i);i[e.name](r[s])})}destroy(){Object.values(this.runners).forEach(e=>{e.destroy()}),this._systemsHash={}}}const Nd=class{constructor(t){this.renderer=t,this.count=0,this.checkCount=0,this.maxIdle=Nd.defaultMaxIdle,this.checkCountMax=Nd.defaultCheckCountMax,this.mode=Nd.defaultMode}postrender(){this.renderer.objectRenderer.renderingToScreen&&(this.count++,this.mode!==Vg.MANUAL&&(this.checkCount++,this.checkCount>this.checkCountMax&&(this.checkCount=0,this.run())))}run(){const t=this.renderer.texture,e=t.managedTextures;let r=!1;for(let n=0;n<e.length;n++){const i=e[n];!i.framebuffer&&this.count-i.touched>this.maxIdle&&(t.destroyTexture(i,!0),e[n]=null,r=!0)}if(r){let n=0;for(let i=0;i<e.length;i++)e[i]!==null&&(e[n++]=e[i]);e.length=n}}unload(t){const e=this.renderer.texture,r=t._texture;r&&!r.framebuffer&&e.destroyTexture(r);for(let n=t.children.length-1;n>=0;n--)this.unload(t.children[n])}destroy(){this.renderer=null}};let zn=Nd;zn.defaultMode=Vg.AUTO,zn.defaultMaxIdle=60*60,zn.defaultCheckCountMax=60*10,zn.extension={type:ce.RendererSystem,name:"textureGC"},xe.add(zn);class ey{constructor(e){this.texture=e,this.width=-1,this.height=-1,this.dirtyId=-1,this.dirtyStyleId=-1,this.mipmap=!1,this.wrapMode=33071,this.type=Ee.UNSIGNED_BYTE,this.internalFormat=ne.RGBA,this.samplerType=0}}function kO(t){let e;return"WebGL2RenderingContext"in globalThis&&t instanceof globalThis.WebGL2RenderingContext?e={[Ee.UNSIGNED_BYTE]:{[ne.RGBA]:t.RGBA8,[ne.RGB]:t.RGB8,[ne.RG]:t.RG8,[ne.RED]:t.R8,[ne.RGBA_INTEGER]:t.RGBA8UI,[ne.RGB_INTEGER]:t.RGB8UI,[ne.RG_INTEGER]:t.RG8UI,[ne.RED_INTEGER]:t.R8UI,[ne.ALPHA]:t.ALPHA,[ne.LUMINANCE]:t.LUMINANCE,[ne.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Ee.BYTE]:{[ne.RGBA]:t.RGBA8_SNORM,[ne.RGB]:t.RGB8_SNORM,[ne.RG]:t.RG8_SNORM,[ne.RED]:t.R8_SNORM,[ne.RGBA_INTEGER]:t.RGBA8I,[ne.RGB_INTEGER]:t.RGB8I,[ne.RG_INTEGER]:t.RG8I,[ne.RED_INTEGER]:t.R8I},[Ee.UNSIGNED_SHORT]:{[ne.RGBA_INTEGER]:t.RGBA16UI,[ne.RGB_INTEGER]:t.RGB16UI,[ne.RG_INTEGER]:t.RG16UI,[ne.RED_INTEGER]:t.R16UI,[ne.DEPTH_COMPONENT]:t.DEPTH_COMPONENT16},[Ee.SHORT]:{[ne.RGBA_INTEGER]:t.RGBA16I,[ne.RGB_INTEGER]:t.RGB16I,[ne.RG_INTEGER]:t.RG16I,[ne.RED_INTEGER]:t.R16I},[Ee.UNSIGNED_INT]:{[ne.RGBA_INTEGER]:t.RGBA32UI,[ne.RGB_INTEGER]:t.RGB32UI,[ne.RG_INTEGER]:t.RG32UI,[ne.RED_INTEGER]:t.R32UI,[ne.DEPTH_COMPONENT]:t.DEPTH_COMPONENT24},[Ee.INT]:{[ne.RGBA_INTEGER]:t.RGBA32I,[ne.RGB_INTEGER]:t.RGB32I,[ne.RG_INTEGER]:t.RG32I,[ne.RED_INTEGER]:t.R32I},[Ee.FLOAT]:{[ne.RGBA]:t.RGBA32F,[ne.RGB]:t.RGB32F,[ne.RG]:t.RG32F,[ne.RED]:t.R32F,[ne.DEPTH_COMPONENT]:t.DEPTH_COMPONENT32F},[Ee.HALF_FLOAT]:{[ne.RGBA]:t.RGBA16F,[ne.RGB]:t.RGB16F,[ne.RG]:t.RG16F,[ne.RED]:t.R16F},[Ee.UNSIGNED_SHORT_5_6_5]:{[ne.RGB]:t.RGB565},[Ee.UNSIGNED_SHORT_4_4_4_4]:{[ne.RGBA]:t.RGBA4},[Ee.UNSIGNED_SHORT_5_5_5_1]:{[ne.RGBA]:t.RGB5_A1},[Ee.UNSIGNED_INT_2_10_10_10_REV]:{[ne.RGBA]:t.RGB10_A2,[ne.RGBA_INTEGER]:t.RGB10_A2UI},[Ee.UNSIGNED_INT_10F_11F_11F_REV]:{[ne.RGB]:t.R11F_G11F_B10F},[Ee.UNSIGNED_INT_5_9_9_9_REV]:{[ne.RGB]:t.RGB9_E5},[Ee.UNSIGNED_INT_24_8]:{[ne.DEPTH_STENCIL]:t.DEPTH24_STENCIL8},[Ee.FLOAT_32_UNSIGNED_INT_24_8_REV]:{[ne.DEPTH_STENCIL]:t.DEPTH32F_STENCIL8}}:e={[Ee.UNSIGNED_BYTE]:{[ne.RGBA]:t.RGBA,[ne.RGB]:t.RGB,[ne.ALPHA]:t.ALPHA,[ne.LUMINANCE]:t.LUMINANCE,[ne.LUMINANCE_ALPHA]:t.LUMINANCE_ALPHA},[Ee.UNSIGNED_SHORT_5_6_5]:{[ne.RGB]:t.RGB},[Ee.UNSIGNED_SHORT_4_4_4_4]:{[ne.RGBA]:t.RGBA},[Ee.UNSIGNED_SHORT_5_5_5_1]:{[ne.RGBA]:t.RGBA}},e}class yT{constructor(e){this.renderer=e,this.boundTextures=[],this.currentLocation=-1,this.managedTextures=[],this._unknownBoundTextures=!1,this.unknownTexture=new Ie,this.hasIntegerTextures=!1}contextChange(){const e=this.gl=this.renderer.gl;this.CONTEXT_UID=this.renderer.CONTEXT_UID,this.webGLVersion=this.renderer.context.webGLVersion,this.internalFormats=kO(e);const r=e.getParameter(e.MAX_TEXTURE_IMAGE_UNITS);this.boundTextures.length=r;for(let i=0;i<r;i++)this.boundTextures[i]=null;this.emptyTextures={};const n=new ey(e.createTexture());e.bindTexture(e.TEXTURE_2D,n.texture),e.texImage2D(e.TEXTURE_2D,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,new Uint8Array(4)),this.emptyTextures[e.TEXTURE_2D]=n,this.emptyTextures[e.TEXTURE_CUBE_MAP]=new ey(e.createTexture()),e.bindTexture(e.TEXTURE_CUBE_MAP,this.emptyTextures[e.TEXTURE_CUBE_MAP].texture);for(let i=0;i<6;i++)e.texImage2D(e.TEXTURE_CUBE_MAP_POSITIVE_X+i,0,e.RGBA,1,1,0,e.RGBA,e.UNSIGNED_BYTE,null);e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MAG_FILTER,e.LINEAR),e.texParameteri(e.TEXTURE_CUBE_MAP,e.TEXTURE_MIN_FILTER,e.LINEAR);for(let i=0;i<this.boundTextures.length;i++)this.bind(null,i)}bind(e,r=0){const{gl:n}=this;if(e=e==null?void 0:e.castToBaseTexture(),(e==null?void 0:e.valid)&&!e.parentTextureArray){e.touched=this.renderer.textureGC.count;const i=e._glTextures[this.CONTEXT_UID]||this.initTexture(e);this.boundTextures[r]!==e&&(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(e.target,i.texture)),i.dirtyId!==e.dirtyId?(this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),this.updateTexture(e)):i.dirtyStyleId!==e.dirtyStyleId&&this.updateTextureStyle(e),this.boundTextures[r]=e}else this.currentLocation!==r&&(this.currentLocation=r,n.activeTexture(n.TEXTURE0+r)),n.bindTexture(n.TEXTURE_2D,this.emptyTextures[n.TEXTURE_2D].texture),this.boundTextures[r]=null}reset(){this._unknownBoundTextures=!0,this.hasIntegerTextures=!1,this.currentLocation=-1;for(let e=0;e<this.boundTextures.length;e++)this.boundTextures[e]=this.unknownTexture}unbind(e){const{gl:r,boundTextures:n}=this;if(this._unknownBoundTextures){this._unknownBoundTextures=!1;for(let i=0;i<n.length;i++)n[i]===this.unknownTexture&&this.bind(null,i)}for(let i=0;i<n.length;i++)n[i]===e&&(this.currentLocation!==i&&(r.activeTexture(r.TEXTURE0+i),this.currentLocation=i),r.bindTexture(e.target,this.emptyTextures[e.target].texture),n[i]=null)}ensureSamplerType(e){const{boundTextures:r,hasIntegerTextures:n,CONTEXT_UID:i}=this;if(n)for(let s=e-1;s>=0;--s){const o=r[s];o&&o._glTextures[i].samplerType!==$g.FLOAT&&this.renderer.texture.unbind(o)}}initTexture(e){const r=new ey(this.gl.createTexture());return r.dirtyId=-1,e._glTextures[this.CONTEXT_UID]=r,this.managedTextures.push(e),e.on("dispose",this.destroyTexture,this),r}initTextureType(e,r){var n;r.internalFormat=((n=this.internalFormats[e.type])==null?void 0:n[e.format])??e.format,this.webGLVersion===2&&e.type===Ee.HALF_FLOAT?r.type=this.gl.HALF_FLOAT:r.type=e.type}updateTexture(e){var i;const r=e._glTextures[this.CONTEXT_UID];if(!r)return;const n=this.renderer;if(this.initTextureType(e,r),(i=e.resource)==null?void 0:i.upload(n,e,r))r.samplerType!==$g.FLOAT&&(this.hasIntegerTextures=!0);else{const s=e.realWidth,o=e.realHeight,l=n.gl;(r.width!==s||r.height!==o||r.dirtyId<0)&&(r.width=s,r.height=o,l.texImage2D(e.target,0,r.internalFormat,s,o,0,e.format,r.type,null))}e.dirtyStyleId!==r.dirtyStyleId&&this.updateTextureStyle(e),r.dirtyId=e.dirtyId}destroyTexture(e,r){const{gl:n}=this;if(e=e.castToBaseTexture(),e._glTextures[this.CONTEXT_UID]&&(this.unbind(e),n.deleteTexture(e._glTextures[this.CONTEXT_UID].texture),e.off("dispose",this.destroyTexture,this),delete e._glTextures[this.CONTEXT_UID],!r)){const i=this.managedTextures.indexOf(e);i!==-1&&Ha(this.managedTextures,i,1)}}updateTextureStyle(e){var n;const r=e._glTextures[this.CONTEXT_UID];r&&((e.mipmap===si.POW2||this.webGLVersion!==2)&&!e.isPowerOfTwo?r.mipmap=!1:r.mipmap=e.mipmap>=1,this.webGLVersion!==2&&!e.isPowerOfTwo?r.wrapMode=ji.CLAMP:r.wrapMode=e.wrapMode,(n=e.resource)!=null&&n.style(this.renderer,e,r)||this.setStyle(e,r),r.dirtyStyleId=e.dirtyStyleId)}setStyle(e,r){const n=this.gl;if(r.mipmap&&e.mipmap!==si.ON_MANUAL&&n.generateMipmap(e.target),n.texParameteri(e.target,n.TEXTURE_WRAP_S,r.wrapMode),n.texParameteri(e.target,n.TEXTURE_WRAP_T,r.wrapMode),r.mipmap){n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===zi.LINEAR?n.LINEAR_MIPMAP_LINEAR:n.NEAREST_MIPMAP_NEAREST);const i=this.renderer.context.extensions.anisotropicFiltering;if(i&&e.anisotropicLevel>0&&e.scaleMode===zi.LINEAR){const s=Math.min(e.anisotropicLevel,n.getParameter(i.MAX_TEXTURE_MAX_ANISOTROPY_EXT));n.texParameterf(e.target,i.TEXTURE_MAX_ANISOTROPY_EXT,s)}}else n.texParameteri(e.target,n.TEXTURE_MIN_FILTER,e.scaleMode===zi.LINEAR?n.LINEAR:n.NEAREST);n.texParameteri(e.target,n.TEXTURE_MAG_FILTER,e.scaleMode===zi.LINEAR?n.LINEAR:n.NEAREST)}destroy(){this.renderer=null}}yT.extension={type:ce.RendererSystem,name:"texture"},xe.add(yT);class _T{constructor(e){this.renderer=e}contextChange(){this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glTransformFeedbacks[n]||this.createGLTransformFeedback(e);r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,i)}unbind(){const{gl:e}=this;e.bindTransformFeedback(e.TRANSFORM_FEEDBACK,null)}beginTransformFeedback(e,r){const{gl:n,renderer:i}=this;r&&i.shader.bind(r),n.beginTransformFeedback(e)}endTransformFeedback(){const{gl:e}=this;e.endTransformFeedback()}createGLTransformFeedback(e){const{gl:r,renderer:n,CONTEXT_UID:i}=this,s=r.createTransformFeedback();e._glTransformFeedbacks[i]=s,r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,s);for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];l&&(n.buffer.update(l),l._glBuffers[i].refCount++,r.bindBufferBase(r.TRANSFORM_FEEDBACK_BUFFER,o,l._glBuffers[i].buffer||null))}return r.bindTransformFeedback(r.TRANSFORM_FEEDBACK,null),e.disposeRunner.add(this),s}disposeTransformFeedback(e,r){const n=e._glTransformFeedbacks[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this);const s=this.renderer.buffer;if(s)for(let o=0;o<e.buffers.length;o++){const l=e.buffers[o];if(!l)continue;const c=l._glBuffers[this.CONTEXT_UID];c&&(c.refCount--,c.refCount===0&&!r&&s.dispose(l,r))}n&&(r||i.deleteTransformFeedback(n),delete e._glTransformFeedbacks[this.CONTEXT_UID])}destroy(){this.renderer=null}}_T.extension={type:ce.RendererSystem,name:"transformFeedback"},xe.add(_T);class Od{constructor(e){this.renderer=e}init(e){this.screen=new De(0,0,e.width,e.height),this.element=e.view||le.ADAPTER.createCanvas(),this.resolution=e.resolution||le.RESOLUTION,this.autoDensity=!!e.autoDensity}resizeView(e,r){this.element.width=Math.round(e*this.resolution),this.element.height=Math.round(r*this.resolution);const n=this.element.width/this.resolution,i=this.element.height/this.resolution;this.screen.width=n,this.screen.height=i,this.autoDensity&&(this.element.style.width=`${n}px`,this.element.style.height=`${i}px`),this.renderer.emit("resize",n,i),this.renderer.runners.resize.emit(this.screen.width,this.screen.height)}destroy(e){var r;e&&((r=this.element.parentNode)==null||r.removeChild(this.element)),this.renderer=null,this.element=null,this.screen=null}}Od.defaultOptions={width:800,height:600,resolution:le.RESOLUTION,autoDensity:!1},Od.extension={type:[ce.RendererSystem,ce.CanvasRendererSystem],name:"_view"},xe.add(Od),le.PREFER_ENV=go.WEBGL2,le.STRICT_TEXTURE_CACHE=!1,le.RENDER_OPTIONS={...Cd.defaultOptions,...Ad.defaultOptions,...Od.defaultOptions,...Md.defaultOptions},Object.defineProperties(le,{WRAP_MODE:{get(){return Ie.defaultOptions.wrapMode},set(t){Fe("7.1.0","settings.WRAP_MODE is deprecated, use BaseTexture.defaultOptions.wrapMode"),Ie.defaultOptions.wrapMode=t}},SCALE_MODE:{get(){return Ie.defaultOptions.scaleMode},set(t){Fe("7.1.0","settings.SCALE_MODE is deprecated, use BaseTexture.defaultOptions.scaleMode"),Ie.defaultOptions.scaleMode=t}},MIPMAP_TEXTURES:{get(){return Ie.defaultOptions.mipmap},set(t){Fe("7.1.0","settings.MIPMAP_TEXTURES is deprecated, use BaseTexture.defaultOptions.mipmap"),Ie.defaultOptions.mipmap=t}},ANISOTROPIC_LEVEL:{get(){return Ie.defaultOptions.anisotropicLevel},set(t){Fe("7.1.0","settings.ANISOTROPIC_LEVEL is deprecated, use BaseTexture.defaultOptions.anisotropicLevel"),Ie.defaultOptions.anisotropicLevel=t}},FILTER_RESOLUTION:{get(){return Fe("7.1.0","settings.FILTER_RESOLUTION is deprecated, use Filter.defaultResolution"),ar.defaultResolution},set(t){ar.defaultResolution=t}},FILTER_MULTISAMPLE:{get(){return Fe("7.1.0","settings.FILTER_MULTISAMPLE is deprecated, use Filter.defaultMultisample"),ar.defaultMultisample},set(t){ar.defaultMultisample=t}},SPRITE_MAX_TEXTURES:{get(){return Un.defaultMaxTextures},set(t){Fe("7.1.0","settings.SPRITE_MAX_TEXTURES is deprecated, use BatchRenderer.defaultMaxTextures"),Un.defaultMaxTextures=t}},SPRITE_BATCH_SIZE:{get(){return Un.defaultBatchSize},set(t){Fe("7.1.0","settings.SPRITE_BATCH_SIZE is deprecated, use BatchRenderer.defaultBatchSize"),Un.defaultBatchSize=t}},CAN_UPLOAD_SAME_BUFFER:{get(){return Un.canUploadSameBuffer},set(t){Fe("7.1.0","settings.CAN_UPLOAD_SAME_BUFFER is deprecated, use BatchRenderer.canUploadSameBuffer"),Un.canUploadSameBuffer=t}},GC_MODE:{get(){return zn.defaultMode},set(t){Fe("7.1.0","settings.GC_MODE is deprecated, use TextureGCSystem.defaultMode"),zn.defaultMode=t}},GC_MAX_IDLE:{get(){return zn.defaultMaxIdle},set(t){Fe("7.1.0","settings.GC_MAX_IDLE is deprecated, use TextureGCSystem.defaultMaxIdle"),zn.defaultMaxIdle=t}},GC_MAX_CHECK_COUNT:{get(){return zn.defaultCheckCountMax},set(t){Fe("7.1.0","settings.GC_MAX_CHECK_COUNT is deprecated, use TextureGCSystem.defaultCheckCountMax"),zn.defaultCheckCountMax=t}},PRECISION_VERTEX:{get(){return Ln.defaultVertexPrecision},set(t){Fe("7.1.0","settings.PRECISION_VERTEX is deprecated, use Program.defaultVertexPrecision"),Ln.defaultVertexPrecision=t}},PRECISION_FRAGMENT:{get(){return Ln.defaultFragmentPrecision},set(t){Fe("7.1.0","settings.PRECISION_FRAGMENT is deprecated, use Program.defaultFragmentPrecision"),Ln.defaultFragmentPrecision=t}}});var Os=(t=>(t[t.INTERACTION=50]="INTERACTION",t[t.HIGH=25]="HIGH",t[t.NORMAL=0]="NORMAL",t[t.LOW=-25]="LOW",t[t.UTILITY=-50]="UTILITY",t))(Os||{});class ty{constructor(e,r=null,n=0,i=!1){this.next=null,this.previous=null,this._destroyed=!1,this.fn=e,this.context=r,this.priority=n,this.once=i}match(e,r=null){return this.fn===e&&this.context===r}emit(e){this.fn&&(this.context?this.fn.call(this.context,e):this.fn(e));const r=this.next;return this.once&&this.destroy(!0),this._destroyed&&(this.next=null),r}connect(e){this.previous=e,e.next&&(e.next.previous=this),this.next=e.next,e.next=this}destroy(e=!1){this._destroyed=!0,this.fn=null,this.context=null,this.previous&&(this.previous.next=this.next),this.next&&(this.next.previous=this.previous);const r=this.next;return this.next=e?null:r,this.previous=null,r}}const Kr=class{constructor(){this.autoStart=!1,this.deltaTime=1,this.lastTime=-1,this.speed=1,this.started=!1,this._requestId=null,this._maxElapsedMS=100,this._minElapsedMS=0,this._protected=!1,this._lastFrame=-1,this._head=new ty(null,null,1/0),this.deltaMS=1/Kr.targetFPMS,this.elapsedMS=1/Kr.targetFPMS,this._tick=t=>{this._requestId=null,this.started&&(this.update(t),this.started&&this._requestId===null&&this._head.next&&(this._requestId=requestAnimationFrame(this._tick)))}}_requestIfNeeded(){this._requestId===null&&this._head.next&&(this.lastTime=performance.now(),this._lastFrame=this.lastTime,this._requestId=requestAnimationFrame(this._tick))}_cancelIfNeeded(){this._requestId!==null&&(cancelAnimationFrame(this._requestId),this._requestId=null)}_startIfPossible(){this.started?this._requestIfNeeded():this.autoStart&&this.start()}add(t,e,r=Os.NORMAL){return this._addListener(new ty(t,e,r))}addOnce(t,e,r=Os.NORMAL){return this._addListener(new ty(t,e,r,!0))}_addListener(t){let e=this._head.next,r=this._head;if(!e)t.connect(r);else{for(;e;){if(t.priority>e.priority){t.connect(r);break}r=e,e=e.next}t.previous||t.connect(r)}return this._startIfPossible(),this}remove(t,e){let r=this._head.next;for(;r;)r.match(t,e)?r=r.destroy():r=r.next;return this._head.next||this._cancelIfNeeded(),this}get count(){if(!this._head)return 0;let t=0,e=this._head;for(;e=e.next;)t++;return t}start(){this.started||(this.started=!0,this._requestIfNeeded())}stop(){this.started&&(this.started=!1,this._cancelIfNeeded())}destroy(){if(!this._protected){this.stop();let t=this._head.next;for(;t;)t=t.destroy(!0);this._head.destroy(),this._head=null}}update(t=performance.now()){let e;if(t>this.lastTime){if(e=this.elapsedMS=t-this.lastTime,e>this._maxElapsedMS&&(e=this._maxElapsedMS),e*=this.speed,this._minElapsedMS){const i=t-this._lastFrame|0;if(i<this._minElapsedMS)return;this._lastFrame=t-i%this._minElapsedMS}this.deltaMS=e,this.deltaTime=this.deltaMS*Kr.targetFPMS;const r=this._head;let n=r.next;for(;n;)n=n.emit(this.deltaTime);r.next||this._cancelIfNeeded()}else this.deltaTime=this.deltaMS=this.elapsedMS=0;this.lastTime=t}get FPS(){return 1e3/this.elapsedMS}get minFPS(){return 1e3/this._maxElapsedMS}set minFPS(t){const e=Math.min(this.maxFPS,t),r=Math.min(Math.max(0,e)/1e3,Kr.targetFPMS);this._maxElapsedMS=1/r}get maxFPS(){return this._minElapsedMS?Math.round(1e3/this._minElapsedMS):0}set maxFPS(t){if(t===0)this._minElapsedMS=0;else{const e=Math.max(this.minFPS,t);this._minElapsedMS=1/(e/1e3)}}static get shared(){if(!Kr._shared){const t=Kr._shared=new Kr;t.autoStart=!0,t._protected=!0}return Kr._shared}static get system(){if(!Kr._system){const t=Kr._system=new Kr;t.autoStart=!0,t._protected=!0}return Kr._system}};let Rt=Kr;Rt.targetFPMS=.06,Object.defineProperties(le,{TARGET_FPMS:{get(){return Rt.targetFPMS},set(t){Fe("7.1.0","settings.TARGET_FPMS is deprecated, use Ticker.targetFPMS"),Rt.targetFPMS=t}}});class bT{static init(e){e=Object.assign({autoStart:!0,sharedTicker:!1},e),Object.defineProperty(this,"ticker",{set(r){this._ticker&&this._ticker.remove(this.render,this),this._ticker=r,r&&r.add(this.render,this,Os.LOW)},get(){return this._ticker}}),this.stop=()=>{this._ticker.stop()},this.start=()=>{this._ticker.start()},this._ticker=null,this.ticker=e.sharedTicker?Rt.shared:new Rt,e.autoStart&&this.start()}static destroy(){if(this._ticker){const e=this._ticker;this.ticker=null,e.destroy()}}}bT.extension=ce.Application,xe.add(bT);const xT=[];xe.handleByList(ce.Renderer,xT);function MO(t){for(const e of xT)if(e.test(t))return new e(t);throw new Error("Unable to auto-detect a suitable renderer.")}var NO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);
    vTextureCoord = aTextureCoord;
}`,OO=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 vTextureCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
    gl_Position = filterVertexPosition();
    vTextureCoord = filterTextureCoord();
}
`;const DO=NO,wT=OO;class ET{constructor(e){this.renderer=e}contextChange(e){let r;if(this.renderer.context.webGLVersion===1){const n=e.getParameter(e.FRAMEBUFFER_BINDING);e.bindFramebuffer(e.FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.FRAMEBUFFER,n)}else{const n=e.getParameter(e.DRAW_FRAMEBUFFER_BINDING);e.bindFramebuffer(e.DRAW_FRAMEBUFFER,null),r=e.getParameter(e.SAMPLES),e.bindFramebuffer(e.DRAW_FRAMEBUFFER,n)}r>=Ot.HIGH?this.multisample=Ot.HIGH:r>=Ot.MEDIUM?this.multisample=Ot.MEDIUM:r>=Ot.LOW?this.multisample=Ot.LOW:this.multisample=Ot.NONE}destroy(){}}ET.extension={type:ce.RendererSystem,name:"_multisample"},xe.add(ET);class LO{constructor(e){this.buffer=e||null,this.updateID=-1,this.byteLength=-1,this.refCount=0}}class TT{constructor(e){this.renderer=e,this.managedBuffers={},this.boundBufferBases={}}destroy(){this.renderer=null}contextChange(){this.disposeAll(!0),this.gl=this.renderer.gl,this.CONTEXT_UID=this.renderer.CONTEXT_UID}bind(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);r.bindBuffer(e.type,i.buffer)}unbind(e){const{gl:r}=this;r.bindBuffer(e,null)}bindBufferBase(e,r){const{gl:n,CONTEXT_UID:i}=this;if(this.boundBufferBases[r]!==e){const s=e._glBuffers[i]||this.createGLBuffer(e);this.boundBufferBases[r]=e,n.bindBufferBase(n.UNIFORM_BUFFER,r,s.buffer)}}bindBufferRange(e,r,n){const{gl:i,CONTEXT_UID:s}=this;n=n||0;const o=e._glBuffers[s]||this.createGLBuffer(e);i.bindBufferRange(i.UNIFORM_BUFFER,r||0,o.buffer,n*256,256)}update(e){const{gl:r,CONTEXT_UID:n}=this,i=e._glBuffers[n]||this.createGLBuffer(e);if(e._updateID!==i.updateID)if(i.updateID=e._updateID,r.bindBuffer(e.type,i.buffer),i.byteLength>=e.data.byteLength)r.bufferSubData(e.type,0,e.data);else{const s=e.static?r.STATIC_DRAW:r.DYNAMIC_DRAW;i.byteLength=e.data.byteLength,r.bufferData(e.type,e.data,s)}}dispose(e,r){if(!this.managedBuffers[e.id])return;delete this.managedBuffers[e.id];const n=e._glBuffers[this.CONTEXT_UID],i=this.gl;e.disposeRunner.remove(this),n&&(r||i.deleteBuffer(n.buffer),delete e._glBuffers[this.CONTEXT_UID])}disposeAll(e){const r=Object.keys(this.managedBuffers);for(let n=0;n<r.length;n++)this.dispose(this.managedBuffers[r[n]],e)}createGLBuffer(e){const{CONTEXT_UID:r,gl:n}=this;return e._glBuffers[r]=new LO(n.createBuffer()),this.managedBuffers[e.id]=e,e.disposeRunner.add(this),e._glBuffers[r]}}TT.extension={type:ce.RendererSystem,name:"buffer"},xe.add(TT);class ST{constructor(e){this.renderer=e}render(e,r){const n=this.renderer;let i,s,o,l;if(r&&(i=r.renderTexture,s=r.clear,o=r.transform,l=r.skipUpdateTransform),this.renderingToScreen=!i,n.runners.prerender.emit(),n.emit("prerender"),n.projection.transform=o,!n.context.isLost){if(i||(this.lastObjectRendered=e),!l){const c=e.enableTempParent();e.updateTransform(),e.disableTempParent(c)}n.renderTexture.bind(i),n.batch.currentRenderer.start(),(s??n.background.clearBeforeRender)&&n.renderTexture.clear(),e.render(n),n.batch.currentRenderer.flush(),i&&(r.blit&&n.framebuffer.blit(),i.baseTexture.update()),n.runners.postrender.emit(),n.projection.transform=null,n.emit("postrender")}}destroy(){this.renderer=null,this.lastObjectRendered=null}}ST.extension={type:ce.RendererSystem,name:"objectRenderer"},xe.add(ST);const ry=class extends IO{constructor(t){super(),this.type=fw.WEBGL,t=Object.assign({},le.RENDER_OPTIONS,t),this.gl=null,this.CONTEXT_UID=0,this.globalUniforms=new Bn({projectionMatrix:new ht},!0);const e={runners:["init","destroy","contextChange","resolutionChange","reset","update","postrender","prerender","resize"],systems:ry.__systems,priority:["_view","textureGenerator","background","_plugin","startup","context","state","texture","buffer","geometry","framebuffer","transformFeedback","mask","scissor","stencil","projection","textureGC","filter","renderTexture","batch","objectRenderer","_multisample"]};this.setup(e),"useContextAlpha"in t&&(Fe("7.0.0","options.useContextAlpha is deprecated, use options.premultipliedAlpha and options.backgroundAlpha instead"),t.premultipliedAlpha=t.useContextAlpha&&t.useContextAlpha!=="notMultiplied",t.backgroundAlpha=t.useContextAlpha===!1?1:t.backgroundAlpha),this._plugin.rendererPlugins=ry.__plugins,this.options=t,this.startup.run(this.options)}static test(t){return t!=null&&t.forceCanvas?!1:aN()}render(t,e){this.objectRenderer.render(t,e)}resize(t,e){this._view.resizeView(t,e)}reset(){return this.runners.reset.emit(),this}clear(){this.renderTexture.bind(),this.renderTexture.clear()}destroy(t=!1){this.runners.destroy.items.reverse(),this.emitWithCustomOptions(this.runners.destroy,{_view:t}),super.destroy()}get plugins(){return this._plugin.plugins}get multisample(){return this._multisample.multisample}get width(){return this._view.element.width}get height(){return this._view.element.height}get resolution(){return this._view.resolution}set resolution(t){this._view.resolution=t,this.runners.resolutionChange.emit(t)}get autoDensity(){return this._view.autoDensity}get view(){return this._view.element}get screen(){return this._view.screen}get lastObjectRendered(){return this.objectRenderer.lastObjectRendered}get renderingToScreen(){return this.objectRenderer.renderingToScreen}get rendererLogId(){return`WebGL ${this.context.webGLVersion}`}get clearBeforeRender(){return Fe("7.0.0","renderer.clearBeforeRender has been deprecated, please use renderer.background.clearBeforeRender instead."),this.background.clearBeforeRender}get useContextAlpha(){return Fe("7.0.0","renderer.useContextAlpha has been deprecated, please use renderer.context.premultipliedAlpha instead."),this.context.useContextAlpha}get preserveDrawingBuffer(){return Fe("7.0.0","renderer.preserveDrawingBuffer has been deprecated, we cannot truly know this unless pixi created the context"),this.context.preserveDrawingBuffer}get backgroundColor(){return Fe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color}set backgroundColor(t){Fe("7.0.0","renderer.backgroundColor has been deprecated, use renderer.background.color instead."),this.background.color=t}get backgroundAlpha(){return Fe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha}set backgroundAlpha(t){Fe("7.0.0","renderer.backgroundAlpha has been deprecated, use renderer.background.alpha instead."),this.background.alpha=t}get powerPreference(){return Fe("7.0.0","renderer.powerPreference has been deprecated, we can only know this if pixi creates the context"),this.context.powerPreference}generateTexture(t,e){return this.textureGenerator.generateTexture(t,e)}};let Ya=ry;Ya.extension={type:ce.Renderer,priority:1},Ya.__plugins={},Ya.__systems={},xe.handleByMap(ce.RendererPlugin,Ya.__plugins),xe.handleByMap(ce.RendererSystem,Ya.__systems),xe.add(Ya);class AT extends Ou{constructor(e,r){const{width:n,height:i}=r||{};super(n,i),this.items=[],this.itemDirtyIds=[];for(let s=0;s<e;s++){const o=new Ie;this.items.push(o),this.itemDirtyIds.push(-2)}this.length=e,this._load=null,this.baseTexture=null}initFromArray(e,r){for(let n=0;n<this.length;n++)e[n]&&(e[n].castToBaseTexture?this.addBaseTextureAt(e[n].castToBaseTexture(),n):e[n]instanceof Ou?this.addResourceAt(e[n],n):this.addResourceAt(OE(e[n],r),n))}dispose(){for(let e=0,r=this.length;e<r;e++)this.items[e].destroy();this.items=null,this.itemDirtyIds=null,this._load=null}addResourceAt(e,r){if(!this.items[r])throw new Error(`Index ${r} is out of bounds`);return e.valid&&!this.valid&&this.resize(e.width,e.height),this.items[r].setResource(e),this}bind(e){if(this.baseTexture!==null)throw new Error("Only one base texture per TextureArray is allowed");super.bind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=e,this.items[r].on("update",e.update,e)}unbind(e){super.unbind(e);for(let r=0;r<this.length;r++)this.items[r].parentTextureArray=null,this.items[r].off("update",e.update,e)}load(){if(this._load)return this._load;const e=this.items.map(r=>r.resource).filter(r=>r).map(r=>r.load());return this._load=Promise.all(e).then(()=>{const{realWidth:r,realHeight:n}=this.items[0];return this.resize(r,n),Promise.resolve(this)}),this._load}}class BO extends AT{constructor(e,r){const{width:n,height:i}=r||{};let s,o;Array.isArray(e)?(s=e,o=e.length):o=e,super(o,{width:n,height:i}),s&&this.initFromArray(s,r)}addBaseTextureAt(e,r){if(e.resource)this.addResourceAt(e.resource,r);else throw new Error("ArrayResource does not support RenderTexture");return this}bind(e){super.bind(e),e.target=Ia.TEXTURE_2D_ARRAY}upload(e,r,n){const{length:i,itemDirtyIds:s,items:o}=this,{gl:l}=e;n.dirtyId<0&&l.texImage3D(l.TEXTURE_2D_ARRAY,0,n.internalFormat,this._width,this._height,i,0,r.format,n.type,null);for(let c=0;c<i;c++){const h=o[c];s[c]<h.dirtyId&&(s[c]=h.dirtyId,h.valid&&l.texSubImage3D(l.TEXTURE_2D_ARRAY,0,0,0,c,h.resource.width,h.resource.height,1,r.format,n.type,h.resource.source))}return!0}}class FO extends Ns{constructor(e){super(e)}static test(e){const{OffscreenCanvas:r}=globalThis;return r&&e instanceof r?!0:globalThis.HTMLCanvasElement&&e instanceof HTMLCanvasElement}}const Uu=class extends AT{constructor(t,e){const{width:r,height:n,autoLoad:i,linkBaseTexture:s}=e||{};if(t&&t.length!==Uu.SIDES)throw new Error(`Invalid length. Got ${t.length}, expected 6`);super(6,{width:r,height:n});for(let o=0;o<Uu.SIDES;o++)this.items[o].target=Ia.TEXTURE_CUBE_MAP_POSITIVE_X+o;this.linkBaseTexture=s!==!1,t&&this.initFromArray(t,e),i!==!1&&this.load()}bind(t){super.bind(t),t.target=Ia.TEXTURE_CUBE_MAP}addBaseTextureAt(t,e,r){if(r===void 0&&(r=this.linkBaseTexture),!this.items[e])throw new Error(`Index ${e} is out of bounds`);if(!this.linkBaseTexture||t.parentTextureArray||Object.keys(t._glTextures).length>0)if(t.resource)this.addResourceAt(t.resource,e);else throw new Error("CubeResource does not support copying of renderTexture.");else t.target=Ia.TEXTURE_CUBE_MAP_POSITIVE_X+e,t.parentTextureArray=this.baseTexture,this.items[e]=t;return t.valid&&!this.valid&&this.resize(t.realWidth,t.realHeight),this.items[e]=t,this}upload(t,e,r){const n=this.itemDirtyIds;for(let i=0;i<Uu.SIDES;i++){const s=this.items[i];(n[i]<s.dirtyId||r.dirtyId<e.dirtyId)&&(s.valid&&s.resource?(s.resource.upload(t,s,r),n[i]=s.dirtyId):n[i]<-1&&(t.gl.texImage2D(s.target,0,r.internalFormat,e.realWidth,e.realHeight,0,e.format,r.type,null),n[i]=-1))}return!0}static test(t){return Array.isArray(t)&&t.length===Uu.SIDES}};let CT=Uu;CT.SIDES=6;class qa extends Ns{constructor(e,r){r=r||{};let n,i;typeof e=="string"?(n=qa.EMPTY,i=e):(n=e,i=null),super(n),this.url=i,this.crossOrigin=r.crossOrigin??!0,this.alphaMode=typeof r.alphaMode=="number"?r.alphaMode:null,this._load=null,r.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(async(e,r)=>{if(this.url===null){e(this);return}try{const n=await le.ADAPTER.fetch(this.url,{mode:this.crossOrigin?"cors":"no-cors"});if(this.destroyed)return;const i=await n.blob();if(this.destroyed)return;const s=await createImageBitmap(i,{premultiplyAlpha:this.alphaMode===null||this.alphaMode===Mn.UNPACK?"premultiply":"none"});if(this.destroyed)return;this.source=s,this.update(),e(this)}catch(n){if(this.destroyed)return;r(n),this.onError.emit(n)}}),this._load)}upload(e,r,n){return this.source instanceof ImageBitmap?(typeof this.alphaMode=="number"&&(r.alphaMode=this.alphaMode),super.upload(e,r,n)):(this.load(),!1)}dispose(){this.source instanceof ImageBitmap&&this.source.close(),super.dispose(),this._load=null}static test(e){return!!globalThis.createImageBitmap&&typeof ImageBitmap<"u"&&(typeof e=="string"||e instanceof ImageBitmap)}static get EMPTY(){return qa._EMPTY=qa._EMPTY??le.ADAPTER.createCanvas(0,0),qa._EMPTY}}const Dd=class extends Ns{constructor(t,e){e=e||{},super(le.ADAPTER.createCanvas()),this._width=0,this._height=0,this.svg=t,this.scale=e.scale||1,this._overrideWidth=e.width,this._overrideHeight=e.height,this._resolve=null,this._crossorigin=e.crossorigin,this._load=null,e.autoLoad!==!1&&this.load()}load(){return this._load?this._load:(this._load=new Promise(t=>{if(this._resolve=()=>{this.resize(this.source.width,this.source.height),t(this)},Dd.SVG_XML.test(this.svg.trim())){if(!btoa)throw new Error("Your browser doesn't support base64 conversions.");this.svg=`data:image/svg+xml;base64,${btoa(unescape(encodeURIComponent(this.svg)))}`}this._loadSvg()}),this._load)}_loadSvg(){const t=new Image;Ns.crossOrigin(t,this.svg,this._crossorigin),t.src=this.svg,t.onerror=e=>{this._resolve&&(t.onerror=null,this.onError.emit(e))},t.onload=()=>{if(!this._resolve)return;const e=t.width,r=t.height;if(!e||!r)throw new Error("The SVG image must have width and height defined (in pixels), canvas API needs them.");let n=e*this.scale,i=r*this.scale;(this._overrideWidth||this._overrideHeight)&&(n=this._overrideWidth||this._overrideHeight/r*e,i=this._overrideHeight||this._overrideWidth/e*r),n=Math.round(n),i=Math.round(i);const s=this.source;s.width=n,s.height=i,s._pixiId=`canvas_${xo()}`,s.getContext("2d").drawImage(t,0,0,e,r,0,0,n,i),this._resolve(),this._resolve=null}}static getSize(t){const e=Dd.SVG_SIZE.exec(t),r={};return e&&(r[e[1]]=Math.round(parseFloat(e[3])),r[e[5]]=Math.round(parseFloat(e[7]))),r}dispose(){super.dispose(),this._resolve=null,this._crossorigin=null}static test(t,e){return e==="svg"||typeof t=="string"&&t.startsWith("data:image/svg+xml")||typeof t=="string"&&Dd.SVG_XML.test(t)}};let zu=Dd;zu.SVG_XML=/^(<\?xml[^?]+\?>)?\s*(<!--[^(-->)]*-->)?\s*\<svg/m,zu.SVG_SIZE=/<svg[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*(?:\s(width|height)=('|")(\d*(?:\.\d+)?)(?:px)?('|"))[^>]*>/i;const ny=class extends Ns{constructor(t,e){if(e=e||{},!(t instanceof HTMLVideoElement)){const r=document.createElement("video");r.setAttribute("preload","auto"),r.setAttribute("webkit-playsinline",""),r.setAttribute("playsinline",""),typeof t=="string"&&(t=[t]);const n=t[0].src||t[0];Ns.crossOrigin(r,n,e.crossorigin);for(let i=0;i<t.length;++i){const s=document.createElement("source");let{src:o,mime:l}=t[i];o=o||t[i];const c=o.split("?").shift().toLowerCase(),h=c.slice(c.lastIndexOf(".")+1);l=l||ny.MIME_TYPES[h]||`video/${h}`,s.src=o,s.type=l,r.appendChild(s)}t=r}super(t),this.noSubImage=!0,this._autoUpdate=!0,this._isConnectedToTicker=!1,this._updateFPS=e.updateFPS||0,this._msToNextUpdate=0,this.autoPlay=e.autoPlay!==!1,this._load=null,this._resolve=null,this._onCanPlay=this._onCanPlay.bind(this),this._onError=this._onError.bind(this),e.autoLoad!==!1&&this.load()}update(t=0){if(!this.destroyed){const e=Rt.shared.elapsedMS*this.source.playbackRate;this._msToNextUpdate=Math.floor(this._msToNextUpdate-e),(!this._updateFPS||this._msToNextUpdate<=0)&&(super.update(),this._msToNextUpdate=this._updateFPS?Math.floor(1e3/this._updateFPS):0)}}load(){if(this._load)return this._load;const t=this.source;return(t.readyState===t.HAVE_ENOUGH_DATA||t.readyState===t.HAVE_FUTURE_DATA)&&t.width&&t.height&&(t.complete=!0),t.addEventListener("play",this._onPlayStart.bind(this)),t.addEventListener("pause",this._onPlayStop.bind(this)),this._isSourceReady()?this._onCanPlay():(t.addEventListener("canplay",this._onCanPlay),t.addEventListener("canplaythrough",this._onCanPlay),t.addEventListener("error",this._onError,!0)),this._load=new Promise(e=>{this.valid?e(this):(this._resolve=e,t.load())}),this._load}_onError(t){this.source.removeEventListener("error",this._onError,!0),this.onError.emit(t)}_isSourcePlaying(){const t=this.source;return!t.paused&&!t.ended&&this._isSourceReady()}_isSourceReady(){return this.source.readyState>2}_onPlayStart(){this.valid||this._onCanPlay(),this.autoUpdate&&!this._isConnectedToTicker&&(Rt.shared.add(this.update,this),this._isConnectedToTicker=!0)}_onPlayStop(){this._isConnectedToTicker&&(Rt.shared.remove(this.update,this),this._isConnectedToTicker=!1)}_onCanPlay(){const t=this.source;t.removeEventListener("canplay",this._onCanPlay),t.removeEventListener("canplaythrough",this._onCanPlay);const e=this.valid;this.resize(t.videoWidth,t.videoHeight),!e&&this._resolve&&(this._resolve(this),this._resolve=null),this._isSourcePlaying()?this._onPlayStart():this.autoPlay&&t.play()}dispose(){this._isConnectedToTicker&&(Rt.shared.remove(this.update,this),this._isConnectedToTicker=!1);const t=this.source;t&&(t.removeEventListener("error",this._onError,!0),t.pause(),t.src="",t.load()),super.dispose()}get autoUpdate(){return this._autoUpdate}set autoUpdate(t){t!==this._autoUpdate&&(this._autoUpdate=t,!this._autoUpdate&&this._isConnectedToTicker?(Rt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._isSourcePlaying()&&(Rt.shared.add(this.update,this),this._isConnectedToTicker=!0))}get updateFPS(){return this._updateFPS}set updateFPS(t){t!==this._updateFPS&&(this._updateFPS=t)}static test(t,e){return globalThis.HTMLVideoElement&&t instanceof HTMLVideoElement||ny.TYPES.includes(e)}};let iy=ny;iy.TYPES=["mp4","m4v","webm","ogg","ogv","h264","avi","mov"],iy.MIME_TYPES={ogv:"video/ogg",mov:"video/quicktime",m4v:"video/mp4"},jv.push(qa,KE,FO,iy,zu,Du,CT,BO);class Ld{constructor(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0,this.rect=null,this.updateID=-1}isEmpty(){return this.minX>this.maxX||this.minY>this.maxY}clear(){this.minX=1/0,this.minY=1/0,this.maxX=-1/0,this.maxY=-1/0}getRectangle(e){return this.minX>this.maxX||this.minY>this.maxY?De.EMPTY:(e=e||new De(0,0,1,1),e.x=this.minX,e.y=this.minY,e.width=this.maxX-this.minX,e.height=this.maxY-this.minY,e)}addPoint(e){this.minX=Math.min(this.minX,e.x),this.maxX=Math.max(this.maxX,e.x),this.minY=Math.min(this.minY,e.y),this.maxY=Math.max(this.maxY,e.y)}addPointMatrix(e,r){const{a:n,b:i,c:s,d:o,tx:l,ty:c}=e,h=n*r.x+s*r.y+l,f=i*r.x+o*r.y+c;this.minX=Math.min(this.minX,h),this.maxX=Math.max(this.maxX,h),this.minY=Math.min(this.minY,f),this.maxY=Math.max(this.maxY,f)}addQuad(e){let r=this.minX,n=this.minY,i=this.maxX,s=this.maxY,o=e[0],l=e[1];r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[2],l=e[3],r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[4],l=e[5],r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,o=e[6],l=e[7],r=o<r?o:r,n=l<n?l:n,i=o>i?o:i,s=l>s?l:s,this.minX=r,this.minY=n,this.maxX=i,this.maxY=s}addFrame(e,r,n,i,s){this.addFrameMatrix(e.worldTransform,r,n,i,s)}addFrameMatrix(e,r,n,i,s){const o=e.a,l=e.b,c=e.c,h=e.d,f=e.tx,p=e.ty;let m=this.minX,y=this.minY,_=this.maxX,w=this.maxY,A=o*r+c*n+f,E=l*r+h*n+p;m=A<m?A:m,y=E<y?E:y,_=A>_?A:_,w=E>w?E:w,A=o*i+c*n+f,E=l*i+h*n+p,m=A<m?A:m,y=E<y?E:y,_=A>_?A:_,w=E>w?E:w,A=o*r+c*s+f,E=l*r+h*s+p,m=A<m?A:m,y=E<y?E:y,_=A>_?A:_,w=E>w?E:w,A=o*i+c*s+f,E=l*i+h*s+p,m=A<m?A:m,y=E<y?E:y,_=A>_?A:_,w=E>w?E:w,this.minX=m,this.minY=y,this.maxX=_,this.maxY=w}addVertexData(e,r,n){let i=this.minX,s=this.minY,o=this.maxX,l=this.maxY;for(let c=r;c<n;c+=2){const h=e[c],f=e[c+1];i=h<i?h:i,s=f<s?f:s,o=h>o?h:o,l=f>l?f:l}this.minX=i,this.minY=s,this.maxX=o,this.maxY=l}addVertices(e,r,n,i){this.addVerticesMatrix(e.worldTransform,r,n,i)}addVerticesMatrix(e,r,n,i,s=0,o=s){const l=e.a,c=e.b,h=e.c,f=e.d,p=e.tx,m=e.ty;let y=this.minX,_=this.minY,w=this.maxX,A=this.maxY;for(let E=n;E<i;E+=2){const x=r[E],S=r[E+1],T=l*x+h*S+p,R=f*S+c*x+m;y=Math.min(y,T-s),w=Math.max(w,T+s),_=Math.min(_,R-o),A=Math.max(A,R+o)}this.minX=y,this.minY=_,this.maxX=w,this.maxY=A}addBounds(e){const r=this.minX,n=this.minY,i=this.maxX,s=this.maxY;this.minX=e.minX<r?e.minX:r,this.minY=e.minY<n?e.minY:n,this.maxX=e.maxX>i?e.maxX:i,this.maxY=e.maxY>s?e.maxY:s}addBoundsMask(e,r){const n=e.minX>r.minX?e.minX:r.minX,i=e.minY>r.minY?e.minY:r.minY,s=e.maxX<r.maxX?e.maxX:r.maxX,o=e.maxY<r.maxY?e.maxY:r.maxY;if(n<=s&&i<=o){const l=this.minX,c=this.minY,h=this.maxX,f=this.maxY;this.minX=n<l?n:l,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}addBoundsMatrix(e,r){this.addFrameMatrix(r,e.minX,e.minY,e.maxX,e.maxY)}addBoundsArea(e,r){const n=e.minX>r.x?e.minX:r.x,i=e.minY>r.y?e.minY:r.y,s=e.maxX<r.x+r.width?e.maxX:r.x+r.width,o=e.maxY<r.y+r.height?e.maxY:r.y+r.height;if(n<=s&&i<=o){const l=this.minX,c=this.minY,h=this.maxX,f=this.maxY;this.minX=n<l?n:l,this.minY=i<c?i:c,this.maxX=s>h?s:h,this.maxY=o>f?o:f}}pad(e=0,r=e){this.isEmpty()||(this.minX-=e,this.maxX+=e,this.minY-=r,this.maxY+=r)}addFramePad(e,r,n,i,s,o){e-=s,r-=o,n+=s,i+=o,this.minX=this.minX<e?this.minX:e,this.maxX=this.maxX>n?this.maxX:n,this.minY=this.minY<r?this.minY:r,this.maxY=this.maxY>i?this.maxY:i}}class dt extends Eu{constructor(){super(),this.tempDisplayObjectParent=null,this.transform=new xd,this.alpha=1,this.visible=!0,this.renderable=!0,this.cullable=!1,this.cullArea=null,this.parent=null,this.worldAlpha=1,this._lastSortedIndex=0,this._zIndex=0,this.filterArea=null,this.filters=null,this._enabledFilters=null,this._bounds=new Ld,this._localBounds=null,this._boundsID=0,this._boundsRect=null,this._localBoundsRect=null,this._mask=null,this._maskRefCount=0,this._destroyed=!1,this.isSprite=!1,this.isMask=!1}static mixin(e){const r=Object.keys(e);for(let n=0;n<r.length;++n){const i=r[n];Object.defineProperty(dt.prototype,i,Object.getOwnPropertyDescriptor(e,i))}}get destroyed(){return this._destroyed}_recursivePostUpdateTransform(){this.parent?(this.parent._recursivePostUpdateTransform(),this.transform.updateTransform(this.parent.transform)):this.transform.updateTransform(this._tempDisplayObjectParent.transform)}updateTransform(){this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha}getBounds(e,r){return e||(this.parent?(this._recursivePostUpdateTransform(),this.updateTransform()):(this.parent=this._tempDisplayObjectParent,this.updateTransform(),this.parent=null)),this._bounds.updateID!==this._boundsID&&(this.calculateBounds(),this._bounds.updateID=this._boundsID),r||(this._boundsRect||(this._boundsRect=new De),r=this._boundsRect),this._bounds.getRectangle(r)}getLocalBounds(e){e||(this._localBoundsRect||(this._localBoundsRect=new De),e=this._localBoundsRect),this._localBounds||(this._localBounds=new Ld);const r=this.transform,n=this.parent;this.parent=null,this.transform=this._tempDisplayObjectParent.transform;const i=this._bounds,s=this._boundsID;this._bounds=this._localBounds;const o=this.getBounds(!1,e);return this.parent=n,this.transform=r,this._bounds=i,this._bounds.updateID+=this._boundsID-s,o}toGlobal(e,r,n=!1){return n||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.apply(e,r)}toLocal(e,r,n,i){return r&&(e=r.toGlobal(e,n,i)),i||(this._recursivePostUpdateTransform(),this.parent?this.displayObjectUpdateTransform():(this.parent=this._tempDisplayObjectParent,this.displayObjectUpdateTransform(),this.parent=null)),this.worldTransform.applyInverse(e,n)}setParent(e){if(!e||!e.addChild)throw new Error("setParent: Argument must be a Container");return e.addChild(this),e}removeFromParent(){var e;(e=this.parent)==null||e.removeChild(this)}setTransform(e=0,r=0,n=1,i=1,s=0,o=0,l=0,c=0,h=0){return this.position.x=e,this.position.y=r,this.scale.x=n||1,this.scale.y=i||1,this.rotation=s,this.skew.x=o,this.skew.y=l,this.pivot.x=c,this.pivot.y=h,this}destroy(e){this.removeFromParent(),this._destroyed=!0,this.transform=null,this.parent=null,this._bounds=null,this.mask=null,this.cullArea=null,this.filters=null,this.filterArea=null,this.hitArea=null,this.eventMode="auto",this.interactiveChildren=!1,this.emit("destroyed"),this.removeAllListeners()}get _tempDisplayObjectParent(){return this.tempDisplayObjectParent===null&&(this.tempDisplayObjectParent=new UO),this.tempDisplayObjectParent}enableTempParent(){const e=this.parent;return this.parent=this._tempDisplayObjectParent,e}disableTempParent(e){this.parent=e}get x(){return this.position.x}set x(e){this.transform.position.x=e}get y(){return this.position.y}set y(e){this.transform.position.y=e}get worldTransform(){return this.transform.worldTransform}get localTransform(){return this.transform.localTransform}get position(){return this.transform.position}set position(e){this.transform.position.copyFrom(e)}get scale(){return this.transform.scale}set scale(e){this.transform.scale.copyFrom(e)}get pivot(){return this.transform.pivot}set pivot(e){this.transform.pivot.copyFrom(e)}get skew(){return this.transform.skew}set skew(e){this.transform.skew.copyFrom(e)}get rotation(){return this.transform.rotation}set rotation(e){this.transform.rotation=e}get angle(){return this.transform.rotation*DN}set angle(e){this.transform.rotation=e*LN}get zIndex(){return this._zIndex}set zIndex(e){this._zIndex=e,this.parent&&(this.parent.sortDirty=!0)}get worldVisible(){let e=this;do{if(!e.visible)return!1;e=e.parent}while(e);return!0}get mask(){return this._mask}set mask(e){if(this._mask!==e){if(this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount--,r._maskRefCount===0&&(r.renderable=!0,r.isMask=!1))}if(this._mask=e,this._mask){const r=this._mask.isMaskData?this._mask.maskObject:this._mask;r&&(r._maskRefCount===0&&(r.renderable=!1,r.isMask=!0),r._maskRefCount++)}}}}class UO extends dt{constructor(){super(...arguments),this.sortDirty=null}}dt.prototype.displayObjectUpdateTransform=dt.prototype.updateTransform;const zO=new ht;function jO(t,e){return t.zIndex===e.zIndex?t._lastSortedIndex-e._lastSortedIndex:t.zIndex-e.zIndex}const sy=class extends dt{constructor(){super(),this.children=[],this.sortableChildren=sy.defaultSortableChildren,this.sortDirty=!1}onChildrenChange(t){}addChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.addChild(t[e]);else{const e=t[0];e.parent&&e.parent.removeChild(e),e.parent=this,this.sortDirty=!0,e.transform._parentID=-1,this.children.push(e),this._boundsID++,this.onChildrenChange(this.children.length-1),this.emit("childAdded",e,this,this.children.length-1),e.emit("added",this)}return t[0]}addChildAt(t,e){if(e<0||e>this.children.length)throw new Error(`${t}addChildAt: The index ${e} supplied is out of bounds ${this.children.length}`);return t.parent&&t.parent.removeChild(t),t.parent=this,this.sortDirty=!0,t.transform._parentID=-1,this.children.splice(e,0,t),this._boundsID++,this.onChildrenChange(e),t.emit("added",this),this.emit("childAdded",t,this,e),t}swapChildren(t,e){if(t===e)return;const r=this.getChildIndex(t),n=this.getChildIndex(e);this.children[r]=e,this.children[n]=t,this.onChildrenChange(r<n?r:n)}getChildIndex(t){const e=this.children.indexOf(t);if(e===-1)throw new Error("The supplied DisplayObject must be a child of the caller");return e}setChildIndex(t,e){if(e<0||e>=this.children.length)throw new Error(`The index ${e} supplied is out of bounds ${this.children.length}`);const r=this.getChildIndex(t);Ha(this.children,r,1),this.children.splice(e,0,t),this.onChildrenChange(e)}getChildAt(t){if(t<0||t>=this.children.length)throw new Error(`getChildAt: Index (${t}) does not exist.`);return this.children[t]}removeChild(...t){if(t.length>1)for(let e=0;e<t.length;e++)this.removeChild(t[e]);else{const e=t[0],r=this.children.indexOf(e);if(r===-1)return null;e.parent=null,e.transform._parentID=-1,Ha(this.children,r,1),this._boundsID++,this.onChildrenChange(r),e.emit("removed",this),this.emit("childRemoved",e,this,r)}return t[0]}removeChildAt(t){const e=this.getChildAt(t);return e.parent=null,e.transform._parentID=-1,Ha(this.children,t,1),this._boundsID++,this.onChildrenChange(t),e.emit("removed",this),this.emit("childRemoved",e,this,t),e}removeChildren(t=0,e=this.children.length){const r=t,n=e,i=n-r;let s;if(i>0&&i<=n){s=this.children.splice(r,i);for(let o=0;o<s.length;++o)s[o].parent=null,s[o].transform&&(s[o].transform._parentID=-1);this._boundsID++,this.onChildrenChange(t);for(let o=0;o<s.length;++o)s[o].emit("removed",this),this.emit("childRemoved",s[o],this,o);return s}else if(i===0&&this.children.length===0)return[];throw new RangeError("removeChildren: numeric values are outside the acceptable range.")}sortChildren(){let t=!1;for(let e=0,r=this.children.length;e<r;++e){const n=this.children[e];n._lastSortedIndex=e,!t&&n.zIndex!==0&&(t=!0)}t&&this.children.length>1&&this.children.sort(jO),this.sortDirty=!1}updateTransform(){this.sortableChildren&&this.sortDirty&&this.sortChildren(),this._boundsID++,this.transform.updateTransform(this.parent.transform),this.worldAlpha=this.alpha*this.parent.worldAlpha;for(let t=0,e=this.children.length;t<e;++t){const r=this.children[t];r.visible&&r.updateTransform()}}calculateBounds(){this._bounds.clear(),this._calculateBounds();for(let t=0;t<this.children.length;t++){const e=this.children[t];if(!(!e.visible||!e.renderable))if(e.calculateBounds(),e._mask){const r=e._mask.isMaskData?e._mask.maskObject:e._mask;r?(r.calculateBounds(),this._bounds.addBoundsMask(e._bounds,r._bounds)):this._bounds.addBounds(e._bounds)}else e.filterArea?this._bounds.addBoundsArea(e._bounds,e.filterArea):this._bounds.addBounds(e._bounds)}this._bounds.updateID=this._boundsID}getLocalBounds(t,e=!1){const r=super.getLocalBounds(t);if(!e)for(let n=0,i=this.children.length;n<i;++n){const s=this.children[n];s.visible&&s.updateTransform()}return r}_calculateBounds(){}_renderWithCulling(t){const e=t.renderTexture.sourceFrame;if(!(e.width>0&&e.height>0))return;let r,n;this.cullArea?(r=this.cullArea,n=this.worldTransform):this._render!==sy.prototype._render&&(r=this.getBounds(!0));const i=t.projection.transform;if(i&&(n?(n=zO.copyFrom(n),n.prepend(i)):n=i),r&&e.intersects(r,n))this._render(t);else if(this.cullArea)return;for(let s=0,o=this.children.length;s<o;++s){const l=this.children[s],c=l.cullable;l.cullable=c||!this.cullArea,l.render(t),l.cullable=c}}render(t){var e;if(!(!this.visible||this.worldAlpha<=0||!this.renderable))if(this._mask||(e=this.filters)!=null&&e.length)this.renderAdvanced(t);else if(this.cullable)this._renderWithCulling(t);else{this._render(t);for(let r=0,n=this.children.length;r<n;++r)this.children[r].render(t)}}renderAdvanced(t){var i,s,o;const e=this.filters,r=this._mask;if(e){this._enabledFilters||(this._enabledFilters=[]),this._enabledFilters.length=0;for(let l=0;l<e.length;l++)e[l].enabled&&this._enabledFilters.push(e[l])}const n=e&&((i=this._enabledFilters)==null?void 0:i.length)||r&&(!r.isMaskData||r.enabled&&(r.autoDetect||r.type!==zt.NONE));if(n&&t.batch.flush(),e&&((s=this._enabledFilters)!=null&&s.length)&&t.filter.push(this,this._enabledFilters),r&&t.mask.push(this,this._mask),this.cullable)this._renderWithCulling(t);else{this._render(t);for(let l=0,c=this.children.length;l<c;++l)this.children[l].render(t)}n&&t.batch.flush(),r&&t.mask.pop(this),e&&((o=this._enabledFilters)!=null&&o.length)&&t.filter.pop()}_render(t){}destroy(t){super.destroy(),this.sortDirty=!1;const e=typeof t=="boolean"?t:t==null?void 0:t.children,r=this.removeChildren(0,this.children.length);if(e)for(let n=0;n<r.length;++n)r[n].destroy(t)}get width(){return this.scale.x*this.getLocalBounds().width}set width(t){const e=this.getLocalBounds().width;e!==0?this.scale.x=t/e:this.scale.x=1,this._width=t}get height(){return this.scale.y*this.getLocalBounds().height}set height(t){const e=this.getLocalBounds().height;e!==0?this.scale.y=t/e:this.scale.y=1,this._height=t}};let yr=sy;yr.defaultSortableChildren=!1,yr.prototype.containerUpdateTransform=yr.prototype.updateTransform,Object.defineProperties(le,{SORTABLE_CHILDREN:{get(){return yr.defaultSortableChildren},set(t){Fe("7.1.0","settings.SORTABLE_CHILDREN is deprecated, use Container.defaultSortableChildren"),yr.defaultSortableChildren=t}}});var Bd=(t=>(t[t.LINEAR_VERTICAL=0]="LINEAR_VERTICAL",t[t.LINEAR_HORIZONTAL=1]="LINEAR_HORIZONTAL",t))(Bd||{});const ju=new je,HO=new Uint16Array([0,1,2,0,2,3]);class fi extends yr{constructor(e){super(),this._anchor=new Xi(this._onAnchorUpdate,this,e?e.defaultAnchor.x:0,e?e.defaultAnchor.y:0),this._texture=null,this._width=0,this._height=0,this._tintColor=new Ye(16777215),this._tintRGB=null,this.tint=16777215,this.blendMode=Se.NORMAL,this._cachedTint=16777215,this.uvs=null,this.texture=e||ue.EMPTY,this.vertexData=new Float32Array(8),this.vertexTrimmedData=null,this._transformID=-1,this._textureID=-1,this._transformTrimmedID=-1,this._textureTrimmedID=-1,this.indices=HO,this.pluginName="batch",this.isSprite=!0,this._roundPixels=le.ROUND_PIXELS}_onTextureUpdate(){this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this._width&&(this.scale.x=Rs(this.scale.x)*this._width/this._texture.orig.width),this._height&&(this.scale.y=Rs(this.scale.y)*this._height/this._texture.orig.height)}_onAnchorUpdate(){this._transformID=-1,this._transformTrimmedID=-1}calculateVertices(){const e=this._texture;if(this._transformID===this.transform._worldID&&this._textureID===e._updateID)return;this._textureID!==e._updateID&&(this.uvs=this._texture._uvs.uvsFloat32),this._transformID=this.transform._worldID,this._textureID=e._updateID;const r=this.transform.worldTransform,n=r.a,i=r.b,s=r.c,o=r.d,l=r.tx,c=r.ty,h=this.vertexData,f=e.trim,p=e.orig,m=this._anchor;let y=0,_=0,w=0,A=0;if(f?(_=f.x-m._x*p.width,y=_+f.width,A=f.y-m._y*p.height,w=A+f.height):(_=-m._x*p.width,y=_+p.width,A=-m._y*p.height,w=A+p.height),h[0]=n*_+s*A+l,h[1]=o*A+i*_+c,h[2]=n*y+s*A+l,h[3]=o*A+i*y+c,h[4]=n*y+s*w+l,h[5]=o*w+i*y+c,h[6]=n*_+s*w+l,h[7]=o*w+i*_+c,this._roundPixels){const E=le.RESOLUTION;for(let x=0;x<h.length;++x)h[x]=Math.round(h[x]*E)/E}}calculateTrimmedVertices(){if(!this.vertexTrimmedData)this.vertexTrimmedData=new Float32Array(8);else if(this._transformTrimmedID===this.transform._worldID&&this._textureTrimmedID===this._texture._updateID)return;this._transformTrimmedID=this.transform._worldID,this._textureTrimmedID=this._texture._updateID;const e=this._texture,r=this.vertexTrimmedData,n=e.orig,i=this._anchor,s=this.transform.worldTransform,o=s.a,l=s.b,c=s.c,h=s.d,f=s.tx,p=s.ty,m=-i._x*n.width,y=m+n.width,_=-i._y*n.height,w=_+n.height;r[0]=o*m+c*_+f,r[1]=h*_+l*m+p,r[2]=o*y+c*_+f,r[3]=h*_+l*y+p,r[4]=o*y+c*w+f,r[5]=h*w+l*y+p,r[6]=o*m+c*w+f,r[7]=h*w+l*m+p}_render(e){this.calculateVertices(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this)}_calculateBounds(){const e=this._texture.trim,r=this._texture.orig;!e||e.width===r.width&&e.height===r.height?(this.calculateVertices(),this._bounds.addQuad(this.vertexData)):(this.calculateTrimmedVertices(),this._bounds.addQuad(this.vertexTrimmedData))}getLocalBounds(e){return this.children.length===0?(this._localBounds||(this._localBounds=new Ld),this._localBounds.minX=this._texture.orig.width*-this._anchor._x,this._localBounds.minY=this._texture.orig.height*-this._anchor._y,this._localBounds.maxX=this._texture.orig.width*(1-this._anchor._x),this._localBounds.maxY=this._texture.orig.height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new De),e=this._localBoundsRect),this._localBounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,ju);const r=this._texture.orig.width,n=this._texture.orig.height,i=-r*this.anchor.x;let s=0;return ju.x>=i&&ju.x<i+r&&(s=-n*this.anchor.y,ju.y>=s&&ju.y<s+n)}destroy(e){if(super.destroy(e),this._texture.off("update",this._onTextureUpdate,this),this._anchor=null,typeof e=="boolean"?e:e==null?void 0:e.texture){const r=typeof e=="boolean"?e:e==null?void 0:e.baseTexture;this._texture.destroy(!!r)}this._texture=null}static from(e,r){const n=e instanceof ue?e:ue.from(e,r);return new fi(n)}set roundPixels(e){this._roundPixels!==e&&(this._transformID=-1),this._roundPixels=e}get roundPixels(){return this._roundPixels}get width(){return Math.abs(this.scale.x)*this._texture.orig.width}set width(e){const r=Rs(this.scale.x)||1;this.scale.x=r*e/this._texture.orig.width,this._width=e}get height(){return Math.abs(this.scale.y)*this._texture.orig.height}set height(e){const r=Rs(this.scale.y)||1;this.scale.y=r*e/this._texture.orig.height,this._height=e}get anchor(){return this._anchor}set anchor(e){this._anchor.copyFrom(e)}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber()}get tintValue(){return this._tintColor.toNumber()}get texture(){return this._texture}set texture(e){this._texture!==e&&(this._texture&&this._texture.off("update",this._onTextureUpdate,this),this._texture=e||ue.EMPTY,this._cachedTint=16777215,this._textureID=-1,this._textureTrimmedID=-1,e&&(e.baseTexture.valid?this._onTextureUpdate():e.once("update",this._onTextureUpdate,this)))}}const Fd={willReadFrequently:!0},me=class{static get experimentalLetterSpacingSupported(){let t=me._experimentalLetterSpacingSupported;if(t!==void 0){const e=le.ADAPTER.getCanvasRenderingContext2D().prototype;t=me._experimentalLetterSpacingSupported="letterSpacing"in e||"textLetterSpacing"in e}return t}constructor(t,e,r,n,i,s,o,l,c){this.text=t,this.style=e,this.width=r,this.height=n,this.lines=i,this.lineWidths=s,this.lineHeight=o,this.maxLineWidth=l,this.fontProperties=c}static measureText(t,e,r,n=me._canvas){r=r??e.wordWrap;const i=e.toFontString(),s=me.measureFont(i);s.fontSize===0&&(s.fontSize=e.fontSize,s.ascent=e.fontSize);const o=n.getContext("2d",Fd);o.font=i;const l=(r?me.wordWrap(t,e,n):t).split(/(?:\r\n|\r|\n)/),c=new Array(l.length);let h=0;for(let y=0;y<l.length;y++){const _=me._measureText(l[y],e.letterSpacing,o);c[y]=_,h=Math.max(h,_)}let f=h+e.strokeThickness;e.dropShadow&&(f+=e.dropShadowDistance);const p=e.lineHeight||s.fontSize+e.strokeThickness;let m=Math.max(p,s.fontSize+e.strokeThickness*2)+(l.length-1)*(p+e.leading);return e.dropShadow&&(m+=e.dropShadowDistance),new me(t,e,f,m,l,c,p+e.leading,h,s)}static _measureText(t,e,r){let n=!1;me.experimentalLetterSpacingSupported&&(me.experimentalLetterSpacing?(r.letterSpacing=`${e}px`,r.textLetterSpacing=`${e}px`,n=!0):(r.letterSpacing="0px",r.textLetterSpacing="0px"));let i=r.measureText(t).width;return i>0&&(n?i-=e:i+=(me.graphemeSegmenter(t).length-1)*e),i}static wordWrap(t,e,r=me._canvas){const n=r.getContext("2d",Fd);let i=0,s="",o="";const l=Object.create(null),{letterSpacing:c,whiteSpace:h}=e,f=me.collapseSpaces(h),p=me.collapseNewlines(h);let m=!f;const y=e.wordWrapWidth+c,_=me.tokenize(t);for(let w=0;w<_.length;w++){let A=_[w];if(me.isNewline(A)){if(!p){o+=me.addLine(s),m=!f,s="",i=0;continue}A=" "}if(f){const x=me.isBreakingSpace(A),S=me.isBreakingSpace(s[s.length-1]);if(x&&S)continue}const E=me.getFromCache(A,c,l,n);if(E>y)if(s!==""&&(o+=me.addLine(s),s="",i=0),me.canBreakWords(A,e.breakWords)){const x=me.wordWrapSplit(A);for(let S=0;S<x.length;S++){let T=x[S],R=T,L=1;for(;x[S+L];){const M=x[S+L];if(!me.canBreakChars(R,M,A,S,e.breakWords))T+=M;else break;R=M,L++}S+=L-1;const I=me.getFromCache(T,c,l,n);I+i>y&&(o+=me.addLine(s),m=!1,s="",i=0),s+=T,i+=I}}else{s.length>0&&(o+=me.addLine(s),s="",i=0);const x=w===_.length-1;o+=me.addLine(A,!x),m=!1,s="",i=0}else E+i>y&&(m=!1,o+=me.addLine(s),s="",i=0),(s.length>0||!me.isBreakingSpace(A)||m)&&(s+=A,i+=E)}return o+=me.addLine(s,!1),o}static addLine(t,e=!0){return t=me.trimRight(t),t=e?`${t}
`:t,t}static getFromCache(t,e,r,n){let i=r[t];return typeof i!="number"&&(i=me._measureText(t,e,n)+e,r[t]=i),i}static collapseSpaces(t){return t==="normal"||t==="pre-line"}static collapseNewlines(t){return t==="normal"}static trimRight(t){if(typeof t!="string")return"";for(let e=t.length-1;e>=0;e--){const r=t[e];if(!me.isBreakingSpace(r))break;t=t.slice(0,-1)}return t}static isNewline(t){return typeof t!="string"?!1:me._newlines.includes(t.charCodeAt(0))}static isBreakingSpace(t,e){return typeof t!="string"?!1:me._breakingSpaces.includes(t.charCodeAt(0))}static tokenize(t){const e=[];let r="";if(typeof t!="string")return e;for(let n=0;n<t.length;n++){const i=t[n],s=t[n+1];if(me.isBreakingSpace(i,s)||me.isNewline(i)){r!==""&&(e.push(r),r=""),e.push(i);continue}r+=i}return r!==""&&e.push(r),e}static canBreakWords(t,e){return e}static canBreakChars(t,e,r,n,i){return!0}static wordWrapSplit(t){return me.graphemeSegmenter(t)}static measureFont(t){if(me._fonts[t])return me._fonts[t];const e={ascent:0,descent:0,fontSize:0},r=me._canvas,n=me._context;n.font=t;const i=me.METRICS_STRING+me.BASELINE_SYMBOL,s=Math.ceil(n.measureText(i).width);let o=Math.ceil(n.measureText(me.BASELINE_SYMBOL).width);const l=Math.ceil(me.HEIGHT_MULTIPLIER*o);if(o=o*me.BASELINE_MULTIPLIER|0,s===0||l===0)return me._fonts[t]=e,e;r.width=s,r.height=l,n.fillStyle="#f00",n.fillRect(0,0,s,l),n.font=t,n.textBaseline="alphabetic",n.fillStyle="#000",n.fillText(i,0,o);const c=n.getImageData(0,0,s,l).data,h=c.length,f=s*4;let p=0,m=0,y=!1;for(p=0;p<o;++p){for(let _=0;_<f;_+=4)if(c[m+_]!==255){y=!0;break}if(!y)m+=f;else break}for(e.ascent=o-p,m=h-f,y=!1,p=l;p>o;--p){for(let _=0;_<f;_+=4)if(c[m+_]!==255){y=!0;break}if(!y)m-=f;else break}return e.descent=p-o,e.fontSize=e.ascent+e.descent,me._fonts[t]=e,e}static clearMetrics(t=""){t?delete me._fonts[t]:me._fonts={}}static get _canvas(){var t;if(!me.__canvas){let e;try{const r=new OffscreenCanvas(0,0);if((t=r.getContext("2d",Fd))!=null&&t.measureText)return me.__canvas=r,r;e=le.ADAPTER.createCanvas()}catch{e=le.ADAPTER.createCanvas()}e.width=e.height=10,me.__canvas=e}return me.__canvas}static get _context(){return me.__context||(me.__context=me._canvas.getContext("2d",Fd)),me.__context}};let lr=me;lr.METRICS_STRING="|\xC9q\xC5",lr.BASELINE_SYMBOL="M",lr.BASELINE_MULTIPLIER=1.4,lr.HEIGHT_MULTIPLIER=2,lr.graphemeSegmenter=(()=>{if(typeof(Intl==null?void 0:Intl.Segmenter)=="function"){const t=new Intl.Segmenter;return e=>[...t.segment(e)].map(r=>r.segment)}return t=>[...t]})(),lr.experimentalLetterSpacing=!1,lr._fonts={},lr._newlines=[10,13],lr._breakingSpaces=[9,32,8192,8193,8194,8195,8196,8197,8198,8200,8201,8202,8287,12288];const GO=["serif","sans-serif","monospace","cursive","fantasy","system-ui"],Hu=class{constructor(t){this.styleID=0,this.reset(),ay(this,t,t)}clone(){const t={};return ay(t,this,Hu.defaultStyle),new Hu(t)}reset(){ay(this,Hu.defaultStyle,Hu.defaultStyle)}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.styleID++)}get breakWords(){return this._breakWords}set breakWords(t){this._breakWords!==t&&(this._breakWords=t,this.styleID++)}get dropShadow(){return this._dropShadow}set dropShadow(t){this._dropShadow!==t&&(this._dropShadow=t,this.styleID++)}get dropShadowAlpha(){return this._dropShadowAlpha}set dropShadowAlpha(t){this._dropShadowAlpha!==t&&(this._dropShadowAlpha=t,this.styleID++)}get dropShadowAngle(){return this._dropShadowAngle}set dropShadowAngle(t){this._dropShadowAngle!==t&&(this._dropShadowAngle=t,this.styleID++)}get dropShadowBlur(){return this._dropShadowBlur}set dropShadowBlur(t){this._dropShadowBlur!==t&&(this._dropShadowBlur=t,this.styleID++)}get dropShadowColor(){return this._dropShadowColor}set dropShadowColor(t){const e=oy(t);this._dropShadowColor!==e&&(this._dropShadowColor=e,this.styleID++)}get dropShadowDistance(){return this._dropShadowDistance}set dropShadowDistance(t){this._dropShadowDistance!==t&&(this._dropShadowDistance=t,this.styleID++)}get fill(){return this._fill}set fill(t){const e=oy(t);this._fill!==e&&(this._fill=e,this.styleID++)}get fillGradientType(){return this._fillGradientType}set fillGradientType(t){this._fillGradientType!==t&&(this._fillGradientType=t,this.styleID++)}get fillGradientStops(){return this._fillGradientStops}set fillGradientStops(t){WO(this._fillGradientStops,t)||(this._fillGradientStops=t,this.styleID++)}get fontFamily(){return this._fontFamily}set fontFamily(t){this.fontFamily!==t&&(this._fontFamily=t,this.styleID++)}get fontSize(){return this._fontSize}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.styleID++)}get fontStyle(){return this._fontStyle}set fontStyle(t){this._fontStyle!==t&&(this._fontStyle=t,this.styleID++)}get fontVariant(){return this._fontVariant}set fontVariant(t){this._fontVariant!==t&&(this._fontVariant=t,this.styleID++)}get fontWeight(){return this._fontWeight}set fontWeight(t){this._fontWeight!==t&&(this._fontWeight=t,this.styleID++)}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.styleID++)}get lineHeight(){return this._lineHeight}set lineHeight(t){this._lineHeight!==t&&(this._lineHeight=t,this.styleID++)}get leading(){return this._leading}set leading(t){this._leading!==t&&(this._leading=t,this.styleID++)}get lineJoin(){return this._lineJoin}set lineJoin(t){this._lineJoin!==t&&(this._lineJoin=t,this.styleID++)}get miterLimit(){return this._miterLimit}set miterLimit(t){this._miterLimit!==t&&(this._miterLimit=t,this.styleID++)}get padding(){return this._padding}set padding(t){this._padding!==t&&(this._padding=t,this.styleID++)}get stroke(){return this._stroke}set stroke(t){const e=oy(t);this._stroke!==e&&(this._stroke=e,this.styleID++)}get strokeThickness(){return this._strokeThickness}set strokeThickness(t){this._strokeThickness!==t&&(this._strokeThickness=t,this.styleID++)}get textBaseline(){return this._textBaseline}set textBaseline(t){this._textBaseline!==t&&(this._textBaseline=t,this.styleID++)}get trim(){return this._trim}set trim(t){this._trim!==t&&(this._trim=t,this.styleID++)}get whiteSpace(){return this._whiteSpace}set whiteSpace(t){this._whiteSpace!==t&&(this._whiteSpace=t,this.styleID++)}get wordWrap(){return this._wordWrap}set wordWrap(t){this._wordWrap!==t&&(this._wordWrap=t,this.styleID++)}get wordWrapWidth(){return this._wordWrapWidth}set wordWrapWidth(t){this._wordWrapWidth!==t&&(this._wordWrapWidth=t,this.styleID++)}toFontString(){const t=typeof this.fontSize=="number"?`${this.fontSize}px`:this.fontSize;let e=this.fontFamily;Array.isArray(this.fontFamily)||(e=this.fontFamily.split(","));for(let r=e.length-1;r>=0;r--){let n=e[r].trim();!/([\"\'])[^\'\"]+\1/.test(n)&&!GO.includes(n)&&(n=`"${n}"`),e[r]=n}return`${this.fontStyle} ${this.fontVariant} ${this.fontWeight} ${t} ${e.join(",")}`}};let Yi=Hu;Yi.defaultStyle={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fillGradientType:Bd.LINEAR_VERTICAL,fillGradientStops:[],fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",leading:0,letterSpacing:0,lineHeight:0,lineJoin:"miter",miterLimit:10,padding:0,stroke:"black",strokeThickness:0,textBaseline:"alphabetic",trim:!1,whiteSpace:"pre",wordWrap:!1,wordWrapWidth:100};function oy(t){const e=Ye.shared;return Array.isArray(t)?t.map(r=>e.setValue(r).toHex()):e.setValue(t).toHex()}function WO(t,e){if(!Array.isArray(t)||!Array.isArray(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;++r)if(t[r]!==e[r])return!1;return!0}function ay(t,e,r){for(const n in r)Array.isArray(e[n])?t[n]=e[n].slice():t[n]=e[n]}const $O={texture:!0,children:!1,baseTexture:!0},ly=class extends fi{constructor(t,e,r){let n=!1;r||(r=le.ADAPTER.createCanvas(),n=!0),r.width=3,r.height=3;const i=ue.from(r);i.orig=new De,i.trim=new De,super(i),this._ownCanvas=n,this.canvas=r,this.context=r.getContext("2d",{willReadFrequently:!0}),this._resolution=ly.defaultResolution??le.RESOLUTION,this._autoResolution=ly.defaultAutoResolution,this._text=null,this._style=null,this._styleListener=null,this._font="",this.text=t,this.style=e,this.localStyleID=-1}static get experimentalLetterSpacing(){return lr.experimentalLetterSpacing}static set experimentalLetterSpacing(t){Fe("7.1.0","Text.experimentalLetterSpacing is deprecated, use TextMetrics.experimentalLetterSpacing"),lr.experimentalLetterSpacing=t}updateText(t){const e=this._style;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;this._font=this._style.toFontString();const r=this.context,n=lr.measureText(this._text||" ",this._style,this._style.wordWrap,this.canvas),i=n.width,s=n.height,o=n.lines,l=n.lineHeight,c=n.lineWidths,h=n.maxLineWidth,f=n.fontProperties;this.canvas.width=Math.ceil(Math.ceil(Math.max(1,i)+e.padding*2)*this._resolution),this.canvas.height=Math.ceil(Math.ceil(Math.max(1,s)+e.padding*2)*this._resolution),r.scale(this._resolution,this._resolution),r.clearRect(0,0,this.canvas.width,this.canvas.height),r.font=this._font,r.lineWidth=e.strokeThickness,r.textBaseline=e.textBaseline,r.lineJoin=e.lineJoin,r.miterLimit=e.miterLimit;let p,m;const y=e.dropShadow?2:1;for(let _=0;_<y;++_){const w=e.dropShadow&&_===0,A=w?Math.ceil(Math.max(1,s)+e.padding*2):0,E=A*this._resolution;if(w){r.fillStyle="black",r.strokeStyle="black";const S=e.dropShadowColor,T=e.dropShadowBlur*this._resolution,R=e.dropShadowDistance*this._resolution;r.shadowColor=Ye.shared.setValue(S).setAlpha(e.dropShadowAlpha).toRgbaString(),r.shadowBlur=T,r.shadowOffsetX=Math.cos(e.dropShadowAngle)*R,r.shadowOffsetY=Math.sin(e.dropShadowAngle)*R+E}else r.fillStyle=this._generateFillStyle(e,o,n),r.strokeStyle=e.stroke,r.shadowColor="black",r.shadowBlur=0,r.shadowOffsetX=0,r.shadowOffsetY=0;let x=(l-f.fontSize)/2;l-f.fontSize<0&&(x=0);for(let S=0;S<o.length;S++)p=e.strokeThickness/2,m=e.strokeThickness/2+S*l+f.ascent+x,e.align==="right"?p+=h-c[S]:e.align==="center"&&(p+=(h-c[S])/2),e.stroke&&e.strokeThickness&&this.drawLetterSpacing(o[S],p+e.padding,m+e.padding-A,!0),e.fill&&this.drawLetterSpacing(o[S],p+e.padding,m+e.padding-A)}this.updateTexture()}drawLetterSpacing(t,e,r,n=!1){const i=this._style.letterSpacing;let s=!1;if(lr.experimentalLetterSpacingSupported&&(lr.experimentalLetterSpacing?(this.context.letterSpacing=`${i}px`,this.context.textLetterSpacing=`${i}px`,s=!0):(this.context.letterSpacing="0px",this.context.textLetterSpacing="0px")),i===0||s){n?this.context.strokeText(t,e,r):this.context.fillText(t,e,r);return}let o=e;const l=lr.graphemeSegmenter(t);let c=this.context.measureText(t).width,h=0;for(let f=0;f<l.length;++f){const p=l[f];n?this.context.strokeText(p,o,r):this.context.fillText(p,o,r);let m="";for(let y=f+1;y<l.length;++y)m+=l[y];h=this.context.measureText(m).width,o+=c-h+i,c=h}}updateTexture(){const t=this.canvas;if(this._style.trim){const s=TN(t);s.data&&(t.width=s.width,t.height=s.height,this.context.putImageData(s.data,0,0))}const e=this._texture,r=this._style,n=r.trim?0:r.padding,i=e.baseTexture;e.trim.width=e._frame.width=t.width/this._resolution,e.trim.height=e._frame.height=t.height/this._resolution,e.trim.x=-n,e.trim.y=-n,e.orig.width=e._frame.width-n*2,e.orig.height=e._frame.height-n*2,this._onTextureUpdate(),i.setRealSize(t.width,t.height,this._resolution),e.updateUvs(),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}updateTransform(){this.updateText(!0),super.updateTransform()}getBounds(t,e){return this.updateText(!0),this._textureID===-1&&(t=!1),super.getBounds(t,e)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds.call(this,t)}_calculateBounds(){this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_generateFillStyle(t,e,r){const n=t.fill;if(Array.isArray(n)){if(n.length===1)return n[0]}else return n;let i;const s=t.dropShadow?t.dropShadowDistance:0,o=t.padding||0,l=this.canvas.width/this._resolution-s-o*2,c=this.canvas.height/this._resolution-s-o*2,h=n.slice(),f=t.fillGradientStops.slice();if(!f.length){const p=h.length+1;for(let m=1;m<p;++m)f.push(m/p)}if(h.unshift(n[0]),f.unshift(0),h.push(n[n.length-1]),f.push(1),t.fillGradientType===Bd.LINEAR_VERTICAL){i=this.context.createLinearGradient(l/2,o,l/2,c+o);const p=r.fontProperties.fontSize+t.strokeThickness;for(let m=0;m<e.length;m++){const y=r.lineHeight*(m-1)+p,_=r.lineHeight*m;let w=_;m>0&&y>_&&(w=(_+y)/2);const A=_+p,E=r.lineHeight*(m+1);let x=A;m+1<e.length&&E<A&&(x=(A+E)/2);const S=(x-w)/c;for(let T=0;T<h.length;T++){let R=0;typeof f[T]=="number"?R=f[T]:R=T/h.length;let L=Math.min(1,Math.max(0,w/c+R*S));L=Number(L.toFixed(5)),i.addColorStop(L,h[T])}}}else{i=this.context.createLinearGradient(o,c/2,l+o,c/2);const p=h.length+1;let m=1;for(let y=0;y<h.length;y++){let _;typeof f[y]=="number"?_=f[y]:_=m/p,i.addColorStop(_,h[y]),m++}}return i}destroy(t){typeof t=="boolean"&&(t={children:t}),t=Object.assign({},$O,t),super.destroy(t),this._ownCanvas&&(this.canvas.height=this.canvas.width=0),this.context=null,this.canvas=null,this._style=null}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._texture.orig.width}set width(t){this.updateText(!0);const e=Rs(this.scale.x)||1;this.scale.x=e*t/this._texture.orig.width,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._texture.orig.height}set height(t){this.updateText(!0);const e=Rs(this.scale.y)||1;this.scale.y=e*t/this._texture.orig.height,this._height=t}get style(){return this._style}set style(t){t=t||{},t instanceof Yi?this._style=t:this._style=new Yi(t),this.localStyleID=-1,this.dirty=!0}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}};let Ud=ly;Ud.defaultAutoResolution=!0;class zd{constructor(){this.info=[],this.common=[],this.page=[],this.char=[],this.kerning=[],this.distanceField=[]}}class jd{static test(e){return typeof e=="string"&&e.startsWith("info face=")}static parse(e){const r=e.match(/^[a-z]+\s+.+$/gm),n={info:[],common:[],page:[],char:[],chars:[],kerning:[],kernings:[],distanceField:[]};for(const s in r){const o=r[s].match(/^[a-z]+/gm)[0],l=r[s].match(/[a-zA-Z]+=([^\s"']+|"([^"]*)")/gm),c={};for(const h in l){const f=l[h].split("="),p=f[0],m=f[1].replace(/"/gm,""),y=parseFloat(m),_=isNaN(y)?m:y;c[p]=_}n[o].push(c)}const i=new zd;return n.info.forEach(s=>i.info.push({face:s.face,size:parseInt(s.size,10)})),n.common.forEach(s=>i.common.push({lineHeight:parseInt(s.lineHeight,10)})),n.page.forEach(s=>i.page.push({id:parseInt(s.id,10),file:s.file})),n.char.forEach(s=>i.char.push({id:parseInt(s.id,10),page:parseInt(s.page,10),x:parseInt(s.x,10),y:parseInt(s.y,10),width:parseInt(s.width,10),height:parseInt(s.height,10),xoffset:parseInt(s.xoffset,10),yoffset:parseInt(s.yoffset,10),xadvance:parseInt(s.xadvance,10)})),n.kerning.forEach(s=>i.kerning.push({first:parseInt(s.first,10),second:parseInt(s.second,10),amount:parseInt(s.amount,10)})),n.distanceField.forEach(s=>i.distanceField.push({distanceRange:parseInt(s.distanceRange,10),fieldType:s.fieldType})),i}}class uy{static test(e){const r=e;return"getElementsByTagName"in r&&r.getElementsByTagName("page").length&&r.getElementsByTagName("info")[0].getAttribute("face")!==null}static parse(e){const r=new zd,n=e.getElementsByTagName("info"),i=e.getElementsByTagName("common"),s=e.getElementsByTagName("page"),o=e.getElementsByTagName("char"),l=e.getElementsByTagName("kerning"),c=e.getElementsByTagName("distanceField");for(let h=0;h<n.length;h++)r.info.push({face:n[h].getAttribute("face"),size:parseInt(n[h].getAttribute("size"),10)});for(let h=0;h<i.length;h++)r.common.push({lineHeight:parseInt(i[h].getAttribute("lineHeight"),10)});for(let h=0;h<s.length;h++)r.page.push({id:parseInt(s[h].getAttribute("id"),10)||0,file:s[h].getAttribute("file")});for(let h=0;h<o.length;h++){const f=o[h];r.char.push({id:parseInt(f.getAttribute("id"),10),page:parseInt(f.getAttribute("page"),10)||0,x:parseInt(f.getAttribute("x"),10),y:parseInt(f.getAttribute("y"),10),width:parseInt(f.getAttribute("width"),10),height:parseInt(f.getAttribute("height"),10),xoffset:parseInt(f.getAttribute("xoffset"),10),yoffset:parseInt(f.getAttribute("yoffset"),10),xadvance:parseInt(f.getAttribute("xadvance"),10)})}for(let h=0;h<l.length;h++)r.kerning.push({first:parseInt(l[h].getAttribute("first"),10),second:parseInt(l[h].getAttribute("second"),10),amount:parseInt(l[h].getAttribute("amount"),10)});for(let h=0;h<c.length;h++)r.distanceField.push({fieldType:c[h].getAttribute("fieldType"),distanceRange:parseInt(c[h].getAttribute("distanceRange"),10)});return r}}class cy{static test(e){return typeof e=="string"&&e.includes("<font>")?uy.test(le.ADAPTER.parseXML(e)):!1}static parse(e){return uy.parse(le.ADAPTER.parseXML(e))}}const hy=[jd,uy,cy];function VO(t){for(let e=0;e<hy.length;e++)if(hy[e].test(t))return hy[e];return null}function XO(t,e,r,n,i,s){const o=r.fill;if(Array.isArray(o)){if(o.length===1)return o[0]}else return o;let l;const c=r.dropShadow?r.dropShadowDistance:0,h=r.padding||0,f=t.width/n-c-h*2,p=t.height/n-c-h*2,m=o.slice(),y=r.fillGradientStops.slice();if(!y.length){const _=m.length+1;for(let w=1;w<_;++w)y.push(w/_)}if(m.unshift(o[0]),y.unshift(0),m.push(o[o.length-1]),y.push(1),r.fillGradientType===Bd.LINEAR_VERTICAL){l=e.createLinearGradient(f/2,h,f/2,p+h);let _=0;const w=(s.fontProperties.fontSize+r.strokeThickness)/p;for(let A=0;A<i.length;A++){const E=s.lineHeight*A;for(let x=0;x<m.length;x++){let S=0;typeof y[x]=="number"?S=y[x]:S=x/m.length;const T=E/p+S*w;let R=Math.max(_,T);R=Math.min(R,1),l.addColorStop(R,m[x]),_=R}}}else{l=e.createLinearGradient(h,p/2,f+h,p/2);const _=m.length+1;let w=1;for(let A=0;A<m.length;A++){let E;typeof y[A]=="number"?E=y[A]:E=w/_,l.addColorStop(E,m[A]),w++}}return l}function YO(t,e,r,n,i,s,o){const l=r.text,c=r.fontProperties;e.translate(n,i),e.scale(s,s);const h=o.strokeThickness/2,f=-(o.strokeThickness/2);if(e.font=o.toFontString(),e.lineWidth=o.strokeThickness,e.textBaseline=o.textBaseline,e.lineJoin=o.lineJoin,e.miterLimit=o.miterLimit,e.fillStyle=XO(t,e,o,s,[l],r),e.strokeStyle=o.stroke,o.dropShadow){const p=o.dropShadowColor,m=o.dropShadowBlur*s,y=o.dropShadowDistance*s;e.shadowColor=Ye.shared.setValue(p).setAlpha(o.dropShadowAlpha).toRgbaString(),e.shadowBlur=m,e.shadowOffsetX=Math.cos(o.dropShadowAngle)*y,e.shadowOffsetY=Math.sin(o.dropShadowAngle)*y}else e.shadowColor="black",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0;o.stroke&&o.strokeThickness&&e.strokeText(l,h,f+r.lineHeight-c.descent),o.fill&&e.fillText(l,h,f+r.lineHeight-c.descent),e.setTransform(1,0,0,1,0,0),e.fillStyle="rgba(0, 0, 0, 0)"}function Hd(t){return t.codePointAt?t.codePointAt(0):t.charCodeAt(0)}function PT(t){return Array.from?Array.from(t):t.split("")}function qO(t){typeof t=="string"&&(t=[t]);const e=[];for(let r=0,n=t.length;r<n;r++){const i=t[r];if(Array.isArray(i)){if(i.length!==2)throw new Error(`[BitmapFont]: Invalid character range length, expecting 2 got ${i.length}.`);const s=i[0].charCodeAt(0),o=i[1].charCodeAt(0);if(o<s)throw new Error("[BitmapFont]: Invalid character range.");for(let l=s,c=o;l<=c;l++)e.push(String.fromCharCode(l))}else e.push(...PT(i))}if(e.length===0)throw new Error("[BitmapFont]: Empty set when resolving characters.");return e}const jn=class{constructor(t,e,r){var h;const[n]=t.info,[i]=t.common,[s]=t.page,[o]=t.distanceField,l=ks(s.file),c={};this._ownsTextures=r,this.font=n.face,this.size=n.size,this.lineHeight=i.lineHeight/l,this.chars={},this.pageTextures=c;for(let f=0;f<t.page.length;f++){const{id:p,file:m}=t.page[f];c[p]=e instanceof Array?e[f]:e[m],o!=null&&o.fieldType&&o.fieldType!=="none"&&(c[p].baseTexture.alphaMode=Mn.NO_PREMULTIPLIED_ALPHA,c[p].baseTexture.mipmap=si.OFF)}for(let f=0;f<t.char.length;f++){const{id:p,page:m}=t.char[f];let{x:y,y:_,width:w,height:A,xoffset:E,yoffset:x,xadvance:S}=t.char[f];y/=l,_/=l,w/=l,A/=l,E/=l,x/=l,S/=l;const T=new De(y+c[m].frame.x/l,_+c[m].frame.y/l,w,A);this.chars[p]={xOffset:E,yOffset:x,xAdvance:S,kerning:{},texture:new ue(c[m].baseTexture,T),page:m}}for(let f=0;f<t.kerning.length;f++){let{first:p,second:m,amount:y}=t.kerning[f];p/=l,m/=l,y/=l,this.chars[m]&&(this.chars[m].kerning[p]=y)}this.distanceFieldRange=o==null?void 0:o.distanceRange,this.distanceFieldType=((h=o==null?void 0:o.fieldType)==null?void 0:h.toLowerCase())??"none"}destroy(){for(const t in this.chars)this.chars[t].texture.destroy(),this.chars[t].texture=null;for(const t in this.pageTextures)this._ownsTextures&&this.pageTextures[t].destroy(!0),this.pageTextures[t]=null;this.chars=null,this.pageTextures=null}static install(t,e,r){let n;if(t instanceof zd)n=t;else{const s=VO(t);if(!s)throw new Error("Unrecognized data format for font.");n=s.parse(t)}e instanceof ue&&(e=[e]);const i=new jn(n,e,r);return jn.available[i.font]=i,i}static uninstall(t){const e=jn.available[t];if(!e)throw new Error(`No font found named '${t}'`);e.destroy(),delete jn.available[t]}static from(t,e,r){if(!t)throw new Error("[BitmapFont] Property `name` is required.");const{chars:n,padding:i,resolution:s,textureWidth:o,textureHeight:l,...c}=Object.assign({},jn.defaultOptions,r),h=qO(n),f=e instanceof Yi?e:new Yi(e),p=o,m=new zd;m.info[0]={face:f.fontFamily,size:f.fontSize},m.common[0]={lineHeight:f.fontSize};let y=0,_=0,w,A,E,x=0;const S=[];for(let R=0;R<h.length;R++){w||(w=le.ADAPTER.createCanvas(),w.width=o,w.height=l,A=w.getContext("2d"),E=new Ie(w,{resolution:s,...c}),S.push(new ue(E)),m.page.push({id:S.length-1,file:""}));const L=h[R],I=lr.measureText(L,f,!1,w),M=I.width,q=Math.ceil(I.height),K=Math.ceil((f.fontStyle==="italic"?2:1)*M);if(_>=l-q*s){if(_===0)throw new Error(`[BitmapFont] textureHeight ${l}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${L}')`);--R,w=null,A=null,E=null,_=0,y=0,x=0;continue}if(x=Math.max(q+I.fontProperties.descent,x),K*s+y>=p){if(y===0)throw new Error(`[BitmapFont] textureWidth ${o}px is too small (fontFamily: '${f.fontFamily}', fontSize: ${f.fontSize}px, char: '${L}')`);--R,_+=x*s,_=Math.ceil(_),y=0,x=0;continue}YO(w,A,I,y,_,s,f);const J=Hd(I.text);m.char.push({id:J,page:S.length-1,x:y/s,y:_/s,width:K,height:q,xoffset:0,yoffset:0,xadvance:M-(f.dropShadow?f.dropShadowDistance:0)-(f.stroke?f.strokeThickness:0)}),y+=(K+2*i)*s,y=Math.ceil(y)}for(let R=0,L=h.length;R<L;R++){const I=h[R];for(let M=0;M<L;M++){const q=h[M],K=A.measureText(I).width,J=A.measureText(q).width,V=A.measureText(I+q).width-(K+J);V&&m.kerning.push({first:Hd(I),second:Hd(q),amount:V})}}const T=new jn(m,S,!0);return jn.available[t]!==void 0&&jn.uninstall(t),jn.available[t]=T,T}};let Dr=jn;Dr.ALPHA=[["a","z"],["A","Z"]," "],Dr.NUMERIC=[["0","9"]],Dr.ALPHANUMERIC=[["a","z"],["A","Z"],["0","9"]," "],Dr.ASCII=[[" ","~"]],Dr.defaultOptions={resolution:1,textureWidth:512,textureHeight:512,padding:4,chars:jn.ALPHANUMERIC},Dr.available={};class KO{constructor(e,r){this.uvBuffer=e,this.uvMatrix=r,this.data=null,this._bufferUpdateId=-1,this._textureUpdateId=-1,this._updateID=0}update(e){if(!e&&this._bufferUpdateId===this.uvBuffer._updateID&&this._textureUpdateId===this.uvMatrix._updateID)return;this._bufferUpdateId=this.uvBuffer._updateID,this._textureUpdateId=this.uvMatrix._updateID;const r=this.uvBuffer.data;(!this.data||this.data.length!==r.length)&&(this.data=new Float32Array(r.length)),this.uvMatrix.multiplyUvs(r,this.data),this._updateID++}}const dy=new je,RT=new Wa,IT=class extends yr{constructor(t,e,r,n=kn.TRIANGLES){super(),this.geometry=t,this.shader=e,this.state=r||Vi.for2d(),this.drawMode=n,this.start=0,this.size=0,this.uvs=null,this.indices=null,this.vertexData=new Float32Array(1),this.vertexDirty=-1,this._transformID=-1,this._roundPixels=le.ROUND_PIXELS,this.batchUvs=null}get geometry(){return this._geometry}set geometry(t){this._geometry!==t&&(this._geometry&&(this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose()),this._geometry=t,this._geometry&&this._geometry.refCount++,this.vertexDirty=-1)}get uvBuffer(){return this.geometry.buffers[1]}get verticesBuffer(){return this.geometry.buffers[0]}set material(t){this.shader=t}get material(){return this.shader}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}set roundPixels(t){this._roundPixels!==t&&(this._transformID=-1),this._roundPixels=t}get roundPixels(){return this._roundPixels}get tint(){return"tint"in this.shader?this.shader.tint:null}set tint(t){this.shader.tint=t}get tintValue(){return this.shader.tintValue}get texture(){return"texture"in this.shader?this.shader.texture:null}set texture(t){this.shader.texture=t}_render(t){const e=this.geometry.buffers[0].data;this.shader.batchable&&this.drawMode===kn.TRIANGLES&&e.length<IT.BATCHABLE_SIZE*2?this._renderToBatch(t):this._renderDefault(t)}_renderDefault(t){const e=this.shader;e.alpha=this.worldAlpha,e.update&&e.update(),t.batch.flush(),e.uniforms.translationMatrix=this.transform.worldTransform.toArray(!0),t.shader.bind(e),t.state.set(this.state),t.geometry.bind(this.geometry,e),t.geometry.draw(this.drawMode,this.size,this.start,this.geometry.instanceCount)}_renderToBatch(t){const e=this.geometry,r=this.shader;r.uvMatrix&&(r.uvMatrix.update(),this.calculateUvs()),this.calculateVertices(),this.indices=e.indexBuffer.data,this._tintRGB=r._tintRGB,this._texture=r.texture;const n=this.material.pluginName;t.batch.setObjectRenderer(t.plugins[n]),t.plugins[n].render(this)}calculateVertices(){const t=this.geometry.buffers[0],e=t.data,r=t._updateID;if(r===this.vertexDirty&&this._transformID===this.transform._worldID)return;this._transformID=this.transform._worldID,this.vertexData.length!==e.length&&(this.vertexData=new Float32Array(e.length));const n=this.transform.worldTransform,i=n.a,s=n.b,o=n.c,l=n.d,c=n.tx,h=n.ty,f=this.vertexData;for(let p=0;p<f.length/2;p++){const m=e[p*2],y=e[p*2+1];f[p*2]=i*m+o*y+c,f[p*2+1]=s*m+l*y+h}if(this._roundPixels){const p=le.RESOLUTION;for(let m=0;m<f.length;++m)f[m]=Math.round(f[m]*p)/p}this.vertexDirty=r}calculateUvs(){const t=this.geometry.buffers[1],e=this.shader;e.uvMatrix.isSimple?this.uvs=t.data:(this.batchUvs||(this.batchUvs=new KO(t,e.uvMatrix)),this.batchUvs.update(),this.uvs=this.batchUvs.data)}_calculateBounds(){this.calculateVertices(),this._bounds.addVertexData(this.vertexData,0,this.vertexData.length)}containsPoint(t){if(!this.getBounds().contains(t.x,t.y))return!1;this.worldTransform.applyInverse(t,dy);const e=this.geometry.getBuffer("aVertexPosition").data,r=RT.points,n=this.geometry.getIndex().data,i=n.length,s=this.drawMode===4?3:1;for(let o=0;o+2<i;o+=s){const l=n[o]*2,c=n[o+1]*2,h=n[o+2]*2;if(r[0]=e[l],r[1]=e[l+1],r[2]=e[c],r[3]=e[c+1],r[4]=e[h],r[5]=e[h+1],RT.contains(dy.x,dy.y))return!0}return!1}destroy(t){super.destroy(t),this._cachedTexture&&(this._cachedTexture.destroy(),this._cachedTexture=null),this.geometry=null,this.shader=null,this.state=null,this.uvs=null,this.indices=null,this.vertexData=null}};let Ka=IT;Ka.BATCHABLE_SIZE=100;class Gd extends Ms{constructor(e,r,n){super();const i=new jt(e),s=new jt(r,!0),o=new jt(n,!0,!0);this.addAttribute("aVertexPosition",i,2,!1,Ee.FLOAT).addAttribute("aTextureCoord",s,2,!1,Ee.FLOAT).addIndex(o),this._updateId=-1}get vertexDirtyId(){return this.buffers[0]._updateID}}var QO=`varying vec2 vTextureCoord;
uniform vec4 uColor;

uniform sampler2D uSampler;

void main(void)
{
    gl_FragColor = texture2D(uSampler, vTextureCoord) * uColor;
}
`,JO=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTextureMatrix;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;
}
`;class Gu extends di{constructor(e,r){const n={uSampler:e,alpha:1,uTextureMatrix:ht.IDENTITY,uColor:new Float32Array([1,1,1,1])};r=Object.assign({tint:16777215,alpha:1,pluginName:"batch"},r),r.uniforms&&Object.assign(n,r.uniforms),super(r.program||Ln.from(JO,QO),n),this._colorDirty=!1,this.uvMatrix=new Jv(e),this.batchable=r.program===void 0,this.pluginName=r.pluginName,this._tintColor=new Ye(r.tint),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0,this.alpha=r.alpha}get texture(){return this.uniforms.uSampler}set texture(e){this.uniforms.uSampler!==e&&(!this.uniforms.uSampler.baseTexture.alphaMode!=!e.baseTexture.alphaMode&&(this._colorDirty=!0),this.uniforms.uSampler=e,this.uvMatrix.texture=e)}set alpha(e){e!==this._alpha&&(this._alpha=e,this._colorDirty=!0)}get alpha(){return this._alpha}set tint(e){e!==this.tint&&(this._tintColor.setValue(e),this._tintRGB=this._tintColor.toLittleEndianNumber(),this._colorDirty=!0)}get tint(){return this._tintColor.value}get tintValue(){return this._tintColor.toNumber()}update(){if(this._colorDirty){this._colorDirty=!1;const e=this.texture.baseTexture.alphaMode;Ye.shared.setValue(this._tintColor).premultiply(this._alpha,e).toArray(this.uniforms.uColor)}this.uvMatrix.update()&&(this.uniforms.uTextureMatrix=this.uvMatrix.mapCoord)}}var ZO=`// Pixi texture info\r
varying vec2 vTextureCoord;\r
uniform sampler2D uSampler;\r
\r
// Tint\r
uniform vec4 uColor;\r
\r
// on 2D applications fwidth is screenScale / glyphAtlasScale * distanceFieldRange\r
uniform float uFWidth;\r
\r
void main(void) {\r
\r
  // To stack MSDF and SDF we need a non-pre-multiplied-alpha texture.\r
  vec4 texColor = texture2D(uSampler, vTextureCoord);\r
\r
  // MSDF\r
  float median = texColor.r + texColor.g + texColor.b -\r
                  min(texColor.r, min(texColor.g, texColor.b)) -\r
                  max(texColor.r, max(texColor.g, texColor.b));\r
  // SDF\r
  median = min(median, texColor.a);\r
\r
  float screenPxDistance = uFWidth * (median - 0.5);\r
  float alpha = clamp(screenPxDistance + 0.5, 0.0, 1.0);\r
  if (median < 0.01) {\r
    alpha = 0.0;\r
  } else if (median > 0.99) {\r
    alpha = 1.0;\r
  }\r
\r
  // Gamma correction for coverage-like alpha\r
  float luma = dot(uColor.rgb, vec3(0.299, 0.587, 0.114));\r
  float gamma = mix(1.0, 1.0 / 2.2, luma);\r
  float coverage = pow(uColor.a * alpha, gamma);  \r
\r
  // NPM Textures, NPM outputs\r
  gl_FragColor = vec4(uColor.rgb, coverage);\r
}\r
`,eD=`// Mesh material default fragment\r
attribute vec2 aVertexPosition;\r
attribute vec2 aTextureCoord;\r
\r
uniform mat3 projectionMatrix;\r
uniform mat3 translationMatrix;\r
uniform mat3 uTextureMatrix;\r
\r
varying vec2 vTextureCoord;\r
\r
void main(void)\r
{\r
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);\r
\r
    vTextureCoord = (uTextureMatrix * vec3(aTextureCoord, 1.0)).xy;\r
}\r
`;const kT=[],MT=[],NT=[],OT=class extends yr{constructor(t,e={}){super();const{align:r,tint:n,maxWidth:i,letterSpacing:s,fontName:o,fontSize:l}=Object.assign({},OT.styleDefaults,e);if(!Dr.available[o])throw new Error(`Missing BitmapFont "${o}"`);this._activePagesMeshData=[],this._textWidth=0,this._textHeight=0,this._align=r,this._tintColor=new Ye(n),this._font=void 0,this._fontName=o,this._fontSize=l,this.text=t,this._maxWidth=i,this._maxLineHeight=0,this._letterSpacing=s,this._anchor=new Xi(()=>{this.dirty=!0},this,0,0),this._roundPixels=le.ROUND_PIXELS,this.dirty=!0,this._resolution=le.RESOLUTION,this._autoResolution=!0,this._textureCache={}}updateText(){var K;const t=Dr.available[this._fontName],e=this.fontSize,r=e/t.size,n=new je,i=[],s=[],o=[],l=this._text.replace(/(?:\r\n|\r)/g,`
`)||" ",c=PT(l),h=this._maxWidth*t.size/e,f=t.distanceFieldType==="none"?kT:MT;let p=null,m=0,y=0,_=0,w=-1,A=0,E=0,x=0,S=0;for(let J=0;J<c.length;J++){const V=c[J],z=Hd(V);if(/(?:\s)/.test(V)&&(w=J,A=m,S++),V==="\r"||V===`
`){s.push(m),o.push(-1),y=Math.max(y,m),++_,++E,n.x=0,n.y+=t.lineHeight,p=null,S=0;continue}const W=t.chars[z];if(!W)continue;p&&W.kerning[p]&&(n.x+=W.kerning[p]);const ge=NT.pop()||{texture:ue.EMPTY,line:0,charCode:0,prevSpaces:0,position:new je};ge.texture=W.texture,ge.line=_,ge.charCode=z,ge.position.x=Math.round(n.x+W.xOffset+this._letterSpacing/2),ge.position.y=Math.round(n.y+W.yOffset),ge.prevSpaces=S,i.push(ge),m=ge.position.x+Math.max(W.xAdvance-W.xOffset,W.texture.orig.width),n.x+=W.xAdvance+this._letterSpacing,x=Math.max(x,W.yOffset+W.texture.height),p=z,w!==-1&&h>0&&n.x>h&&(++E,Ha(i,1+w-E,1+J-w),J=w,w=-1,s.push(A),o.push(i.length>0?i[i.length-1].prevSpaces:0),y=Math.max(y,A),_++,n.x=0,n.y+=t.lineHeight,p=null,S=0)}const T=c[c.length-1];T!=="\r"&&T!==`
`&&(/(?:\s)/.test(T)&&(m=A),s.push(m),y=Math.max(y,m),o.push(-1));const R=[];for(let J=0;J<=_;J++){let V=0;this._align==="right"?V=y-s[J]:this._align==="center"?V=(y-s[J])/2:this._align==="justify"&&(V=o[J]<0?0:(y-s[J])/o[J]),R.push(V)}const L=i.length,I={},M=[],q=this._activePagesMeshData;f.push(...q);for(let J=0;J<L;J++){const V=i[J].texture,z=V.baseTexture.uid;if(!I[z]){let W=f.pop();if(!W){const ve=new Gd;let ie,O;t.distanceFieldType==="none"?(ie=new Gu(ue.EMPTY),O=Se.NORMAL):(ie=new Gu(ue.EMPTY,{program:Ln.from(eD,ZO),uniforms:{uFWidth:0}}),O=Se.NORMAL_NPM);const H=new Ka(ve,ie);H.blendMode=O,W={index:0,indexCount:0,vertexCount:0,uvsCount:0,total:0,mesh:H,vertices:null,uvs:null,indices:null}}W.index=0,W.indexCount=0,W.vertexCount=0,W.uvsCount=0,W.total=0;const{_textureCache:ge}=this;ge[z]=ge[z]||new ue(V.baseTexture),W.mesh.texture=ge[z],W.mesh.tint=this._tintColor.value,M.push(W),I[z]=W}I[z].total++}for(let J=0;J<q.length;J++)M.includes(q[J])||this.removeChild(q[J].mesh);for(let J=0;J<M.length;J++)M[J].mesh.parent!==this&&this.addChild(M[J].mesh);this._activePagesMeshData=M;for(const J in I){const V=I[J],z=V.total;if(!(((K=V.indices)==null?void 0:K.length)>6*z)||V.vertices.length<Ka.BATCHABLE_SIZE*2)V.vertices=new Float32Array(4*2*z),V.uvs=new Float32Array(4*2*z),V.indices=new Uint16Array(6*z);else{const W=V.total,ge=V.vertices;for(let ve=W*4*2;ve<ge.length;ve++)ge[ve]=0}V.mesh.size=6*z}for(let J=0;J<L;J++){const V=i[J];let z=V.position.x+R[V.line]*(this._align==="justify"?V.prevSpaces:1);this._roundPixels&&(z=Math.round(z));const W=z*r,ge=V.position.y*r,ve=V.texture,ie=I[ve.baseTexture.uid],O=ve.frame,H=ve._uvs,k=ie.index++;ie.indices[k*6+0]=0+k*4,ie.indices[k*6+1]=1+k*4,ie.indices[k*6+2]=2+k*4,ie.indices[k*6+3]=0+k*4,ie.indices[k*6+4]=2+k*4,ie.indices[k*6+5]=3+k*4,ie.vertices[k*8+0]=W,ie.vertices[k*8+1]=ge,ie.vertices[k*8+2]=W+O.width*r,ie.vertices[k*8+3]=ge,ie.vertices[k*8+4]=W+O.width*r,ie.vertices[k*8+5]=ge+O.height*r,ie.vertices[k*8+6]=W,ie.vertices[k*8+7]=ge+O.height*r,ie.uvs[k*8+0]=H.x0,ie.uvs[k*8+1]=H.y0,ie.uvs[k*8+2]=H.x1,ie.uvs[k*8+3]=H.y1,ie.uvs[k*8+4]=H.x2,ie.uvs[k*8+5]=H.y2,ie.uvs[k*8+6]=H.x3,ie.uvs[k*8+7]=H.y3}this._textWidth=y*r,this._textHeight=(n.y+t.lineHeight)*r;for(const J in I){const V=I[J];if(this.anchor.x!==0||this.anchor.y!==0){let ve=0;const ie=this._textWidth*this.anchor.x,O=this._textHeight*this.anchor.y;for(let H=0;H<V.total;H++)V.vertices[ve++]-=ie,V.vertices[ve++]-=O,V.vertices[ve++]-=ie,V.vertices[ve++]-=O,V.vertices[ve++]-=ie,V.vertices[ve++]-=O,V.vertices[ve++]-=ie,V.vertices[ve++]-=O}this._maxLineHeight=x*r;const z=V.mesh.geometry.getBuffer("aVertexPosition"),W=V.mesh.geometry.getBuffer("aTextureCoord"),ge=V.mesh.geometry.getIndex();z.data=V.vertices,W.data=V.uvs,ge.data=V.indices,z.update(),W.update(),ge.update()}for(let J=0;J<i.length;J++)NT.push(i[J]);this._font=t,this.dirty=!1}updateTransform(){this.validate(),this.containerUpdateTransform()}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0);const{distanceFieldRange:e,distanceFieldType:r,size:n}=Dr.available[this._fontName];if(r!=="none"){const{a:i,b:s,c:o,d:l}=this.worldTransform,c=Math.sqrt(i*i+s*s),h=Math.sqrt(o*o+l*l),f=(Math.abs(c)+Math.abs(h))/2,p=this.fontSize/n,m=t._view.resolution;for(const y of this._activePagesMeshData)y.mesh.shader.uniforms.uFWidth=f*e*p*m}super._render(t)}getLocalBounds(){return this.validate(),super.getLocalBounds()}validate(){const t=Dr.available[this._fontName];if(!t)throw new Error(`Missing BitmapFont "${this._fontName}"`);this._font!==t&&(this.dirty=!0),this.dirty&&this.updateText()}get tint(){return this._tintColor.value}set tint(t){if(this.tint!==t){this._tintColor.setValue(t);for(let e=0;e<this._activePagesMeshData.length;e++)this._activePagesMeshData[e].mesh.tint=t}}get align(){return this._align}set align(t){this._align!==t&&(this._align=t,this.dirty=!0)}get fontName(){return this._fontName}set fontName(t){if(!Dr.available[t])throw new Error(`Missing BitmapFont "${t}"`);this._fontName!==t&&(this._fontName=t,this.dirty=!0)}get fontSize(){return this._fontSize??Dr.available[this._fontName].size}set fontSize(t){this._fontSize!==t&&(this._fontSize=t,this.dirty=!0)}get anchor(){return this._anchor}set anchor(t){typeof t=="number"?this._anchor.set(t):this._anchor.copyFrom(t)}get text(){return this._text}set text(t){t=String(t??""),this._text!==t&&(this._text=t,this.dirty=!0)}get maxWidth(){return this._maxWidth}set maxWidth(t){this._maxWidth!==t&&(this._maxWidth=t,this.dirty=!0)}get maxLineHeight(){return this.validate(),this._maxLineHeight}get textWidth(){return this.validate(),this._textWidth}get letterSpacing(){return this._letterSpacing}set letterSpacing(t){this._letterSpacing!==t&&(this._letterSpacing=t,this.dirty=!0)}get roundPixels(){return this._roundPixels}set roundPixels(t){t!==this._roundPixels&&(this._roundPixels=t,this.dirty=!0)}get textHeight(){return this.validate(),this._textHeight}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}destroy(t){const{_textureCache:e}=this,r=Dr.available[this._fontName].distanceFieldType==="none"?kT:MT;r.push(...this._activePagesMeshData);for(const n of this._activePagesMeshData)this.removeChild(n.mesh);this._activePagesMeshData=[],r.filter(n=>e[n.mesh.texture.baseTexture.uid]).forEach(n=>{n.mesh.texture=ue.EMPTY});for(const n in e)e[n].destroy(),delete e[n];this._font=null,this._tintColor=null,this._textureCache=null,super.destroy(t)}};let DT=OT;DT.styleDefaults={align:"left",tint:16777215,maxWidth:0,letterSpacing:0};const LT={loader:ce.LoadParser,resolver:ce.ResolveParser,cache:ce.CacheParser,detection:ce.DetectionParser};xe.handle(ce.Asset,t=>{const e=t.ref;Object.entries(LT).filter(([r])=>!!e[r]).forEach(([r,n])=>xe.add(Object.assign(e[r],{extension:e[r].extension??n})))},t=>{const e=t.ref;Object.keys(LT).filter(r=>!!e[r]).forEach(r=>xe.remove(e[r]))});class tD{constructor(e,r=!1){this._loader=e,this._assetList=[],this._isLoading=!1,this._maxConcurrent=1,this.verbose=r}add(e){e.forEach(r=>{this._assetList.push(r)}),this.verbose&&console.log("[BackgroundLoader] assets: ",this._assetList),this._isActive&&!this._isLoading&&this._next()}async _next(){if(this._assetList.length&&this._isActive){this._isLoading=!0;const e=[],r=Math.min(this._assetList.length,this._maxConcurrent);for(let n=0;n<r;n++)e.push(this._assetList.pop());await this._loader.load(e),this._isLoading=!1,this._next()}}get active(){return this._isActive}set active(e){this._isActive!==e&&(this._isActive=e,e&&!this._isLoading&&this._next())}}function Wu(t,e){if(Array.isArray(e)){for(const r of e)if(t.startsWith(`data:${r}`))return!0;return!1}return t.startsWith(`data:${e}`)}function Po(t,e){const r=t.split("?")[0],n=vr.extname(r).toLowerCase();return Array.isArray(e)?e.includes(n):n===e}const qi=(t,e)=>(Array.isArray(t)||(t=[t]),e?t.map(r=>typeof r=="string"?e(r):r):t),fy=(t,e)=>{const r=e.split("?")[1];return r&&(t+=`?${r}`),t};function BT(t,e,r,n,i){const s=e[r];for(let o=0;o<s.length;o++){const l=s[o];r<e.length-1?BT(t.replace(n[r],l),e,r+1,n,i):i.push(t.replace(n[r],l))}}function rD(t){const e=/\{(.*?)\}/g,r=t.match(e),n=[];if(r){const i=[];r.forEach(s=>{const o=s.substring(1,s.length-1).split(",");i.push(o)}),BT(t,i,0,r,n)}else n.push(t);return n}const Wd=t=>!Array.isArray(t);class nD{constructor(){this._parsers=[],this._cache=new Map,this._cacheMap=new Map}reset(){this._cacheMap.clear(),this._cache.clear()}has(e){return this._cache.has(e)}get(e){const r=this._cache.get(e);return r||console.warn(`[Assets] Asset id ${e} was not found in the Cache`),r}set(e,r){const n=qi(e);let i;for(let l=0;l<this.parsers.length;l++){const c=this.parsers[l];if(c.test(r)){i=c.getCacheableAssets(n,r);break}}i||(i={},n.forEach(l=>{i[l]=r}));const s=Object.keys(i),o={cacheKeys:s,keys:n};if(n.forEach(l=>{this._cacheMap.set(l,o)}),s.forEach(l=>{this._cache.has(l)&&this._cache.get(l)!==r&&console.warn("[Cache] already has key:",l),this._cache.set(l,i[l])}),r instanceof ue){const l=r;n.forEach(c=>{l.baseTexture!==ue.EMPTY.baseTexture&&Ie.addToCache(l.baseTexture,c),ue.addToCache(l,c)})}}remove(e){if(this._cacheMap.get(e),!this._cacheMap.has(e)){console.warn(`[Assets] Asset id ${e} was not found in the Cache`);return}const r=this._cacheMap.get(e);r.cacheKeys.forEach(n=>{this._cache.delete(n)}),r.keys.forEach(n=>{this._cacheMap.delete(n)})}get parsers(){return this._parsers}}const $u=new nD;class iD{constructor(){this._parsers=[],this._parsersValidated=!1,this.parsers=new Proxy(this._parsers,{set:(e,r,n)=>(this._parsersValidated=!1,e[r]=n,!0)}),this.promiseCache={}}reset(){this._parsersValidated=!1,this.promiseCache={}}_getLoadPromiseAndParser(e,r){const n={promise:null,parser:null};return n.promise=(async()=>{var o,l;let i=null,s=null;if(r.loadParser&&(s=this._parserHash[r.loadParser],s||console.warn(`[Assets] specified load parser "${r.loadParser}" not found while loading ${e}`)),!s){for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];if(h.load&&((o=h.test)!=null&&o.call(h,e,r,this))){s=h;break}}if(!s)return console.warn(`[Assets] ${e} could not be loaded as we don't know how to parse it, ensure the correct parser has been added`),null}i=await s.load(e,r,this),n.parser=s;for(let c=0;c<this.parsers.length;c++){const h=this.parsers[c];h.parse&&h.parse&&await((l=h.testParse)==null?void 0:l.call(h,i,r,this))&&(i=await h.parse(i,r,this)||i,n.parser=h)}return i})(),n}async load(e,r){this._parsersValidated||this._validateParsers();let n=0;const i={},s=Wd(e),o=qi(e,h=>({src:h})),l=o.length,c=o.map(async h=>{const f=vr.toAbsolute(h.src);if(!i[h.src])try{this.promiseCache[f]||(this.promiseCache[f]=this._getLoadPromiseAndParser(f,h)),i[h.src]=await this.promiseCache[f].promise,r&&r(++n/l)}catch(p){throw delete this.promiseCache[f],delete i[h.src],new Error(`[Loader.load] Failed to load ${f}.
${p}`)}});return await Promise.all(c),s?i[o[0].src]:i}async unload(e){const r=qi(e,n=>({src:n})).map(async n=>{var o,l;const i=vr.toAbsolute(n.src),s=this.promiseCache[i];if(s){const c=await s.promise;(l=(o=s.parser)==null?void 0:o.unload)==null||l.call(o,c,n,this),delete this.promiseCache[i]}});await Promise.all(r)}_validateParsers(){this._parsersValidated=!0,this._parserHash=this._parsers.filter(e=>e.name).reduce((e,r)=>(e[r.name]&&console.warn(`[Assets] loadParser name conflict "${r.name}"`),{...e,[r.name]:r}),{})}}var pi=(t=>(t[t.Low=0]="Low",t[t.Normal=1]="Normal",t[t.High=2]="High",t))(pi||{});const sD=".json",oD="application/json",aD={extension:{type:ce.LoadParser,priority:pi.Low},name:"loadJson",test(t){return Wu(t,oD)||Po(t,sD)},async load(t){return await(await le.ADAPTER.fetch(t)).json()}};xe.add(aD);const lD=".txt",uD="text/plain",cD={name:"loadTxt",extension:{type:ce.LoadParser,priority:pi.Low},test(t){return Wu(t,uD)||Po(t,lD)},async load(t){return await(await le.ADAPTER.fetch(t)).text()}};xe.add(cD);const hD=["normal","bold","100","200","300","400","500","600","700","800","900"],dD=[".ttf",".otf",".woff",".woff2"],fD=["font/ttf","font/otf","font/woff","font/woff2"],pD=/^(--|-?[A-Z_])[0-9A-Z_-]*$/i;function mD(t){const e=vr.extname(t),r=vr.basename(t,e).replace(/(-|_)/g," ").toLowerCase().split(" ").map(s=>s.charAt(0).toUpperCase()+s.slice(1));let n=r.length>0;for(const s of r)if(!s.match(pD)){n=!1;break}let i=r.join(" ");return n||(i=`"${i.replace(/[\\"]/g,"\\$&")}"`),i}const gD={extension:{type:ce.LoadParser,priority:pi.Low},name:"loadWebFont",test(t){return Wu(t,fD)||Po(t,dD)},async load(t,e){var n,i,s;const r=le.ADAPTER.getFontFaceSet();if(r){const o=[],l=((n=e.data)==null?void 0:n.family)??mD(t),c=((s=(i=e.data)==null?void 0:i.weights)==null?void 0:s.filter(f=>hD.includes(f)))??["normal"],h=e.data??{};for(let f=0;f<c.length;f++){const p=c[f],m=new FontFace(l,`url(${encodeURI(t)})`,{...h,weight:p});await m.load(),r.add(m),o.push(m)}return o.length===1?o[0]:o}return console.warn("[loadWebFont] FontFace API is not supported. Skipping loading font"),null},unload(t){(Array.isArray(t)?t:[t]).forEach(e=>le.ADAPTER.getFontFaceSet().delete(e))}};xe.add(gD);let FT=0,py;const vD="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mP8/x8AAwMCAO+ip1sAAAAASUVORK5CYII=",yD={id:"checkImageBitmap",code:`
    async function checkImageBitmap()
    {
        try
        {
            if (typeof createImageBitmap !== 'function') return false;

            const response = await fetch('${vD}');
            const imageBlob =  await response.blob();
            const imageBitmap = await createImageBitmap(imageBlob);

            return imageBitmap.width === 1 && imageBitmap.height === 1;
        }
        catch (e)
        {
            return false;
        }
    }
    checkImageBitmap().then((result) => { self.postMessage(result); });
    `},_D={id:"loadImageBitmap",code:`
    async function loadImageBitmap(url)
    {
        const response = await fetch(url);

        if (!response.ok)
        {
            throw new Error(\`[WorkerManager.loadImageBitmap] Failed to fetch \${url}: \`
                + \`\${response.status} \${response.statusText}\`);
        }

        const imageBlob =  await response.blob();
        const imageBitmap = await createImageBitmap(imageBlob);

        return imageBitmap;
    }
    self.onmessage = async (event) =>
    {
        try
        {
            const imageBitmap = await loadImageBitmap(event.data.data[0]);

            self.postMessage({
                data: imageBitmap,
                uuid: event.data.uuid,
                id: event.data.id,
            }, [imageBitmap]);
        }
        catch(e)
        {
            self.postMessage({
                error: e,
                uuid: event.data.uuid,
                id: event.data.id,
            });
        }
    };`};let my;class bD{constructor(){this._initialized=!1,this._createdWorkers=0,this.workerPool=[],this.queue=[],this.resolveHash={}}isImageBitmapSupported(){return this._isImageBitmapSupported!==void 0?this._isImageBitmapSupported:(this._isImageBitmapSupported=new Promise(e=>{const r=URL.createObjectURL(new Blob([yD.code],{type:"application/javascript"})),n=new Worker(r);n.addEventListener("message",i=>{n.terminate(),URL.revokeObjectURL(r),e(i.data)})}),this._isImageBitmapSupported)}loadImageBitmap(e){return this._run("loadImageBitmap",[e])}async _initWorkers(){this._initialized||(this._initialized=!0)}getWorker(){py===void 0&&(py=navigator.hardwareConcurrency||4);let e=this.workerPool.pop();return!e&&this._createdWorkers<py&&(my||(my=URL.createObjectURL(new Blob([_D.code],{type:"application/javascript"}))),this._createdWorkers++,e=new Worker(my),e.addEventListener("message",r=>{this.complete(r.data),this.returnWorker(r.target),this.next()})),e}returnWorker(e){this.workerPool.push(e)}complete(e){e.error!==void 0?this.resolveHash[e.uuid].reject(e.error):this.resolveHash[e.uuid].resolve(e.data),this.resolveHash[e.uuid]=null}async _run(e,r){await this._initWorkers();const n=new Promise((i,s)=>{this.queue.push({id:e,arguments:r,resolve:i,reject:s})});return this.next(),n}next(){if(!this.queue.length)return;const e=this.getWorker();if(!e)return;const r=this.queue.pop(),n=r.id;this.resolveHash[FT]={resolve:r.resolve,reject:r.reject},e.postMessage({data:r.arguments,uuid:FT++,id:n})}}const UT=new bD;function $d(t,e,r){const n=new ue(t);return n.baseTexture.on("dispose",()=>{delete e.promiseCache[r]}),n}const xD=[".jpeg",".jpg",".png",".webp",".avif"],wD=["image/jpeg","image/png","image/webp","image/avif"];async function ED(t){const e=await le.ADAPTER.fetch(t);if(!e.ok)throw new Error(`[loadImageBitmap] Failed to fetch ${t}: ${e.status} ${e.statusText}`);const r=await e.blob();return await createImageBitmap(r)}const Vd={name:"loadTextures",extension:{type:ce.LoadParser,priority:pi.High},config:{preferWorkers:!0,preferCreateImageBitmap:!0,crossOrigin:"anonymous"},test(t){return Wu(t,wD)||Po(t,xD)},async load(t,e,r){let n=null;globalThis.createImageBitmap&&this.config.preferCreateImageBitmap?this.config.preferWorkers&&await UT.isImageBitmapSupported()?n=await UT.loadImageBitmap(t):n=await ED(t):n=await new Promise(s=>{n=new Image,n.crossOrigin=this.config.crossOrigin,n.src=t,n.complete?s(n):n.onload=()=>{s(n)}});const i=new Ie(n,{resolution:ks(t),...e.data});return i.resource.src=t,$d(i,r,t)},unload(t){t.destroy(!0)}};xe.add(Vd);const TD=".svg",SD="image/svg+xml",AD={extension:{type:ce.LoadParser,priority:pi.High},name:"loadSVG",test(t){return Wu(t,SD)||Po(t,TD)},async testParse(t){return zu.test(t)},async parse(t,e,r){var s;const n=new zu(t,(s=e==null?void 0:e.data)==null?void 0:s.resourceOptions);await n.load();const i=new Ie(n,{resolution:ks(t),...e==null?void 0:e.data});return i.resource.src=t,$d(i,r,t)},async load(t,e){return(await le.ADAPTER.fetch(t)).text()},unload:Vd.unload};xe.add(AD);class CD{constructor(){this._defaultBundleIdentifierOptions={connector:"-",createBundleAssetId:(e,r)=>`${e}${this._bundleIdConnector}${r}`,extractAssetIdFromBundle:(e,r)=>r.replace(`${e}${this._bundleIdConnector}`,"")},this._bundleIdConnector=this._defaultBundleIdentifierOptions.connector,this._createBundleAssetId=this._defaultBundleIdentifierOptions.createBundleAssetId,this._extractAssetIdFromBundle=this._defaultBundleIdentifierOptions.extractAssetIdFromBundle,this._assetMap={},this._preferredOrder=[],this._parsers=[],this._resolverHash={},this._bundles={}}setBundleIdentifier(e){if(this._bundleIdConnector=e.connector??this._bundleIdConnector,this._createBundleAssetId=e.createBundleAssetId??this._createBundleAssetId,this._extractAssetIdFromBundle=e.extractAssetIdFromBundle??this._extractAssetIdFromBundle,this._extractAssetIdFromBundle("foo",this._createBundleAssetId("foo","bar"))!=="bar")throw new Error("[Resolver] GenerateBundleAssetId are not working correctly")}prefer(...e){e.forEach(r=>{this._preferredOrder.push(r),r.priority||(r.priority=Object.keys(r.params))}),this._resolverHash={}}set basePath(e){this._basePath=e}get basePath(){return this._basePath}set rootPath(e){this._rootPath=e}get rootPath(){return this._rootPath}get parsers(){return this._parsers}reset(){this.setBundleIdentifier(this._defaultBundleIdentifierOptions),this._assetMap={},this._preferredOrder=[],this._resolverHash={},this._rootPath=null,this._basePath=null,this._manifest=null,this._bundles={},this._defaultSearchParams=null}setDefaultSearchParams(e){if(typeof e=="string")this._defaultSearchParams=e;else{const r=e;this._defaultSearchParams=Object.keys(r).map(n=>`${encodeURIComponent(n)}=${encodeURIComponent(r[n])}`).join("&")}}addManifest(e){this._manifest&&console.warn("[Resolver] Manifest already exists, this will be overwritten"),this._manifest=e,e.bundles.forEach(r=>{this.addBundle(r.name,r.assets)})}addBundle(e,r){const n=[];Array.isArray(r)?r.forEach(i=>{if(typeof i.name=="string"){const s=this._createBundleAssetId(e,i.name);n.push(s),this.add([i.name,s],i.srcs,i.data)}else{const s=i.name.map(o=>this._createBundleAssetId(e,o));s.forEach(o=>{n.push(o)}),this.add([...i.name,...s],i.srcs)}}):Object.keys(r).forEach(i=>{n.push(this._createBundleAssetId(e,i)),this.add([i,this._createBundleAssetId(e,i)],r[i])}),this._bundles[e]=n}add(e,r,n){const i=qi(e);i.forEach(o=>{this.hasKey(o)&&console.warn(`[Resolver] already has key: ${o} overwriting`)}),Array.isArray(r)||(typeof r=="string"?r=rD(r):r=[r]);const s=r.map(o=>{let l=o;if(typeof o=="string"){let c=!1;for(let h=0;h<this._parsers.length;h++){const f=this._parsers[h];if(f.test(o)){l=f.parse(o),c=!0;break}}c||(l={src:o})}return l.format||(l.format=l.src.split(".").pop()),l.alias||(l.alias=i),(this._basePath||this._rootPath)&&(l.src=vr.toAbsolute(l.src,this._basePath,this._rootPath)),l.src=this._appendDefaultSearchParams(l.src),l.data=l.data??n,l});i.forEach(o=>{this._assetMap[o]=s})}resolveBundle(e){const r=Wd(e);e=qi(e);const n={};return e.forEach(i=>{const s=this._bundles[i];if(s){const o=this.resolve(s),l={};for(const c in o){const h=o[c];l[this._extractAssetIdFromBundle(i,c)]=h}n[i]=l}}),r?n[e[0]]:n}resolveUrl(e){const r=this.resolve(e);if(typeof e!="string"){const n={};for(const i in r)n[i]=r[i].src;return n}return r.src}resolve(e){const r=Wd(e);e=qi(e);const n={};return e.forEach(i=>{if(!this._resolverHash[i])if(this._assetMap[i]){let s=this._assetMap[i];const o=this._getPreferredOrder(s),l=s[0];o==null||o.priority.forEach(c=>{o.params[c].forEach(h=>{const f=s.filter(p=>p[c]?p[c]===h:!1);f.length&&(s=f)})}),this._resolverHash[i]=s[0]??l}else{let s=i;(this._basePath||this._rootPath)&&(s=vr.toAbsolute(s,this._basePath,this._rootPath)),s=this._appendDefaultSearchParams(s),this._resolverHash[i]={src:s}}n[i]=this._resolverHash[i]}),r?n[e[0]]:n}hasKey(e){return!!this._assetMap[e]}hasBundle(e){return!!this._bundles[e]}_getPreferredOrder(e){for(let r=0;r<e.length;r++){const n=e[0],i=this._preferredOrder.find(s=>s.params.format.includes(n.format));if(i)return i}return this._preferredOrder[0]}_appendDefaultSearchParams(e){if(!this._defaultSearchParams)return e;const r=/\?/.test(e)?"&":"?";return`${e}${r}${this._defaultSearchParams}`}}class PD{constructor(){this._detections=[],this._initialized=!1,this.resolver=new CD,this.loader=new iD,this.cache=$u,this._backgroundLoader=new tD(this.loader),this._backgroundLoader.active=!0,this.reset()}async init(e={}){var s,o,l;if(this._initialized){console.warn("[Assets]AssetManager already initialized, did you load before calling this Asset.init()?");return}if(this._initialized=!0,e.defaultSearchParams&&this.resolver.setDefaultSearchParams(e.defaultSearchParams),e.basePath&&(this.resolver.basePath=e.basePath),e.bundleIdentifier&&this.resolver.setBundleIdentifier(e.bundleIdentifier),e.manifest){let c=e.manifest;typeof c=="string"&&(c=await this.load(c)),this.resolver.addManifest(c)}const r=((s=e.texturePreference)==null?void 0:s.resolution)??1,n=typeof r=="number"?[r]:r;let i=[];if((o=e.texturePreference)!=null&&o.format){const c=(l=e.texturePreference)==null?void 0:l.format;i=typeof c=="string"?[c]:c;for(const h of this._detections)await h.test()||(i=await h.remove(i))}else for(const c of this._detections)await c.test()&&(i=await c.add(i));this.resolver.prefer({params:{format:i,resolution:n}}),e.preferences&&this.setPreferences(e.preferences)}add(e,r,n){this.resolver.add(e,r,n)}async load(e,r){this._initialized||await this.init();const n=Wd(e),i=qi(e).map(l=>typeof l!="string"?(this.resolver.add(l.src,l),l.src):(this.resolver.hasKey(l)||this.resolver.add(l,l),l)),s=this.resolver.resolve(i),o=await this._mapLoadToResolve(s,r);return n?o[i[0]]:o}addBundle(e,r){this.resolver.addBundle(e,r)}async loadBundle(e,r){this._initialized||await this.init();let n=!1;typeof e=="string"&&(n=!0,e=[e]);const i=this.resolver.resolveBundle(e),s={},o=Object.keys(i);let l=0,c=0;const h=()=>{r==null||r(++l/c)},f=o.map(p=>{const m=i[p];return c+=Object.keys(m).length,this._mapLoadToResolve(m,h).then(y=>{s[p]=y})});return await Promise.all(f),n?s[e[0]]:s}async backgroundLoad(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolve(e);this._backgroundLoader.add(Object.values(r))}async backgroundLoadBundle(e){this._initialized||await this.init(),typeof e=="string"&&(e=[e]);const r=this.resolver.resolveBundle(e);Object.values(r).forEach(n=>{this._backgroundLoader.add(Object.values(n))})}reset(){this.resolver.reset(),this.loader.reset(),this.cache.reset(),this._initialized=!1}get(e){if(typeof e=="string")return $u.get(e);const r={};for(let n=0;n<e.length;n++)r[n]=$u.get(e[n]);return r}async _mapLoadToResolve(e,r){const n=Object.values(e),i=Object.keys(e);this._backgroundLoader.active=!1;const s=await this.loader.load(n,r);this._backgroundLoader.active=!0;const o={};return n.forEach((l,c)=>{const h=s[l.src],f=[l.src];l.alias&&f.push(...l.alias),o[i[c]]=h,$u.set(f,h)}),o}async unload(e){this._initialized||await this.init();const r=qi(e).map(i=>typeof i!="string"?i.src:i),n=this.resolver.resolve(r);await this._unloadFromResolved(n)}async unloadBundle(e){this._initialized||await this.init(),e=qi(e);const r=this.resolver.resolveBundle(e),n=Object.keys(r).map(i=>this._unloadFromResolved(r[i]));await Promise.all(n)}async _unloadFromResolved(e){const r=Object.values(e);r.forEach(n=>{$u.remove(n.src)}),await this.loader.unload(r)}get detections(){return this._detections}get preferWorkers(){return Vd.config.preferWorkers}set preferWorkers(e){Fe("7.2.0","Assets.prefersWorkers is deprecated, use Assets.setPreferences({ preferWorkers: true }) instead."),this.setPreferences({preferWorkers:e})}setPreferences(e){this.loader.parsers.forEach(r=>{r.config&&Object.keys(r.config).filter(n=>n in e).forEach(n=>{r.config[n]=e[n]})})}}const Xd=new PD;xe.handleByList(ce.LoadParser,Xd.loader.parsers).handleByList(ce.ResolveParser,Xd.resolver.parsers).handleByList(ce.CacheParser,Xd.cache.parsers).handleByList(ce.DetectionParser,Xd.detections);const RD={extension:ce.CacheParser,test:t=>Array.isArray(t)&&t.every(e=>e instanceof ue),getCacheableAssets:(t,e)=>{const r={};return t.forEach(n=>{e.forEach((i,s)=>{r[n+(s===0?"":s+1)]=i})}),r}};xe.add(RD);const ID={extension:{type:ce.DetectionParser,priority:1},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAAB0AAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAIAAAACAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQ0MAAAAABNjb2xybmNseAACAAIAAYAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAACVtZGF0EgAKCBgANogQEAwgMg8f8D///8WfhwB8+ErK42A=",e=await le.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"avif"],remove:async t=>t.filter(e=>e!=="avif")};xe.add(ID);const kD={extension:{type:ce.DetectionParser,priority:0},test:async()=>{if(!globalThis.createImageBitmap)return!1;const t="data:image/webp;base64,UklGRh4AAABXRUJQVlA4TBEAAAAvAAAAAAfQ//73v/+BiOh/AAA=",e=await le.ADAPTER.fetch(t).then(r=>r.blob());return createImageBitmap(e).then(()=>!0,()=>!1)},add:async t=>[...t,"webp"],remove:async t=>t.filter(e=>e!=="webp")};xe.add(kD);const zT=["png","jpg","jpeg"],MD={extension:{type:ce.DetectionParser,priority:-1},test:()=>Promise.resolve(!0),add:async t=>[...t,...zT],remove:async t=>t.filter(e=>!zT.includes(e))};xe.add(MD);const ND={extension:ce.ResolveParser,test:Vd.test,parse:t=>{var e;return{resolution:parseFloat(((e=le.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:t.split(".").pop(),src:t}}};xe.add(ND);const OD=[".xml",".fnt"],DD={extension:{type:ce.LoadParser,priority:pi.Normal},name:"loadBitmapFont",test(t){return OD.includes(vr.extname(t).toLowerCase())},async testParse(t){return jd.test(t)||cy.test(t)},async parse(t,e,r){const n=jd.test(t)?jd.parse(t):cy.parse(t),{src:i}=e,{page:s}=n,o=[];for(let h=0;h<s.length;++h){const f=s[h].file;let p=vr.join(vr.dirname(i),f);p=fy(p,i),o.push(p)}const l=await r.load(o),c=o.map(h=>l[h]);return Dr.install(n,c,!0)},async load(t,e){return(await le.ADAPTER.fetch(t)).text()},unload(t){t.destroy()}};xe.add(DD);const Yd={build(t){const e=t.points;let r,n,i,s,o,l;if(t.type===or.CIRC){const _=t.shape;r=_.x,n=_.y,o=l=_.radius,i=s=0}else if(t.type===or.ELIP){const _=t.shape;r=_.x,n=_.y,o=_.width,l=_.height,i=s=0}else{const _=t.shape,w=_.width/2,A=_.height/2;r=_.x+w,n=_.y+A,o=l=Math.max(0,Math.min(_.radius,Math.min(w,A))),i=w-o,s=A-l}if(!(o>=0&&l>=0&&i>=0&&s>=0)){e.length=0;return}const c=Math.ceil(2.3*Math.sqrt(o+l)),h=c*8+(i?4:0)+(s?4:0);if(e.length=h,h===0)return;if(c===0){e.length=8,e[0]=e[6]=r+i,e[1]=e[3]=n+s,e[2]=e[4]=r-i,e[5]=e[7]=n-s;return}let f=0,p=c*4+(i?2:0)+2,m=p,y=h;{const _=i+o,w=s,A=r+_,E=r-_,x=n+w;if(e[f++]=A,e[f++]=x,e[--p]=x,e[--p]=E,s){const S=n-w;e[m++]=E,e[m++]=S,e[--y]=S,e[--y]=A}}for(let _=1;_<c;_++){const w=Math.PI/2*(_/c),A=i+Math.cos(w)*o,E=s+Math.sin(w)*l,x=r+A,S=r-A,T=n+E,R=n-E;e[f++]=x,e[f++]=T,e[--p]=T,e[--p]=S,e[m++]=S,e[m++]=R,e[--y]=R,e[--y]=x}{const _=i,w=s+l,A=r+_,E=r-_,x=n+w,S=n-w;e[f++]=A,e[f++]=x,e[--y]=S,e[--y]=A,i&&(e[f++]=E,e[f++]=x,e[--y]=S,e[--y]=E)}},triangulate(t,e){const r=t.points,n=e.points,i=e.indices;if(r.length===0)return;let s=n.length/2;const o=s;let l,c;if(t.type!==or.RREC){const f=t.shape;l=f.x,c=f.y}else{const f=t.shape;l=f.x+f.width/2,c=f.y+f.height/2}const h=t.matrix;n.push(t.matrix?h.a*l+h.c*c+h.tx:l,t.matrix?h.b*l+h.d*c+h.ty:c),s++,n.push(r[0],r[1]);for(let f=2;f<r.length;f+=2)n.push(r[f],r[f+1]),i.push(s++,o,s);i.push(o+1,o,s)}};function jT(t,e=!1){const r=t.length;if(r<6)return;let n=0;for(let i=0,s=t[r-2],o=t[r-1];i<r;i+=2){const l=t[i],c=t[i+1];n+=(l-s)*(c+o),s=l,o=c}if(!e&&n>0||e&&n<=0){const i=r/2;for(let s=i+i%2;s<r;s+=2){const o=r-s-2,l=r-s-1,c=s,h=s+1;[t[o],t[c]]=[t[c],t[o]],[t[l],t[h]]=[t[h],t[l]]}}}const HT={build(t){t.points=t.shape.points.slice()},triangulate(t,e){let r=t.points;const n=t.holes,i=e.points,s=e.indices;if(r.length>=6){jT(r,!1);const o=[];for(let h=0;h<n.length;h++){const f=n[h];jT(f.points,!0),o.push(r.length/2),r=r.concat(f.points)}const l=VI(r,o,2);if(!l)return;const c=i.length/2;for(let h=0;h<l.length;h+=3)s.push(l[h]+c),s.push(l[h+1]+c),s.push(l[h+2]+c);for(let h=0;h<r.length;h++)i.push(r[h])}}},LD={build(t){const e=t.shape,r=e.x,n=e.y,i=e.width,s=e.height,o=t.points;o.length=0,i>=0&&s>=0&&o.push(r,n,r+i,n,r+i,n+s,r,n+s)},triangulate(t,e){const r=t.points,n=e.points;if(r.length===0)return;const i=n.length/2;n.push(r[0],r[1],r[2],r[3],r[6],r[7],r[4],r[5]),e.indices.push(i,i+1,i+2,i+1,i+2,i+3)}},BD={build(t){Yd.build(t)},triangulate(t,e){Yd.triangulate(t,e)}};var Hn=(t=>(t.MITER="miter",t.BEVEL="bevel",t.ROUND="round",t))(Hn||{}),Ro=(t=>(t.BUTT="butt",t.ROUND="round",t.SQUARE="square",t))(Ro||{});const Qa={adaptive:!0,maxLength:10,minSegments:8,maxSegments:2048,epsilon:1e-4,_segmentsCount(t,e=20){if(!this.adaptive||!t||isNaN(t))return e;let r=Math.ceil(t/this.maxLength);return r<this.minSegments?r=this.minSegments:r>this.maxSegments&&(r=this.maxSegments),r}};class GT{static curveTo(e,r,n,i,s,o){const l=o[o.length-2],c=o[o.length-1]-r,h=l-e,f=i-r,p=n-e,m=Math.abs(c*p-h*f);if(m<1e-8||s===0)return(o[o.length-2]!==e||o[o.length-1]!==r)&&o.push(e,r),null;const y=c*c+h*h,_=f*f+p*p,w=c*f+h*p,A=s*Math.sqrt(y)/m,E=s*Math.sqrt(_)/m,x=A*w/y,S=E*w/_,T=A*p+E*h,R=A*f+E*c,L=h*(E+x),I=c*(E+x),M=p*(A+S),q=f*(A+S),K=Math.atan2(I-R,L-T),J=Math.atan2(q-R,M-T);return{cx:T+e,cy:R+r,radius:s,startAngle:K,endAngle:J,anticlockwise:h*f>p*c}}static arc(e,r,n,i,s,o,l,c,h){const f=l-o,p=Qa._segmentsCount(Math.abs(f)*s,Math.ceil(Math.abs(f)/yd)*40),m=f/(p*2),y=m*2,_=Math.cos(m),w=Math.sin(m),A=p-1,E=A%1/A;for(let x=0;x<=A;++x){const S=x+E*x,T=m+o+y*S,R=Math.cos(T),L=-Math.sin(T);h.push((_*R+w*L)*s+n,(_*-L+w*R)*s+i)}}}class FD{constructor(){this.reset()}begin(e,r,n){this.reset(),this.style=e,this.start=r,this.attribStart=n}end(e,r){this.attribSize=r-this.attribStart,this.size=e-this.start}reset(){this.style=null,this.size=0,this.start=0,this.attribStart=0,this.attribSize=0}}class gy{static curveLength(e,r,n,i,s,o,l,c){let h=0,f=0,p=0,m=0,y=0,_=0,w=0,A=0,E=0,x=0,S=0,T=e,R=r;for(let L=1;L<=10;++L)f=L/10,p=f*f,m=p*f,y=1-f,_=y*y,w=_*y,A=w*e+3*_*f*n+3*y*p*s+m*l,E=w*r+3*_*f*i+3*y*p*o+m*c,x=T-A,S=R-E,T=A,R=E,h+=Math.sqrt(x*x+S*S);return h}static curveTo(e,r,n,i,s,o,l){const c=l[l.length-2],h=l[l.length-1];l.length-=2;const f=Qa._segmentsCount(gy.curveLength(c,h,e,r,n,i,s,o));let p=0,m=0,y=0,_=0,w=0;l.push(c,h);for(let A=1,E=0;A<=f;++A)E=A/f,p=1-E,m=p*p,y=m*p,_=E*E,w=_*E,l.push(y*c+3*m*E*e+3*p*_*n+w*s,y*h+3*m*E*r+3*p*_*i+w*o)}}function WT(t,e,r,n,i,s,o,l){const c=t-r*i,h=e-n*i,f=t+r*s,p=e+n*s;let m,y;o?(m=n,y=-r):(m=-n,y=r);const _=c+m,w=h+y,A=f+m,E=p+y;return l.push(_,w,A,E),2}function Io(t,e,r,n,i,s,o,l){const c=r-t,h=n-e;let f=Math.atan2(c,h),p=Math.atan2(i-t,s-e);l&&f<p?f+=Math.PI*2:!l&&f>p&&(p+=Math.PI*2);let m=f;const y=p-f,_=Math.abs(y),w=Math.sqrt(c*c+h*h),A=(15*_*Math.sqrt(w)/Math.PI>>0)+1,E=y/A;if(m+=E,l){o.push(t,e,r,n);for(let x=1,S=m;x<A;x++,S+=E)o.push(t,e,t+Math.sin(S)*w,e+Math.cos(S)*w);o.push(t,e,i,s)}else{o.push(r,n,t,e);for(let x=1,S=m;x<A;x++,S+=E)o.push(t+Math.sin(S)*w,e+Math.cos(S)*w,t,e);o.push(i,s,t,e)}return A*2}function UD(t,e){const r=t.shape;let n=t.points||r.points.slice();const i=e.closePointEps;if(n.length===0)return;const s=t.lineStyle,o=new je(n[0],n[1]),l=new je(n[n.length-2],n[n.length-1]),c=r.type!==or.POLY||r.closeStroke,h=Math.abs(o.x-l.x)<i&&Math.abs(o.y-l.y)<i;if(c){n=n.slice(),h&&(n.pop(),n.pop(),l.set(n[n.length-2],n[n.length-1]));const ie=(o.x+l.x)*.5,O=(l.y+o.y)*.5;n.unshift(ie,O),n.push(ie,O)}const f=e.points,p=n.length/2;let m=n.length;const y=f.length/2,_=s.width/2,w=_*_,A=s.miterLimit*s.miterLimit;let E=n[0],x=n[1],S=n[2],T=n[3],R=0,L=0,I=-(x-T),M=E-S,q=0,K=0,J=Math.sqrt(I*I+M*M);I/=J,M/=J,I*=_,M*=_;const V=s.alignment,z=(1-V)*2,W=V*2;c||(s.cap===Ro.ROUND?m+=Io(E-I*(z-W)*.5,x-M*(z-W)*.5,E-I*z,x-M*z,E+I*W,x+M*W,f,!0)+2:s.cap===Ro.SQUARE&&(m+=WT(E,x,I,M,z,W,!0,f))),f.push(E-I*z,x-M*z,E+I*W,x+M*W);for(let ie=1;ie<p-1;++ie){E=n[(ie-1)*2],x=n[(ie-1)*2+1],S=n[ie*2],T=n[ie*2+1],R=n[(ie+1)*2],L=n[(ie+1)*2+1],I=-(x-T),M=E-S,J=Math.sqrt(I*I+M*M),I/=J,M/=J,I*=_,M*=_,q=-(T-L),K=S-R,J=Math.sqrt(q*q+K*K),q/=J,K/=J,q*=_,K*=_;const O=S-E,H=x-T,k=S-R,ee=L-T,oe=O*k+H*ee,ke=H*k-ee*O,pe=ke<0;if(Math.abs(ke)<.001*Math.abs(oe)){f.push(S-I*z,T-M*z,S+I*W,T+M*W),oe>=0&&(s.join===Hn.ROUND?m+=Io(S,T,S-I*z,T-M*z,S-q*z,T-K*z,f,!1)+4:m+=2,f.push(S-q*W,T-K*W,S+q*z,T+K*z));continue}const Ue=(-I+E)*(-M+T)-(-I+S)*(-M+x),Me=(-q+R)*(-K+T)-(-q+S)*(-K+L),Xe=(O*Me-k*Ue)/ke,tt=(ee*Ue-H*Me)/ke,Ht=(Xe-S)*(Xe-S)+(tt-T)*(tt-T),mt=S+(Xe-S)*z,Ne=T+(tt-T)*z,rt=S-(Xe-S)*W,$e=T-(tt-T)*W,Br=Math.min(O*O+H*H,k*k+ee*ee),Qt=pe?z:W,vi=Br+Qt*Qt*w,Do=Ht<=vi;let Xn=s.join;if(Xn===Hn.MITER&&Ht/w>A&&(Xn=Hn.BEVEL),Do)switch(Xn){case Hn.MITER:{f.push(mt,Ne,rt,$e);break}case Hn.BEVEL:{pe?f.push(mt,Ne,S+I*W,T+M*W,mt,Ne,S+q*W,T+K*W):f.push(S-I*z,T-M*z,rt,$e,S-q*z,T-K*z,rt,$e),m+=2;break}case Hn.ROUND:{pe?(f.push(mt,Ne,S+I*W,T+M*W),m+=Io(S,T,S+I*W,T+M*W,S+q*W,T+K*W,f,!0)+4,f.push(mt,Ne,S+q*W,T+K*W)):(f.push(S-I*z,T-M*z,rt,$e),m+=Io(S,T,S-I*z,T-M*z,S-q*z,T-K*z,f,!1)+4,f.push(S-q*z,T-K*z,rt,$e));break}}else{switch(f.push(S-I*z,T-M*z,S+I*W,T+M*W),Xn){case Hn.MITER:{pe?f.push(rt,$e,rt,$e):f.push(mt,Ne,mt,Ne),m+=2;break}case Hn.ROUND:{pe?m+=Io(S,T,S+I*W,T+M*W,S+q*W,T+K*W,f,!0)+2:m+=Io(S,T,S-I*z,T-M*z,S-q*z,T-K*z,f,!1)+2;break}}f.push(S-q*z,T-K*z,S+q*W,T+K*W),m+=2}}E=n[(p-2)*2],x=n[(p-2)*2+1],S=n[(p-1)*2],T=n[(p-1)*2+1],I=-(x-T),M=E-S,J=Math.sqrt(I*I+M*M),I/=J,M/=J,I*=_,M*=_,f.push(S-I*z,T-M*z,S+I*W,T+M*W),c||(s.cap===Ro.ROUND?m+=Io(S-I*(z-W)*.5,T-M*(z-W)*.5,S-I*z,T-M*z,S+I*W,T+M*W,f,!1)+2:s.cap===Ro.SQUARE&&(m+=WT(S,T,I,M,z,W,!1,f)));const ge=e.indices,ve=Qa.epsilon*Qa.epsilon;for(let ie=y;ie<m+y-2;++ie)E=f[ie*2],x=f[ie*2+1],S=f[(ie+1)*2],T=f[(ie+1)*2+1],R=f[(ie+2)*2],L=f[(ie+2)*2+1],!(Math.abs(E*(T-L)+S*(L-x)+R*(x-T))<ve)&&ge.push(ie,ie+1,ie+2)}function zD(t,e){let r=0;const n=t.shape,i=t.points||n.points,s=n.type!==or.POLY||n.closeStroke;if(i.length===0)return;const o=e.points,l=e.indices,c=i.length/2,h=o.length/2;let f=h;for(o.push(i[0],i[1]),r=1;r<c;r++)o.push(i[r*2],i[r*2+1]),l.push(f,f+1),f++;s&&l.push(f,h)}function $T(t,e){t.lineStyle.native?zD(t,e):UD(t,e)}class vy{static curveLength(e,r,n,i,s,o){const l=e-2*n+s,c=r-2*i+o,h=2*n-2*e,f=2*i-2*r,p=4*(l*l+c*c),m=4*(l*h+c*f),y=h*h+f*f,_=2*Math.sqrt(p+m+y),w=Math.sqrt(p),A=2*p*w,E=2*Math.sqrt(y),x=m/w;return(A*_+w*m*(_-E)+(4*y*p-m*m)*Math.log((2*w+x+_)/(x+E)))/(4*A)}static curveTo(e,r,n,i,s){const o=s[s.length-2],l=s[s.length-1],c=Qa._segmentsCount(vy.curveLength(o,l,e,r,n,i));let h=0,f=0;for(let p=1;p<=c;++p){const m=p/c;h=o+(e-o)*m,f=l+(r-l)*m,s.push(h+(e+(n-e)*m-h)*m,f+(r+(i-r)*m-f)*m)}}}const yy={[or.POLY]:HT,[or.CIRC]:Yd,[or.ELIP]:Yd,[or.RECT]:LD,[or.RREC]:BD},VT=[],qd=[];class Kd{constructor(e,r=null,n=null,i=null){this.points=[],this.holes=[],this.shape=e,this.lineStyle=n,this.fillStyle=r,this.matrix=i,this.type=e.type}clone(){return new Kd(this.shape,this.fillStyle,this.lineStyle,this.matrix)}destroy(){this.shape=null,this.holes.length=0,this.holes=null,this.points.length=0,this.points=null,this.lineStyle=null,this.fillStyle=null}}const Ja=new je,XT=class extends LE{constructor(){super(),this.closePointEps=1e-4,this.boundsPadding=0,this.uvsFloat32=null,this.indicesUint16=null,this.batchable=!1,this.points=[],this.colors=[],this.uvs=[],this.indices=[],this.textureIds=[],this.graphicsData=[],this.drawCalls=[],this.batchDirty=-1,this.batches=[],this.dirty=0,this.cacheDirty=-1,this.clearDirty=0,this.shapeIndex=0,this._bounds=new Ld,this.boundsDirty=-1}get bounds(){return this.updateBatches(),this.boundsDirty!==this.dirty&&(this.boundsDirty=this.dirty,this.calculateBounds()),this._bounds}invalidate(){this.boundsDirty=-1,this.dirty++,this.batchDirty++,this.shapeIndex=0,this.points.length=0,this.colors.length=0,this.uvs.length=0,this.indices.length=0,this.textureIds.length=0;for(let t=0;t<this.drawCalls.length;t++)this.drawCalls[t].texArray.clear(),qd.push(this.drawCalls[t]);this.drawCalls.length=0;for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e.reset(),VT.push(e)}this.batches.length=0}clear(){return this.graphicsData.length>0&&(this.invalidate(),this.clearDirty++,this.graphicsData.length=0),this}drawShape(t,e=null,r=null,n=null){const i=new Kd(t,e,r,n);return this.graphicsData.push(i),this.dirty++,this}drawHole(t,e=null){if(!this.graphicsData.length)return null;const r=new Kd(t,null,null,e),n=this.graphicsData[this.graphicsData.length-1];return r.lineStyle=n.lineStyle,n.holes.push(r),this.dirty++,this}destroy(){super.destroy();for(let t=0;t<this.graphicsData.length;++t)this.graphicsData[t].destroy();this.points.length=0,this.points=null,this.colors.length=0,this.colors=null,this.uvs.length=0,this.uvs=null,this.indices.length=0,this.indices=null,this.indexBuffer.destroy(),this.indexBuffer=null,this.graphicsData.length=0,this.graphicsData=null,this.drawCalls.length=0,this.drawCalls=null,this.batches.length=0,this.batches=null,this._bounds=null}containsPoint(t){const e=this.graphicsData;for(let r=0;r<e.length;++r){const n=e[r];if(n.fillStyle.visible&&n.shape&&(n.matrix?n.matrix.applyInverse(t,Ja):Ja.copyFrom(t),n.shape.contains(Ja.x,Ja.y))){let i=!1;if(n.holes){for(let s=0;s<n.holes.length;s++)if(n.holes[s].shape.contains(Ja.x,Ja.y)){i=!0;break}}if(!i)return!0}}return!1}updateBatches(){if(!this.graphicsData.length){this.batchable=!0;return}if(!this.validateBatching())return;this.cacheDirty=this.dirty;const t=this.uvs,e=this.graphicsData;let r=null,n=null;this.batches.length>0&&(r=this.batches[this.batches.length-1],n=r.style);for(let l=this.shapeIndex;l<e.length;l++){this.shapeIndex++;const c=e[l],h=c.fillStyle,f=c.lineStyle;yy[c.type].build(c),c.matrix&&this.transformPoints(c.points,c.matrix),(h.visible||f.visible)&&this.processHoles(c.holes);for(let p=0;p<2;p++){const m=p===0?h:f;if(!m.visible)continue;const y=m.texture.baseTexture,_=this.indices.length,w=this.points.length/2;y.wrapMode=ji.REPEAT,p===0?this.processFill(c):this.processLine(c);const A=this.points.length/2-w;A!==0&&(r&&!this._compareStyles(n,m)&&(r.end(_,w),r=null),r||(r=VT.pop()||new FD,r.begin(m,_,w),this.batches.push(r),n=m),this.addUvs(this.points,t,m.texture,w,A,m.matrix))}}const i=this.indices.length,s=this.points.length/2;if(r&&r.end(i,s),this.batches.length===0){this.batchable=!0;return}const o=s>65535;this.indicesUint16&&this.indices.length===this.indicesUint16.length&&o===this.indicesUint16.BYTES_PER_ELEMENT>2?this.indicesUint16.set(this.indices):this.indicesUint16=o?new Uint32Array(this.indices):new Uint16Array(this.indices),this.batchable=this.isBatchable(),this.batchable?this.packBatches():this.buildDrawCalls()}_compareStyles(t,e){return!(!t||!e||t.texture.baseTexture!==e.texture.baseTexture||t.color+t.alpha!==e.color+e.alpha||!!t.native!=!!e.native)}validateBatching(){if(this.dirty===this.cacheDirty||!this.graphicsData.length)return!1;for(let t=0,e=this.graphicsData.length;t<e;t++){const r=this.graphicsData[t],n=r.fillStyle,i=r.lineStyle;if(n&&!n.texture.baseTexture.valid||i&&!i.texture.baseTexture.valid)return!1}return!0}packBatches(){this.batchDirty++,this.uvsFloat32=new Float32Array(this.uvs);const t=this.batches;for(let e=0,r=t.length;e<r;e++){const n=t[e];for(let i=0;i<n.size;i++){const s=n.start+i;this.indicesUint16[s]=this.indicesUint16[s]-n.attribStart}}}isBatchable(){if(this.points.length>65535*2)return!1;const t=this.batches;for(let e=0;e<t.length;e++)if(t[e].style.native)return!1;return this.points.length<XT.BATCHABLE_SIZE*2}buildDrawCalls(){let t=++Ie._globalBatch;for(let f=0;f<this.drawCalls.length;f++)this.drawCalls[f].texArray.clear(),qd.push(this.drawCalls[f]);this.drawCalls.length=0;const e=this.colors,r=this.textureIds;let n=qd.pop();n||(n=new Hv,n.texArray=new Yv),n.texArray.count=0,n.start=0,n.size=0,n.type=kn.TRIANGLES;let i=0,s=null,o=0,l=!1,c=kn.TRIANGLES,h=0;this.drawCalls.push(n);for(let f=0;f<this.batches.length;f++){const p=this.batches[f],m=8,y=p.style,_=y.texture.baseTexture;l!==!!y.native&&(l=!!y.native,c=l?kn.LINES:kn.TRIANGLES,s=null,i=m,t++),s!==_&&(s=_,_._batchEnabled!==t&&(i===m&&(t++,i=0,n.size>0&&(n=qd.pop(),n||(n=new Hv,n.texArray=new Yv),this.drawCalls.push(n)),n.start=h,n.size=0,n.texArray.count=0,n.type=c),_.touched=1,_._batchEnabled=t,_._batchLocation=i,_.wrapMode=ji.REPEAT,n.texArray.elements[n.texArray.count++]=_,i++)),n.size+=p.size,h+=p.size,o=_._batchLocation,this.addColors(e,y.color,y.alpha,p.attribSize,p.attribStart),this.addTextureIds(r,o,p.attribSize,p.attribStart)}Ie._globalBatch=t,this.packAttributes()}packAttributes(){const t=this.points,e=this.uvs,r=this.colors,n=this.textureIds,i=new ArrayBuffer(t.length*3*4),s=new Float32Array(i),o=new Uint32Array(i);let l=0;for(let c=0;c<t.length/2;c++)s[l++]=t[c*2],s[l++]=t[c*2+1],s[l++]=e[c*2],s[l++]=e[c*2+1],o[l++]=r[c],s[l++]=n[c];this._buffer.update(i),this._indexBuffer.update(this.indicesUint16)}processFill(t){t.holes.length?HT.triangulate(t,this):yy[t.type].triangulate(t,this)}processLine(t){$T(t,this);for(let e=0;e<t.holes.length;e++)$T(t.holes[e],this)}processHoles(t){for(let e=0;e<t.length;e++){const r=t[e];yy[r.type].build(r),r.matrix&&this.transformPoints(r.points,r.matrix)}}calculateBounds(){const t=this._bounds;t.clear(),t.addVertexData(this.points,0,this.points.length),t.pad(this.boundsPadding,this.boundsPadding)}transformPoints(t,e){for(let r=0;r<t.length/2;r++){const n=t[r*2],i=t[r*2+1];t[r*2]=e.a*n+e.c*i+e.tx,t[r*2+1]=e.b*n+e.d*i+e.ty}}addColors(t,e,r,n,i=0){const s=Ye.shared.setValue(e).toLittleEndianNumber(),o=Ye.shared.setValue(s).toPremultiplied(r);t.length=Math.max(t.length,i+n);for(let l=0;l<n;l++)t[i+l]=o}addTextureIds(t,e,r,n=0){t.length=Math.max(t.length,n+r);for(let i=0;i<r;i++)t[n+i]=e}addUvs(t,e,r,n,i,s=null){let o=0;const l=e.length,c=r.frame;for(;o<i;){let f=t[(n+o)*2],p=t[(n+o)*2+1];if(s){const m=s.a*f+s.c*p+s.tx;p=s.b*f+s.d*p+s.ty,f=m}o++,e.push(f/c.width,p/c.height)}const h=r.baseTexture;(c.width<h.width||c.height<h.height)&&this.adjustUvs(e,r,l,i)}adjustUvs(t,e,r,n){const i=e.baseTexture,s=1e-6,o=r+n*2,l=e.frame,c=l.width/i.width,h=l.height/i.height;let f=l.x/l.width,p=l.y/l.height,m=Math.floor(t[r]+s),y=Math.floor(t[r+1]+s);for(let _=r+2;_<o;_+=2)m=Math.min(m,Math.floor(t[_]+s)),y=Math.min(y,Math.floor(t[_+1]+s));f-=m,p-=y;for(let _=r;_<o;_+=2)t[_]=(t[_]+f)*c,t[_+1]=(t[_+1]+p)*h}};let YT=XT;YT.BATCHABLE_SIZE=100;class Qd{constructor(){this.color=16777215,this.alpha=1,this.texture=ue.WHITE,this.matrix=null,this.visible=!1,this.reset()}clone(){const e=new Qd;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e}reset(){this.color=16777215,this.alpha=1,this.texture=ue.WHITE,this.matrix=null,this.visible=!1}destroy(){this.texture=null,this.matrix=null}}class _y extends Qd{constructor(){super(...arguments),this.width=0,this.alignment=.5,this.native=!1,this.cap=Ro.BUTT,this.join=Hn.MITER,this.miterLimit=10}clone(){const e=new _y;return e.color=this.color,e.alpha=this.alpha,e.texture=this.texture,e.matrix=this.matrix,e.visible=this.visible,e.width=this.width,e.alignment=this.alignment,e.native=this.native,e.cap=this.cap,e.join=this.join,e.miterLimit=this.miterLimit,e}reset(){super.reset(),this.color=0,this.alignment=.5,this.width=0,this.native=!1}}const by={},Jd=class extends yr{constructor(t=null){super(),this.shader=null,this.pluginName="batch",this.currentPath=null,this.batches=[],this.batchTint=-1,this.batchDirty=-1,this.vertexData=null,this._fillStyle=new Qd,this._lineStyle=new _y,this._matrix=null,this._holeMode=!1,this.state=Vi.for2d(),this._geometry=t||new YT,this._geometry.refCount++,this._transformID=-1,this._tintColor=new Ye(16777215),this.blendMode=Se.NORMAL}get geometry(){return this._geometry}clone(){return this.finishPoly(),new Jd(this._geometry)}set blendMode(t){this.state.blendMode=t}get blendMode(){return this.state.blendMode}get tint(){return this._tintColor.value}set tint(t){this._tintColor.setValue(t)}get fill(){return this._fillStyle}get line(){return this._lineStyle}lineStyle(t=null,e=0,r,n=.5,i=!1){return typeof t=="number"&&(t={width:t,color:e,alpha:r,alignment:n,native:i}),this.lineTextureStyle(t)}lineTextureStyle(t){const e={width:0,texture:ue.WHITE,color:t!=null&&t.texture?16777215:0,matrix:null,alignment:.5,native:!1,cap:Ro.BUTT,join:Hn.MITER,miterLimit:10};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.width>0&&t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._lineStyle,{visible:r},t)):this._lineStyle.reset(),this}startPoly(){if(this.currentPath){const t=this.currentPath.points,e=this.currentPath.points.length;e>2&&(this.drawShape(this.currentPath),this.currentPath=new Wa,this.currentPath.closeStroke=!1,this.currentPath.points.push(t[e-2],t[e-1]))}else this.currentPath=new Wa,this.currentPath.closeStroke=!1}finishPoly(){this.currentPath&&(this.currentPath.points.length>2?(this.drawShape(this.currentPath),this.currentPath=null):this.currentPath.points.length=0)}moveTo(t,e){return this.startPoly(),this.currentPath.points[0]=t,this.currentPath.points[1]=e,this}lineTo(t,e){this.currentPath||this.moveTo(0,0);const r=this.currentPath.points,n=r[r.length-2],i=r[r.length-1];return(n!==t||i!==e)&&r.push(t,e),this}_initCurve(t=0,e=0){this.currentPath?this.currentPath.points.length===0&&(this.currentPath.points=[t,e]):this.moveTo(t,e)}quadraticCurveTo(t,e,r,n){this._initCurve();const i=this.currentPath.points;return i.length===0&&this.moveTo(0,0),vy.curveTo(t,e,r,n,i),this}bezierCurveTo(t,e,r,n,i,s){return this._initCurve(),gy.curveTo(t,e,r,n,i,s,this.currentPath.points),this}arcTo(t,e,r,n,i){this._initCurve(t,e);const s=this.currentPath.points,o=GT.curveTo(t,e,r,n,i,s);if(o){const{cx:l,cy:c,radius:h,startAngle:f,endAngle:p,anticlockwise:m}=o;this.arc(l,c,h,f,p,m)}return this}arc(t,e,r,n,i,s=!1){if(n===i)return this;if(!s&&i<=n?i+=yd:s&&n<=i&&(n+=yd),i-n===0)return this;const o=t+Math.cos(n)*r,l=e+Math.sin(n)*r,c=this._geometry.closePointEps;let h=this.currentPath?this.currentPath.points:null;if(h){const f=Math.abs(h[h.length-2]-o),p=Math.abs(h[h.length-1]-l);f<c&&p<c||h.push(o,l)}else this.moveTo(o,l),h=this.currentPath.points;return GT.arc(o,l,t,e,r,n,i,s,h),this}beginFill(t=0,e){return this.beginTextureFill({texture:ue.WHITE,color:t,alpha:e})}normalizeColor(t){const e=Ye.shared.setValue(t.color??0);t.color=e.toNumber(),t.alpha??(t.alpha=e.alpha)}beginTextureFill(t){const e={texture:ue.WHITE,color:16777215,matrix:null};t=Object.assign(e,t),this.normalizeColor(t),this.currentPath&&this.startPoly();const r=t.alpha>0;return r?(t.matrix&&(t.matrix=t.matrix.clone(),t.matrix.invert()),Object.assign(this._fillStyle,{visible:r},t)):this._fillStyle.reset(),this}endFill(){return this.finishPoly(),this._fillStyle.reset(),this}drawRect(t,e,r,n){return this.drawShape(new De(t,e,r,n))}drawRoundedRect(t,e,r,n,i){return this.drawShape(new $v(t,e,r,n,i))}drawCircle(t,e,r){return this.drawShape(new Gv(t,e,r))}drawEllipse(t,e,r,n){return this.drawShape(new Wv(t,e,r,n))}drawPolygon(...t){let e,r=!0;const n=t[0];n.points?(r=n.closeStroke,e=n.points):Array.isArray(t[0])?e=t[0]:e=t;const i=new Wa(e);return i.closeStroke=r,this.drawShape(i),this}drawShape(t){return this._holeMode?this._geometry.drawHole(t,this._matrix):this._geometry.drawShape(t,this._fillStyle.clone(),this._lineStyle.clone(),this._matrix),this}clear(){return this._geometry.clear(),this._lineStyle.reset(),this._fillStyle.reset(),this._boundsID++,this._matrix=null,this._holeMode=!1,this.currentPath=null,this}isFastRect(){const t=this._geometry.graphicsData;return t.length===1&&t[0].shape.type===or.RECT&&!t[0].matrix&&!t[0].holes.length&&!(t[0].lineStyle.visible&&t[0].lineStyle.width)}_render(t){this.finishPoly();const e=this._geometry;e.updateBatches(),e.batchable?(this.batchDirty!==e.batchDirty&&this._populateBatches(),this._renderBatched(t)):(t.batch.flush(),this._renderDirect(t))}_populateBatches(){const t=this._geometry,e=this.blendMode,r=t.batches.length;this.batchTint=-1,this._transformID=-1,this.batchDirty=t.batchDirty,this.batches.length=r,this.vertexData=new Float32Array(t.points);for(let n=0;n<r;n++){const i=t.batches[n],s=i.style.color,o=new Float32Array(this.vertexData.buffer,i.attribStart*4*2,i.attribSize*2),l=new Float32Array(t.uvsFloat32.buffer,i.attribStart*4*2,i.attribSize*2),c=new Uint16Array(t.indicesUint16.buffer,i.start*2,i.size),h={vertexData:o,blendMode:e,indices:c,uvs:l,_batchRGB:Ye.shared.setValue(s).toRgbArray(),_tintRGB:s,_texture:i.style.texture,alpha:i.style.alpha,worldAlpha:1};this.batches[n]=h}}_renderBatched(t){if(this.batches.length){t.batch.setObjectRenderer(t.plugins[this.pluginName]),this.calculateVertices(),this.calculateTints();for(let e=0,r=this.batches.length;e<r;e++){const n=this.batches[e];n.worldAlpha=this.worldAlpha*n.alpha,t.plugins[this.pluginName].render(n)}}}_renderDirect(t){const e=this._resolveDirectShader(t),r=this._geometry,n=this.worldAlpha,i=e.uniforms,s=r.drawCalls;i.translationMatrix=this.transform.worldTransform,Ye.shared.setValue(this._tintColor).premultiply(n).toArray(i.tint),t.shader.bind(e),t.geometry.bind(r,e),t.state.set(this.state);for(let o=0,l=s.length;o<l;o++)this._renderDrawCallDirect(t,r.drawCalls[o])}_renderDrawCallDirect(t,e){const{texArray:r,type:n,size:i,start:s}=e,o=r.count;for(let l=0;l<o;l++)t.texture.bind(r.elements[l],l);t.geometry.draw(n,i,s)}_resolveDirectShader(t){let e=this.shader;const r=this.pluginName;if(!e){if(!by[r]){const{maxTextures:n}=t.plugins[r],i=new Int32Array(n);for(let l=0;l<n;l++)i[l]=l;const s={tint:new Float32Array([1,1,1,1]),translationMatrix:new ht,default:Bn.from({uSamplers:i},!0)},o=t.plugins[r]._shader.program;by[r]=new di(o,s)}e=by[r]}return e}_calculateBounds(){this.finishPoly();const t=this._geometry;if(!t.graphicsData.length)return;const{minX:e,minY:r,maxX:n,maxY:i}=t.bounds;this._bounds.addFrame(this.transform,e,r,n,i)}containsPoint(t){return this.worldTransform.applyInverse(t,Jd._TEMP_POINT),this._geometry.containsPoint(Jd._TEMP_POINT)}calculateTints(){if(this.batchTint!==this.tint){this.batchTint=this._tintColor.toNumber();for(let t=0;t<this.batches.length;t++){const e=this.batches[t];e._tintRGB=Ye.shared.setValue(this._tintColor).multiply(e._batchRGB).toLittleEndianNumber()}}}calculateVertices(){const t=this.transform._worldID;if(this._transformID===t)return;this._transformID=t;const e=this.transform.worldTransform,r=e.a,n=e.b,i=e.c,s=e.d,o=e.tx,l=e.ty,c=this._geometry.points,h=this.vertexData;let f=0;for(let p=0;p<c.length;p+=2){const m=c[p],y=c[p+1];h[f++]=r*m+i*y+o,h[f++]=s*y+n*m+l}}closePath(){const t=this.currentPath;return t&&(t.closeStroke=!0,this.finishPoly()),this}setMatrix(t){return this._matrix=t,this}beginHole(){return this.finishPoly(),this._holeMode=!0,this}endHole(){return this.finishPoly(),this._holeMode=!1,this}destroy(t){this._geometry.refCount--,this._geometry.refCount===0&&this._geometry.dispose(),this._matrix=null,this.currentPath=null,this._lineStyle.destroy(),this._lineStyle=null,this._fillStyle.destroy(),this._fillStyle=null,this._geometry=null,this.shader=null,this.vertexData=null,this.batches.length=0,this.batches=null,super.destroy(t)}};let ko=Jd;ko.curves=Qa,ko._TEMP_POINT=new je;class jD extends Gd{constructor(e=100,r=100,n=10,i=10){super(),this.segWidth=n,this.segHeight=i,this.width=e,this.height=r,this.build()}build(){const e=this.segWidth*this.segHeight,r=[],n=[],i=[],s=this.segWidth-1,o=this.segHeight-1,l=this.width/s,c=this.height/o;for(let f=0;f<e;f++){const p=f%this.segWidth,m=f/this.segWidth|0;r.push(p*l,m*c),n.push(p/s,m/o)}const h=s*o;for(let f=0;f<h;f++){const p=f%s,m=f/s|0,y=m*this.segWidth+p,_=m*this.segWidth+p+1,w=(m+1)*this.segWidth+p,A=(m+1)*this.segWidth+p+1;i.push(y,_,w,_,A,w)}this.buffers[0].data=new Float32Array(r),this.buffers[1].data=new Float32Array(n),this.indexBuffer.data=new Uint16Array(i),this.buffers[0].update(),this.buffers[1].update(),this.indexBuffer.update()}}class HD extends Gd{constructor(e=200,r,n=0){super(new Float32Array(r.length*4),new Float32Array(r.length*4),new Uint16Array((r.length-1)*6)),this.points=r,this._width=e,this.textureScale=n,this.build()}get width(){return this._width}build(){const e=this.points;if(!e)return;const r=this.getBuffer("aVertexPosition"),n=this.getBuffer("aTextureCoord"),i=this.getIndex();if(e.length<1)return;r.data.length/4!==e.length&&(r.data=new Float32Array(e.length*4),n.data=new Float32Array(e.length*4),i.data=new Uint16Array((e.length-1)*6));const s=n.data,o=i.data;s[0]=0,s[1]=0,s[2]=0,s[3]=1;let l=0,c=e[0];const h=this._width*this.textureScale,f=e.length;for(let m=0;m<f;m++){const y=m*4;if(this.textureScale>0){const _=c.x-e[m].x,w=c.y-e[m].y,A=Math.sqrt(_*_+w*w);c=e[m],l+=A/h}else l=m/(f-1);s[y]=l,s[y+1]=0,s[y+2]=l,s[y+3]=1}let p=0;for(let m=0;m<f-1;m++){const y=m*2;o[p++]=y,o[p++]=y+1,o[p++]=y+2,o[p++]=y+2,o[p++]=y+1,o[p++]=y+3}n.update(),i.update(),this.updateVertices()}updateVertices(){const e=this.points;if(e.length<1)return;let r=e[0],n,i=0,s=0;const o=this.buffers[0].data,l=e.length,c=this.textureScale>0?this.textureScale*this._width/2:this._width/2;for(let h=0;h<l;h++){const f=e[h],p=h*4;h<e.length-1?n=e[h+1]:n=f,s=-(n.x-r.x),i=n.y-r.y;const m=Math.sqrt(i*i+s*s);m<1e-6?(i=0,s=0):(i/=m,s/=m,i*=c,s*=c),o[p]=f.x+i,o[p+1]=f.y+s,o[p+2]=f.x-i,o[p+3]=f.y-s,r=f}this.buffers[0].update()}update(){this.textureScale>0?this.build():this.updateVertices()}}class GD extends Ka{constructor(e,r,n){const i=new jD(e.width,e.height,r,n),s=new Gu(ue.WHITE);super(i,s),this.texture=e,this.autoResize=!0}textureUpdated(){this._textureID=this.shader.texture._updateID;const e=this.geometry,{width:r,height:n}=this.shader.texture;this.autoResize&&(e.width!==r||e.height!==n)&&(e.width=this.shader.texture.width,e.height=this.shader.texture.height,e.build())}set texture(e){this.shader.texture!==e&&(this.shader.texture=e,this._textureID=-1,e.baseTexture.valid?this.textureUpdated():e.once("update",this.textureUpdated,this))}get texture(){return this.shader.texture}_render(e){this._textureID!==this.shader.texture._updateID&&this.textureUpdated(),super._render(e)}destroy(e){this.shader.texture.off("update",this.textureUpdated,this),super.destroy(e)}}const Zd=10;class WD extends GD{constructor(e,r,n,i,s){var o,l,c,h;super(ue.WHITE,4,4),this._origWidth=e.orig.width,this._origHeight=e.orig.height,this._width=this._origWidth,this._height=this._origHeight,this._leftWidth=r??((o=e.defaultBorders)==null?void 0:o.left)??Zd,this._rightWidth=i??((l=e.defaultBorders)==null?void 0:l.right)??Zd,this._topHeight=n??((c=e.defaultBorders)==null?void 0:c.top)??Zd,this._bottomHeight=s??((h=e.defaultBorders)==null?void 0:h.bottom)??Zd,this.texture=e}textureUpdated(){this._textureID=this.shader.texture._updateID,this._refresh()}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}updateHorizontalVertices(){const e=this.vertices,r=this._getMinScale();e[9]=e[11]=e[13]=e[15]=this._topHeight*r,e[17]=e[19]=e[21]=e[23]=this._height-this._bottomHeight*r,e[25]=e[27]=e[29]=e[31]=this._height}updateVerticalVertices(){const e=this.vertices,r=this._getMinScale();e[2]=e[10]=e[18]=e[26]=this._leftWidth*r,e[4]=e[12]=e[20]=e[28]=this._width-this._rightWidth*r,e[6]=e[14]=e[22]=e[30]=this._width}_getMinScale(){const e=this._leftWidth+this._rightWidth,r=this._width>e?1:this._width/e,n=this._topHeight+this._bottomHeight,i=this._height>n?1:this._height/n;return Math.min(r,i)}get width(){return this._width}set width(e){this._width=e,this._refresh()}get height(){return this._height}set height(e){this._height=e,this._refresh()}get leftWidth(){return this._leftWidth}set leftWidth(e){this._leftWidth=e,this._refresh()}get rightWidth(){return this._rightWidth}set rightWidth(e){this._rightWidth=e,this._refresh()}get topHeight(){return this._topHeight}set topHeight(e){this._topHeight=e,this._refresh()}get bottomHeight(){return this._bottomHeight}set bottomHeight(e){this._bottomHeight=e,this._refresh()}_refresh(){const e=this.texture,r=this.geometry.buffers[1].data;this._origWidth=e.orig.width,this._origHeight=e.orig.height;const n=1/this._origWidth,i=1/this._origHeight;r[0]=r[8]=r[16]=r[24]=0,r[1]=r[3]=r[5]=r[7]=0,r[6]=r[14]=r[22]=r[30]=1,r[25]=r[27]=r[29]=r[31]=1,r[2]=r[10]=r[18]=r[26]=n*this._leftWidth,r[4]=r[12]=r[20]=r[28]=1-n*this._rightWidth,r[9]=r[11]=r[13]=r[15]=i*this._topHeight,r[17]=r[19]=r[21]=r[23]=1-i*this._bottomHeight,this.updateHorizontalVertices(),this.updateVerticalVertices(),this.geometry.buffers[0].update(),this.geometry.buffers[1].update()}}class $D extends Ka{constructor(e=ue.EMPTY,r,n,i,s){const o=new Gd(r,n,i);o.getBuffer("aVertexPosition").static=!1;const l=new Gu(e);super(o,l,null,s),this.autoUpdate=!0}get vertices(){return this.geometry.getBuffer("aVertexPosition").data}set vertices(e){this.geometry.getBuffer("aVertexPosition").data=e}_render(e){this.autoUpdate&&this.geometry.getBuffer("aVertexPosition").update(),super._render(e)}}class VD extends Ka{constructor(e,r,n=0){const i=new HD(e.height,r,n),s=new Gu(e);n>0&&(e.baseTexture.wrapMode=ji.REPEAT),super(i,s),this.autoUpdate=!0}_render(e){const r=this.geometry;(this.autoUpdate||r._width!==this.shader.texture.height)&&(r._width=this.shader.texture.height,r.update()),super._render(e)}}class XD extends yr{constructor(e=1500,r,n=16384,i=!1){super();const s=16384;n>s&&(n=s),this._properties=[!1,!0,!1,!1,!1],this._maxSize=e,this._batchSize=n,this._buffers=null,this._bufferUpdateIDs=[],this._updateID=0,this.interactiveChildren=!1,this.blendMode=Se.NORMAL,this.autoResize=i,this.roundPixels=!0,this.baseTexture=null,this.setProperties(r),this._tintColor=new Ye(0),this.tintRgb=new Float32Array(3),this.tint=16777215}setProperties(e){e&&(this._properties[0]="vertices"in e||"scale"in e?!!e.vertices||!!e.scale:this._properties[0],this._properties[1]="position"in e?!!e.position:this._properties[1],this._properties[2]="rotation"in e?!!e.rotation:this._properties[2],this._properties[3]="uvs"in e?!!e.uvs:this._properties[3],this._properties[4]="tint"in e||"alpha"in e?!!e.tint||!!e.alpha:this._properties[4])}updateTransform(){this.displayObjectUpdateTransform()}get tint(){return this._tintColor.value}set tint(e){this._tintColor.setValue(e),this._tintColor.toRgbArray(this.tintRgb)}render(e){!this.visible||this.worldAlpha<=0||!this.children.length||!this.renderable||(this.baseTexture||(this.baseTexture=this.children[0]._texture.baseTexture,this.baseTexture.valid||this.baseTexture.once("update",()=>this.onChildrenChange(0))),e.batch.setObjectRenderer(e.plugins.particle),e.plugins.particle.render(this))}onChildrenChange(e){const r=Math.floor(e/this._batchSize);for(;this._bufferUpdateIDs.length<r;)this._bufferUpdateIDs.push(0);this._bufferUpdateIDs[r]=++this._updateID}dispose(){if(this._buffers){for(let e=0;e<this._buffers.length;++e)this._buffers[e].destroy();this._buffers=null}}destroy(e){super.destroy(e),this.dispose(),this._properties=null,this._buffers=null,this._bufferUpdateIDs=null}}class qT{constructor(e,r,n){this.geometry=new Ms,this.indexBuffer=null,this.size=n,this.dynamicProperties=[],this.staticProperties=[];for(let i=0;i<e.length;++i){let s=e[i];s={attributeName:s.attributeName,size:s.size,uploadFunction:s.uploadFunction,type:s.type||Ee.FLOAT,offset:s.offset},r[i]?this.dynamicProperties.push(s):this.staticProperties.push(s)}this.staticStride=0,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.dynamicStride=0,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this._updateID=0,this.initBuffers()}initBuffers(){const e=this.geometry;let r=0;this.indexBuffer=new jt(bN(this.size),!0,!0),e.addIndex(this.indexBuffer),this.dynamicStride=0;for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];l.offset=r,r+=l.size,this.dynamicStride+=l.size}const n=new ArrayBuffer(this.size*this.dynamicStride*4*4);this.dynamicData=new Float32Array(n),this.dynamicDataUint32=new Uint32Array(n),this.dynamicBuffer=new jt(this.dynamicData,!1,!1);let i=0;this.staticStride=0;for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];l.offset=i,i+=l.size,this.staticStride+=l.size}const s=new ArrayBuffer(this.size*this.staticStride*4*4);this.staticData=new Float32Array(s),this.staticDataUint32=new Uint32Array(s),this.staticBuffer=new jt(this.staticData,!0,!1);for(let o=0;o<this.dynamicProperties.length;++o){const l=this.dynamicProperties[o];e.addAttribute(l.attributeName,this.dynamicBuffer,0,l.type===Ee.UNSIGNED_BYTE,l.type,this.dynamicStride*4,l.offset*4)}for(let o=0;o<this.staticProperties.length;++o){const l=this.staticProperties[o];e.addAttribute(l.attributeName,this.staticBuffer,0,l.type===Ee.UNSIGNED_BYTE,l.type,this.staticStride*4,l.offset*4)}}uploadDynamic(e,r,n){for(let i=0;i<this.dynamicProperties.length;i++){const s=this.dynamicProperties[i];s.uploadFunction(e,r,n,s.type===Ee.UNSIGNED_BYTE?this.dynamicDataUint32:this.dynamicData,this.dynamicStride,s.offset)}this.dynamicBuffer._updateID++}uploadStatic(e,r,n){for(let i=0;i<this.staticProperties.length;i++){const s=this.staticProperties[i];s.uploadFunction(e,r,n,s.type===Ee.UNSIGNED_BYTE?this.staticDataUint32:this.staticData,this.staticStride,s.offset)}this.staticBuffer._updateID++}destroy(){this.indexBuffer=null,this.dynamicProperties=null,this.dynamicBuffer=null,this.dynamicData=null,this.dynamicDataUint32=null,this.staticProperties=null,this.staticBuffer=null,this.staticData=null,this.staticDataUint32=null,this.geometry.destroy()}}var YD=`varying vec2 vTextureCoord;
varying vec4 vColor;

uniform sampler2D uSampler;

void main(void){
    vec4 color = texture2D(uSampler, vTextureCoord) * vColor;
    gl_FragColor = color;
}`,qD=`attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;
attribute vec4 aColor;

attribute vec2 aPositionCoord;
attribute float aRotation;

uniform mat3 translationMatrix;
uniform vec4 uColor;

varying vec2 vTextureCoord;
varying vec4 vColor;

void main(void){
    float x = (aVertexPosition.x) * cos(aRotation) - (aVertexPosition.y) * sin(aRotation);
    float y = (aVertexPosition.x) * sin(aRotation) + (aVertexPosition.y) * cos(aRotation);

    vec2 v = vec2(x, y);
    v = v + aPositionCoord;

    gl_Position = vec4((translationMatrix * vec3(v, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = aTextureCoord;
    vColor = aColor * uColor;
}
`;class KT extends Sd{constructor(e){super(e),this.shader=null,this.properties=null,this.tempMatrix=new ht,this.properties=[{attributeName:"aVertexPosition",size:2,uploadFunction:this.uploadVertices,offset:0},{attributeName:"aPositionCoord",size:2,uploadFunction:this.uploadPosition,offset:0},{attributeName:"aRotation",size:1,uploadFunction:this.uploadRotation,offset:0},{attributeName:"aTextureCoord",size:2,uploadFunction:this.uploadUvs,offset:0},{attributeName:"aColor",size:1,type:Ee.UNSIGNED_BYTE,uploadFunction:this.uploadTint,offset:0}],this.shader=di.from(qD,YD,{}),this.state=Vi.for2d()}render(e){const r=e.children,n=e._maxSize,i=e._batchSize,s=this.renderer;let o=r.length;if(o===0)return;o>n&&!e.autoResize&&(o=n);let l=e._buffers;l||(l=e._buffers=this.generateBuffers(e));const c=r[0]._texture.baseTexture,h=c.alphaMode>0;this.state.blendMode=SE(e.blendMode,h),s.state.set(this.state);const f=s.gl,p=e.worldTransform.copyTo(this.tempMatrix);p.prepend(s.globalUniforms.uniforms.projectionMatrix),this.shader.uniforms.translationMatrix=p.toArray(!0),this.shader.uniforms.uColor=Ye.shared.setValue(e.tintRgb).premultiply(e.worldAlpha,h).toArray(this.shader.uniforms.uColor),this.shader.uniforms.uSampler=c,this.renderer.shader.bind(this.shader);let m=!1;for(let y=0,_=0;y<o;y+=i,_+=1){let w=o-y;w>i&&(w=i),_>=l.length&&l.push(this._generateOneMoreBuffer(e));const A=l[_];A.uploadDynamic(r,y,w);const E=e._bufferUpdateIDs[_]||0;m=m||A._updateID<E,m&&(A._updateID=e._updateID,A.uploadStatic(r,y,w)),s.geometry.bind(A.geometry),f.drawElements(f.TRIANGLES,w*6,f.UNSIGNED_SHORT,0)}}generateBuffers(e){const r=[],n=e._maxSize,i=e._batchSize,s=e._properties;for(let o=0;o<n;o+=i)r.push(new qT(this.properties,s,i));return r}_generateOneMoreBuffer(e){const r=e._batchSize,n=e._properties;return new qT(this.properties,n,r)}uploadVertices(e,r,n,i,s,o){let l=0,c=0,h=0,f=0;for(let p=0;p<n;++p){const m=e[r+p],y=m._texture,_=m.scale.x,w=m.scale.y,A=y.trim,E=y.orig;A?(c=A.x-m.anchor.x*E.width,l=c+A.width,f=A.y-m.anchor.y*E.height,h=f+A.height):(l=E.width*(1-m.anchor.x),c=E.width*-m.anchor.x,h=E.height*(1-m.anchor.y),f=E.height*-m.anchor.y),i[o]=c*_,i[o+1]=f*w,i[o+s]=l*_,i[o+s+1]=f*w,i[o+s*2]=l*_,i[o+s*2+1]=h*w,i[o+s*3]=c*_,i[o+s*3+1]=h*w,o+=s*4}}uploadPosition(e,r,n,i,s,o){for(let l=0;l<n;l++){const c=e[r+l].position;i[o]=c.x,i[o+1]=c.y,i[o+s]=c.x,i[o+s+1]=c.y,i[o+s*2]=c.x,i[o+s*2+1]=c.y,i[o+s*3]=c.x,i[o+s*3+1]=c.y,o+=s*4}}uploadRotation(e,r,n,i,s,o){for(let l=0;l<n;l++){const c=e[r+l].rotation;i[o]=c,i[o+s]=c,i[o+s*2]=c,i[o+s*3]=c,o+=s*4}}uploadUvs(e,r,n,i,s,o){for(let l=0;l<n;++l){const c=e[r+l]._texture._uvs;c?(i[o]=c.x0,i[o+1]=c.y0,i[o+s]=c.x1,i[o+s+1]=c.y1,i[o+s*2]=c.x2,i[o+s*2+1]=c.y2,i[o+s*3]=c.x3,i[o+s*3+1]=c.y3,o+=s*4):(i[o]=0,i[o+1]=0,i[o+s]=0,i[o+s+1]=0,i[o+s*2]=0,i[o+s*2+1]=0,i[o+s*3]=0,i[o+s*3+1]=0,o+=s*4)}}uploadTint(e,r,n,i,s,o){for(let l=0;l<n;++l){const c=e[r+l],h=Ye.shared.setValue(c._tintRGB).toPremultiplied(c.alpha,c.texture.baseTexture.alphaMode>0);i[o]=h,i[o+s]=h,i[o+s*2]=h,i[o+s*3]=h,o+=s*4}}destroy(){super.destroy(),this.shader&&(this.shader.destroy(),this.shader=null),this.tempMatrix=null}}KT.extension={name:"particle",type:ce.RendererPlugin},xe.add(KT);class Vu extends fi{constructor(e,r=!0){super(e[0]instanceof ue?e[0]:e[0].texture),this._textures=null,this._durations=null,this._autoUpdate=r,this._isConnectedToTicker=!1,this.animationSpeed=1,this.loop=!0,this.updateAnchor=!1,this.onComplete=null,this.onFrameChange=null,this.onLoop=null,this._currentTime=0,this._playing=!1,this._previousFrame=null,this.textures=e}stop(){this._playing&&(this._playing=!1,this._autoUpdate&&this._isConnectedToTicker&&(Rt.shared.remove(this.update,this),this._isConnectedToTicker=!1))}play(){this._playing||(this._playing=!0,this._autoUpdate&&!this._isConnectedToTicker&&(Rt.shared.add(this.update,this,Os.HIGH),this._isConnectedToTicker=!0))}gotoAndStop(e){this.stop(),this.currentFrame=e}gotoAndPlay(e){this.currentFrame=e,this.play()}update(e){if(!this._playing)return;const r=this.animationSpeed*e,n=this.currentFrame;if(this._durations!==null){let i=this._currentTime%1*this._durations[this.currentFrame];for(i+=r/60*1e3;i<0;)this._currentTime--,i+=this._durations[this.currentFrame];const s=Math.sign(this.animationSpeed*e);for(this._currentTime=Math.floor(this._currentTime);i>=this._durations[this.currentFrame];)i-=this._durations[this.currentFrame]*s,this._currentTime+=s;this._currentTime+=i/this._durations[this.currentFrame]}else this._currentTime+=r;this._currentTime<0&&!this.loop?(this.gotoAndStop(0),this.onComplete&&this.onComplete()):this._currentTime>=this._textures.length&&!this.loop?(this.gotoAndStop(this._textures.length-1),this.onComplete&&this.onComplete()):n!==this.currentFrame&&(this.loop&&this.onLoop&&(this.animationSpeed>0&&this.currentFrame<n||this.animationSpeed<0&&this.currentFrame>n)&&this.onLoop(),this.updateTexture())}updateTexture(){const e=this.currentFrame;this._previousFrame!==e&&(this._previousFrame=e,this._texture=this._textures[e],this._textureID=-1,this._textureTrimmedID=-1,this._cachedTint=16777215,this.uvs=this._texture._uvs.uvsFloat32,this.updateAnchor&&this._anchor.copyFrom(this._texture.defaultAnchor),this.onFrameChange&&this.onFrameChange(this.currentFrame))}destroy(e){this.stop(),super.destroy(e),this.onComplete=null,this.onFrameChange=null,this.onLoop=null}static fromFrames(e){const r=[];for(let n=0;n<e.length;++n)r.push(ue.from(e[n]));return new Vu(r)}static fromImages(e){const r=[];for(let n=0;n<e.length;++n)r.push(ue.from(e[n]));return new Vu(r)}get totalFrames(){return this._textures.length}get textures(){return this._textures}set textures(e){if(e[0]instanceof ue)this._textures=e,this._durations=null;else{this._textures=[],this._durations=[];for(let r=0;r<e.length;r++)this._textures.push(e[r].texture),this._durations.push(e[r].time)}this._previousFrame=null,this.gotoAndStop(0),this.updateTexture()}get currentFrame(){let e=Math.floor(this._currentTime)%this._textures.length;return e<0&&(e+=this._textures.length),e}set currentFrame(e){if(e<0||e>this.totalFrames-1)throw new Error(`[AnimatedSprite]: Invalid frame index value ${e}, expected to be between 0 and totalFrames ${this.totalFrames}.`);const r=this.currentFrame;this._currentTime=e,r!==this.currentFrame&&this.updateTexture()}get playing(){return this._playing}get autoUpdate(){return this._autoUpdate}set autoUpdate(e){e!==this._autoUpdate&&(this._autoUpdate=e,!this._autoUpdate&&this._isConnectedToTicker?(Rt.shared.remove(this.update,this),this._isConnectedToTicker=!1):this._autoUpdate&&!this._isConnectedToTicker&&this._playing&&(Rt.shared.add(this.update,this),this._isConnectedToTicker=!0))}}const Xu=new je;class xy extends fi{constructor(e,r=100,n=100){super(e),this.tileTransform=new xd,this._width=r,this._height=n,this.uvMatrix=this.texture.uvMatrix||new Jv(e),this.pluginName="tilingSprite",this.uvRespectAnchor=!1}get clampMargin(){return this.uvMatrix.clampMargin}set clampMargin(e){this.uvMatrix.clampMargin=e,this.uvMatrix.update(!0)}get tileScale(){return this.tileTransform.scale}set tileScale(e){this.tileTransform.scale.copyFrom(e)}get tilePosition(){return this.tileTransform.position}set tilePosition(e){this.tileTransform.position.copyFrom(e)}_onTextureUpdate(){this.uvMatrix&&(this.uvMatrix.texture=this._texture),this._cachedTint=16777215}_render(e){const r=this._texture;!r||!r.valid||(this.tileTransform.updateLocalTransform(),this.uvMatrix.update(),e.batch.setObjectRenderer(e.plugins[this.pluginName]),e.plugins[this.pluginName].render(this))}_calculateBounds(){const e=this._width*-this._anchor._x,r=this._height*-this._anchor._y,n=this._width*(1-this._anchor._x),i=this._height*(1-this._anchor._y);this._bounds.addFrame(this.transform,e,r,n,i)}getLocalBounds(e){return this.children.length===0?(this._bounds.minX=this._width*-this._anchor._x,this._bounds.minY=this._height*-this._anchor._y,this._bounds.maxX=this._width*(1-this._anchor._x),this._bounds.maxY=this._height*(1-this._anchor._y),e||(this._localBoundsRect||(this._localBoundsRect=new De),e=this._localBoundsRect),this._bounds.getRectangle(e)):super.getLocalBounds.call(this,e)}containsPoint(e){this.worldTransform.applyInverse(e,Xu);const r=this._width,n=this._height,i=-r*this.anchor._x;if(Xu.x>=i&&Xu.x<i+r){const s=-n*this.anchor._y;if(Xu.y>=s&&Xu.y<s+n)return!0}return!1}destroy(e){super.destroy(e),this.tileTransform=null,this.uvMatrix=null}static from(e,r){const n=e instanceof ue?e:ue.from(e,r);return new xy(n,r.width,r.height)}get width(){return this._width}set width(e){this._width=e}get height(){return this._height}set height(e){this._height=e}}var KD=`#version 300 es
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

in vec2 vTextureCoord;

out vec4 fragmentColor;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    vec4 texSample = texture(uSampler, coord, unclamped == coord ? 0.0f : -32.0f);// lod-bias very negative to force lod 0

    fragmentColor = texSample * uColor;
}
`,QD=`#version 300 es
#define SHADER_NAME Tiling-Sprite-300

precision lowp float;

in vec2 aVertexPosition;
in vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

out vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,JD=`#version 100
#ifdef GL_EXT_shader_texture_lod
    #extension GL_EXT_shader_texture_lod : enable
#endif
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;
uniform mat3 uMapCoord;
uniform vec4 uClampFrame;
uniform vec2 uClampOffset;

void main(void)
{
    vec2 coord = vTextureCoord + ceil(uClampOffset - vTextureCoord);
    coord = (uMapCoord * vec3(coord, 1.0)).xy;
    vec2 unclamped = coord;
    coord = clamp(coord, uClampFrame.xy, uClampFrame.zw);

    #ifdef GL_EXT_shader_texture_lod
        vec4 texSample = unclamped == coord
            ? texture2D(uSampler, coord) 
            : texture2DLodEXT(uSampler, coord, 0);
    #else
        vec4 texSample = texture2D(uSampler, coord);
    #endif

    gl_FragColor = texSample * uColor;
}
`,QT=`#version 100
#define SHADER_NAME Tiling-Sprite-100

precision lowp float;

attribute vec2 aVertexPosition;
attribute vec2 aTextureCoord;

uniform mat3 projectionMatrix;
uniform mat3 translationMatrix;
uniform mat3 uTransform;

varying vec2 vTextureCoord;

void main(void)
{
    gl_Position = vec4((projectionMatrix * translationMatrix * vec3(aVertexPosition, 1.0)).xy, 0.0, 1.0);

    vTextureCoord = (uTransform * vec3(aTextureCoord, 1.0)).xy;
}
`,ZD=`#version 100
#define SHADER_NAME Tiling-Sprite-Simple-100

precision lowp float;

varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform vec4 uColor;

void main(void)
{
    vec4 texSample = texture2D(uSampler, vTextureCoord);
    gl_FragColor = texSample * uColor;
}
`;const ef=new ht;class JT extends Sd{constructor(e){super(e),e.runners.contextChange.add(this),this.quad=new eT,this.state=Vi.for2d()}contextChange(){const e=this.renderer,r={globals:e.globalUniforms};this.simpleShader=di.from(QT,ZD,r),this.shader=e.context.webGLVersion>1?di.from(QD,KD,r):di.from(QT,JD,r)}render(e){const r=this.renderer,n=this.quad;let i=n.vertices;i[0]=i[6]=e._width*-e.anchor.x,i[1]=i[3]=e._height*-e.anchor.y,i[2]=i[4]=e._width*(1-e.anchor.x),i[5]=i[7]=e._height*(1-e.anchor.y);const s=e.uvRespectAnchor?e.anchor.x:0,o=e.uvRespectAnchor?e.anchor.y:0;i=n.uvs,i[0]=i[6]=-s,i[1]=i[3]=-o,i[2]=i[4]=1-s,i[5]=i[7]=1-o,n.invalidate();const l=e._texture,c=l.baseTexture,h=c.alphaMode>0,f=e.tileTransform.localTransform,p=e.uvMatrix;let m=c.isPowerOfTwo&&l.frame.width===c.width&&l.frame.height===c.height;m&&(c._glTextures[r.CONTEXT_UID]?m=c.wrapMode!==ji.CLAMP:c.wrapMode===ji.CLAMP&&(c.wrapMode=ji.REPEAT));const y=m?this.simpleShader:this.shader,_=l.width,w=l.height,A=e._width,E=e._height;ef.set(f.a*_/A,f.b*_/E,f.c*w/A,f.d*w/E,f.tx/A,f.ty/E),ef.invert(),m?ef.prepend(p.mapCoord):(y.uniforms.uMapCoord=p.mapCoord.toArray(!0),y.uniforms.uClampFrame=p.uClampFrame,y.uniforms.uClampOffset=p.uClampOffset),y.uniforms.uTransform=ef.toArray(!0),y.uniforms.uColor=Ye.shared.setValue(e.tint).premultiply(e.worldAlpha,h).toArray(y.uniforms.uColor),y.uniforms.translationMatrix=e.transform.worldTransform.toArray(!0),y.uniforms.uSampler=l,r.shader.bind(y),r.geometry.bind(n),this.state.blendMode=SE(e.blendMode,h),r.state.set(this.state),r.geometry.draw(this.renderer.gl.TRIANGLES,6,0)}}JT.extension={name:"tilingSprite",type:ce.RendererPlugin},xe.add(JT);const wy=class{constructor(t){this.stage=new yr,t=Object.assign({forceCanvas:!1},t),this.renderer=MO(t),wy._plugins.forEach(e=>{e.init.call(this,t)})}render(){this.renderer.render(this.stage)}get view(){return this.renderer.view}get screen(){return this.renderer.screen}destroy(t,e){const r=wy._plugins.slice(0);r.reverse(),r.forEach(n=>{n.destroy.call(this)}),this.stage.destroy(e),this.stage=null,this.renderer.destroy(t),this.renderer=null}};let Yu=wy;Yu._plugins=[],xe.handleByList(ce.Application,Yu._plugins);class ZT{static init(e){Object.defineProperty(this,"resizeTo",{set(r){globalThis.removeEventListener("resize",this.queueResize),this._resizeTo=r,r&&(globalThis.addEventListener("resize",this.queueResize),this.resize())},get(){return this._resizeTo}}),this.queueResize=()=>{this._resizeTo&&(this.cancelResize(),this._resizeId=requestAnimationFrame(()=>this.resize()))},this.cancelResize=()=>{this._resizeId&&(cancelAnimationFrame(this._resizeId),this._resizeId=null)},this.resize=()=>{if(!this._resizeTo)return;this.cancelResize();let r,n;if(this._resizeTo===globalThis.window)r=globalThis.innerWidth,n=globalThis.innerHeight;else{const{clientWidth:i,clientHeight:s}=this._resizeTo;r=i,n=s}this.renderer.resize(r,n),this.render()},this._resizeId=null,this._resizeTo=null,this.resizeTo=e.resizeTo||null}static destroy(){globalThis.removeEventListener("resize",this.queueResize),this.cancelResize(),this.cancelResize=null,this.queueResize=null,this.resizeTo=null,this.resize=null}}ZT.extension=ce.Application,xe.add(ZT);var eS={exports:{}},e3="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",t3=e3,r3=t3;function tS(){}function rS(){}rS.resetWarningCache=tS;var n3=function(){function t(n,i,s,o,l,c){if(c!==r3){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}t.isRequired=t;function e(){return t}var r={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:rS,resetWarningCache:tS};return r.PropTypes=r,r};eS.exports=n3();var i3=eS.exports;const Ze=Ic(i3);function Qr(t){return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Qr(t)}function nS(t){var e=function(r,n){if(Qr(r)!=="object"||r===null)return r;var i=r[Symbol.toPrimitive];if(i!==void 0){var s=i.call(r,n||"default");if(Qr(s)!=="object")return s;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(r)}(t,"string");return Qr(e)==="symbol"?e:String(e)}function It(t,e,r){return(e=nS(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Ey(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function Ki(t){return function(e){if(Array.isArray(e))return Ey(e)}(t)||function(e){if(typeof Symbol<"u"&&e[Symbol.iterator]!=null||e["@@iterator"]!=null)return Array.from(e)}(t)||function(e,r){if(e){if(typeof e=="string")return Ey(e,r);var n=Object.prototype.toString.call(e).slice(8,-1);return n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set"?Array.from(e):n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Ey(e,r):void 0}}(t)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}function At(t,e){for(var r=arguments.length,n=new Array(r>2?r-2:0),i=2;i<r;i++)n[i-2]=arguments[i]}var s3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function o3(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var a3=function(t){return t==null};function qu(t){var e=[];if(t===void 0)return e;if(typeof t=="string")e=t.split(",");else if(typeof t=="number")e=[t];else if(Array.isArray(t))e=Ki(t);else{if(t===null||Qr(t)!=="object")return e;e=[t&&(t==null?void 0:t.x)||0,t&&(t==null?void 0:t.y)||0]}return e.filter(function(r){return!a3(r)&&!isNaN(r)}).map(Number)}function iS(t,e){if(t.length!==e.length)return!1;for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}function Ty(t){return t instanceof je||t instanceof Xi}var tf=["click","mousedown","mousemove","mouseout","mouseover","mouseup","mouseupoutside","tap","touchstart","touchmove","touchend","touchendoutside","pointercancel","pointerout","pointerover","pointertap","pointerdown","pointerup","pointerupoutside","pointermove","rightclick","rightdown","rightup","rightupoutside","touchcancel","touchendoutside","touchmove","touchstart"];function Sy(t,e,r){if(Ty(t[e])&&Ty(r))t[e].copyFrom(r);else if(Ty(t[e])){var n=qu(r);At(n!==void 0&&n.length>0&&n.length<3,"The property `%s` is a `PIXI.Point` or `PIXI.ObservablePoint` and must be set to a comma-separated string of either 1 or 2 coordinates, a 1 or 2 element array containing coordinates, or a PIXI Point/ObservablePoint. If only one coordinate is given then X and Y will be set to the provided value. Received: `%s` of type `%s`.",e,JSON.stringify(r),Qr(r)),t[e].set(n.shift(),n.shift())}else t[e]=r}var Za,sS=function(t){var e,r=t;if(!Array.isArray(r)){if(e=t,Object.prototype.toString.call(e)!=="[object Object]")throw new Error("collection needs to be an Array or Object");r=Object.keys(t)}var n={};return r.forEach(function(i){n[i]=!0}),function(i){return n[i]!==void 0}},oS=function(t){return function(){return!t.apply(void 0,arguments)}},Ay="children",l3=(It(Za={},Ay,!0),It(Za,"parent",!0),It(Za,"worldAlpha",!0),It(Za,"worldTransform",!0),It(Za,"worldVisible",!0),Za),Cy={alpha:1,buttonMode:!1,cacheAsBitmap:!1,cursor:null,filterArea:null,filters:null,hitArea:null,interactive:!1,mask:null,pivot:0,position:0,renderable:!0,rotation:0,scale:1,skew:0,transform:null,visible:!0,x:0,y:0},mi=function(t,e){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(l){return requestAnimationFrame(function(){var c,h;l==null||(c=l.__reactpixi)===null||c===void 0||(h=c.root)===null||h===void 0||h.emit("__REACT_PIXI_REQUEST_RENDER__")})},i=function(l,c){if(r.hasOwnProperty(l))return At(c.typeofs.some(function(h){return Qr(r[l])===h})||c.instanceofs.some(function(h){return r[l]instanceof h}),"".concat(t," ").concat(l," prop is invalid")),r[l]};if(r.texture)return At(r.texture instanceof ue,"".concat(t," texture needs to be typeof `Texture`")),r.texture;var s=i("image",{typeofs:["string"],instanceofs:[HTMLImageElement]})||i("video",{typeofs:["string"],instanceofs:[HTMLVideoElement]})||i("source",{typeofs:["string","number"],instanceofs:[HTMLImageElement,HTMLVideoElement,HTMLCanvasElement,ue]});At(!!s,"".concat(t," could not get texture from props"));var o=ue.from(s);return o.__reactpixi={root:e},o.once("update",n),o.once("loaded",n),o.valid&&n(o),o},u3=oS(sS([].concat(Ki(Object.keys(l3)),Ki(tf))));function gi(t,e,r){var n=!1;if(At(dt.prototype.isPrototypeOf(t),"instance needs to be typeof `DisplayObject`, got `%s`",Qr(t)),!r.ignoreEvents)for(var i=typeof t.removeListener=="function",s=typeof t.on=="function",o=0;o<tf.length;o++){var l=tf[o];e[l]!==r[l]&&(n=!0,typeof e[l]=="function"&&i&&t.removeListener(l,e[l]),typeof r[l]=="function"&&s&&t.on(l,r[l]))}var c=Object.keys(r||{});if(r.overwriteProps){for(var h=0;h<c.length;h++){var f=c[h];e[f]!==r[f]&&(n=!0,Sy(t,f,r[f]))}return n}for(var p=c.filter(u3),m=0;m<p.length;m++){var y=p[m],_=r[y];r[y]!==e[y]&&(n=!0),_!==void 0?Sy(t,y,_):y in Cy?(console.warn("setting default value: ".concat(y,", from: ").concat(t[y]," to: ").concat(_," for"),t),n=!0,Sy(t,y,Cy[y])):console.warn("ignoring prop: ".concat(y,", from ").concat(t[y]," to ").concat(_," for"),t)}return n}var c3=function(t,e){var r=e.text,n=e.style;return new DT(r,n)},h3=function(){return new yr};function Ds(t,e){if(t==null)return{};var r,n,i=function(o,l){if(o==null)return{};var c,h,f={},p=Object.keys(o);for(h=0;h<p.length;h++)c=p[h],l.indexOf(c)>=0||(f[c]=o[c]);return f}(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)>=0||Object.prototype.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}var d3=["draw","geometry"],f3=function(t,e){var r=e.geometry;At(!r||r instanceof ko,"Graphics geometry needs to be a `PIXI.Graphics`");var n=r?new ko(r.geometry):new ko;return n.applyProps=function(i,s,o){var l=o.draw;o.geometry;var c=gi(i,s,Ds(o,d3));return s.draw!==l&&typeof l=="function"&&(c=!0,l.call(n,n)),c},n},p3=["image","texture"],m3=function(t,e){var r=e.leftWidth,n=r===void 0?10:r,i=e.topHeight,s=i===void 0?10:i,o=e.rightWidth,l=o===void 0?10:o,c=e.bottomHeight,h=c===void 0?10:c,f=mi("NineSlicePlane",t,e),p=new WD(f,n,s,l,h);return p.applyProps=function(m,y,_){var w=_.image,A=_.texture,E=gi(m,y,Ds(_,p3));return(w||A)&&(A!==y.texture&&(E=!0),m.texture=mi("NineSlicePlane",t,_)),E},p};function aS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aS(Object(r),!0).forEach(function(n){It(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var g3=function(t,e){var r=e.maxSize,n=r===void 0?1500:r,i=e.batchSize,s=i===void 0?16384:i,o=e.autoResize,l=o!==void 0&&o,c=rf(rf({},{vertices:!1,scale:!0,position:!0,rotation:!0,uvs:!0,tint:!0}),e.properties||{}),h=rf(rf({},{children:!1,texture:!1,baseTexture:!1}),e.destroyOptions||{}),f=new XD(n,c,s,l);return f.willUnmount=function(p,m,y){p.destroy(h)},f},v3=["image","texture"],y3=function(t,e){var r=new fi(mi("Sprite",t,e));return r.applyProps=function(n,i,s){var o=s.image,l=s.texture,c=gi(n,i,Ds(s,v3));return(l&&i.texture!==s.texture||o&&i.image!==s.image)&&(i.texture!==s.texture&&(c=!0),n.texture=mi("Sprite",t,s)),c},r},_3=["textures","isPlaying","initialFrame"],b3=function(t,e){var r=e.textures,n=e.images,i=e.isPlaying,s=i===void 0||i,o=e.initialFrame,l=function(h){return h.map(function(f){return At(f instanceof ue||(f==null?void 0:f.texture),"AnimationSprite texture needs to be an array of `PIXI.Texture` or `{ texture: PIXI.Texture, time:\n                number }`"),f})},c=n?Vu.fromImages(n):new Vu(l(r));return c[s?"gotoAndPlay":"gotoAndStop"](o||0),c.applyProps=function(h,f,p){var m=p.textures,y=p.isPlaying,_=p.initialFrame,w=gi(h,f,Ds(p,_3));if(m&&f.textures!==m&&(h.textures=l(m),w=!0),y!==f.isPlaying||_!==f.initialFrame){var A=typeof _=="number"?_:c.currentFrame||0;c[y?"gotoAndPlay":"gotoAndStop"](A),w=!0}return w},c},x3=function(t,e){var r=e.text,n=r===void 0?"":r,i=e.style,s=i===void 0?{}:i,o=e.isSprite,l=new Ud(n,s);return o?(l.updateText(),new fi(l.texture)):l},w3=["tileScale","tilePosition","image","texture"],E3=function(t,e){var r=e.width,n=r===void 0?100:r,i=e.height,s=i===void 0?100:i,o=mi("TilingSprite",t,e),l=new xy(o,n,s);return l.applyProps=function(c,h,f){var p=f.tileScale,m=f.tilePosition,y=f.image,_=f.texture,w=gi(c,h,Ds(f,w3));if(m){var A,E=qu(m);(A=c.tilePosition).set.apply(A,Ki(E)),w=!iS(qu(h.tilePosition),E)||w}if(p){var x,S=qu(p);(x=c.tileScale).set.apply(x,Ki(S)),w=!iS(qu(h.tileScale),S)||w}return(y||_)&&(_!==h.texture&&(w=!0),c.texture=mi("Sprite",t,f)),w},l},T3=["image","texture"],S3=function(t,e){var r=mi("Mesh",t,e),n=e.vertices,i=e.uvs,s=e.indices,o=e.drawMode,l=o===void 0?kn.TRIANGLES:o,c=new $D(r,n,i,s,l);return c.applyProps=function(h,f,p){var m=p.image,y=p.texture,_=gi(h,f,Ds(p,T3));return(m||y)&&(y!==f.texture&&(_=!0),h.texture=mi("Mesh",t,p)),_},c},A3=["image","texture"],C3=function(t,e){var r=mi("SimpleRope",t,e),n=e.points,i=new VD(r,n);return i.applyProps=function(s,o,l){var c=l.image,h=l.texture,f=Ds(l,A3);At(Array.isArray(l.points),"SimpleRope points needs to be %s","Array<PIXI.Point>");var p=gi(s,o,f);return(c||h)&&(h!==o.texture&&(p=!0),s.texture=mi("SimpleRope",t,l)),p},i},P3=Object.freeze({__proto__:null,BitmapText:c3,Container:h3,Graphics:f3,NineSlicePlane:m3,ParticleContainer:g3,Sprite:y3,Text:x3,TilingSprite:E3,SimpleMesh:S3,SimpleRope:C3,AnimatedSprite:b3});function lS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uS(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(r),!0).forEach(function(n){It(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var Lr={BitmapText:"BitmapText",Container:"Container",Graphics:"Graphics",NineSlicePlane:"NineSlicePlane",ParticleContainer:"ParticleContainer",Sprite:"Sprite",AnimatedSprite:"AnimatedSprite",Text:"Text",TilingSprite:"TilingSprite",SimpleMesh:"SimpleMesh",SimpleRope:"SimpleRope"},R3=Object.keys(Lr).reduce(function(t,e){return uS(uS({},t),{},It({},e,P3[e]))},{}),cS={};function I3(t,e){return At(!!t,"Expect type to be defined, got `%s`",t),At(!Lr[t],"Component `%s` could not be created, already exists in default components.",t),cS[t]=e,t}var hS,dS,fS,pS,Py={},Ry={},k3={get exports(){return Ry},set exports(t){Ry=t}},mS={};function M3(){return dS||(dS=1,k3.exports=(hS||(hS=1,function(t){function e(O,H){var k=O.length;O.push(H);e:for(;0<k;){var ee=k-1>>>1,oe=O[ee];if(!(0<i(oe,H)))break e;O[ee]=H,O[k]=oe,k=ee}}function r(O){return O.length===0?null:O[0]}function n(O){if(O.length===0)return null;var H=O[0],k=O.pop();if(k!==H){O[0]=k;e:for(var ee=0,oe=O.length,ke=oe>>>1;ee<ke;){var pe=2*(ee+1)-1,Ue=O[pe],Me=pe+1,Xe=O[Me];if(0>i(Ue,k))Me<oe&&0>i(Xe,Ue)?(O[ee]=Xe,O[Me]=k,ee=Me):(O[ee]=Ue,O[pe]=k,ee=pe);else{if(!(Me<oe&&0>i(Xe,k)))break e;O[ee]=Xe,O[Me]=k,ee=Me}}}return H}function i(O,H){var k=O.sortIndex-H.sortIndex;return k!==0?k:O.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],h=[],f=1,p=null,m=3,y=!1,_=!1,w=!1,A=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;function S(O){for(var H=r(h);H!==null;){if(H.callback===null)n(h);else{if(!(H.startTime<=O))break;n(h),H.sortIndex=H.expirationTime,e(c,H)}H=r(h)}}function T(O){if(w=!1,S(O),!_)if(r(c)!==null)_=!0,ve(R);else{var H=r(h);H!==null&&ie(T,H.startTime-O)}}function R(O,H){_=!1,w&&(w=!1,E(q),q=-1),y=!0;var k=m;try{for(S(H),p=r(c);p!==null&&(!(p.expirationTime>H)||O&&!V());){var ee=p.callback;if(typeof ee=="function"){p.callback=null,m=p.priorityLevel;var oe=ee(p.expirationTime<=H);H=t.unstable_now(),typeof oe=="function"?p.callback=oe:p===r(c)&&n(c),S(H)}else n(c);p=r(c)}if(p!==null)var ke=!0;else{var pe=r(h);pe!==null&&ie(T,pe.startTime-H),ke=!1}return ke}finally{p=null,m=k,y=!1}}typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var L,I=!1,M=null,q=-1,K=5,J=-1;function V(){return!(t.unstable_now()-J<K)}function z(){if(M!==null){var O=t.unstable_now();J=O;var H=!0;try{H=M(!0,O)}finally{H?L():(I=!1,M=null)}}else I=!1}if(typeof x=="function")L=function(){x(z)};else if(typeof MessageChannel<"u"){var W=new MessageChannel,ge=W.port2;W.port1.onmessage=z,L=function(){ge.postMessage(null)}}else L=function(){A(z,0)};function ve(O){M=O,I||(I=!0,L())}function ie(O,H){q=A(function(){O(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(O){O.callback=null},t.unstable_continueExecution=function(){_||y||(_=!0,ve(R))},t.unstable_forceFrameRate=function(O){0>O||125<O?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):K=0<O?Math.floor(1e3/O):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(O){switch(m){case 1:case 2:case 3:var H=3;break;default:H=m}var k=m;m=H;try{return O()}finally{m=k}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(O,H){switch(O){case 1:case 2:case 3:case 4:case 5:break;default:O=3}var k=m;m=O;try{return H()}finally{m=k}},t.unstable_scheduleCallback=function(O,H,k){var ee=t.unstable_now();switch(k=typeof k=="object"&&k!==null&&typeof(k=k.delay)=="number"&&0<k?ee+k:ee,O){case 1:var oe=-1;break;case 2:oe=250;break;case 5:oe=1073741823;break;case 4:oe=1e4;break;default:oe=5e3}return O={id:f++,callback:H,priorityLevel:O,startTime:k,expirationTime:oe=k+oe,sortIndex:-1},k>ee?(O.sortIndex=k,e(h,O),r(c)===null&&O===r(h)&&(w?(E(q),q=-1):w=!0,ie(T,k-ee))):(O.sortIndex=oe,e(c,O),_||y||(_=!0,ve(R))),O},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(O){var H=m;return function(){var k=m;m=H;try{return O.apply(this,arguments)}finally{m=k}}}}(mS)),mS)),Ry}function N3(){return pS||(pS=1,fS=function(t){var e={},r=wn,n=M3(),i=Object.assign;function s(a){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+a,d=1;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d]);return"Minified React error #"+a+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),p=Symbol.for("react.profiler"),m=Symbol.for("react.provider"),y=Symbol.for("react.context"),_=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),A=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),x=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),T=Symbol.iterator;function R(a){return a===null||typeof a!="object"?null:typeof(a=T&&a[T]||a["@@iterator"])=="function"?a:null}function L(a){if(a==null)return null;if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a;switch(a){case h:return"Fragment";case c:return"Portal";case p:return"Profiler";case f:return"StrictMode";case w:return"Suspense";case A:return"SuspenseList"}if(typeof a=="object")switch(a.$$typeof){case y:return(a.displayName||"Context")+".Consumer";case m:return(a._context.displayName||"Context")+".Provider";case _:var u=a.render;return(a=a.displayName)||(a=(a=u.displayName||u.name||"")!==""?"ForwardRef("+a+")":"ForwardRef"),a;case E:return(u=a.displayName||null)!==null?u:L(a.type)||"Memo";case x:u=a._payload,a=a._init;try{return L(a(u))}catch{}}return null}function I(a){var u=a.type;switch(a.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return a=(a=u.render).displayName||a.name||"",u.displayName||(a!==""?"ForwardRef("+a+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return L(u);case 8:return u===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function M(a){var u=a,d=a;if(a.alternate)for(;u.return;)u=u.return;else{a=u;do 4098&(u=a).flags&&(d=u.return),a=u.return;while(a)}return u.tag===3?d:null}function q(a){if(M(a)!==a)throw Error(s(188))}function K(a){var u=a.alternate;if(!u){if((u=M(a))===null)throw Error(s(188));return u!==a?null:a}for(var d=a,g=u;;){var v=d.return;if(v===null)break;var b=v.alternate;if(b===null){if((g=v.return)!==null){d=g;continue}break}if(v.child===b.child){for(b=v.child;b;){if(b===d)return q(v),a;if(b===g)return q(v),u;b=b.sibling}throw Error(s(188))}if(d.return!==g.return)d=v,g=b;else{for(var C=!1,P=v.child;P;){if(P===d){C=!0,d=v,g=b;break}if(P===g){C=!0,g=v,d=b;break}P=P.sibling}if(!C){for(P=b.child;P;){if(P===d){C=!0,d=b,g=v;break}if(P===g){C=!0,g=b,d=v;break}P=P.sibling}if(!C)throw Error(s(189))}}if(d.alternate!==g)throw Error(s(190))}if(d.tag!==3)throw Error(s(188));return d.stateNode.current===d?a:u}function J(a){return(a=K(a))!==null?V(a):null}function V(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){var u=V(a);if(u!==null)return u;a=a.sibling}return null}function z(a){if(a.tag===5||a.tag===6)return a;for(a=a.child;a!==null;){if(a.tag!==4){var u=z(a);if(u!==null)return u}a=a.sibling}return null}var W,ge=Array.isArray,ve=t.getPublicInstance,ie=t.getRootHostContext,O=t.getChildHostContext,H=t.prepareForCommit,k=t.resetAfterCommit,ee=t.createInstance,oe=t.appendInitialChild,ke=t.finalizeInitialChildren,pe=t.prepareUpdate,Ue=t.shouldSetTextContent,Me=t.createTextInstance,Xe=t.scheduleTimeout,tt=t.cancelTimeout,Ht=t.noTimeout,mt=t.isPrimaryRenderer,Ne=t.supportsMutation,rt=t.supportsPersistence,$e=t.supportsHydration,Br=t.getInstanceFromNode,Qt=t.preparePortalMount,vi=t.getCurrentEventPriority,Do=t.detachDeletedInstance,Xn=t.supportsMicrotasks,oc=t.scheduleMicrotask,Fr=t.supportsTestSelectors,Sf=t.findFiberRoot,Af=t.getBoundingRect,Cf=t.getTextContent,Lo=t.isHiddenSubtree,Pf=t.matchAccessibilityRole,ll=t.setFocusIfFocusable,Rf=t.setupIntersectionObserver,ac=t.appendChild,Xy=t.appendChildToContainer,If=t.commitTextUpdate,Yy=t.commitMount,kf=t.commitUpdate,qy=t.insertBefore,B=t.insertInContainerBefore,F=t.removeChild,Q=t.removeChildFromContainer,fe=t.resetTextContent,Re=t.hideInstance,Ae=t.hideTextInstance,Pe=t.unhideInstance,Te=t.unhideTextInstance,be=t.clearContainer,nt=t.cloneInstance,He=t.createContainerChildSet,_r=t.appendChildToContainerChildSet,Dt=t.finalizeContainerChildren,Jt=t.replaceContainerChildren,Zr=t.cloneHiddenInstance,Us=t.cloneHiddenTextInstance,lc=t.canHydrateInstance,ul=t.canHydrateTextInstance,Yn=t.canHydrateSuspenseInstance,Bo=t.isSuspenseInstancePending,Fo=t.isSuspenseInstanceFallback,uc=t.getSuspenseInstanceFallbackErrorDetails,cc=t.registerSuspenseInstanceRetry,es=t.getNextHydratableSibling,st=t.getFirstHydratableChild,Ur=t.getFirstHydratableChildWithinContainer,zs=t.getFirstHydratableChildWithinSuspenseInstance,Gt=t.hydrateInstance,Uo=t.hydrateTextInstance,Mf=t.hydrateSuspenseInstance,Ky=t.getNextHydratableInstanceAfterSuspenseInstance,$F=t.commitHydratedContainer,VF=t.commitHydratedSuspenseInstance,XF=t.clearSuspenseBoundary,YF=t.clearSuspenseBoundaryFromContainer,qF=t.shouldDeleteUnhydratedTailInstances,KF=t.didNotMatchHydratedContainerTextInstance,QF=t.didNotMatchHydratedTextInstance;function hc(a){if(W===void 0)try{throw Error()}catch(d){var u=d.stack.trim().match(/\n( *(at )?)/);W=u&&u[1]||""}return`
`+W+a}var Qy=!1;function Jy(a,u){if(!a||Qy)return"";Qy=!0;var d=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(j){var g=j}Reflect.construct(a,[],u)}else{try{u.call()}catch(j){g=j}a.call(u.prototype)}else{try{throw Error()}catch(j){g=j}a()}}catch(j){if(j&&g&&typeof j.stack=="string"){for(var v=j.stack.split(`
`),b=g.stack.split(`
`),C=v.length-1,P=b.length-1;1<=C&&0<=P&&v[C]!==b[P];)P--;for(;1<=C&&0<=P;C--,P--)if(v[C]!==b[P]){if(C!==1||P!==1)do if(C--,0>--P||v[C]!==b[P]){var D=`
`+v[C].replace(" at new "," at ");return a.displayName&&D.includes("<anonymous>")&&(D=D.replace("<anonymous>",a.displayName)),D}while(1<=C&&0<=P);break}}}finally{Qy=!1,Error.prepareStackTrace=d}return(a=a?a.displayName||a.name:"")?hc(a):""}var JF=Object.prototype.hasOwnProperty,Zy=[],cl=-1;function js(a){return{current:a}}function gt(a){0>cl||(a.current=Zy[cl],Zy[cl]=null,cl--)}function ot(a,u){cl++,Zy[cl]=a.current,a.current=u}var Hs={},br=js(Hs),zr=js(!1),zo=Hs;function hl(a,u){var d=a.type.contextTypes;if(!d)return Hs;var g=a.stateNode;if(g&&g.__reactInternalMemoizedUnmaskedChildContext===u)return g.__reactInternalMemoizedMaskedChildContext;var v,b={};for(v in d)b[v]=u[v];return g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=u,a.__reactInternalMemoizedMaskedChildContext=b),b}function en(a){return(a=a.childContextTypes)!=null}function e0(){gt(zr),gt(br)}function QS(a,u,d){if(br.current!==Hs)throw Error(s(168));ot(br,u),ot(zr,d)}function JS(a,u,d){var g=a.stateNode;if(u=u.childContextTypes,typeof g.getChildContext!="function")return d;for(var v in g=g.getChildContext())if(!(v in u))throw Error(s(108,I(a)||"Unknown",v));return i({},d,g)}function Nf(a){return a=(a=a.stateNode)&&a.__reactInternalMemoizedMergedChildContext||Hs,zo=br.current,ot(br,a),ot(zr,zr.current),!0}function ZS(a,u,d){var g=a.stateNode;if(!g)throw Error(s(169));d?(a=JS(a,u,zo),g.__reactInternalMemoizedMergedChildContext=a,gt(zr),gt(br),ot(br,a)):gt(zr),ot(zr,d)}var qn=Math.clz32?Math.clz32:function(a){return(a>>>=0)===0?32:31-(ZF(a)/e4|0)|0},ZF=Math.log,e4=Math.LN2,t0=64,r0=4194304;function dc(a){switch(a&-a){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&a;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&a;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return a}}function Of(a,u){var d=a.pendingLanes;if(d===0)return 0;var g=0,v=a.suspendedLanes,b=a.pingedLanes,C=268435455&d;if(C!==0){var P=C&~v;P!==0?g=dc(P):(b&=C)!==0&&(g=dc(b))}else(C=d&~v)!==0?g=dc(C):b!==0&&(g=dc(b));if(g===0)return 0;if(u!==0&&u!==g&&!(u&v)&&((v=g&-g)>=(b=u&-u)||v===16&&4194240&b))return u;if(4&g&&(g|=16&d),(u=a.entangledLanes)!==0)for(a=a.entanglements,u&=g;0<u;)v=1<<(d=31-qn(u)),g|=a[d],u&=~v;return g}function t4(a,u){switch(a){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;default:return-1}}function n0(a){return(a=-1073741825&a.pendingLanes)!==0?a:1073741824&a?1073741824:0}function eA(){var a=t0;return!(4194240&(t0<<=1))&&(t0=64),a}function i0(a){for(var u=[],d=0;31>d;d++)u.push(a);return u}function fc(a,u,d){a.pendingLanes|=u,u!==536870912&&(a.suspendedLanes=0,a.pingedLanes=0),(a=a.eventTimes)[u=31-qn(u)]=d}function s0(a,u){var d=a.entangledLanes|=u;for(a=a.entanglements;d;){var g=31-qn(d),v=1<<g;v&u|a[g]&u&&(a[g]|=u),d&=~v}}var qe=0;function tA(a){return 1<(a&=-a)?4<a?268435455&a?16:536870912:4:1}var o0=n.unstable_scheduleCallback,rA=n.unstable_cancelCallback,r4=n.unstable_shouldYield,n4=n.unstable_requestPaint,Zt=n.unstable_now,a0=n.unstable_ImmediatePriority,i4=n.unstable_UserBlockingPriority,nA=n.unstable_NormalPriority,s4=n.unstable_IdlePriority,Df=null,yi=null,Kn=typeof Object.is=="function"?Object.is:function(a,u){return a===u&&(a!==0||1/a==1/u)||a!=a&&u!=u},ts=null,Lf=!1,l0=!1;function iA(a){ts===null?ts=[a]:ts.push(a)}function _i(){if(!l0&&ts!==null){l0=!0;var a=0,u=qe;try{var d=ts;for(qe=1;a<d.length;a++){var g=d[a];do g=g(!0);while(g!==null)}ts=null,Lf=!1}catch(v){throw ts!==null&&(ts=ts.slice(a+1)),o0(a0,_i),v}finally{qe=u,l0=!1}}return null}var dl=[],fl=0,Bf=null,Ff=0,pn=[],mn=0,jo=null,bi=1,rs="";function Ho(a,u){dl[fl++]=Ff,dl[fl++]=Bf,Bf=a,Ff=u}function sA(a,u,d){pn[mn++]=bi,pn[mn++]=rs,pn[mn++]=jo,jo=a;var g=bi;a=rs;var v=32-qn(g)-1;g&=~(1<<v),d+=1;var b=32-qn(u)+v;if(30<b){var C=v-v%5;b=(g&(1<<C)-1).toString(32),g>>=C,v-=C,bi=1<<32-qn(u)+v|d<<v|g,rs=b+a}else bi=1<<b|d<<v|g,rs=a}function u0(a){a.return!==null&&(Ho(a,1),sA(a,1,0))}function c0(a){for(;a===Bf;)Bf=dl[--fl],dl[fl]=null,Ff=dl[--fl],dl[fl]=null;for(;a===jo;)jo=pn[--mn],pn[mn]=null,rs=pn[--mn],pn[mn]=null,bi=pn[--mn],pn[mn]=null}var tn=null,gn=null,vt=!1,pc=!1,Qn=null;function oA(a,u){var d=xn(5,null,null,0);d.elementType="DELETED",d.stateNode=u,d.return=a,(u=a.deletions)===null?(a.deletions=[d],a.flags|=16):u.push(d)}function aA(a,u){switch(a.tag){case 5:return(u=lc(u,a.type,a.pendingProps))!==null&&(a.stateNode=u,tn=a,gn=st(u),!0);case 6:return(u=ul(u,a.pendingProps))!==null&&(a.stateNode=u,tn=a,gn=null,!0);case 13:if((u=Yn(u))!==null){var d=jo!==null?{id:bi,overflow:rs}:null;return a.memoizedState={dehydrated:u,treeContext:d,retryLane:1073741824},(d=xn(18,null,null,0)).stateNode=u,d.return=a,a.child=d,tn=a,gn=null,!0}return!1;default:return!1}}function h0(a){return(1&a.mode)!=0&&(128&a.flags)==0}function d0(a){if(vt){var u=gn;if(u){var d=u;if(!aA(a,u)){if(h0(a))throw Error(s(418));u=es(d);var g=tn;u&&aA(a,u)?oA(g,d):(a.flags=-4097&a.flags|2,vt=!1,tn=a)}}else{if(h0(a))throw Error(s(418));a.flags=-4097&a.flags|2,vt=!1,tn=a}}}function lA(a){for(a=a.return;a!==null&&a.tag!==5&&a.tag!==3&&a.tag!==13;)a=a.return;tn=a}function Uf(a){if(!$e||a!==tn)return!1;if(!vt)return lA(a),vt=!0,!1;if(a.tag!==3&&(a.tag!==5||qF(a.type)&&!Ue(a.type,a.memoizedProps))){var u=gn;if(u){if(h0(a))throw uA(),Error(s(418));for(;u;)oA(a,u),u=es(u)}}if(lA(a),a.tag===13){if(!$e)throw Error(s(316));if(!(a=(a=a.memoizedState)!==null?a.dehydrated:null))throw Error(s(317));gn=Ky(a)}else gn=tn?es(a.stateNode):null;return!0}function uA(){for(var a=gn;a;)a=es(a)}function pl(){$e&&(gn=tn=null,pc=vt=!1)}function f0(a){Qn===null?Qn=[a]:Qn.push(a)}var o4=o.ReactCurrentBatchConfig;function zf(a,u){if(Kn(a,u))return!0;if(typeof a!="object"||a===null||typeof u!="object"||u===null)return!1;var d=Object.keys(a),g=Object.keys(u);if(d.length!==g.length)return!1;for(g=0;g<d.length;g++){var v=d[g];if(!JF.call(u,v)||!Kn(a[v],u[v]))return!1}return!0}function a4(a){switch(a.tag){case 5:return hc(a.type);case 16:return hc("Lazy");case 13:return hc("Suspense");case 19:return hc("SuspenseList");case 0:case 2:case 15:return a=Jy(a.type,!1);case 11:return a=Jy(a.type.render,!1);case 1:return a=Jy(a.type,!0);default:return""}}function Jn(a,u){if(a&&a.defaultProps){for(var d in u=i({},u),a=a.defaultProps)u[d]===void 0&&(u[d]=a[d]);return u}return u}var jf=js(null),Hf=null,ml=null,p0=null;function m0(){p0=ml=Hf=null}function cA(a,u,d){mt?(ot(jf,u._currentValue),u._currentValue=d):(ot(jf,u._currentValue2),u._currentValue2=d)}function g0(a){var u=jf.current;gt(jf),mt?a._currentValue=u:a._currentValue2=u}function v0(a,u,d){for(;a!==null;){var g=a.alternate;if((a.childLanes&u)!==u?(a.childLanes|=u,g!==null&&(g.childLanes|=u)):g!==null&&(g.childLanes&u)!==u&&(g.childLanes|=u),a===d)break;a=a.return}}function gl(a,u){Hf=a,p0=ml=null,(a=a.dependencies)!==null&&a.firstContext!==null&&(a.lanes&u&&(jr=!0),a.firstContext=null)}function vn(a){var u=mt?a._currentValue:a._currentValue2;if(p0!==a)if(a={context:a,memoizedValue:u,next:null},ml===null){if(Hf===null)throw Error(s(308));ml=a,Hf.dependencies={lanes:0,firstContext:a}}else ml=ml.next=a;return u}var Go=null;function y0(a){Go===null?Go=[a]:Go.push(a)}function hA(a,u,d,g){var v=u.interleaved;return v===null?(d.next=d,y0(u)):(d.next=v.next,v.next=d),u.interleaved=d,xi(a,g)}function xi(a,u){a.lanes|=u;var d=a.alternate;for(d!==null&&(d.lanes|=u),d=a,a=a.return;a!==null;)a.childLanes|=u,(d=a.alternate)!==null&&(d.childLanes|=u),d=a,a=a.return;return d.tag===3?d.stateNode:null}var Gs=!1;function _0(a){a.updateQueue={baseState:a.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function dA(a,u){a=a.updateQueue,u.updateQueue===a&&(u.updateQueue={baseState:a.baseState,firstBaseUpdate:a.firstBaseUpdate,lastBaseUpdate:a.lastBaseUpdate,shared:a.shared,effects:a.effects})}function ns(a,u){return{eventTime:a,lane:u,tag:0,payload:null,callback:null,next:null}}function Ws(a,u,d){var g=a.updateQueue;if(g===null)return null;if(g=g.shared,(2&Ge)!=0){var v=g.pending;return v===null?u.next=u:(u.next=v.next,v.next=u),g.pending=u,xi(a,d)}return(v=g.interleaved)===null?(u.next=u,y0(g)):(u.next=v.next,v.next=u),g.interleaved=u,xi(a,d)}function Gf(a,u,d){if((u=u.updateQueue)!==null&&(u=u.shared,(4194240&d)!=0)){var g=u.lanes;d|=g&=a.pendingLanes,u.lanes=d,s0(a,d)}}function fA(a,u){var d=a.updateQueue,g=a.alternate;if(g!==null&&d===(g=g.updateQueue)){var v=null,b=null;if((d=d.firstBaseUpdate)!==null){do{var C={eventTime:d.eventTime,lane:d.lane,tag:d.tag,payload:d.payload,callback:d.callback,next:null};b===null?v=b=C:b=b.next=C,d=d.next}while(d!==null);b===null?v=b=u:b=b.next=u}else v=b=u;return d={baseState:g.baseState,firstBaseUpdate:v,lastBaseUpdate:b,shared:g.shared,effects:g.effects},void(a.updateQueue=d)}(a=d.lastBaseUpdate)===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=u}function Wf(a,u,d,g){var v=a.updateQueue;Gs=!1;var b=v.firstBaseUpdate,C=v.lastBaseUpdate,P=v.shared.pending;if(P!==null){v.shared.pending=null;var D=P,j=D.next;D.next=null,C===null?b=j:C.next=j,C=D;var X=a.alternate;X!==null&&(P=(X=X.updateQueue).lastBaseUpdate)!==C&&(P===null?X.firstBaseUpdate=j:P.next=j,X.lastBaseUpdate=D)}if(b!==null){var ae=v.baseState;for(C=0,X=j=D=null,P=b;;){var G=P.lane,re=P.eventTime;if((g&G)===G){X!==null&&(X=X.next={eventTime:re,lane:0,tag:P.tag,payload:P.payload,callback:P.callback,next:null});e:{var ye=a,Oe=P;switch(G=u,re=d,Oe.tag){case 1:if(typeof(ye=Oe.payload)=="function"){ae=ye.call(re,ae,G);break e}ae=ye;break e;case 3:ye.flags=-65537&ye.flags|128;case 0:if((G=typeof(ye=Oe.payload)=="function"?ye.call(re,ae,G):ye)==null)break e;ae=i({},ae,G);break e;case 2:Gs=!0}}P.callback!==null&&P.lane!==0&&(a.flags|=64,(G=v.effects)===null?v.effects=[P]:G.push(P))}else re={eventTime:re,lane:G,tag:P.tag,payload:P.payload,callback:P.callback,next:null},X===null?(j=X=re,D=ae):X=X.next=re,C|=G;if((P=P.next)===null){if((P=v.shared.pending)===null)break;P=(G=P).next,G.next=null,v.lastBaseUpdate=G,v.shared.pending=null}}if(X===null&&(D=ae),v.baseState=D,v.firstBaseUpdate=j,v.lastBaseUpdate=X,(u=v.shared.interleaved)!==null){v=u;do C|=v.lane,v=v.next;while(v!==u)}else b===null&&(v.shared.lanes=0);$o|=C,a.lanes=C,a.memoizedState=ae}}function pA(a,u,d){if(a=u.effects,u.effects=null,a!==null)for(u=0;u<a.length;u++){var g=a[u],v=g.callback;if(v!==null){if(g.callback=null,g=d,typeof v!="function")throw Error(s(191,v));v.call(g)}}}var mA=new r.Component().refs;function b0(a,u,d,g){d=(d=d(g,u=a.memoizedState))==null?u:i({},u,d),a.memoizedState=d,a.lanes===0&&(a.updateQueue.baseState=d)}var $f={isMounted:function(a){return!!(a=a._reactInternals)&&M(a)===a},enqueueSetState:function(a,u,d){a=a._reactInternals;var g=Er(),v=Ys(a),b=ns(g,v);b.payload=u,d!=null&&(b.callback=d),(u=Ws(a,b,v))!==null&&(bn(u,a,v,g),Gf(u,a,v))},enqueueReplaceState:function(a,u,d){a=a._reactInternals;var g=Er(),v=Ys(a),b=ns(g,v);b.tag=1,b.payload=u,d!=null&&(b.callback=d),(u=Ws(a,b,v))!==null&&(bn(u,a,v,g),Gf(u,a,v))},enqueueForceUpdate:function(a,u){a=a._reactInternals;var d=Er(),g=Ys(a),v=ns(d,g);v.tag=2,u!=null&&(v.callback=u),(u=Ws(a,v,g))!==null&&(bn(u,a,g,d),Gf(u,a,g))}};function gA(a,u,d,g,v,b,C){return typeof(a=a.stateNode).shouldComponentUpdate=="function"?a.shouldComponentUpdate(g,b,C):!u.prototype||!u.prototype.isPureReactComponent||!zf(d,g)||!zf(v,b)}function vA(a,u,d){var g=!1,v=Hs,b=u.contextType;return typeof b=="object"&&b!==null?b=vn(b):(v=en(u)?zo:br.current,b=(g=(g=u.contextTypes)!=null)?hl(a,v):Hs),u=new u(d,b),a.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=$f,a.stateNode=u,u._reactInternals=a,g&&((a=a.stateNode).__reactInternalMemoizedUnmaskedChildContext=v,a.__reactInternalMemoizedMaskedChildContext=b),u}function yA(a,u,d,g){a=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(d,g),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(d,g),u.state!==a&&$f.enqueueReplaceState(u,u.state,null)}function x0(a,u,d,g){var v=a.stateNode;v.props=d,v.state=a.memoizedState,v.refs=mA,_0(a);var b=u.contextType;typeof b=="object"&&b!==null?v.context=vn(b):(b=en(u)?zo:br.current,v.context=hl(a,b)),v.state=a.memoizedState,typeof(b=u.getDerivedStateFromProps)=="function"&&(b0(a,u,b,d),v.state=a.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(u=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),u!==v.state&&$f.enqueueReplaceState(v,v.state,null),Wf(a,d,v,g),v.state=a.memoizedState),typeof v.componentDidMount=="function"&&(a.flags|=4194308)}function mc(a,u,d){if((a=d.ref)!==null&&typeof a!="function"&&typeof a!="object"){if(d._owner){if(d=d._owner){if(d.tag!==1)throw Error(s(309));var g=d.stateNode}if(!g)throw Error(s(147,a));var v=g,b=""+a;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===b?u.ref:(u=function(C){var P=v.refs;P===mA&&(P=v.refs={}),C===null?delete P[b]:P[b]=C},u._stringRef=b,u)}if(typeof a!="string")throw Error(s(284));if(!d._owner)throw Error(s(290,a))}return a}function Vf(a,u){throw a=Object.prototype.toString.call(u),Error(s(31,a==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":a))}function _A(a){return(0,a._init)(a._payload)}function bA(a){function u(Y,N){if(a){var U=Y.deletions;U===null?(Y.deletions=[N],Y.flags|=16):U.push(N)}}function d(Y,N){if(!a)return null;for(;N!==null;)u(Y,N),N=N.sibling;return null}function g(Y,N){for(Y=new Map;N!==null;)N.key!==null?Y.set(N.key,N):Y.set(N.index,N),N=N.sibling;return Y}function v(Y,N){return(Y=Ks(Y,N)).index=0,Y.sibling=null,Y}function b(Y,N,U){return Y.index=U,a?(U=Y.alternate)!==null?(U=U.index)<N?(Y.flags|=2,N):U:(Y.flags|=2,N):(Y.flags|=1048576,N)}function C(Y){return a&&Y.alternate===null&&(Y.flags|=2),Y}function P(Y,N,U,Z){return N===null||N.tag!==6?((N=a_(U,Y.mode,Z)).return=Y,N):((N=v(N,U)).return=Y,N)}function D(Y,N,U,Z){var we=U.type;return we===h?X(Y,N,U.props.children,Z,U.key):N!==null&&(N.elementType===we||typeof we=="object"&&we!==null&&we.$$typeof===x&&_A(we)===N.type)?((Z=v(N,U.props)).ref=mc(Y,N,U),Z.return=Y,Z):((Z=yp(U.type,U.key,U.props,null,Y.mode,Z)).ref=mc(Y,N,U),Z.return=Y,Z)}function j(Y,N,U,Z){return N===null||N.tag!==4||N.stateNode.containerInfo!==U.containerInfo||N.stateNode.implementation!==U.implementation?((N=l_(U,Y.mode,Z)).return=Y,N):((N=v(N,U.children||[])).return=Y,N)}function X(Y,N,U,Z,we){return N===null||N.tag!==7?((N=Yo(U,Y.mode,Z,we)).return=Y,N):((N=v(N,U)).return=Y,N)}function ae(Y,N,U){if(typeof N=="string"&&N!==""||typeof N=="number")return(N=a_(""+N,Y.mode,U)).return=Y,N;if(typeof N=="object"&&N!==null){switch(N.$$typeof){case l:return(U=yp(N.type,N.key,N.props,null,Y.mode,U)).ref=mc(Y,null,N),U.return=Y,U;case c:return(N=l_(N,Y.mode,U)).return=Y,N;case x:return ae(Y,(0,N._init)(N._payload),U)}if(ge(N)||R(N))return(N=Yo(N,Y.mode,U,null)).return=Y,N;Vf(Y,N)}return null}function G(Y,N,U,Z){var we=N!==null?N.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return we!==null?null:P(Y,N,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case l:return U.key===we?D(Y,N,U,Z):null;case c:return U.key===we?j(Y,N,U,Z):null;case x:return G(Y,N,(we=U._init)(U._payload),Z)}if(ge(U)||R(U))return we!==null?null:X(Y,N,U,Z,null);Vf(Y,U)}return null}function re(Y,N,U,Z,we){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return P(N,Y=Y.get(U)||null,""+Z,we);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case l:return D(N,Y=Y.get(Z.key===null?U:Z.key)||null,Z,we);case c:return j(N,Y=Y.get(Z.key===null?U:Z.key)||null,Z,we);case x:return re(Y,N,U,(0,Z._init)(Z._payload),we)}if(ge(Z)||R(Z))return X(N,Y=Y.get(U)||null,Z,we,null);Vf(N,Z)}return null}function ye(Y,N,U,Z){for(var we=null,et=null,_e=N,Ke=N=0,cr=null;_e!==null&&Ke<U.length;Ke++){_e.index>Ke?(cr=_e,_e=null):cr=_e.sibling;var Qe=G(Y,_e,U[Ke],Z);if(Qe===null){_e===null&&(_e=cr);break}a&&_e&&Qe.alternate===null&&u(Y,_e),N=b(Qe,N,Ke),et===null?we=Qe:et.sibling=Qe,et=Qe,_e=cr}if(Ke===U.length)return d(Y,_e),vt&&Ho(Y,Ke),we;if(_e===null){for(;Ke<U.length;Ke++)(_e=ae(Y,U[Ke],Z))!==null&&(N=b(_e,N,Ke),et===null?we=_e:et.sibling=_e,et=_e);return vt&&Ho(Y,Ke),we}for(_e=g(Y,_e);Ke<U.length;Ke++)(cr=re(_e,Y,Ke,U[Ke],Z))!==null&&(a&&cr.alternate!==null&&_e.delete(cr.key===null?Ke:cr.key),N=b(cr,N,Ke),et===null?we=cr:et.sibling=cr,et=cr);return a&&_e.forEach(function(Qs){return u(Y,Qs)}),vt&&Ho(Y,Ke),we}function Oe(Y,N,U,Z){var we=R(U);if(typeof we!="function")throw Error(s(150));if((U=we.call(U))==null)throw Error(s(151));for(var et=we=null,_e=N,Ke=N=0,cr=null,Qe=U.next();_e!==null&&!Qe.done;Ke++,Qe=U.next()){_e.index>Ke?(cr=_e,_e=null):cr=_e.sibling;var Qs=G(Y,_e,Qe.value,Z);if(Qs===null){_e===null&&(_e=cr);break}a&&_e&&Qs.alternate===null&&u(Y,_e),N=b(Qs,N,Ke),et===null?we=Qs:et.sibling=Qs,et=Qs,_e=cr}if(Qe.done)return d(Y,_e),vt&&Ho(Y,Ke),we;if(_e===null){for(;!Qe.done;Ke++,Qe=U.next())(Qe=ae(Y,Qe.value,Z))!==null&&(N=b(Qe,N,Ke),et===null?we=Qe:et.sibling=Qe,et=Qe);return vt&&Ho(Y,Ke),we}for(_e=g(Y,_e);!Qe.done;Ke++,Qe=U.next())(Qe=re(_e,Y,Ke,Qe.value,Z))!==null&&(a&&Qe.alternate!==null&&_e.delete(Qe.key===null?Ke:Qe.key),N=b(Qe,N,Ke),et===null?we=Qe:et.sibling=Qe,et=Qe);return a&&_e.forEach(function(k4){return u(Y,k4)}),vt&&Ho(Y,Ke),we}return function Y(N,U,Z,we){if(typeof Z=="object"&&Z!==null&&Z.type===h&&Z.key===null&&(Z=Z.props.children),typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case l:e:{for(var et=Z.key,_e=U;_e!==null;){if(_e.key===et){if((et=Z.type)===h){if(_e.tag===7){d(N,_e.sibling),(U=v(_e,Z.props.children)).return=N,N=U;break e}}else if(_e.elementType===et||typeof et=="object"&&et!==null&&et.$$typeof===x&&_A(et)===_e.type){d(N,_e.sibling),(U=v(_e,Z.props)).ref=mc(N,_e,Z),U.return=N,N=U;break e}d(N,_e);break}u(N,_e),_e=_e.sibling}Z.type===h?((U=Yo(Z.props.children,N.mode,we,Z.key)).return=N,N=U):((we=yp(Z.type,Z.key,Z.props,null,N.mode,we)).ref=mc(N,U,Z),we.return=N,N=we)}return C(N);case c:e:{for(_e=Z.key;U!==null;){if(U.key===_e){if(U.tag===4&&U.stateNode.containerInfo===Z.containerInfo&&U.stateNode.implementation===Z.implementation){d(N,U.sibling),(U=v(U,Z.children||[])).return=N,N=U;break e}d(N,U);break}u(N,U),U=U.sibling}(U=l_(Z,N.mode,we)).return=N,N=U}return C(N);case x:return Y(N,U,(_e=Z._init)(Z._payload),we)}if(ge(Z))return ye(N,U,Z,we);if(R(Z))return Oe(N,U,Z,we);Vf(N,Z)}return typeof Z=="string"&&Z!==""||typeof Z=="number"?(Z=""+Z,U!==null&&U.tag===6?(d(N,U.sibling),(U=v(U,Z)).return=N,N=U):(d(N,U),(U=a_(Z,N.mode,we)).return=N,N=U),C(N)):d(N,U)}}var vl=bA(!0),xA=bA(!1),gc={},yn=js(gc),vc=js(gc),yl=js(gc);function wi(a){if(a===gc)throw Error(s(174));return a}function w0(a,u){ot(yl,u),ot(vc,a),ot(yn,gc),a=ie(u),gt(yn),ot(yn,a)}function _l(){gt(yn),gt(vc),gt(yl)}function wA(a){var u=wi(yl.current),d=wi(yn.current);d!==(u=O(d,a.type,u))&&(ot(vc,a),ot(yn,u))}function E0(a){vc.current===a&&(gt(yn),gt(vc))}var Ct=js(0);function Xf(a){for(var u=a;u!==null;){if(u.tag===13){var d=u.memoizedState;if(d!==null&&((d=d.dehydrated)===null||Bo(d)||Fo(d)))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if(128&u.flags)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break;for(;u.sibling===null;){if(u.return===null||u.return===a)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var T0=[];function S0(){for(var a=0;a<T0.length;a++){var u=T0[a];mt?u._workInProgressVersionPrimary=null:u._workInProgressVersionSecondary=null}T0.length=0}var Yf=o.ReactCurrentDispatcher,A0=o.ReactCurrentBatchConfig,Wo=0,Tt=null,er=null,tr=null,qf=!1,yc=!1,_c=0,l4=0;function xr(){throw Error(s(321))}function C0(a,u){if(u===null)return!1;for(var d=0;d<u.length&&d<a.length;d++)if(!Kn(a[d],u[d]))return!1;return!0}function P0(a,u,d,g,v,b){if(Wo=b,Tt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,Yf.current=a===null||a.memoizedState===null?d4:f4,a=d(g,v),yc){b=0;do{if(yc=!1,_c=0,25<=b)throw Error(s(301));b+=1,tr=er=null,u.updateQueue=null,Yf.current=p4,a=d(g,v)}while(yc)}if(Yf.current=Jf,u=er!==null&&er.next!==null,Wo=0,tr=er=Tt=null,qf=!1,u)throw Error(s(300));return a}function R0(){var a=_c!==0;return _c=0,a}function Ei(){var a={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?Tt.memoizedState=tr=a:tr=tr.next=a,tr}function _n(){if(er===null){var a=Tt.alternate;a=a!==null?a.memoizedState:null}else a=er.next;var u=tr===null?Tt.memoizedState:tr.next;if(u!==null)tr=u,er=a;else{if(a===null)throw Error(s(310));a={memoizedState:(er=a).memoizedState,baseState:er.baseState,baseQueue:er.baseQueue,queue:er.queue,next:null},tr===null?Tt.memoizedState=tr=a:tr=tr.next=a}return tr}function bc(a,u){return typeof u=="function"?u(a):u}function I0(a){var u=_n(),d=u.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var g=er,v=g.baseQueue,b=d.pending;if(b!==null){if(v!==null){var C=v.next;v.next=b.next,b.next=C}g.baseQueue=v=b,d.pending=null}if(v!==null){b=v.next,g=g.baseState;var P=C=null,D=null,j=b;do{var X=j.lane;if((Wo&X)===X)D!==null&&(D=D.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),g=j.hasEagerState?j.eagerState:a(g,j.action);else{var ae={lane:X,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};D===null?(P=D=ae,C=g):D=D.next=ae,Tt.lanes|=X,$o|=X}j=j.next}while(j!==null&&j!==b);D===null?C=g:D.next=P,Kn(g,u.memoizedState)||(jr=!0),u.memoizedState=g,u.baseState=C,u.baseQueue=D,d.lastRenderedState=g}if((a=d.interleaved)!==null){v=a;do b=v.lane,Tt.lanes|=b,$o|=b,v=v.next;while(v!==a)}else v===null&&(d.lanes=0);return[u.memoizedState,d.dispatch]}function k0(a){var u=_n(),d=u.queue;if(d===null)throw Error(s(311));d.lastRenderedReducer=a;var g=d.dispatch,v=d.pending,b=u.memoizedState;if(v!==null){d.pending=null;var C=v=v.next;do b=a(b,C.action),C=C.next;while(C!==v);Kn(b,u.memoizedState)||(jr=!0),u.memoizedState=b,u.baseQueue===null&&(u.baseState=b),d.lastRenderedState=b}return[b,g]}function EA(){}function TA(a,u){var d=Tt,g=_n(),v=u(),b=!Kn(g.memoizedState,v);if(b&&(g.memoizedState=v,jr=!0),g=g.queue,M0(CA.bind(null,d,g,a),[a]),g.getSnapshot!==u||b||tr!==null&&1&tr.memoizedState.tag){if(d.flags|=2048,xc(9,AA.bind(null,d,g,v,u),void 0,null),rr===null)throw Error(s(349));30&Wo||SA(d,u,v)}return v}function SA(a,u,d){a.flags|=16384,a={getSnapshot:u,value:d},(u=Tt.updateQueue)===null?(u={lastEffect:null,stores:null},Tt.updateQueue=u,u.stores=[a]):(d=u.stores)===null?u.stores=[a]:d.push(a)}function AA(a,u,d,g){u.value=d,u.getSnapshot=g,PA(u)&&RA(a)}function CA(a,u,d){return d(function(){PA(u)&&RA(a)})}function PA(a){var u=a.getSnapshot;a=a.value;try{var d=u();return!Kn(a,d)}catch{return!0}}function RA(a){var u=xi(a,1);u!==null&&bn(u,a,1,-1)}function IA(a){var u=Ei();return typeof a=="function"&&(a=a()),u.memoizedState=u.baseState=a,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bc,lastRenderedState:a},u.queue=a,a=a.dispatch=h4.bind(null,Tt,a),[u.memoizedState,a]}function xc(a,u,d,g){return a={tag:a,create:u,destroy:d,deps:g,next:null},(u=Tt.updateQueue)===null?(u={lastEffect:null,stores:null},Tt.updateQueue=u,u.lastEffect=a.next=a):(d=u.lastEffect)===null?u.lastEffect=a.next=a:(g=d.next,d.next=a,a.next=g,u.lastEffect=a),a}function kA(){return _n().memoizedState}function Kf(a,u,d,g){var v=Ei();Tt.flags|=a,v.memoizedState=xc(1|u,d,void 0,g===void 0?null:g)}function Qf(a,u,d,g){var v=_n();g=g===void 0?null:g;var b=void 0;if(er!==null){var C=er.memoizedState;if(b=C.destroy,g!==null&&C0(g,C.deps))return void(v.memoizedState=xc(u,d,b,g))}Tt.flags|=a,v.memoizedState=xc(1|u,d,b,g)}function MA(a,u){return Kf(8390656,8,a,u)}function M0(a,u){return Qf(2048,8,a,u)}function NA(a,u){return Qf(4,2,a,u)}function OA(a,u){return Qf(4,4,a,u)}function DA(a,u){return typeof u=="function"?(a=a(),u(a),function(){u(null)}):u!=null?(a=a(),u.current=a,function(){u.current=null}):void 0}function LA(a,u,d){return d=d!=null?d.concat([a]):null,Qf(4,4,DA.bind(null,u,a),d)}function N0(){}function BA(a,u){var d=_n();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&C0(u,g[1])?g[0]:(d.memoizedState=[a,u],a)}function FA(a,u){var d=_n();u=u===void 0?null:u;var g=d.memoizedState;return g!==null&&u!==null&&C0(u,g[1])?g[0]:(a=a(),d.memoizedState=[a,u],a)}function UA(a,u,d){return 21&Wo?(Kn(d,u)||(d=eA(),Tt.lanes|=d,$o|=d,a.baseState=!0),u):(a.baseState&&(a.baseState=!1,jr=!0),a.memoizedState=d)}function u4(a,u){var d=qe;qe=d!==0&&4>d?d:4,a(!0);var g=A0.transition;A0.transition={};try{a(!1),u()}finally{qe=d,A0.transition=g}}function zA(){return _n().memoizedState}function c4(a,u,d){var g=Ys(a);d={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null},jA(a)?HA(u,d):(d=hA(a,u,d,g))!==null&&(bn(d,a,g,Er()),GA(d,u,g))}function h4(a,u,d){var g=Ys(a),v={lane:g,action:d,hasEagerState:!1,eagerState:null,next:null};if(jA(a))HA(u,v);else{var b=a.alternate;if(a.lanes===0&&(b===null||b.lanes===0)&&(b=u.lastRenderedReducer)!==null)try{var C=u.lastRenderedState,P=b(C,d);if(v.hasEagerState=!0,v.eagerState=P,Kn(P,C)){var D=u.interleaved;return D===null?(v.next=v,y0(u)):(v.next=D.next,D.next=v),void(u.interleaved=v)}}catch{}(d=hA(a,u,v,g))!==null&&(bn(d,a,g,v=Er()),GA(d,u,g))}}function jA(a){var u=a.alternate;return a===Tt||u!==null&&u===Tt}function HA(a,u){yc=qf=!0;var d=a.pending;d===null?u.next=u:(u.next=d.next,d.next=u),a.pending=u}function GA(a,u,d){if(4194240&d){var g=u.lanes;d|=g&=a.pendingLanes,u.lanes=d,s0(a,d)}}var Jf={readContext:vn,useCallback:xr,useContext:xr,useEffect:xr,useImperativeHandle:xr,useInsertionEffect:xr,useLayoutEffect:xr,useMemo:xr,useReducer:xr,useRef:xr,useState:xr,useDebugValue:xr,useDeferredValue:xr,useTransition:xr,useMutableSource:xr,useSyncExternalStore:xr,useId:xr,unstable_isNewReconciler:!1},d4={readContext:vn,useCallback:function(a,u){return Ei().memoizedState=[a,u===void 0?null:u],a},useContext:vn,useEffect:MA,useImperativeHandle:function(a,u,d){return d=d!=null?d.concat([a]):null,Kf(4194308,4,DA.bind(null,u,a),d)},useLayoutEffect:function(a,u){return Kf(4194308,4,a,u)},useInsertionEffect:function(a,u){return Kf(4,2,a,u)},useMemo:function(a,u){var d=Ei();return u=u===void 0?null:u,a=a(),d.memoizedState=[a,u],a},useReducer:function(a,u,d){var g=Ei();return u=d!==void 0?d(u):u,g.memoizedState=g.baseState=u,a={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:a,lastRenderedState:u},g.queue=a,a=a.dispatch=c4.bind(null,Tt,a),[g.memoizedState,a]},useRef:function(a){return a={current:a},Ei().memoizedState=a},useState:IA,useDebugValue:N0,useDeferredValue:function(a){return Ei().memoizedState=a},useTransition:function(){var a=IA(!1),u=a[0];return a=u4.bind(null,a[1]),Ei().memoizedState=a,[u,a]},useMutableSource:function(){},useSyncExternalStore:function(a,u,d){var g=Tt,v=Ei();if(vt){if(d===void 0)throw Error(s(407));d=d()}else{if(d=u(),rr===null)throw Error(s(349));30&Wo||SA(g,u,d)}v.memoizedState=d;var b={value:d,getSnapshot:u};return v.queue=b,MA(CA.bind(null,g,b,a),[a]),g.flags|=2048,xc(9,AA.bind(null,g,b,d,u),void 0,null),d},useId:function(){var a=Ei(),u=rr.identifierPrefix;if(vt){var d=rs;u=":"+u+"R"+(d=(bi&~(1<<32-qn(bi)-1)).toString(32)+d),0<(d=_c++)&&(u+="H"+d.toString(32)),u+=":"}else u=":"+u+"r"+(d=l4++).toString(32)+":";return a.memoizedState=u},unstable_isNewReconciler:!1},f4={readContext:vn,useCallback:BA,useContext:vn,useEffect:M0,useImperativeHandle:LA,useInsertionEffect:NA,useLayoutEffect:OA,useMemo:FA,useReducer:I0,useRef:kA,useState:function(){return I0(bc)},useDebugValue:N0,useDeferredValue:function(a){return UA(_n(),er.memoizedState,a)},useTransition:function(){return[I0(bc)[0],_n().memoizedState]},useMutableSource:EA,useSyncExternalStore:TA,useId:zA,unstable_isNewReconciler:!1},p4={readContext:vn,useCallback:BA,useContext:vn,useEffect:M0,useImperativeHandle:LA,useInsertionEffect:NA,useLayoutEffect:OA,useMemo:FA,useReducer:k0,useRef:kA,useState:function(){return k0(bc)},useDebugValue:N0,useDeferredValue:function(a){var u=_n();return er===null?u.memoizedState=a:UA(u,er.memoizedState,a)},useTransition:function(){return[k0(bc)[0],_n().memoizedState]},useMutableSource:EA,useSyncExternalStore:TA,useId:zA,unstable_isNewReconciler:!1};function bl(a,u){try{var d="",g=u;do d+=a4(g),g=g.return;while(g);var v=d}catch(b){v=`
Error generating stack: `+b.message+`
`+b.stack}return{value:a,source:u,stack:v,digest:null}}function O0(a,u,d){return{value:a,source:null,stack:d??null,digest:u??null}}function D0(a,u){try{console.error(u.value)}catch(d){setTimeout(function(){throw d})}}var m4=typeof WeakMap=="function"?WeakMap:Map;function WA(a,u,d){(d=ns(-1,d)).tag=3,d.payload={element:null};var g=u.value;return d.callback=function(){dp||(dp=!0,e_=g),D0(0,u)},d}function $A(a,u,d){(d=ns(-1,d)).tag=3;var g=a.type.getDerivedStateFromError;if(typeof g=="function"){var v=u.value;d.payload=function(){return g(v)},d.callback=function(){D0(0,u)}}var b=a.stateNode;return b!==null&&typeof b.componentDidCatch=="function"&&(d.callback=function(){D0(0,u),typeof g!="function"&&(Vs===null?Vs=new Set([this]):Vs.add(this));var C=u.stack;this.componentDidCatch(u.value,{componentStack:C!==null?C:""})}),d}function VA(a,u,d){var g=a.pingCache;if(g===null){g=a.pingCache=new m4;var v=new Set;g.set(u,v)}else(v=g.get(u))===void 0&&(v=new Set,g.set(u,v));v.has(d)||(v.add(d),a=T4.bind(null,a,u,d),u.then(a,a))}function XA(a){do{var u;if((u=a.tag===13)&&(u=(u=a.memoizedState)===null||u.dehydrated!==null),u)return a;a=a.return}while(a!==null);return null}function YA(a,u,d,g,v){return 1&a.mode?(a.flags|=65536,a.lanes=v,a):(a===u?a.flags|=65536:(a.flags|=128,d.flags|=131072,d.flags&=-52805,d.tag===1&&(d.alternate===null?d.tag=17:((u=ns(-1,1)).tag=2,Ws(d,u,1))),d.lanes|=1),a)}var g4=o.ReactCurrentOwner,jr=!1;function Hr(a,u,d,g){u.child=a===null?xA(u,null,d,g):vl(u,a.child,d,g)}function qA(a,u,d,g,v){d=d.render;var b=u.ref;return gl(u,v),g=P0(a,u,d,g,b,v),d=R0(),a===null||jr?(vt&&d&&u0(u),u.flags|=1,Hr(a,u,g,v),u.child):(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~v,is(a,u,v))}function KA(a,u,d,g,v){if(a===null){var b=d.type;return typeof b!="function"||o_(b)||b.defaultProps!==void 0||d.compare!==null||d.defaultProps!==void 0?((a=yp(d.type,null,g,u,u.mode,v)).ref=u.ref,a.return=u,u.child=a):(u.tag=15,u.type=b,QA(a,u,b,g,v))}if(b=a.child,(a.lanes&v)==0){var C=b.memoizedProps;if((d=(d=d.compare)!==null?d:zf)(C,g)&&a.ref===u.ref)return is(a,u,v)}return u.flags|=1,(a=Ks(b,g)).ref=u.ref,a.return=u,u.child=a}function QA(a,u,d,g,v){if(a!==null){var b=a.memoizedProps;if(zf(b,g)&&a.ref===u.ref){if(jr=!1,u.pendingProps=g=b,(a.lanes&v)==0)return u.lanes=a.lanes,is(a,u,v);131072&a.flags&&(jr=!0)}}return L0(a,u,d,g,v)}function JA(a,u,d){var g=u.pendingProps,v=g.children,b=a!==null?a.memoizedState:null;if(g.mode==="hidden")if(!(1&u.mode))u.memoizedState={baseLanes:0,cachePool:null,transitions:null},ot(wl,rn),rn|=d;else{if(!(1073741824&d))return a=b!==null?b.baseLanes|d:d,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:a,cachePool:null,transitions:null},u.updateQueue=null,ot(wl,rn),rn|=a,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},g=b!==null?b.baseLanes:d,ot(wl,rn),rn|=g}else b!==null?(g=b.baseLanes|d,u.memoizedState=null):g=d,ot(wl,rn),rn|=g;return Hr(a,u,v,d),u.child}function ZA(a,u){var d=u.ref;(a===null&&d!==null||a!==null&&a.ref!==d)&&(u.flags|=512,u.flags|=2097152)}function L0(a,u,d,g,v){var b=en(d)?zo:br.current;return b=hl(u,b),gl(u,v),d=P0(a,u,d,g,b,v),g=R0(),a===null||jr?(vt&&g&&u0(u),u.flags|=1,Hr(a,u,d,v),u.child):(u.updateQueue=a.updateQueue,u.flags&=-2053,a.lanes&=~v,is(a,u,v))}function e2(a,u,d,g,v){if(en(d)){var b=!0;Nf(u)}else b=!1;if(gl(u,v),u.stateNode===null)rp(a,u),vA(u,d,g),x0(u,d,g,v),g=!0;else if(a===null){var C=u.stateNode,P=u.memoizedProps;C.props=P;var D=C.context,j=d.contextType;typeof j=="object"&&j!==null?j=vn(j):j=hl(u,j=en(d)?zo:br.current);var X=d.getDerivedStateFromProps,ae=typeof X=="function"||typeof C.getSnapshotBeforeUpdate=="function";ae||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==g||D!==j)&&yA(u,C,g,j),Gs=!1;var G=u.memoizedState;C.state=G,Wf(u,g,C,v),D=u.memoizedState,P!==g||G!==D||zr.current||Gs?(typeof X=="function"&&(b0(u,d,X,g),D=u.memoizedState),(P=Gs||gA(u,d,P,g,G,D,j))?(ae||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(u.flags|=4194308)):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=g,u.memoizedState=D),C.props=g,C.state=D,C.context=j,g=P):(typeof C.componentDidMount=="function"&&(u.flags|=4194308),g=!1)}else{C=u.stateNode,dA(a,u),P=u.memoizedProps,j=u.type===u.elementType?P:Jn(u.type,P),C.props=j,ae=u.pendingProps,G=C.context,typeof(D=d.contextType)=="object"&&D!==null?D=vn(D):D=hl(u,D=en(d)?zo:br.current);var re=d.getDerivedStateFromProps;(X=typeof re=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(P!==ae||G!==D)&&yA(u,C,g,D),Gs=!1,G=u.memoizedState,C.state=G,Wf(u,g,C,v);var ye=u.memoizedState;P!==ae||G!==ye||zr.current||Gs?(typeof re=="function"&&(b0(u,d,re,g),ye=u.memoizedState),(j=Gs||gA(u,d,j,g,G,ye,D)||!1)?(X||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(g,ye,D),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(g,ye,D)),typeof C.componentDidUpdate=="function"&&(u.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof C.componentDidUpdate!="function"||P===a.memoizedProps&&G===a.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&G===a.memoizedState||(u.flags|=1024),u.memoizedProps=g,u.memoizedState=ye),C.props=g,C.state=ye,C.context=D,g=j):(typeof C.componentDidUpdate!="function"||P===a.memoizedProps&&G===a.memoizedState||(u.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||P===a.memoizedProps&&G===a.memoizedState||(u.flags|=1024),g=!1)}return B0(a,u,d,g,b,v)}function B0(a,u,d,g,v,b){ZA(a,u);var C=(128&u.flags)!=0;if(!g&&!C)return v&&ZS(u,d,!1),is(a,u,b);g=u.stateNode,g4.current=u;var P=C&&typeof d.getDerivedStateFromError!="function"?null:g.render();return u.flags|=1,a!==null&&C?(u.child=vl(u,a.child,null,b),u.child=vl(u,null,P,b)):Hr(a,u,P,b),u.memoizedState=g.state,v&&ZS(u,d,!0),u.child}function t2(a){var u=a.stateNode;u.pendingContext?QS(0,u.pendingContext,u.pendingContext!==u.context):u.context&&QS(0,u.context,!1),w0(a,u.containerInfo)}function r2(a,u,d,g,v){return pl(),f0(v),u.flags|=256,Hr(a,u,d,g),u.child}var wc,Ec,Zf,ep,F0={dehydrated:null,treeContext:null,retryLane:0};function U0(a){return{baseLanes:a,cachePool:null,transitions:null}}function n2(a,u,d){var g,v=u.pendingProps,b=Ct.current,C=!1,P=(128&u.flags)!=0;if((g=P)||(g=(a===null||a.memoizedState!==null)&&(2&b)!=0),g?(C=!0,u.flags&=-129):a!==null&&a.memoizedState===null||(b|=1),ot(Ct,1&b),a===null)return d0(u),(a=u.memoizedState)!==null&&(a=a.dehydrated)!==null?(1&u.mode?Fo(a)?u.lanes=8:u.lanes=1073741824:u.lanes=1,null):(P=v.children,a=v.fallback,C?(v=u.mode,C=u.child,P={mode:"hidden",children:P},!(1&v)&&C!==null?(C.childLanes=0,C.pendingProps=P):C=_p(P,v,0,null),a=Yo(a,v,d,null),C.return=u,a.return=u,C.sibling=a,u.child=C,u.child.memoizedState=U0(d),u.memoizedState=F0,a):z0(u,P));if((b=a.memoizedState)!==null&&(g=b.dehydrated)!==null)return function(j,X,ae,G,re,ye,Oe){if(ae)return 256&X.flags?(X.flags&=-257,tp(j,X,Oe,G=O0(Error(s(422))))):X.memoizedState!==null?(X.child=j.child,X.flags|=128,null):(ye=G.fallback,re=X.mode,G=_p({mode:"visible",children:G.children},re,0,null),(ye=Yo(ye,re,Oe,null)).flags|=2,G.return=X,ye.return=X,G.sibling=ye,X.child=G,1&X.mode&&vl(X,j.child,null,Oe),X.child.memoizedState=U0(Oe),X.memoizedState=F0,ye);if(!(1&X.mode))return tp(j,X,Oe,null);if(Fo(re))return G=uc(re).digest,ye=Error(s(419)),G=O0(ye,G,void 0),tp(j,X,Oe,G);if(ae=(Oe&j.childLanes)!=0,jr||ae){if((G=rr)!==null){switch(Oe&-Oe){case 4:re=2;break;case 16:re=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:re=32;break;case 536870912:re=268435456;break;default:re=0}(re=re&(G.suspendedLanes|Oe)?0:re)!==0&&re!==ye.retryLane&&(ye.retryLane=re,xi(j,re),bn(G,j,re,-1))}return s_(),tp(j,X,Oe,G=O0(Error(s(421))))}return Bo(re)?(X.flags|=128,X.child=j.child,X=S4.bind(null,j),cc(re,X),null):(j=ye.treeContext,$e&&(gn=zs(re),tn=X,vt=!0,Qn=null,pc=!1,j!==null&&(pn[mn++]=bi,pn[mn++]=rs,pn[mn++]=jo,bi=j.id,rs=j.overflow,jo=X)),X=z0(X,G.children),X.flags|=4096,X)}(a,u,P,v,g,b,d);if(C){C=v.fallback,P=u.mode,g=(b=a.child).sibling;var D={mode:"hidden",children:v.children};return!(1&P)&&u.child!==b?((v=u.child).childLanes=0,v.pendingProps=D,u.deletions=null):(v=Ks(b,D)).subtreeFlags=14680064&b.subtreeFlags,g!==null?C=Ks(g,C):(C=Yo(C,P,d,null)).flags|=2,C.return=u,v.return=u,v.sibling=C,u.child=v,v=C,C=u.child,P=(P=a.child.memoizedState)===null?U0(d):{baseLanes:P.baseLanes|d,cachePool:null,transitions:P.transitions},C.memoizedState=P,C.childLanes=a.childLanes&~d,u.memoizedState=F0,v}return a=(C=a.child).sibling,v=Ks(C,{mode:"visible",children:v.children}),!(1&u.mode)&&(v.lanes=d),v.return=u,v.sibling=null,a!==null&&((d=u.deletions)===null?(u.deletions=[a],u.flags|=16):d.push(a)),u.child=v,u.memoizedState=null,v}function z0(a,u){return(u=_p({mode:"visible",children:u},a.mode,0,null)).return=a,a.child=u}function tp(a,u,d,g){return g!==null&&f0(g),vl(u,a.child,null,d),(a=z0(u,u.pendingProps.children)).flags|=2,u.memoizedState=null,a}function i2(a,u,d){a.lanes|=u;var g=a.alternate;g!==null&&(g.lanes|=u),v0(a.return,u,d)}function j0(a,u,d,g,v){var b=a.memoizedState;b===null?a.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:g,tail:d,tailMode:v}:(b.isBackwards=u,b.rendering=null,b.renderingStartTime=0,b.last=g,b.tail=d,b.tailMode=v)}function s2(a,u,d){var g=u.pendingProps,v=g.revealOrder,b=g.tail;if(Hr(a,u,g.children,d),(2&(g=Ct.current))!=0)g=1&g|2,u.flags|=128;else{if(a!==null&&128&a.flags)e:for(a=u.child;a!==null;){if(a.tag===13)a.memoizedState!==null&&i2(a,d,u);else if(a.tag===19)i2(a,d,u);else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===u)break e;for(;a.sibling===null;){if(a.return===null||a.return===u)break e;a=a.return}a.sibling.return=a.return,a=a.sibling}g&=1}if(ot(Ct,g),(1&u.mode)==0)u.memoizedState=null;else switch(v){case"forwards":for(d=u.child,v=null;d!==null;)(a=d.alternate)!==null&&Xf(a)===null&&(v=d),d=d.sibling;(d=v)===null?(v=u.child,u.child=null):(v=d.sibling,d.sibling=null),j0(u,!1,v,d,b);break;case"backwards":for(d=null,v=u.child,u.child=null;v!==null;){if((a=v.alternate)!==null&&Xf(a)===null){u.child=v;break}a=v.sibling,v.sibling=d,d=v,v=a}j0(u,!0,d,null,b);break;case"together":j0(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function rp(a,u){!(1&u.mode)&&a!==null&&(a.alternate=null,u.alternate=null,u.flags|=2)}function is(a,u,d){if(a!==null&&(u.dependencies=a.dependencies),$o|=u.lanes,(d&u.childLanes)==0)return null;if(a!==null&&u.child!==a.child)throw Error(s(153));if(u.child!==null){for(d=Ks(a=u.child,a.pendingProps),u.child=d,d.return=u;a.sibling!==null;)a=a.sibling,(d=d.sibling=Ks(a,a.pendingProps)).return=u;d.sibling=null}return u.child}function Ti(a){a.flags|=4}function o2(a,u){if(a!==null&&a.child===u.child)return!0;if(16&u.flags)return!1;for(a=u.child;a!==null;){if(12854&a.flags||12854&a.subtreeFlags)return!1;a=a.sibling}return!0}if(Ne)wc=function(a,u){for(var d=u.child;d!==null;){if(d.tag===5||d.tag===6)oe(a,d.stateNode);else if(d.tag!==4&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===u)break;for(;d.sibling===null;){if(d.return===null||d.return===u)return;d=d.return}d.sibling.return=d.return,d=d.sibling}},Ec=function(){},Zf=function(a,u,d,g,v){if((a=a.memoizedProps)!==g){var b=u.stateNode,C=wi(yn.current);d=pe(b,d,a,g,v,C),(u.updateQueue=d)&&Ti(u)}},ep=function(a,u,d,g){d!==g&&Ti(u)};else if(rt){wc=function(a,u,d,g){for(var v=u.child;v!==null;){if(v.tag===5){var b=v.stateNode;d&&g&&(b=Zr(b,v.type,v.memoizedProps,v)),oe(a,b)}else if(v.tag===6)b=v.stateNode,d&&g&&(b=Us(b,v.memoizedProps,v)),oe(a,b);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)(b=v.child)!==null&&(b.return=v),wc(a,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};var a2=function(a,u,d,g){for(var v=u.child;v!==null;){if(v.tag===5){var b=v.stateNode;d&&g&&(b=Zr(b,v.type,v.memoizedProps,v)),_r(a,b)}else if(v.tag===6)b=v.stateNode,d&&g&&(b=Us(b,v.memoizedProps,v)),_r(a,b);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)(b=v.child)!==null&&(b.return=v),a2(a,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===u)break;for(;v.sibling===null;){if(v.return===null||v.return===u)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};Ec=function(a,u){var d=u.stateNode;if(!o2(a,u)){a=d.containerInfo;var g=He(a);a2(g,u,!1,!1),d.pendingChildren=g,Ti(u),Dt(a,g)}},Zf=function(a,u,d,g,v){var b=a.stateNode,C=a.memoizedProps;if((a=o2(a,u))&&C===g)u.stateNode=b;else{var P=u.stateNode,D=wi(yn.current),j=null;C!==g&&(j=pe(P,d,C,g,v,D)),a&&j===null?u.stateNode=b:(b=nt(b,j,d,C,g,u,a,P),ke(b,d,g,v,D)&&Ti(u),u.stateNode=b,a?Ti(u):wc(b,u,!1,!1))}},ep=function(a,u,d,g){d!==g?(a=wi(yl.current),d=wi(yn.current),u.stateNode=Me(g,a,d,u),Ti(u)):u.stateNode=a.stateNode}}else Ec=function(){},Zf=function(){},ep=function(){};function Tc(a,u){if(!vt)switch(a.tailMode){case"hidden":u=a.tail;for(var d=null;u!==null;)u.alternate!==null&&(d=u),u=u.sibling;d===null?a.tail=null:d.sibling=null;break;case"collapsed":d=a.tail;for(var g=null;d!==null;)d.alternate!==null&&(g=d),d=d.sibling;g===null?u||a.tail===null?a.tail=null:a.tail.sibling=null:g.sibling=null}}function Pr(a){var u=a.alternate!==null&&a.alternate.child===a.child,d=0,g=0;if(u)for(var v=a.child;v!==null;)d|=v.lanes|v.childLanes,g|=14680064&v.subtreeFlags,g|=14680064&v.flags,v.return=a,v=v.sibling;else for(v=a.child;v!==null;)d|=v.lanes|v.childLanes,g|=v.subtreeFlags,g|=v.flags,v.return=a,v=v.sibling;return a.subtreeFlags|=g,a.childLanes=d,u}function v4(a,u,d){var g=u.pendingProps;switch(c0(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Pr(u),null;case 1:case 17:return en(u.type)&&e0(),Pr(u),null;case 3:return d=u.stateNode,_l(),gt(zr),gt(br),S0(),d.pendingContext&&(d.context=d.pendingContext,d.pendingContext=null),a!==null&&a.child!==null||(Uf(u)?Ti(u):a===null||a.memoizedState.isDehydrated&&!(256&u.flags)||(u.flags|=1024,Qn!==null&&(n_(Qn),Qn=null))),Ec(a,u),Pr(u),null;case 5:E0(u),d=wi(yl.current);var v=u.type;if(a!==null&&u.stateNode!=null)Zf(a,u,v,g,d),a.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!g){if(u.stateNode===null)throw Error(s(166));return Pr(u),null}if(a=wi(yn.current),Uf(u)){if(!$e)throw Error(s(175));a=Gt(u.stateNode,u.type,u.memoizedProps,d,a,u,!pc),u.updateQueue=a,a!==null&&Ti(u)}else{var b=ee(v,g,d,a,u);wc(b,u,!1,!1),u.stateNode=b,ke(b,v,g,d,a)&&Ti(u)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return Pr(u),null;case 6:if(a&&u.stateNode!=null)ep(a,u,a.memoizedProps,g);else{if(typeof g!="string"&&u.stateNode===null)throw Error(s(166));if(a=wi(yl.current),d=wi(yn.current),Uf(u)){if(!$e)throw Error(s(176));if(a=u.stateNode,d=u.memoizedProps,(g=Uo(a,d,u,!pc))&&(v=tn)!==null)switch(v.tag){case 3:KF(v.stateNode.containerInfo,a,d,(1&v.mode)!=0);break;case 5:QF(v.type,v.memoizedProps,v.stateNode,a,d,(1&v.mode)!=0)}g&&Ti(u)}else u.stateNode=Me(g,a,d,u)}return Pr(u),null;case 13:if(gt(Ct),g=u.memoizedState,a===null||a.memoizedState!==null&&a.memoizedState.dehydrated!==null){if(vt&&gn!==null&&1&u.mode&&!(128&u.flags))uA(),pl(),u.flags|=98560,v=!1;else if(v=Uf(u),g!==null&&g.dehydrated!==null){if(a===null){if(!v)throw Error(s(318));if(!$e)throw Error(s(344));if(!(v=(v=u.memoizedState)!==null?v.dehydrated:null))throw Error(s(317));Mf(v,u)}else pl(),!(128&u.flags)&&(u.memoizedState=null),u.flags|=4;Pr(u),v=!1}else Qn!==null&&(n_(Qn),Qn=null),v=!0;if(!v)return 65536&u.flags?u:null}return 128&u.flags?(u.lanes=d,u):((d=g!==null)!=(a!==null&&a.memoizedState!==null)&&d&&(u.child.flags|=8192,1&u.mode&&(a===null||1&Ct.current?Wt===0&&(Wt=3):s_())),u.updateQueue!==null&&(u.flags|=4),Pr(u),null);case 4:return _l(),Ec(a,u),a===null&&Qt(u.stateNode.containerInfo),Pr(u),null;case 10:return g0(u.type._context),Pr(u),null;case 19:if(gt(Ct),(v=u.memoizedState)===null)return Pr(u),null;if(g=(128&u.flags)!=0,(b=v.rendering)===null)if(g)Tc(v,!1);else{if(Wt!==0||a!==null&&128&a.flags)for(a=u.child;a!==null;){if((b=Xf(a))!==null){for(u.flags|=128,Tc(v,!1),(a=b.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),u.subtreeFlags=0,a=d,d=u.child;d!==null;)v=a,(g=d).flags&=14680066,(b=g.alternate)===null?(g.childLanes=0,g.lanes=v,g.child=null,g.subtreeFlags=0,g.memoizedProps=null,g.memoizedState=null,g.updateQueue=null,g.dependencies=null,g.stateNode=null):(g.childLanes=b.childLanes,g.lanes=b.lanes,g.child=b.child,g.subtreeFlags=0,g.deletions=null,g.memoizedProps=b.memoizedProps,g.memoizedState=b.memoizedState,g.updateQueue=b.updateQueue,g.type=b.type,v=b.dependencies,g.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),d=d.sibling;return ot(Ct,1&Ct.current|2),u.child}a=a.sibling}v.tail!==null&&Zt()>Z0&&(u.flags|=128,g=!0,Tc(v,!1),u.lanes=4194304)}else{if(!g)if((a=Xf(b))!==null){if(u.flags|=128,g=!0,(a=a.updateQueue)!==null&&(u.updateQueue=a,u.flags|=4),Tc(v,!0),v.tail===null&&v.tailMode==="hidden"&&!b.alternate&&!vt)return Pr(u),null}else 2*Zt()-v.renderingStartTime>Z0&&d!==1073741824&&(u.flags|=128,g=!0,Tc(v,!1),u.lanes=4194304);v.isBackwards?(b.sibling=u.child,u.child=b):((a=v.last)!==null?a.sibling=b:u.child=b,v.last=b)}return v.tail!==null?(u=v.tail,v.rendering=u,v.tail=u.sibling,v.renderingStartTime=Zt(),u.sibling=null,a=Ct.current,ot(Ct,g?1&a|2:1&a),u):(Pr(u),null);case 22:case 23:return i_(),d=u.memoizedState!==null,a!==null&&a.memoizedState!==null!==d&&(u.flags|=8192),d&&1&u.mode?1073741824&rn&&(Pr(u),Ne&&6&u.subtreeFlags&&(u.flags|=8192)):Pr(u),null;case 24:case 25:return null}throw Error(s(156,u.tag))}function y4(a,u){switch(c0(u),u.tag){case 1:return en(u.type)&&e0(),65536&(a=u.flags)?(u.flags=-65537&a|128,u):null;case 3:return _l(),gt(zr),gt(br),S0(),65536&(a=u.flags)&&!(128&a)?(u.flags=-65537&a|128,u):null;case 5:return E0(u),null;case 13:if(gt(Ct),(a=u.memoizedState)!==null&&a.dehydrated!==null){if(u.alternate===null)throw Error(s(340));pl()}return 65536&(a=u.flags)?(u.flags=-65537&a|128,u):null;case 19:return gt(Ct),null;case 4:return _l(),null;case 10:return g0(u.type._context),null;case 22:case 23:return i_(),null;default:return null}}var np=!1,wr=!1,_4=typeof WeakSet=="function"?WeakSet:Set,de=null;function xl(a,u){var d=a.ref;if(d!==null)if(typeof d=="function")try{d(null)}catch(g){yt(a,u,g)}else d.current=null}function l2(a,u,d){try{d()}catch(g){yt(a,u,g)}}var u2=!1;function Sc(a,u,d){var g=u.updateQueue;if((g=g!==null?g.lastEffect:null)!==null){var v=g=g.next;do{if((v.tag&a)===a){var b=v.destroy;v.destroy=void 0,b!==void 0&&l2(u,d,b)}v=v.next}while(v!==g)}}function ip(a,u){if((u=(u=u.updateQueue)!==null?u.lastEffect:null)!==null){var d=u=u.next;do{if((d.tag&a)===a){var g=d.create;d.destroy=g()}d=d.next}while(d!==u)}}function H0(a){var u=a.ref;if(u!==null){var d=a.stateNode;a.tag===5?a=ve(d):a=d,typeof u=="function"?u(a):u.current=a}}function c2(a){var u=a.alternate;u!==null&&(a.alternate=null,c2(u)),a.child=null,a.deletions=null,a.sibling=null,a.tag===5&&(u=a.stateNode)!==null&&Do(u),a.stateNode=null,a.return=null,a.dependencies=null,a.memoizedProps=null,a.memoizedState=null,a.pendingProps=null,a.stateNode=null,a.updateQueue=null}function h2(a){return a.tag===5||a.tag===3||a.tag===4}function d2(a){e:for(;;){for(;a.sibling===null;){if(a.return===null||h2(a.return))return null;a=a.return}for(a.sibling.return=a.return,a=a.sibling;a.tag!==5&&a.tag!==6&&a.tag!==18;){if(2&a.flags||a.child===null||a.tag===4)continue e;a.child.return=a,a=a.child}if(!(2&a.flags))return a.stateNode}}function G0(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?B(d,a,u):Xy(d,a);else if(g!==4&&(a=a.child)!==null)for(G0(a,u,d),a=a.sibling;a!==null;)G0(a,u,d),a=a.sibling}function W0(a,u,d){var g=a.tag;if(g===5||g===6)a=a.stateNode,u?qy(d,a,u):ac(d,a);else if(g!==4&&(a=a.child)!==null)for(W0(a,u,d),a=a.sibling;a!==null;)W0(a,u,d),a=a.sibling}var Rr=null,Si=!1;function Ai(a,u,d){for(d=d.child;d!==null;)$0(a,u,d),d=d.sibling}function $0(a,u,d){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(Df,d)}catch{}switch(d.tag){case 5:wr||xl(d,u);case 6:if(Ne){var g=Rr,v=Si;Rr=null,Ai(a,u,d),Si=v,(Rr=g)!==null&&(Si?Q(Rr,d.stateNode):F(Rr,d.stateNode))}else Ai(a,u,d);break;case 18:Ne&&Rr!==null&&(Si?YF(Rr,d.stateNode):XF(Rr,d.stateNode));break;case 4:Ne?(g=Rr,v=Si,Rr=d.stateNode.containerInfo,Si=!0,Ai(a,u,d),Rr=g,Si=v):(rt&&(g=d.stateNode.containerInfo,v=He(g),Jt(g,v)),Ai(a,u,d));break;case 0:case 11:case 14:case 15:if(!wr&&(g=d.updateQueue)!==null&&(g=g.lastEffect)!==null){v=g=g.next;do{var b=v,C=b.destroy;b=b.tag,C!==void 0&&(2&b||4&b)&&l2(d,u,C),v=v.next}while(v!==g)}Ai(a,u,d);break;case 1:if(!wr&&(xl(d,u),typeof(g=d.stateNode).componentWillUnmount=="function"))try{g.props=d.memoizedProps,g.state=d.memoizedState,g.componentWillUnmount()}catch(P){yt(d,u,P)}Ai(a,u,d);break;case 21:Ai(a,u,d);break;case 22:1&d.mode?(wr=(g=wr)||d.memoizedState!==null,Ai(a,u,d),wr=g):Ai(a,u,d);break;default:Ai(a,u,d)}}function f2(a){var u=a.updateQueue;if(u!==null){a.updateQueue=null;var d=a.stateNode;d===null&&(d=a.stateNode=new _4),u.forEach(function(g){var v=A4.bind(null,a,g);d.has(g)||(d.add(g),g.then(v,v))})}}function Zn(a,u){var d=u.deletions;if(d!==null)for(var g=0;g<d.length;g++){var v=d[g];try{var b=a,C=u;if(Ne){var P=C;e:for(;P!==null;){switch(P.tag){case 5:Rr=P.stateNode,Si=!1;break e;case 3:case 4:Rr=P.stateNode.containerInfo,Si=!0;break e}P=P.return}if(Rr===null)throw Error(s(160));$0(b,C,v),Rr=null,Si=!1}else $0(b,C,v);var D=v.alternate;D!==null&&(D.return=null),v.return=null}catch(j){yt(v,u,j)}}if(12854&u.subtreeFlags)for(u=u.child;u!==null;)p2(u,a),u=u.sibling}function p2(a,u){var d=a.alternate,g=a.flags;switch(a.tag){case 0:case 11:case 14:case 15:if(Zn(u,a),Ci(a),4&g){try{Sc(3,a,a.return),ip(3,a)}catch(G){yt(a,a.return,G)}try{Sc(5,a,a.return)}catch(G){yt(a,a.return,G)}}break;case 1:Zn(u,a),Ci(a),512&g&&d!==null&&xl(d,d.return);break;case 5:if(Zn(u,a),Ci(a),512&g&&d!==null&&xl(d,d.return),Ne){if(32&a.flags){var v=a.stateNode;try{fe(v)}catch(G){yt(a,a.return,G)}}if(4&g&&(v=a.stateNode)!=null){var b=a.memoizedProps;if(d=d!==null?d.memoizedProps:b,g=a.type,u=a.updateQueue,a.updateQueue=null,u!==null)try{kf(v,u,g,d,b,a)}catch(G){yt(a,a.return,G)}}}break;case 6:if(Zn(u,a),Ci(a),4&g&&Ne){if(a.stateNode===null)throw Error(s(162));v=a.stateNode,b=a.memoizedProps,d=d!==null?d.memoizedProps:b;try{If(v,d,b)}catch(G){yt(a,a.return,G)}}break;case 3:if(Zn(u,a),Ci(a),4&g){if(Ne&&$e&&d!==null&&d.memoizedState.isDehydrated)try{$F(u.containerInfo)}catch(G){yt(a,a.return,G)}if(rt){v=u.containerInfo,b=u.pendingChildren;try{Jt(v,b)}catch(G){yt(a,a.return,G)}}}break;case 4:if(Zn(u,a),Ci(a),4&g&&rt){v=(b=a.stateNode).containerInfo,b=b.pendingChildren;try{Jt(v,b)}catch(G){yt(a,a.return,G)}}break;case 13:Zn(u,a),Ci(a),8192&(v=a.child).flags&&(b=v.memoizedState!==null,v.stateNode.isHidden=b,!b||v.alternate!==null&&v.alternate.memoizedState!==null||(J0=Zt())),4&g&&f2(a);break;case 22:var C=d!==null&&d.memoizedState!==null;if(1&a.mode?(wr=(d=wr)||C,Zn(u,a),wr=d):Zn(u,a),Ci(a),8192&g){if(d=a.memoizedState!==null,(a.stateNode.isHidden=d)&&!C&&(1&a.mode)!=0)for(de=a,g=a.child;g!==null;){for(u=de=g;de!==null;){var P=(C=de).child;switch(C.tag){case 0:case 11:case 14:case 15:Sc(4,C,C.return);break;case 1:xl(C,C.return);var D=C.stateNode;if(typeof D.componentWillUnmount=="function"){var j=C,X=C.return;try{var ae=j;D.props=ae.memoizedProps,D.state=ae.memoizedState,D.componentWillUnmount()}catch(G){yt(j,X,G)}}break;case 5:xl(C,C.return);break;case 22:if(C.memoizedState!==null){v2(u);continue}}P!==null?(P.return=C,de=P):v2(u)}g=g.sibling}if(Ne){e:if(g=null,Ne)for(u=a;;){if(u.tag===5){if(g===null){g=u;try{v=u.stateNode,d?Re(v):Pe(u.stateNode,u.memoizedProps)}catch(G){yt(a,a.return,G)}}}else if(u.tag===6){if(g===null)try{b=u.stateNode,d?Ae(b):Te(b,u.memoizedProps)}catch(G){yt(a,a.return,G)}}else if((u.tag!==22&&u.tag!==23||u.memoizedState===null||u===a)&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===a)break e;for(;u.sibling===null;){if(u.return===null||u.return===a)break e;g===u&&(g=null),u=u.return}g===u&&(g=null),u.sibling.return=u.return,u=u.sibling}}}break;case 19:Zn(u,a),Ci(a),4&g&&f2(a);break;case 21:break;default:Zn(u,a),Ci(a)}}function Ci(a){var u=a.flags;if(2&u){try{if(Ne){e:{for(var d=a.return;d!==null;){if(h2(d)){var g=d;break e}d=d.return}throw Error(s(160))}switch(g.tag){case 5:var v=g.stateNode;32&g.flags&&(fe(v),g.flags&=-33),W0(a,d2(a),v);break;case 3:case 4:var b=g.stateNode.containerInfo;G0(a,d2(a),b);break;default:throw Error(s(161))}}}catch(C){yt(a,a.return,C)}a.flags&=-3}4096&u&&(a.flags&=-4097)}function b4(a,u,d){de=a,m2(a)}function m2(a,u,d){for(var g=(1&a.mode)!=0;de!==null;){var v=de,b=v.child;if(v.tag===22&&g){var C=v.memoizedState!==null||np;if(!C){var P=v.alternate,D=P!==null&&P.memoizedState!==null||wr;P=np;var j=wr;if(np=C,(wr=D)&&!j)for(de=v;de!==null;)D=(C=de).child,C.tag===22&&C.memoizedState!==null?y2(v):D!==null?(D.return=C,de=D):y2(v);for(;b!==null;)de=b,m2(b),b=b.sibling;de=v,np=P,wr=j}g2(a)}else 8772&v.subtreeFlags&&b!==null?(b.return=v,de=b):g2(a)}}function g2(a){for(;de!==null;){var u=de;if(8772&u.flags){var d=u.alternate;try{if(8772&u.flags)switch(u.tag){case 0:case 11:case 15:wr||ip(5,u);break;case 1:var g=u.stateNode;if(4&u.flags&&!wr)if(d===null)g.componentDidMount();else{var v=u.elementType===u.type?d.memoizedProps:Jn(u.type,d.memoizedProps);g.componentDidUpdate(v,d.memoizedState,g.__reactInternalSnapshotBeforeUpdate)}var b=u.updateQueue;b!==null&&pA(u,b,g);break;case 3:var C=u.updateQueue;if(C!==null){if(d=null,u.child!==null)switch(u.child.tag){case 5:d=ve(u.child.stateNode);break;case 1:d=u.child.stateNode}pA(u,C,d)}break;case 5:var P=u.stateNode;d===null&&4&u.flags&&Yy(P,u.type,u.memoizedProps,u);break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if($e&&u.memoizedState===null){var D=u.alternate;if(D!==null){var j=D.memoizedState;if(j!==null){var X=j.dehydrated;X!==null&&VF(X)}}}break;default:throw Error(s(163))}wr||512&u.flags&&H0(u)}catch(ae){yt(u,u.return,ae)}}if(u===a){de=null;break}if((d=u.sibling)!==null){d.return=u.return,de=d;break}de=u.return}}function v2(a){for(;de!==null;){var u=de;if(u===a){de=null;break}var d=u.sibling;if(d!==null){d.return=u.return,de=d;break}de=u.return}}function y2(a){for(;de!==null;){var u=de;try{switch(u.tag){case 0:case 11:case 15:var d=u.return;try{ip(4,u)}catch(D){yt(u,d,D)}break;case 1:var g=u.stateNode;if(typeof g.componentDidMount=="function"){var v=u.return;try{g.componentDidMount()}catch(D){yt(u,v,D)}}var b=u.return;try{H0(u)}catch(D){yt(u,b,D)}break;case 5:var C=u.return;try{H0(u)}catch(D){yt(u,C,D)}}}catch(D){yt(u,u.return,D)}if(u===a){de=null;break}var P=u.sibling;if(P!==null){P.return=u.return,de=P;break}de=u.return}}var sp=0,op=1,ap=2,lp=3,up=4;if(typeof Symbol=="function"&&Symbol.for){var Ac=Symbol.for;sp=Ac("selector.component"),op=Ac("selector.has_pseudo_class"),ap=Ac("selector.role"),lp=Ac("selector.test_id"),up=Ac("selector.text")}function V0(a){var u=Br(a);if(u!=null){if(typeof u.memoizedProps["data-testname"]!="string")throw Error(s(364));return u}if((a=Sf(a))===null)throw Error(s(362));return a.stateNode.current}function X0(a,u){switch(u.$$typeof){case sp:if(a.type===u.value)return!0;break;case op:e:{u=u.value,a=[a,0];for(var d=0;d<a.length;){var g=a[d++],v=a[d++],b=u[v];if(g.tag!==5||!Lo(g)){for(;b!=null&&X0(g,b);)b=u[++v];if(v===u.length){u=!0;break e}for(g=g.child;g!==null;)a.push(g,v),g=g.sibling}}u=!1}return u;case ap:if(a.tag===5&&Pf(a.stateNode,u.value))return!0;break;case up:if((a.tag===5||a.tag===6)&&(a=Cf(a))!==null&&0<=a.indexOf(u.value))return!0;break;case lp:if(a.tag===5&&typeof(a=a.memoizedProps["data-testname"])=="string"&&a.toLowerCase()===u.value.toLowerCase())return!0;break;default:throw Error(s(365))}return!1}function Y0(a){switch(a.$$typeof){case sp:return"<"+(L(a.value)||"Unknown")+">";case op:return":has("+(Y0(a)||"")+")";case ap:return'[role="'+a.value+'"]';case up:return'"'+a.value+'"';case lp:return'[data-testname="'+a.value+'"]';default:throw Error(s(365))}}function _2(a,u){var d=[];a=[a,0];for(var g=0;g<a.length;){var v=a[g++],b=a[g++],C=u[b];if(v.tag!==5||!Lo(v)){for(;C!=null&&X0(v,C);)C=u[++b];if(b===u.length)d.push(v);else for(v=v.child;v!==null;)a.push(v,b),v=v.sibling}}return d}function q0(a,u){if(!Fr)throw Error(s(363));a=_2(a=V0(a),u),u=[],a=Array.from(a);for(var d=0;d<a.length;){var g=a[d++];if(g.tag===5)Lo(g)||u.push(g.stateNode);else for(g=g.child;g!==null;)a.push(g),g=g.sibling}return u}var x4=Math.ceil,cp=o.ReactCurrentDispatcher,K0=o.ReactCurrentOwner,kt=o.ReactCurrentBatchConfig,Ge=0,rr=null,Lt=null,ur=0,rn=0,wl=js(0),Wt=0,Cc=null,$o=0,hp=0,Q0=0,Pc=null,nn=null,J0=0,Z0=1/0,$s=null;function El(){Z0=Zt()+500}var b2,dp=!1,e_=null,Vs=null,fp=!1,Xs=null,pp=0,Rc=0,t_=null,mp=-1,gp=0;function Er(){return 6&Ge?Zt():mp!==-1?mp:mp=Zt()}function Ys(a){return 1&a.mode?2&Ge&&ur!==0?ur&-ur:o4.transition!==null?(gp===0&&(gp=eA()),gp):(a=qe)!==0?a:vi():1}function bn(a,u,d,g){if(50<Rc)throw Rc=0,t_=null,Error(s(185));fc(a,d,g),2&Ge&&a===rr||(a===rr&&(!(2&Ge)&&(hp|=d),Wt===4&&qs(a,ur)),Gr(a,g),d===1&&Ge===0&&!(1&u.mode)&&(El(),Lf&&_i()))}function Gr(a,u){var d=a.callbackNode;(function(v,b){for(var C=v.suspendedLanes,P=v.pingedLanes,D=v.expirationTimes,j=v.pendingLanes;0<j;){var X=31-qn(j),ae=1<<X,G=D[X];G===-1?ae&C&&!(ae&P)||(D[X]=t4(ae,b)):G<=b&&(v.expiredLanes|=ae),j&=~ae}})(a,u);var g=Of(a,a===rr?ur:0);if(g===0)d!==null&&rA(d),a.callbackNode=null,a.callbackPriority=0;else if(u=g&-g,a.callbackPriority!==u){if(d!=null&&rA(d),u===1)a.tag===0?function(v){Lf=!0,iA(v)}(w2.bind(null,a)):iA(w2.bind(null,a)),Xn?oc(function(){!(6&Ge)&&_i()}):o0(a0,_i),d=null;else{switch(tA(g)){case 1:d=a0;break;case 4:d=i4;break;case 16:default:d=nA;break;case 536870912:d=s4}d=I2(d,x2.bind(null,a))}a.callbackPriority=u,a.callbackNode=d}}function x2(a,u){if(mp=-1,gp=0,(6&Ge)!=0)throw Error(s(327));var d=a.callbackNode;if(Xo()&&a.callbackNode!==d)return null;var g=Of(a,a===rr?ur:0);if(g===0)return null;if(30&g||g&a.expiredLanes||u)u=vp(a,g);else{u=g;var v=Ge;Ge|=2;var b=S2();for(rr===a&&ur===u||($s=null,El(),Vo(a,u));;)try{E4();break}catch(P){T2(a,P)}m0(),cp.current=b,Ge=v,Lt!==null?u=0:(rr=null,ur=0,u=Wt)}if(u!==0){if(u===2&&(v=n0(a))!==0&&(g=v,u=r_(a,v)),u===1)throw d=Cc,Vo(a,0),qs(a,g),Gr(a,Zt()),d;if(u===6)qs(a,g);else{if(v=a.current.alternate,(30&g)==0&&!function(P){for(var D=P;;){if(16384&D.flags){var j=D.updateQueue;if(j!==null&&(j=j.stores)!==null)for(var X=0;X<j.length;X++){var ae=j[X],G=ae.getSnapshot;ae=ae.value;try{if(!Kn(G(),ae))return!1}catch{return!1}}}if(j=D.child,16384&D.subtreeFlags&&j!==null)j.return=D,D=j;else{if(D===P)break;for(;D.sibling===null;){if(D.return===null||D.return===P)return!0;D=D.return}D.sibling.return=D.return,D=D.sibling}}return!0}(v)&&((u=vp(a,g))===2&&(b=n0(a))!==0&&(g=b,u=r_(a,b)),u===1))throw d=Cc,Vo(a,0),qs(a,g),Gr(a,Zt()),d;switch(a.finishedWork=v,a.finishedLanes=g,u){case 0:case 1:throw Error(s(345));case 2:case 5:Tl(a,nn,$s);break;case 3:if(qs(a,g),(130023424&g)===g&&10<(u=J0+500-Zt())){if(Of(a,0)!==0)break;if(((v=a.suspendedLanes)&g)!==g){Er(),a.pingedLanes|=a.suspendedLanes&v;break}a.timeoutHandle=Xe(Tl.bind(null,a,nn,$s),u);break}Tl(a,nn,$s);break;case 4:if(qs(a,g),(4194240&g)===g)break;for(u=a.eventTimes,v=-1;0<g;){var C=31-qn(g);b=1<<C,(C=u[C])>v&&(v=C),g&=~b}if(g=v,10<(g=(120>(g=Zt()-g)?120:480>g?480:1080>g?1080:1920>g?1920:3e3>g?3e3:4320>g?4320:1960*x4(g/1960))-g)){a.timeoutHandle=Xe(Tl.bind(null,a,nn,$s),g);break}Tl(a,nn,$s);break;default:throw Error(s(329))}}}return Gr(a,Zt()),a.callbackNode===d?x2.bind(null,a):null}function r_(a,u){var d=Pc;return a.current.memoizedState.isDehydrated&&(Vo(a,u).flags|=256),(a=vp(a,u))!==2&&(u=nn,nn=d,u!==null&&n_(u)),a}function n_(a){nn===null?nn=a:nn.push.apply(nn,a)}function qs(a,u){for(u&=~Q0,u&=~hp,a.suspendedLanes|=u,a.pingedLanes&=~u,a=a.expirationTimes;0<u;){var d=31-qn(u),g=1<<d;a[d]=-1,u&=~g}}function w2(a){if(6&Ge)throw Error(s(327));Xo();var u=Of(a,0);if(!(1&u))return Gr(a,Zt()),null;var d=vp(a,u);if(a.tag!==0&&d===2){var g=n0(a);g!==0&&(u=g,d=r_(a,g))}if(d===1)throw d=Cc,Vo(a,0),qs(a,u),Gr(a,Zt()),d;if(d===6)throw Error(s(345));return a.finishedWork=a.current.alternate,a.finishedLanes=u,Tl(a,nn,$s),Gr(a,Zt()),null}function E2(a){Xs!==null&&Xs.tag===0&&!(6&Ge)&&Xo();var u=Ge;Ge|=1;var d=kt.transition,g=qe;try{if(kt.transition=null,qe=1,a)return a()}finally{qe=g,kt.transition=d,!(6&(Ge=u))&&_i()}}function i_(){rn=wl.current,gt(wl)}function Vo(a,u){a.finishedWork=null,a.finishedLanes=0;var d=a.timeoutHandle;if(d!==Ht&&(a.timeoutHandle=Ht,tt(d)),Lt!==null)for(d=Lt.return;d!==null;){var g=d;switch(c0(g),g.tag){case 1:(g=g.type.childContextTypes)!=null&&e0();break;case 3:_l(),gt(zr),gt(br),S0();break;case 5:E0(g);break;case 4:_l();break;case 13:case 19:gt(Ct);break;case 10:g0(g.type._context);break;case 22:case 23:i_()}d=d.return}if(rr=a,Lt=a=Ks(a.current,null),ur=rn=u,Wt=0,Cc=null,Q0=hp=$o=0,nn=Pc=null,Go!==null){for(u=0;u<Go.length;u++)if((g=(d=Go[u]).interleaved)!==null){d.interleaved=null;var v=g.next,b=d.pending;if(b!==null){var C=b.next;b.next=v,g.next=C}d.pending=g}Go=null}return a}function T2(a,u){for(;;){var d=Lt;try{if(m0(),Yf.current=Jf,qf){for(var g=Tt.memoizedState;g!==null;){var v=g.queue;v!==null&&(v.pending=null),g=g.next}qf=!1}if(Wo=0,tr=er=Tt=null,yc=!1,_c=0,K0.current=null,d===null||d.return===null){Wt=1,Cc=u,Lt=null;break}e:{var b=a,C=d.return,P=d,D=u;if(u=ur,P.flags|=32768,D!==null&&typeof D=="object"&&typeof D.then=="function"){var j=D,X=P,ae=X.tag;if(!(1&X.mode)&&(ae===0||ae===11||ae===15)){var G=X.alternate;G?(X.updateQueue=G.updateQueue,X.memoizedState=G.memoizedState,X.lanes=G.lanes):(X.updateQueue=null,X.memoizedState=null)}var re=XA(C);if(re!==null){re.flags&=-257,YA(re,C,P,0,u),1&re.mode&&VA(b,j,u),D=j;var ye=(u=re).updateQueue;if(ye===null){var Oe=new Set;Oe.add(D),u.updateQueue=Oe}else ye.add(D);break e}if(!(1&u)){VA(b,j,u),s_();break e}D=Error(s(426))}else if(vt&&1&P.mode){var Y=XA(C);if(Y!==null){!(65536&Y.flags)&&(Y.flags|=256),YA(Y,C,P,0,u),f0(bl(D,P));break e}}b=D=bl(D,P),Wt!==4&&(Wt=2),Pc===null?Pc=[b]:Pc.push(b),b=C;do{switch(b.tag){case 3:b.flags|=65536,u&=-u,b.lanes|=u,fA(b,WA(0,D,u));break e;case 1:P=D;var N=b.type,U=b.stateNode;if(!(128&b.flags)&&(typeof N.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Vs===null||!Vs.has(U)))){b.flags|=65536,u&=-u,b.lanes|=u,fA(b,$A(b,P,u));break e}}b=b.return}while(b!==null)}C2(d)}catch(Z){u=Z,Lt===d&&d!==null&&(Lt=d=d.return);continue}break}}function S2(){var a=cp.current;return cp.current=Jf,a===null?Jf:a}function s_(){Wt!==0&&Wt!==3&&Wt!==2||(Wt=4),rr===null||!(268435455&$o)&&!(268435455&hp)||qs(rr,ur)}function vp(a,u){var d=Ge;Ge|=2;var g=S2();for(rr===a&&ur===u||($s=null,Vo(a,u));;)try{w4();break}catch(v){T2(a,v)}if(m0(),Ge=d,cp.current=g,Lt!==null)throw Error(s(261));return rr=null,ur=0,Wt}function w4(){for(;Lt!==null;)A2(Lt)}function E4(){for(;Lt!==null&&!r4();)A2(Lt)}function A2(a){var u=b2(a.alternate,a,rn);a.memoizedProps=a.pendingProps,u===null?C2(a):Lt=u,K0.current=null}function C2(a){var u=a;do{var d=u.alternate;if(a=u.return,(32768&u.flags)==0){if((d=v4(d,u,rn))!==null)return void(Lt=d)}else{if((d=y4(d,u))!==null)return d.flags&=32767,void(Lt=d);if(a===null)return Wt=6,void(Lt=null);a.flags|=32768,a.subtreeFlags=0,a.deletions=null}if((u=u.sibling)!==null)return void(Lt=u);Lt=u=a}while(u!==null);Wt===0&&(Wt=5)}function Tl(a,u,d){var g=qe,v=kt.transition;try{kt.transition=null,qe=1,function(b,C,P,D){do Xo();while(Xs!==null);if(6&Ge)throw Error(s(327));P=b.finishedWork;var j=b.finishedLanes;if(P===null)return null;if(b.finishedWork=null,b.finishedLanes=0,P===b.current)throw Error(s(177));b.callbackNode=null,b.callbackPriority=0;var X=P.lanes|P.childLanes;if(function(re,ye){var Oe=re.pendingLanes&~ye;re.pendingLanes=ye,re.suspendedLanes=0,re.pingedLanes=0,re.expiredLanes&=ye,re.mutableReadLanes&=ye,re.entangledLanes&=ye,ye=re.entanglements;var Y=re.eventTimes;for(re=re.expirationTimes;0<Oe;){var N=31-qn(Oe),U=1<<N;ye[N]=0,Y[N]=-1,re[N]=-1,Oe&=~U}}(b,X),b===rr&&(Lt=rr=null,ur=0),!(2064&P.subtreeFlags)&&!(2064&P.flags)||fp||(fp=!0,I2(nA,function(){return Xo(),null})),X=(15990&P.flags)!=0,(15990&P.subtreeFlags)!=0||X){X=kt.transition,kt.transition=null;var ae=qe;qe=1;var G=Ge;Ge|=4,K0.current=null,function(re,ye){for(H(re.containerInfo),de=ye;de!==null;)if(ye=(re=de).child,(1028&re.subtreeFlags)!=0&&ye!==null)ye.return=re,de=ye;else for(;de!==null;){re=de;try{var Oe=re.alternate;if(1024&re.flags)switch(re.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(Oe!==null){var Y=Oe.memoizedProps,N=Oe.memoizedState,U=re.stateNode,Z=U.getSnapshotBeforeUpdate(re.elementType===re.type?Y:Jn(re.type,Y),N);U.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:Ne&&be(re.stateNode.containerInfo);break;default:throw Error(s(163))}}catch(we){yt(re,re.return,we)}if((ye=re.sibling)!==null){ye.return=re.return,de=ye;break}de=re.return}Oe=u2,u2=!1}(b,P),p2(P,b),k(b.containerInfo),b.current=P,b4(P),n4(),Ge=G,qe=ae,kt.transition=X}else b.current=P;if(fp&&(fp=!1,Xs=b,pp=j),X=b.pendingLanes,X===0&&(Vs=null),function(re){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(Df,re,void 0,(128&re.current.flags)==128)}catch{}}(P.stateNode),Gr(b,Zt()),C!==null)for(D=b.onRecoverableError,P=0;P<C.length;P++)j=C[P],D(j.value,{componentStack:j.stack,digest:j.digest});if(dp)throw dp=!1,b=e_,e_=null,b;1&pp&&b.tag!==0&&Xo(),X=b.pendingLanes,1&X?b===t_?Rc++:(Rc=0,t_=b):Rc=0,_i()}(a,u,d,g)}finally{kt.transition=v,qe=g}return null}function Xo(){if(Xs!==null){var a=tA(pp),u=kt.transition,d=qe;try{if(kt.transition=null,qe=16>a?16:a,Xs===null)var g=!1;else{if(a=Xs,Xs=null,pp=0,(6&Ge)!=0)throw Error(s(331));var v=Ge;for(Ge|=4,de=a.current;de!==null;){var b=de,C=b.child;if(16&de.flags){var P=b.deletions;if(P!==null){for(var D=0;D<P.length;D++){var j=P[D];for(de=j;de!==null;){var X=de;switch(X.tag){case 0:case 11:case 15:Sc(8,X,b)}var ae=X.child;if(ae!==null)ae.return=X,de=ae;else for(;de!==null;){var G=(X=de).sibling,re=X.return;if(c2(X),X===j){de=null;break}if(G!==null){G.return=re,de=G;break}de=re}}}var ye=b.alternate;if(ye!==null){var Oe=ye.child;if(Oe!==null){ye.child=null;do{var Y=Oe.sibling;Oe.sibling=null,Oe=Y}while(Oe!==null)}}de=b}}if(2064&b.subtreeFlags&&C!==null)C.return=b,de=C;else e:for(;de!==null;){if(2048&(b=de).flags)switch(b.tag){case 0:case 11:case 15:Sc(9,b,b.return)}var N=b.sibling;if(N!==null){N.return=b.return,de=N;break e}de=b.return}}var U=a.current;for(de=U;de!==null;){var Z=(C=de).child;if(2064&C.subtreeFlags&&Z!==null)Z.return=C,de=Z;else e:for(C=U;de!==null;){if(2048&(P=de).flags)try{switch(P.tag){case 0:case 11:case 15:ip(9,P)}}catch(et){yt(P,P.return,et)}if(P===C){de=null;break e}var we=P.sibling;if(we!==null){we.return=P.return,de=we;break e}de=P.return}}if(Ge=v,_i(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(Df,a)}catch{}g=!0}return g}finally{qe=d,kt.transition=u}}return!1}function P2(a,u,d){a=Ws(a,u=WA(0,u=bl(d,u),1),1),u=Er(),a!==null&&(fc(a,1,u),Gr(a,u))}function yt(a,u,d){if(a.tag===3)P2(a,a,d);else for(;u!==null;){if(u.tag===3){P2(u,a,d);break}if(u.tag===1){var g=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof g.componentDidCatch=="function"&&(Vs===null||!Vs.has(g))){u=Ws(u,a=$A(u,a=bl(d,a),1),1),a=Er(),u!==null&&(fc(u,1,a),Gr(u,a));break}}u=u.return}}function T4(a,u,d){var g=a.pingCache;g!==null&&g.delete(u),u=Er(),a.pingedLanes|=a.suspendedLanes&d,rr===a&&(ur&d)===d&&(Wt===4||Wt===3&&(130023424&ur)===ur&&500>Zt()-J0?Vo(a,0):Q0|=d),Gr(a,u)}function R2(a,u){u===0&&(1&a.mode?(u=r0,!(130023424&(r0<<=1))&&(r0=4194304)):u=1);var d=Er();(a=xi(a,u))!==null&&(fc(a,u,d),Gr(a,d))}function S4(a){var u=a.memoizedState,d=0;u!==null&&(d=u.retryLane),R2(a,d)}function A4(a,u){var d=0;switch(a.tag){case 13:var g=a.stateNode,v=a.memoizedState;v!==null&&(d=v.retryLane);break;case 19:g=a.stateNode;break;default:throw Error(s(314))}g!==null&&g.delete(u),R2(a,d)}function I2(a,u){return o0(a,u)}function C4(a,u,d,g){this.tag=a,this.key=d,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=g,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function xn(a,u,d,g){return new C4(a,u,d,g)}function o_(a){return!(!(a=a.prototype)||!a.isReactComponent)}function Ks(a,u){var d=a.alternate;return d===null?((d=xn(a.tag,u,a.key,a.mode)).elementType=a.elementType,d.type=a.type,d.stateNode=a.stateNode,d.alternate=a,a.alternate=d):(d.pendingProps=u,d.type=a.type,d.flags=0,d.subtreeFlags=0,d.deletions=null),d.flags=14680064&a.flags,d.childLanes=a.childLanes,d.lanes=a.lanes,d.child=a.child,d.memoizedProps=a.memoizedProps,d.memoizedState=a.memoizedState,d.updateQueue=a.updateQueue,u=a.dependencies,d.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},d.sibling=a.sibling,d.index=a.index,d.ref=a.ref,d}function yp(a,u,d,g,v,b){var C=2;if(g=a,typeof a=="function")o_(a)&&(C=1);else if(typeof a=="string")C=5;else e:switch(a){case h:return Yo(d.children,v,b,u);case f:C=8,v|=8;break;case p:return(a=xn(12,d,u,2|v)).elementType=p,a.lanes=b,a;case w:return(a=xn(13,d,u,v)).elementType=w,a.lanes=b,a;case A:return(a=xn(19,d,u,v)).elementType=A,a.lanes=b,a;case S:return _p(d,v,b,u);default:if(typeof a=="object"&&a!==null)switch(a.$$typeof){case m:C=10;break e;case y:C=9;break e;case _:C=11;break e;case E:C=14;break e;case x:C=16,g=null;break e}throw Error(s(130,a==null?a:typeof a,""))}return(u=xn(C,d,u,v)).elementType=a,u.type=g,u.lanes=b,u}function Yo(a,u,d,g){return(a=xn(7,a,g,u)).lanes=d,a}function _p(a,u,d,g){return(a=xn(22,a,g,u)).elementType=S,a.lanes=d,a.stateNode={isHidden:!1},a}function a_(a,u,d){return(a=xn(6,a,null,u)).lanes=d,a}function l_(a,u,d){return(u=xn(4,a.children!==null?a.children:[],a.key,u)).lanes=d,u.stateNode={containerInfo:a.containerInfo,pendingChildren:null,implementation:a.implementation},u}function P4(a,u,d,g,v){this.tag=u,this.containerInfo=a,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Ht,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=i0(0),this.expirationTimes=i0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=i0(0),this.identifierPrefix=g,this.onRecoverableError=v,$e&&(this.mutableSourceEagerHydrationData=null)}function k2(a,u,d,g,v,b,C,P,D){return a=new P4(a,u,d,P,D),u===1?(u=1,b===!0&&(u|=8)):u=0,b=xn(3,null,null,u),a.current=b,b.stateNode=a,b.memoizedState={element:g,isDehydrated:d,cache:null,transitions:null,pendingSuspenseBoundaries:null},_0(b),a}function M2(a){if(!a)return Hs;e:{if(M(a=a._reactInternals)!==a||a.tag!==1)throw Error(s(170));var u=a;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(en(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(s(171))}if(a.tag===1){var d=a.type;if(en(d))return JS(a,d,u)}return u}function N2(a){var u=a._reactInternals;if(u===void 0)throw typeof a.render=="function"?Error(s(188)):(a=Object.keys(a).join(","),Error(s(268,a)));return(a=J(u))===null?null:a.stateNode}function O2(a,u){if((a=a.memoizedState)!==null&&a.dehydrated!==null){var d=a.retryLane;a.retryLane=d!==0&&d<u?d:u}}function bp(a,u){O2(a,u),(a=a.alternate)&&O2(a,u)}function R4(a){return(a=J(a))===null?null:a.stateNode}function I4(){return null}return b2=function(a,u,d){if(a!==null)if(a.memoizedProps!==u.pendingProps||zr.current)jr=!0;else{if(!(a.lanes&d)&&!(128&u.flags))return jr=!1,function(ae,G,re){switch(G.tag){case 3:t2(G),pl();break;case 5:wA(G);break;case 1:en(G.type)&&Nf(G);break;case 4:w0(G,G.stateNode.containerInfo);break;case 10:cA(0,G.type._context,G.memoizedProps.value);break;case 13:var ye=G.memoizedState;if(ye!==null)return ye.dehydrated!==null?(ot(Ct,1&Ct.current),G.flags|=128,null):re&G.child.childLanes?n2(ae,G,re):(ot(Ct,1&Ct.current),(ae=is(ae,G,re))!==null?ae.sibling:null);ot(Ct,1&Ct.current);break;case 19:if(ye=(re&G.childLanes)!=0,(128&ae.flags)!=0){if(ye)return s2(ae,G,re);G.flags|=128}var Oe=G.memoizedState;if(Oe!==null&&(Oe.rendering=null,Oe.tail=null,Oe.lastEffect=null),ot(Ct,Ct.current),ye)break;return null;case 22:case 23:return G.lanes=0,JA(ae,G,re)}return is(ae,G,re)}(a,u,d);jr=(131072&a.flags)!=0}else jr=!1,vt&&1048576&u.flags&&sA(u,Ff,u.index);switch(u.lanes=0,u.tag){case 2:var g=u.type;rp(a,u),a=u.pendingProps;var v=hl(u,br.current);gl(u,d),v=P0(null,u,g,a,v,d);var b=R0();return u.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,en(g)?(b=!0,Nf(u)):b=!1,u.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,_0(u),v.updater=$f,u.stateNode=v,v._reactInternals=u,x0(u,g,a,d),u=B0(null,u,g,!0,b,d)):(u.tag=0,vt&&b&&u0(u),Hr(null,u,v,d),u=u.child),u;case 16:g=u.elementType;e:{switch(rp(a,u),a=u.pendingProps,g=(v=g._init)(g._payload),u.type=g,v=u.tag=function(ae){if(typeof ae=="function")return o_(ae)?1:0;if(ae!=null){if((ae=ae.$$typeof)===_)return 11;if(ae===E)return 14}return 2}(g),a=Jn(g,a),v){case 0:u=L0(null,u,g,a,d);break e;case 1:u=e2(null,u,g,a,d);break e;case 11:u=qA(null,u,g,a,d);break e;case 14:u=KA(null,u,g,Jn(g.type,a),d);break e}throw Error(s(306,g,""))}return u;case 0:return g=u.type,v=u.pendingProps,L0(a,u,g,v=u.elementType===g?v:Jn(g,v),d);case 1:return g=u.type,v=u.pendingProps,e2(a,u,g,v=u.elementType===g?v:Jn(g,v),d);case 3:e:{if(t2(u),a===null)throw Error(s(387));g=u.pendingProps,v=(b=u.memoizedState).element,dA(a,u),Wf(u,g,null,d);var C=u.memoizedState;if(g=C.element,$e&&b.isDehydrated){if(b={element:g,isDehydrated:!1,cache:C.cache,pendingSuspenseBoundaries:C.pendingSuspenseBoundaries,transitions:C.transitions},u.updateQueue.baseState=b,u.memoizedState=b,256&u.flags){u=r2(a,u,g,d,v=bl(Error(s(423)),u));break e}if(g!==v){u=r2(a,u,g,d,v=bl(Error(s(424)),u));break e}for($e&&(gn=Ur(u.stateNode.containerInfo),tn=u,vt=!0,Qn=null,pc=!1),d=xA(u,null,g,d),u.child=d;d;)d.flags=-3&d.flags|4096,d=d.sibling}else{if(pl(),g===v){u=is(a,u,d);break e}Hr(a,u,g,d)}u=u.child}return u;case 5:return wA(u),a===null&&d0(u),g=u.type,v=u.pendingProps,b=a!==null?a.memoizedProps:null,C=v.children,Ue(g,v)?C=null:b!==null&&Ue(g,b)&&(u.flags|=32),ZA(a,u),Hr(a,u,C,d),u.child;case 6:return a===null&&d0(u),null;case 13:return n2(a,u,d);case 4:return w0(u,u.stateNode.containerInfo),g=u.pendingProps,a===null?u.child=vl(u,null,g,d):Hr(a,u,g,d),u.child;case 11:return g=u.type,v=u.pendingProps,qA(a,u,g,v=u.elementType===g?v:Jn(g,v),d);case 7:return Hr(a,u,u.pendingProps,d),u.child;case 8:case 12:return Hr(a,u,u.pendingProps.children,d),u.child;case 10:e:{if(g=u.type._context,v=u.pendingProps,b=u.memoizedProps,cA(0,g,C=v.value),b!==null)if(Kn(b.value,C)){if(b.children===v.children&&!zr.current){u=is(a,u,d);break e}}else for((b=u.child)!==null&&(b.return=u);b!==null;){var P=b.dependencies;if(P!==null){C=b.child;for(var D=P.firstContext;D!==null;){if(D.context===g){if(b.tag===1){(D=ns(-1,d&-d)).tag=2;var j=b.updateQueue;if(j!==null){var X=(j=j.shared).pending;X===null?D.next=D:(D.next=X.next,X.next=D),j.pending=D}}b.lanes|=d,(D=b.alternate)!==null&&(D.lanes|=d),v0(b.return,d,u),P.lanes|=d;break}D=D.next}}else if(b.tag===10)C=b.type===u.type?null:b.child;else if(b.tag===18){if((C=b.return)===null)throw Error(s(341));C.lanes|=d,(P=C.alternate)!==null&&(P.lanes|=d),v0(C,d,u),C=b.sibling}else C=b.child;if(C!==null)C.return=b;else for(C=b;C!==null;){if(C===u){C=null;break}if((b=C.sibling)!==null){b.return=C.return,C=b;break}C=C.return}b=C}Hr(a,u,v.children,d),u=u.child}return u;case 9:return v=u.type,g=u.pendingProps.children,gl(u,d),g=g(v=vn(v)),u.flags|=1,Hr(a,u,g,d),u.child;case 14:return v=Jn(g=u.type,u.pendingProps),KA(a,u,g,v=Jn(g.type,v),d);case 15:return QA(a,u,u.type,u.pendingProps,d);case 17:return g=u.type,v=u.pendingProps,v=u.elementType===g?v:Jn(g,v),rp(a,u),u.tag=1,en(g)?(a=!0,Nf(u)):a=!1,gl(u,d),vA(u,g,v),x0(u,g,v,d),B0(null,u,g,!0,a,d);case 19:return s2(a,u,d);case 22:return JA(a,u,d)}throw Error(s(156,u.tag))},e.attemptContinuousHydration=function(a){if(a.tag===13){var u=xi(a,134217728);u!==null&&bn(u,a,134217728,Er()),bp(a,134217728)}},e.attemptDiscreteHydration=function(a){if(a.tag===13){var u=xi(a,1);u!==null&&bn(u,a,1,Er()),bp(a,1)}},e.attemptHydrationAtCurrentPriority=function(a){if(a.tag===13){var u=Ys(a),d=xi(a,u);d!==null&&bn(d,a,u,Er()),bp(a,u)}},e.attemptSynchronousHydration=function(a){switch(a.tag){case 3:var u=a.stateNode;if(u.current.memoizedState.isDehydrated){var d=dc(u.pendingLanes);d!==0&&(s0(u,1|d),Gr(u,Zt()),!(6&Ge)&&(El(),_i()))}break;case 13:E2(function(){var g=xi(a,1);if(g!==null){var v=Er();bn(g,a,1,v)}}),bp(a,1)}},e.batchedUpdates=function(a,u){var d=Ge;Ge|=1;try{return a(u)}finally{(Ge=d)===0&&(El(),Lf&&_i())}},e.createComponentSelector=function(a){return{$$typeof:sp,value:a}},e.createContainer=function(a,u,d,g,v,b,C){return k2(a,u,!1,null,0,g,0,b,C)},e.createHasPseudoClassSelector=function(a){return{$$typeof:op,value:a}},e.createHydrationContainer=function(a,u,d,g,v,b,C,P,D){return(a=k2(d,g,!0,a,0,b,0,P,D)).context=M2(null),d=a.current,(b=ns(g=Er(),v=Ys(d))).callback=u??null,Ws(d,b,v),a.current.lanes=v,fc(a,v,g),Gr(a,g),a},e.createPortal=function(a,u,d){var g=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:g==null?null:""+g,children:a,containerInfo:u,implementation:d}},e.createRoleSelector=function(a){return{$$typeof:ap,value:a}},e.createTestNameSelector=function(a){return{$$typeof:lp,value:a}},e.createTextSelector=function(a){return{$$typeof:up,value:a}},e.deferredUpdates=function(a){var u=qe,d=kt.transition;try{return kt.transition=null,qe=16,a()}finally{qe=u,kt.transition=d}},e.discreteUpdates=function(a,u,d,g,v){var b=qe,C=kt.transition;try{return kt.transition=null,qe=1,a(u,d,g,v)}finally{qe=b,kt.transition=C,Ge===0&&El()}},e.findAllNodes=q0,e.findBoundingRects=function(a,u){if(!Fr)throw Error(s(363));u=q0(a,u),a=[];for(var d=0;d<u.length;d++)a.push(Af(u[d]));for(u=a.length-1;0<u;u--)for(var g=(d=a[u]).x,v=g+d.width,b=d.y,C=b+d.height,P=u-1;0<=P;P--)if(u!==P){var D=a[P],j=D.x,X=j+D.width,ae=D.y,G=ae+D.height;if(g>=j&&b>=ae&&v<=X&&C<=G){a.splice(u,1);break}if(!(g!==j||d.width!==D.width||G<b||ae>C)){ae>b&&(D.height+=ae-b,D.y=b),G<C&&(D.height=C-ae),a.splice(u,1);break}if(!(b!==ae||d.height!==D.height||X<g||j>v)){j>g&&(D.width+=j-g,D.x=g),X<v&&(D.width=v-j),a.splice(u,1);break}}return a},e.findHostInstance=N2,e.findHostInstanceWithNoPortals=function(a){return(a=(a=K(a))!==null?z(a):null)===null?null:a.stateNode},e.findHostInstanceWithWarning=function(a){return N2(a)},e.flushControlled=function(a){var u=Ge;Ge|=1;var d=kt.transition,g=qe;try{kt.transition=null,qe=1,a()}finally{qe=g,kt.transition=d,(Ge=u)===0&&(El(),_i())}},e.flushPassiveEffects=Xo,e.flushSync=E2,e.focusWithin=function(a,u){if(!Fr)throw Error(s(363));for(u=_2(a=V0(a),u),u=Array.from(u),a=0;a<u.length;){var d=u[a++];if(!Lo(d)){if(d.tag===5&&ll(d.stateNode))return!0;for(d=d.child;d!==null;)u.push(d),d=d.sibling}}return!1},e.getCurrentUpdatePriority=function(){return qe},e.getFindAllNodesFailureDescription=function(a,u){if(!Fr)throw Error(s(363));var d=0,g=[];a=[V0(a),0];for(var v=0;v<a.length;){var b=a[v++],C=a[v++],P=u[C];if((b.tag!==5||!Lo(b))&&(X0(b,P)&&(g.push(Y0(P)),++C>d&&(d=C)),C<u.length))for(b=b.child;b!==null;)a.push(b,C),b=b.sibling}if(d<u.length){for(a=[];d<u.length;d++)a.push(Y0(u[d]));return`findAllNodes was able to match part of the selector:
  `+g.join(" > ")+`

No matching component was found for:
  `+a.join(" > ")}return null},e.getPublicRootInstance=function(a){return(a=a.current).child?a.child.tag===5?ve(a.child.stateNode):a.child.stateNode:null},e.injectIntoDevTools=function(a){if(a={bundleType:a.bundleType,version:a.version,rendererPackageName:a.rendererPackageName,rendererConfig:a.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:R4,findFiberByHostInstance:a.findFiberByHostInstance||I4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")a=!1;else{var u=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(u.isDisabled||!u.supportsFiber)a=!0;else{try{Df=u.inject(a),yi=u}catch{}a=!!u.checkDCE}}return a},e.isAlreadyRendering=function(){return!1},e.observeVisibleRects=function(a,u,d,g){if(!Fr)throw Error(s(363));a=q0(a,u);var v=Rf(a,d,g).disconnect;return{disconnect:function(){v()}}},e.registerMutableSourceForHydration=function(a,u){var d=u._getVersion;d=d(u._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[u,d]:a.mutableSourceEagerHydrationData.push(u,d)},e.runWithPriority=function(a,u){var d=qe;try{return qe=a,u()}finally{qe=d}},e.shouldError=function(){return null},e.shouldSuspend=function(){return!1},e.updateContainer=function(a,u,d,g){var v=u.current,b=Er(),C=Ys(v);return d=M2(d),u.context===null?u.context=d:u.pendingContext=d,(u=ns(b,C)).payload={element:a},(g=g===void 0?null:g)!==null&&(u.callback=g),(a=Ws(v,u,C))!==null&&(bn(a,v,C,b),Gf(a,v,C)),C},e}),fS}({get exports(){return Py},set exports(t){Py=t}}).exports=N3();var O3=o3(Py),gS={name:"root",private:!0,workspaces:["packages/*"],scripts:{build:"nx run-many --target=build --all --parallel","build:force":"nx run-many --target=build --all --parallel --skip-nx-cache","build:docs":"nx run @pixi/react-docs:deploy",clean:"rimraf packages/*/dist packages/*/build",lint:"eslint .",prepare:"husky install",prerelease:"./scripts/checkReleaseBranch.mjs && npm run lint && npm run test:force && npm run build:force",release:"lerna publish --no-private",test:"nx run-many --target=test --all --parallel","test:force":"nx run-many --target=test --all --parallel --skip-nx-cache","test:ci":"nx run-many --target=test:ci --all --parallel","test:ci:force":"nx run-many --target=test:ci --all --parallel --skip-nx-cache","test:types":"nx run-many --target=test:types --all --parallel","test:types:force":"nx run-many --target=test:types --all --parallel --skip-nx-cache"},husky:{hooks:{"pre-commit":"lint-staged"}},"lint-staged":{"*.{ts,js,mjs}":["eslint --cache --fix"]},resolutions:{"get-pkg-repo":"4.1.1","hosted-git-info":"^2.1.4"},dependencies:{"@babel/runtime":"^7.14.8","@pixi/app":"^7.1.1","@pixi/constants":"^7.1.1","@pixi/core":"^7.1.1","@pixi/display":"^7.1.1","@pixi/extensions":"^7.1.1","@pixi/graphics":"^7.1.1","@pixi/math":"^7.1.1","@pixi/mesh":"^7.1.1","@pixi/mesh-extras":"^7.1.1","@pixi/particle-container":"^7.1.1","@pixi/sprite":"^7.1.1","@pixi/sprite-animated":"^7.1.1","@pixi/sprite-tiling":"^7.1.1","@pixi/text":"^7.1.1","@pixi/text-bitmap":"^7.1.1","@pixi/ticker":"^7.1.1","@react-spring/animated":"^9.6.1","@react-spring/types":"^9.6.1",react:"^18.0.0","react-dom":"^18.0.0","react-reconciler":"0.29.0","react-spring":"^9.6.1"},devDependencies:{"@babel/cli":"^7.20.7","@babel/core":"^7.20.7","@babel/eslint-parser":"^7.19.1","@babel/plugin-transform-runtime":"^7.19.6","@babel/preset-env":"^7.20.2","@babel/preset-react":"^7.18.6","@nrwl/nx-cloud":"latest","@pixi/eslint-config":"^4.0.1","@rollup/plugin-alias":"^4.0.2","@rollup/plugin-babel":"^6.0.3","@rollup/plugin-commonjs":"^24.0.0","@rollup/plugin-json":"^6.0.0","@rollup/plugin-node-resolve":"^15.0.1","@rollup/plugin-replace":"^5.0.2","@rollup/plugin-terser":"^0.2.1","@rollup/plugin-typescript":"^10.0.1","@types/jest":"^29.2.4","@types/react":"17.0.15","@types/react-dom":"17.0.9","@types/react-reconciler":"0.28.2","babel-jest":"^29.3.1","babel-plugin-module-resolver":"4.1.0","cross-env":"^7.0.3",eslint:"^8.29.0","eslint-plugin-react":"^7.31.11",husky:"^8.0.2",jest:"^29.3.1","jest-environment-jsdom":"^29.3.1","jest-extended":"^3.2.0","jest-watch-typeahead":"^2.2.1",lerna:"^6.0.3","lint-staged":"^13.1.0",nx:"15.3.0",rimraf:"^3.0.2",rollup:"^3.7.0","rollup-plugin-filesize":"^9.1.2","rollup-plugin-visualizer":"^5.9.0","ts-jest":"^29.0.3","ts-node":"^10.9.1",typescript:"^4.9.4"}},Iy={},nf={get exports(){return Iy},set exports(t){Iy=t}};(function(){var t,e,r,n,i,s;typeof performance<"u"&&performance!==null&&performance.now?nf.exports=function(){return performance.now()}:typeof process<"u"&&process!==null&&process.hrtime?(nf.exports=function(){return(t()-i)/1e6},e=process.hrtime,n=(t=function(){var o;return 1e9*(o=e())[0]+o[1]})(),s=1e9*process.uptime(),i=n-s):Date.now?(nf.exports=function(){return Date.now()-r},r=Date.now()):(nf.exports=function(){return new Date().getTime()-r},r=new Date().getTime())}).call(s3);var vS,el={},Mo={};({get exports(){return el},set exports(t){el=t}}).exports=(vS||(vS=1,Mo.ConcurrentRoot=1,Mo.ContinuousEventPriority=4,Mo.DefaultEventPriority=16,Mo.DiscreteEventPriority=1,Mo.IdleEventPriority=536870912,Mo.LegacyRoot=0),Mo);var D3={};function ky(t,e){t.addChild&&(t.addChild(e),typeof e.didMount=="function"&&e.didMount(e,t))}function yS(t,e){var r,n,i;(r=t.willUnmount)===null||r===void 0||r.call(t,t,e),((n=t.config)===null||n===void 0?void 0:n.destroyChildren)!==!1&&(i=t.children)!==null&&i!==void 0&&i.length&&Ki(t.children).forEach(function(s){yS(s,t)})}function _S(t,e){var r;yS(e,t),t.removeChild(e);var n=(r=e.config)!==null&&r!==void 0?r:{},i=n.destroy,s=i===void 0||i,o=n.destroyChildren,l=o===void 0||o,c=n.destroyTexture,h=c!==void 0&&c,f=n.destroyBaseTexture,p=f!==void 0&&f;s&&e.destroy({children:l,texture:h,baseTexture:p})}function bS(t,e,r){At(e!==r,"pixi-react: PixiFiber cannot insert node before itself"),t.children.indexOf(e)!==-1&&t.removeChild(e);var n=t.getChildIndex(r);t.addChildAt(e,n)}var xS=null,Gn=O3({getRootHostContext:function(){return D3},getChildHostContext:function(t){return t},getChildHostContextForEventComponent:function(t){return t},getPublicInstance:function(t){return t},getCurrentEventPriority:function(){return function(){var t,e;if(typeof window>"u")return el.DefaultEventPriority;switch((t=window)===null||t===void 0||(e=t.event)===null||e===void 0?void 0:e.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return el.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return el.ContinuousEventPriority;default:return el.DefaultEventPriority}}()},prepareForCommit:function(){return null},resetAfterCommit:function(){},createInstance:function(t){var e,r,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:null,s=R3[t];if(typeof s=="function"&&(e=s(i,n)),!e){var o=cS[t];o&&((e=o.create(n,{root:i})).didMount=o.didMount?o.didMount.bind(e):void 0,e.willUnmount=o.willUnmount?o.willUnmount.bind(e):void 0,e.applyProps=o.applyProps?o.applyProps.bind(e):void 0,e.config=o.config)}return e&&(e.__reactpixi={root:i},(typeof((r=e)===null||r===void 0?void 0:r.applyProps)=="function"?e.applyProps:gi)(e,{},n)),e},hideInstance:function(t){t.visible=!1},unhideInstance:function(t,e){var r=e==null||!e.hasOwnProperty("visible")||e.visible;t.visible=r},finalizeInitialChildren:function(t,e,r){return!1},prepareUpdate:function(t,e,r,n,i,s){return xS=function(o,l,c,h){var f=null;for(var p in c)!h.hasOwnProperty(p)&&c.hasOwnProperty(p)&&c[p]!==null&&(p===Ay||(f||(f=[]),f.push(p,null)));for(var m in h){var y=h[m],_=c!==null?c[m]:void 0;!h.hasOwnProperty(m)||y===_||y===null&&_===null||m===Ay||(f||(f=[]),f.push(m,y))}return f}(0,0,r,n)},shouldSetTextContent:function(t,e){return!1},shouldDeprioritizeSubtree:function(t,e){var r=e.alpha===void 0||e.alpha>0,n=e.renderable===void 0||e.renderable===!0,i=e.visible===void 0||e.visible===!0;return!(r&&n&&i)},createTextInstance:function(t,e,r){At(!1,'pixi-react: Error trying to add text node "'.concat(t,'"'),"PixiFiber does not support text nodes as children of a Pixi component. To pass a string value to your component, use a property other than children. If you wish to display some text, you can use &lt;Text text={string} /&gt; instead.")},unhideTextInstance:function(t,e){},mountEventComponent:function(){},updateEventComponent:function(){},handleEventTarget:function(){},scheduleTimeout:setTimeout,cancelTimeout:clearTimeout,noTimeout:-1,warnsIfNotActing:!1,now:Iy,isPrimaryRenderer:!1,supportsMutation:!0,supportsPersistence:!1,supportsHydration:!1,supportsMicrotasks:!0,scheduleMicrotask:queueMicrotask,appendInitialChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=ky.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendInitialChild"}),s},appendChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=ky.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChild"}),s},appendChildToContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=ky.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"appendChildToContainer"}),s},removeChild:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=_S.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChild"}),s},removeChildFromContainer:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=_S.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"removeChildFromContainer"}),s},insertBefore:bS,insertInContainerBefore:function(){for(var t,e,r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=bS.apply(null,n);return(t=n[0].__reactpixi)===null||t===void 0||(e=t.root)===null||e===void 0||e.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"insertInContainerBefore"}),s},commitUpdate:function(t,e,r,n,i){var s,o,l=t&&t.applyProps;typeof l!="function"&&(l=gi),(l(t,n,i)||xS)&&((s=t.__reactpixi)===null||s===void 0||(o=s.root)===null||o===void 0||o.emit("__REACT_PIXI_REQUEST_RENDER__",{detail:"commitUpdate"}))},commitMount:function(t,e,r,n,i){},commitTextUpdate:function(t,e,r){},resetTextContent:function(t){},clearContainer:function(t){},getFundamentalComponentInstance:function(t){throw new Error("Not yet implemented.")},mountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},shouldUpdateFundamentalComponent:function(t){throw new Error("Not yet implemented.")},unmountFundamentalComponent:function(t){throw new Error("Not yet implemented.")},getInstanceFromNode:function(t){throw new Error("Not yet implemented.")},isOpaqueHydratingObject:function(t){throw new Error("Not yet implemented")},makeOpaqueHydratingObject:function(t){throw new Error("Not yet implemented.")},makeClientIdInDEV:function(t){throw new Error("Not yet implemented")},beforeActiveInstanceBlur:function(t){},afterActiveInstanceBlur:function(){},detachDeletedInstance:function(){},preparePortalMount:function(t){}}),L3=gS.dependencies["react-dom"].replace(/[^0-9.]/g,""),B3=gS.name;Gn.injectIntoDevTools({bundleType:0,version:L3,rendererPackageName:B3,findHostInstanceByFiber:Gn.findHostInstance});var Ls=new Map;function wS(t){if(At(yr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`."),Ls.has(t)){var e=Ls.get(t).pixiFiberContainer;Gn.updateContainer(null,e,void 0,function(){Ls.delete(t)})}}function ES(t){At(yr.prototype.isPrototypeOf(t),"Invalid argument `container`, expected instance of `PIXI.Container`.");var e=Ls.get(t);if(At(!e,"Pixi React: createRoot should only be called once"),!e){var r=Gn.createContainer(t);e={pixiFiberContainer:r,reactRoot:{render:function(n){return Gn.updateContainer(n,r,void 0),Gn.getPublicRootInstance(r)},unmount:function(){wS(t),Ls.delete(t)}}},Ls.set(t,e)}return e.reactRoot}function F3(t,e,r){var n;return console.warn("Pixi React Deprecation Warning: render is deprecated, use createRoot instead"),r!==void 0&&console.warn("Pixi React Deprecation Warning: render callback no longer exists in React 18"),Ls.has(e)?n=Ls.get(e).reactRoot:n=ES(e),n.render(t)}function U3(t){wS(t)}function Ku(){return Ku=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ku.apply(this,arguments)}function z3(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function j3(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,nS(n.key),n)}}function Qi(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function sf(t,e){return sf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},sf(t,e)}function H3(t,e){if(e&&(Qr(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return Qi(t)}function of(t){return of=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},of(t)}var af=wn.createContext(null),TS=af.Provider,SS=af.Consumer,G3=function(t){var e=wn.forwardRef(function(r,n){return wn.createElement(SS,null,function(i){return wn.createElement(t,Ku({},r,{ref:n,app:i}))})});return e.displayName="withPIXIApp(".concat(t.displayName||t.name,")"),e};function W3(t){var e=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var r,n=of(t);if(e){var i=of(this).constructor;r=Reflect.construct(n,arguments,i)}else r=n.apply(this,arguments);return H3(this,r)}}function AS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AS(Object(r),!0).forEach(function(n){It(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var CS=function(){},PS={width:Ze.number,height:Ze.number,onMount:Ze.func,onUnmount:Ze.func,raf:Ze.bool,renderOnComponentChange:Ze.bool,children:Ze.node,options:Ze.shape({autoStart:Ze.bool,width:Ze.number,height:Ze.number,useContextAlpha:Ze.bool,backgroundAlpha:Ze.number,autoDensity:Ze.bool,antialias:Ze.bool,preserveDrawingBuffer:Ze.bool,resolution:Ze.number,forceCanvas:Ze.bool,backgroundColor:Ze.number,clearBeforeRender:Ze.bool,powerPreference:Ze.string,sharedTicker:Ze.bool,sharedLoader:Ze.bool,resizeTo:function(t,e){var r=t[e];r&&At(r===window||r instanceof HTMLElement,"Invalid prop `resizeTo` of type ".concat(Qr(r),", expect `window` or an `HTMLElement`."))},view:function(t,e,r){var n=t[e];n&&At(n instanceof HTMLCanvasElement,"Invalid prop `view` of type ".concat(Qr(n),", supplied to ").concat(r,", expected `<canvas> Element`"))}})},$3={width:800,height:600,onMount:CS,onUnmount:CS,raf:!0,renderOnComponentChange:!0},My=function(t){(function(s,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(o&&o.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),o&&sf(s,o)})(i,wn.Component);var e,r,n=W3(i);function i(){var s;z3(this,i);for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];return It(Qi(s=n.call.apply(n,[this].concat(l))),"_canvas",null),It(Qi(s),"_mediaQuery",null),It(Qi(s),"_ticker",null),It(Qi(s),"_needsUpdate",!0),It(Qi(s),"app",null),It(Qi(s),"updateSize",function(){var h=s.props,f=h.width,p=h.height,m=h.options;m!=null&&m.resolution||(s.app.renderer.resolution=window.devicePixelRatio,s.resetInteractionManager()),s.app.renderer.resize(f,p)}),It(Qi(s),"needsRenderUpdate",function(){s._needsUpdate=!0}),It(Qi(s),"renderStage",function(){var h=s.props,f=h.renderOnComponentChange;!h.raf&&f&&s._needsUpdate&&(s._needsUpdate=!1,s.app.renderer.render(s.app.stage))}),s}return e=i,(r=[{key:"componentDidMount",value:function(){var s=this.props,o=s.onMount,l=s.width,c=s.height,h=s.options,f=s.raf,p=s.renderOnComponentChange;this.app=new Yu(lf(lf({width:l,height:c,view:this._canvas},h),{},{autoDensity:(h==null?void 0:h.autoDensity)!==!1})),this.app.ticker.autoStart=!1,this.app.ticker[f?"start":"stop"](),this.app.stage.__reactpixi={root:this.app.stage},this.mountNode=Gn.createContainer(this.app.stage),Gn.updateContainer(this.getChildren(),this.mountNode,this),o(this.app),h!=null&&h.autoDensity&&window.matchMedia&&(h==null?void 0:h.resolution)===void 0&&(this._mediaQuery=window.matchMedia("(-webkit-min-device-pixel-ratio: 1.3), (min-resolution: 120dpi)"),this._mediaQuery.addListener(this.updateSize)),p&&!f&&(this._ticker=new Rt,this._ticker.autoStart=!0,this._ticker.add(this.renderStage),this.app.stage.on("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate)),this.updateSize(),this.renderStage()}},{key:"componentDidUpdate",value:function(s,o,l){var c,h=this.props,f=h.width,p=h.height,m=h.raf,y=h.renderOnComponentChange,_=h.options;(_==null?void 0:_.resolution)!==void 0&&(s==null?void 0:s.options.resolution)!==(_==null?void 0:_.resolution)&&(this.app.renderer.resolution=_.resolution,this.resetInteractionManager()),s.height===p&&s.width===f&&((c=s.options)===null||c===void 0?void 0:c.resolution)===(_==null?void 0:_.resolution)||this.updateSize(),s.raf!==m&&this.app.ticker[m?"start":"stop"](),Gn.updateContainer(this.getChildren(),this.mountNode,this),s.width===f&&s.height===p&&s.raf===m&&s.renderOnComponentChange===y&&s.options===_||(this._needsUpdate=!0,this.renderStage())}},{key:"resetInteractionManager",value:function(){var s=this.app.renderer.plugins.interaction;s!=null&&s.resolution&&(s.resolution=this.app.renderer.resolution)}},{key:"getChildren",value:function(){var s=this.props.children;return wn.createElement(TS,{value:this.app},s)}},{key:"componentDidCatch",value:function(s,o){console.error("Error occurred in `Stage`."),console.error(s),console.error(o)}},{key:"componentWillUnmount",value:function(){this.props.onUnmount(this.app),this._ticker&&(this._ticker.remove(this.renderStage),this._ticker.destroy()),this.app.stage.off("__REACT_PIXI_REQUEST_RENDER__",this.needsRenderUpdate),Gn.updateContainer(null,this.mountNode,this),this._mediaQuery&&(this._mediaQuery.removeListener(this.updateSize),this._mediaQuery=null),this.app.destroy()}},{key:"render",value:function(){var s,o,l=this,c=this.props.options;return c&&c.view?(At(c.view instanceof HTMLCanvasElement,"options.view needs to be a `HTMLCanvasElement`"),null):wn.createElement("canvas",Ku({},(s=this.props,o=[].concat(Ki(Object.keys(PS)),Ki(Object.keys(Cy))),Object.keys(s).filter(function(h){return!o.includes(h)}).reduce(function(h,f){return lf(lf({},h),{},It({},f,s[f]))},{})),{ref:function(h){return l._canvas=h}}))}}])&&j3(e.prototype,r),Object.defineProperty(e,"prototype",{writable:!1}),i}();My.propTypes=PS,My.defaultProps=$3;var V3=My;function RS(){var t=se.useContext(af);return At(t instanceof Yu,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider"),t}function X3(t){var e=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1],r=RS();At(typeof t=="function","`useTick` needs a callback function."),At(r instanceof Yu,"No Context found with `%s`. Make sure to wrap component with `%s`","PIXI.Application","AppProvider");var n=se.useRef(null);se.useEffect(function(){n.current=t},[t]),se.useEffect(function(){if(e){var i=function(s){return n.current.apply(r.ticker,[s,r.ticker])};return r.ticker.add(i),function(){r.ticker&&r.ticker.remove(i)}}},[e])}function Y3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Ny(t,e,r){return Ny=Y3()?Reflect.construct.bind():function(n,i,s){var o=[null];o.push.apply(o,i);var l=new(Function.bind.apply(n,o));return s&&sf(l,s.prototype),l},Ny.apply(null,arguments)}var q3=["children","apply"];function IS(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uf(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IS(Object(r),!0).forEach(function(n){It(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IS(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}var K3=function(t,e){At(Qr(e)==="object","Second argument needs to be an indexed object with { prop: Filter }");var r=Object.keys(e),n=function(i){var s=i.children,o=i.apply,l=Ds(i,q3),c=se.useRef(se.useMemo(function(){return r.map(function(p){var m,y=(l==null||(m=l[p])===null||m===void 0?void 0:m.construct)||[];return Ny(e[p],Ki(y))})},[r])),h=se.useMemo(function(){return r.reduce(function(p,m,y){return uf(uf({},p),{},It({},m,c.current[y]))},{})},[r]),f=se.useMemo(function(){return Object.keys(l).filter(oS(sS(r))).reduce(function(p,m){return uf(uf({},p),{},It({},m,l[m]))},{})},[l,r]);return r.forEach(function(p,m){return Object.assign(c.current[m],l[p])}),o&&function(){for(var p=arguments.length,m=new Array(p),y=0;y<p;y++)m[y]=arguments[y];return m.every(function(_){return typeof _=="function"})}(o)&&o.call(t,h),wn.createElement(t,Ku({},f,{filters:c.current}),s)};return n.displayName="FilterWrapper",n.propTypes={children:Ze.node,apply:Ze.func},n},Q3=Lr.BitmapText,J3=Lr.Container,Z3=Lr.Graphics,eL=Lr.NineSlicePlane,tL=Lr.ParticleContainer,rL=Lr.Sprite,nL=Lr.AnimatedSprite,iL=Lr.Text,sL=Lr.TilingSprite,oL=Lr.SimpleMesh,aL=Lr.SimpleRope;const lL=Object.freeze(Object.defineProperty({__proto__:null,AnimatedSprite:nL,AppConsumer:SS,AppContext:af,AppProvider:TS,BitmapText:Q3,Container:J3,Graphics:Z3,NineSlicePlane:eL,ParticleContainer:tL,PixiComponent:I3,PixiFiber:Gn,SimpleMesh:oL,SimpleRope:aL,Sprite:rL,Stage:V3,TYPES:Lr,Text:iL,TilingSprite:sL,applyDefaultProps:gi,createRoot:ES,eventHandlers:tf,render:F3,unmountComponentAtNode:U3,useApp:RS,useTick:X3,withFilters:K3,withPixiApp:G3},Symbol.toStringTag,{value:"Module"})),uL=c_(lL);dw.exports=uL;var Qu=dw.exports;const kS=new ht;dt.prototype._cacheAsBitmap=!1,dt.prototype._cacheData=null,dt.prototype._cacheAsBitmapResolution=null,dt.prototype._cacheAsBitmapMultisample=null;class cL{constructor(){this.textureCacheId=null,this.originalRender=null,this.originalRenderCanvas=null,this.originalCalculateBounds=null,this.originalGetLocalBounds=null,this.originalUpdateTransform=null,this.originalDestroy=null,this.originalMask=null,this.originalFilterArea=null,this.originalContainsPoint=null,this.sprite=null}}Object.defineProperties(dt.prototype,{cacheAsBitmapResolution:{get(){return this._cacheAsBitmapResolution},set(t){t!==this._cacheAsBitmapResolution&&(this._cacheAsBitmapResolution=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmapMultisample:{get(){return this._cacheAsBitmapMultisample},set(t){t!==this._cacheAsBitmapMultisample&&(this._cacheAsBitmapMultisample=t,this.cacheAsBitmap&&(this.cacheAsBitmap=!1,this.cacheAsBitmap=!0))}},cacheAsBitmap:{get(){return this._cacheAsBitmap},set(t){if(this._cacheAsBitmap===t)return;this._cacheAsBitmap=t;let e;t?(this._cacheData||(this._cacheData=new cL),e=this._cacheData,e.originalRender=this.render,e.originalRenderCanvas=this.renderCanvas,e.originalUpdateTransform=this.updateTransform,e.originalCalculateBounds=this.calculateBounds,e.originalGetLocalBounds=this.getLocalBounds,e.originalDestroy=this.destroy,e.originalContainsPoint=this.containsPoint,e.originalMask=this._mask,e.originalFilterArea=this.filterArea,this.render=this._renderCached,this.renderCanvas=this._renderCachedCanvas,this.destroy=this._cacheAsBitmapDestroy):(e=this._cacheData,e.sprite&&this._destroyCachedDisplayObject(),this.render=e.originalRender,this.renderCanvas=e.originalRenderCanvas,this.calculateBounds=e.originalCalculateBounds,this.getLocalBounds=e.originalGetLocalBounds,this.destroy=e.originalDestroy,this.updateTransform=e.originalUpdateTransform,this.containsPoint=e.originalContainsPoint,this._mask=e.originalMask,this.filterArea=e.originalFilterArea)}}}),dt.prototype._renderCached=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObject(t),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._render(t))},dt.prototype._initCachedDisplayObject=function(t){var p,m;if((p=this._cacheData)!=null&&p.sprite)return;const e=this.alpha;this.alpha=1,t.batch.flush();const r=this.getLocalBounds(null,!0).clone();if((m=this.filters)!=null&&m.length){const y=this.filters[0].padding;r.pad(y)}r.ceil(le.RESOLUTION);const n=t.renderTexture.current,i=t.renderTexture.sourceFrame.clone(),s=t.renderTexture.destinationFrame.clone(),o=t.projection.transform,l=Ao.create({width:r.width,height:r.height,resolution:this.cacheAsBitmapResolution||t.resolution,multisample:this.cacheAsBitmapMultisample??t.multisample}),c=`cacheAsBitmap_${xo()}`;this._cacheData.textureCacheId=c,Ie.addToCache(l.baseTexture,c),ue.addToCache(l,c);const h=this.transform.localTransform.copyTo(kS).invert().translate(-r.x,-r.y);this.render=this._cacheData.originalRender,t.render(this,{renderTexture:l,clear:!0,transform:h,skipUpdateTransform:!1}),t.framebuffer.blit(),t.projection.transform=o,t.renderTexture.bind(n,i,s),this.render=this._renderCached,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=e;const f=new fi(l);f.transform.worldTransform=this.transform.worldTransform,f.anchor.x=-(r.x/r.width),f.anchor.y=-(r.y/r.height),f.alpha=e,f._bounds=this._bounds,this._cacheData.sprite=f,this.transform._parentID=-1,this.parent?this.updateTransform():(this.enableTempParent(),this.updateTransform(),this.disableTempParent(null)),this.containsPoint=f.containsPoint.bind(f)},dt.prototype._renderCachedCanvas=function(t){!this.visible||this.worldAlpha<=0||!this.renderable||(this._initCachedDisplayObjectCanvas(t),this._cacheData.sprite.worldAlpha=this.worldAlpha,this._cacheData.sprite._renderCanvas(t))},dt.prototype._initCachedDisplayObjectCanvas=function(t){var h;if((h=this._cacheData)!=null&&h.sprite)return;const e=this.getLocalBounds(null,!0),r=this.alpha;this.alpha=1;const n=t.canvasContext.activeContext,i=t._projTransform;e.ceil(le.RESOLUTION);const s=Ao.create({width:e.width,height:e.height}),o=`cacheAsBitmap_${xo()}`;this._cacheData.textureCacheId=o,Ie.addToCache(s.baseTexture,o),ue.addToCache(s,o);const l=kS;this.transform.localTransform.copyTo(l),l.invert(),l.tx-=e.x,l.ty-=e.y,this.renderCanvas=this._cacheData.originalRenderCanvas,t.render(this,{renderTexture:s,clear:!0,transform:l,skipUpdateTransform:!1}),t.canvasContext.activeContext=n,t._projTransform=i,this.renderCanvas=this._renderCachedCanvas,this.updateTransform=this.displayObjectUpdateTransform,this.calculateBounds=this._calculateCachedBounds,this.getLocalBounds=this._getCachedLocalBounds,this._mask=null,this.filterArea=null,this.alpha=r;const c=new fi(s);c.transform.worldTransform=this.transform.worldTransform,c.anchor.x=-(e.x/e.width),c.anchor.y=-(e.y/e.height),c.alpha=r,c._bounds=this._bounds,this._cacheData.sprite=c,this.transform._parentID=-1,this.parent?this.updateTransform():(this.parent=t._tempDisplayObjectParent,this.updateTransform(),this.parent=null),this.containsPoint=c.containsPoint.bind(c)},dt.prototype._calculateCachedBounds=function(){this._bounds.clear(),this._cacheData.sprite.transform._worldID=this.transform._worldID,this._cacheData.sprite._calculateBounds(),this._bounds.updateID=this._boundsID},dt.prototype._getCachedLocalBounds=function(){return this._cacheData.sprite.getLocalBounds(null)},dt.prototype._destroyCachedDisplayObject=function(){this._cacheData.sprite._texture.destroy(!0),this._cacheData.sprite=null,Ie.removeFromCache(this._cacheData.textureCacheId),ue.removeFromCache(this._cacheData.textureCacheId),this._cacheData.textureCacheId=null},dt.prototype._cacheAsBitmapDestroy=function(t){this.cacheAsBitmap=!1,this.destroy(t)},dt.prototype.name=null,yr.prototype.getChildByName=function(t,e){for(let r=0,n=this.children.length;r<n;r++)if(this.children[r].name===t)return this.children[r];if(e)for(let r=0,n=this.children.length;r<n;r++){const i=this.children[r];if(!i.getChildByName)continue;const s=i.getChildByName(t,!0);if(s)return s}return null},dt.prototype.getGlobalPosition=function(t=new je,e=!1){return this.parent?this.parent.toGlobal(this.position,t,e):(t.x=this.position.x,t.y=this.position.y),t};var hL=`varying vec2 vTextureCoord;

uniform sampler2D uSampler;
uniform float uAlpha;

void main(void)
{
   gl_FragColor = texture2D(uSampler, vTextureCoord) * uAlpha;
}
`;class dL extends ar{constructor(e=1){super(DO,hL,{uAlpha:1}),this.alpha=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}const fL={5:[.153388,.221461,.250301],7:[.071303,.131514,.189879,.214607],9:[.028532,.067234,.124009,.179044,.20236],11:[.0093,.028002,.065984,.121703,.175713,.198596],13:[.002406,.009255,.027867,.065666,.121117,.174868,.197641],15:[489e-6,.002403,.009246,.02784,.065602,.120999,.174697,.197448]},pL=["varying vec2 vBlurTexCoords[%size%];","uniform sampler2D uSampler;","void main(void)","{","    gl_FragColor = vec4(0.0);","    %blur%","}"].join(`
`);function mL(t){const e=fL[t],r=e.length;let n=pL,i="";const s="gl_FragColor += texture2D(uSampler, vBlurTexCoords[%index%]) * %value%;";let o;for(let l=0;l<t;l++){let c=s.replace("%index%",l.toString());o=l,l>=r&&(o=t-l-1),c=c.replace("%value%",e[o].toString()),i+=c,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}const gL=`
    attribute vec2 aVertexPosition;

    uniform mat3 projectionMatrix;

    uniform float strength;

    varying vec2 vBlurTexCoords[%size%];

    uniform vec4 inputSize;
    uniform vec4 outputFrame;

    vec4 filterVertexPosition( void )
    {
        vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

        return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
    }

    vec2 filterTextureCoord( void )
    {
        return aVertexPosition * (outputFrame.zw * inputSize.zw);
    }

    void main(void)
    {
        gl_Position = filterVertexPosition();

        vec2 textureCoord = filterTextureCoord();
        %blur%
    }`;function vL(t,e){const r=Math.ceil(t/2);let n=gL,i="",s;e?s="vBlurTexCoords[%index%] =  textureCoord + vec2(%sampleIndex% * strength, 0.0);":s="vBlurTexCoords[%index%] =  textureCoord + vec2(0.0, %sampleIndex% * strength);";for(let o=0;o<t;o++){let l=s.replace("%index%",o.toString());l=l.replace("%sampleIndex%",`${o-(r-1)}.0`),i+=l,i+=`
`}return n=n.replace("%blur%",i),n=n.replace("%size%",t.toString()),n}class Oy extends ar{constructor(e,r=8,n=4,i=ar.defaultResolution,s=5){const o=vL(s,e),l=mL(s);super(o,l),this.horizontal=e,this.resolution=i,this._quality=0,this.quality=n,this.blur=r}apply(e,r,n,i){if(n?this.horizontal?this.uniforms.strength=1/n.width*(n.width/r.width):this.uniforms.strength=1/n.height*(n.height/r.height):this.horizontal?this.uniforms.strength=1/e.renderer.width*(e.renderer.width/r.width):this.uniforms.strength=1/e.renderer.height*(e.renderer.height/r.height),this.uniforms.strength*=this.strength,this.uniforms.strength/=this.passes,this.passes===1)e.applyFilter(this,r,n,i);else{const s=e.getFilterTexture(),o=e.renderer;let l=r,c=s;this.state.blend=!1,e.applyFilter(this,l,c,oi.CLEAR);for(let h=1;h<this.passes-1;h++){e.bindAndClear(l,oi.BLIT),this.uniforms.uSampler=c;const f=c;c=l,l=f,o.shader.bind(this),o.geometry.draw(5)}this.state.blend=!0,e.applyFilter(this,c,n,i),e.returnFilterTexture(s)}}get blur(){return this.strength}set blur(e){this.padding=1+Math.abs(e)*2,this.strength=e}get quality(){return this._quality}set quality(e){this._quality=e,this.passes=e}}class yL extends ar{constructor(e=8,r=4,n=ar.defaultResolution,i=5){super(),this._repeatEdgePixels=!1,this.blurXFilter=new Oy(!0,e,r,n,i),this.blurYFilter=new Oy(!1,e,r,n,i),this.resolution=n,this.quality=r,this.blur=e,this.repeatEdgePixels=!1}apply(e,r,n,i){const s=Math.abs(this.blurXFilter.strength),o=Math.abs(this.blurYFilter.strength);if(s&&o){const l=e.getFilterTexture();this.blurXFilter.apply(e,r,l,oi.CLEAR),this.blurYFilter.apply(e,l,n,i),e.returnFilterTexture(l)}else o?this.blurYFilter.apply(e,r,n,i):this.blurXFilter.apply(e,r,n,i)}updatePadding(){this._repeatEdgePixels?this.padding=0:this.padding=Math.max(Math.abs(this.blurXFilter.strength),Math.abs(this.blurYFilter.strength))*2}get blur(){return this.blurXFilter.blur}set blur(e){this.blurXFilter.blur=this.blurYFilter.blur=e,this.updatePadding()}get quality(){return this.blurXFilter.quality}set quality(e){this.blurXFilter.quality=this.blurYFilter.quality=e}get blurX(){return this.blurXFilter.blur}set blurX(e){this.blurXFilter.blur=e,this.updatePadding()}get blurY(){return this.blurYFilter.blur}set blurY(e){this.blurYFilter.blur=e,this.updatePadding()}get blendMode(){return this.blurYFilter.blendMode}set blendMode(e){this.blurYFilter.blendMode=e}get repeatEdgePixels(){return this._repeatEdgePixels}set repeatEdgePixels(e){this._repeatEdgePixels=e,this.updatePadding()}}var _L=`varying vec2 vTextureCoord;
uniform sampler2D uSampler;
uniform float m[20];
uniform float uAlpha;

void main(void)
{
    vec4 c = texture2D(uSampler, vTextureCoord);

    if (uAlpha == 0.0) {
        gl_FragColor = c;
        return;
    }

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (c.a > 0.0) {
      c.rgb /= c.a;
    }

    vec4 result;

    result.r = (m[0] * c.r);
        result.r += (m[1] * c.g);
        result.r += (m[2] * c.b);
        result.r += (m[3] * c.a);
        result.r += m[4];

    result.g = (m[5] * c.r);
        result.g += (m[6] * c.g);
        result.g += (m[7] * c.b);
        result.g += (m[8] * c.a);
        result.g += m[9];

    result.b = (m[10] * c.r);
       result.b += (m[11] * c.g);
       result.b += (m[12] * c.b);
       result.b += (m[13] * c.a);
       result.b += m[14];

    result.a = (m[15] * c.r);
       result.a += (m[16] * c.g);
       result.a += (m[17] * c.b);
       result.a += (m[18] * c.a);
       result.a += m[19];

    vec3 rgb = mix(c.rgb, result.rgb, uAlpha);

    // Premultiply alpha again.
    rgb *= result.a;

    gl_FragColor = vec4(rgb, result.a);
}
`;class Dy extends ar{constructor(){const e={m:new Float32Array([1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0]),uAlpha:1};super(wT,_L,e),this.alpha=1}_loadMatrix(e,r=!1){let n=e;r&&(this._multiply(n,this.uniforms.m,e),n=this._colorMatrix(n)),this.uniforms.m=n}_multiply(e,r,n){return e[0]=r[0]*n[0]+r[1]*n[5]+r[2]*n[10]+r[3]*n[15],e[1]=r[0]*n[1]+r[1]*n[6]+r[2]*n[11]+r[3]*n[16],e[2]=r[0]*n[2]+r[1]*n[7]+r[2]*n[12]+r[3]*n[17],e[3]=r[0]*n[3]+r[1]*n[8]+r[2]*n[13]+r[3]*n[18],e[4]=r[0]*n[4]+r[1]*n[9]+r[2]*n[14]+r[3]*n[19]+r[4],e[5]=r[5]*n[0]+r[6]*n[5]+r[7]*n[10]+r[8]*n[15],e[6]=r[5]*n[1]+r[6]*n[6]+r[7]*n[11]+r[8]*n[16],e[7]=r[5]*n[2]+r[6]*n[7]+r[7]*n[12]+r[8]*n[17],e[8]=r[5]*n[3]+r[6]*n[8]+r[7]*n[13]+r[8]*n[18],e[9]=r[5]*n[4]+r[6]*n[9]+r[7]*n[14]+r[8]*n[19]+r[9],e[10]=r[10]*n[0]+r[11]*n[5]+r[12]*n[10]+r[13]*n[15],e[11]=r[10]*n[1]+r[11]*n[6]+r[12]*n[11]+r[13]*n[16],e[12]=r[10]*n[2]+r[11]*n[7]+r[12]*n[12]+r[13]*n[17],e[13]=r[10]*n[3]+r[11]*n[8]+r[12]*n[13]+r[13]*n[18],e[14]=r[10]*n[4]+r[11]*n[9]+r[12]*n[14]+r[13]*n[19]+r[14],e[15]=r[15]*n[0]+r[16]*n[5]+r[17]*n[10]+r[18]*n[15],e[16]=r[15]*n[1]+r[16]*n[6]+r[17]*n[11]+r[18]*n[16],e[17]=r[15]*n[2]+r[16]*n[7]+r[17]*n[12]+r[18]*n[17],e[18]=r[15]*n[3]+r[16]*n[8]+r[17]*n[13]+r[18]*n[18],e[19]=r[15]*n[4]+r[16]*n[9]+r[17]*n[14]+r[18]*n[19]+r[19],e}_colorMatrix(e){const r=new Float32Array(e);return r[4]/=255,r[9]/=255,r[14]/=255,r[19]/=255,r}brightness(e,r){const n=[e,0,0,0,0,0,e,0,0,0,0,0,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}tint(e,r){const[n,i,s]=Ye.shared.setValue(e).toArray(),o=[n,0,0,0,0,0,i,0,0,0,0,0,s,0,0,0,0,0,1,0];this._loadMatrix(o,r)}greyscale(e,r){const n=[e,e,e,0,0,e,e,e,0,0,e,e,e,0,0,0,0,0,1,0];this._loadMatrix(n,r)}blackAndWhite(e){const r=[.3,.6,.1,0,0,.3,.6,.1,0,0,.3,.6,.1,0,0,0,0,0,1,0];this._loadMatrix(r,e)}hue(e,r){e=(e||0)/180*Math.PI;const n=Math.cos(e),i=Math.sin(e),s=Math.sqrt,o=1/3,l=s(o),c=n+(1-n)*o,h=o*(1-n)-l*i,f=o*(1-n)+l*i,p=o*(1-n)+l*i,m=n+o*(1-n),y=o*(1-n)-l*i,_=o*(1-n)-l*i,w=o*(1-n)+l*i,A=n+o*(1-n),E=[c,h,f,0,0,p,m,y,0,0,_,w,A,0,0,0,0,0,1,0];this._loadMatrix(E,r)}contrast(e,r){const n=(e||0)+1,i=-.5*(n-1),s=[n,0,0,0,i,0,n,0,0,i,0,0,n,0,i,0,0,0,1,0];this._loadMatrix(s,r)}saturate(e=0,r){const n=e*2/3+1,i=(n-1)*-.5,s=[n,i,i,0,0,i,n,i,0,0,i,i,n,0,0,0,0,0,1,0];this._loadMatrix(s,r)}desaturate(){this.saturate(-1)}negative(e){const r=[-1,0,0,1,0,0,-1,0,1,0,0,0,-1,1,0,0,0,0,1,0];this._loadMatrix(r,e)}sepia(e){const r=[.393,.7689999,.18899999,0,0,.349,.6859999,.16799999,0,0,.272,.5339999,.13099999,0,0,0,0,0,1,0];this._loadMatrix(r,e)}technicolor(e){const r=[1.9125277891456085,-.8545344976951645,-.09155508482755584,0,11.793603434377337,-.3087833385928097,1.7658908555458428,-.10601743074722245,0,-70.35205161461398,-.231103377548616,-.7501899197440212,1.847597816108189,0,30.950940869491134,0,0,0,1,0];this._loadMatrix(r,e)}polaroid(e){const r=[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0];this._loadMatrix(r,e)}toBGR(e){const r=[0,0,1,0,0,0,1,0,0,0,1,0,0,0,0,0,0,0,1,0];this._loadMatrix(r,e)}kodachrome(e){const r=[1.1285582396593523,-.3967382283601348,-.03992559172921793,0,63.72958762196502,-.16404339962244616,1.0835251566291304,-.05498805115633132,0,24.732407896706203,-.16786010706155763,-.5603416277695248,1.6014850761964945,0,35.62982807460946,0,0,0,1,0];this._loadMatrix(r,e)}browni(e){const r=[.5997023498159715,.34553243048391263,-.2708298674538042,0,47.43192855600873,-.03770324983778316,.8609577587992641,.15059552388459913,0,-36.96841498319127,.24113635128153335,-.07441037908422492,.44972182064877153,0,-7.562075277591283,0,0,0,1,0];this._loadMatrix(r,e)}vintage(e){const r=[.6279345635605994,.3202183420819367,-.03965408211312453,0,9.651285835294123,.02578397704808868,.6441188644374771,.03259127616149294,0,7.462829176470591,.0466055556782719,-.0851232987247891,.5241648018700465,0,5.159190588235296,0,0,0,1,0];this._loadMatrix(r,e)}colorTone(e,r,n,i,s){e=e||.2,r=r||.15,n=n||16770432,i=i||3375104;const o=Ye.shared,[l,c,h]=o.setValue(n).toArray(),[f,p,m]=o.setValue(i).toArray(),y=[.3,.59,.11,0,0,l,c,h,e,0,f,p,m,r,0,l-f,c-p,h-m,0,0];this._loadMatrix(y,s)}night(e,r){e=e||.1;const n=[e*-2,-e,0,0,0,-e,0,e,0,0,0,e,e*2,0,0,0,0,0,1,0];this._loadMatrix(n,r)}predator(e,r){const n=[11.224130630493164*e,-4.794486999511719*e,-2.8746118545532227*e,0*e,.40342438220977783*e,-3.6330697536468506*e,9.193157196044922*e,-2.951810836791992*e,0*e,-1.316135048866272*e,-3.2184197902679443*e,-4.2375030517578125*e,7.476448059082031*e,0*e,.8044459223747253*e,0,0,0,1,0];this._loadMatrix(n,r)}lsd(e){const r=[2,-.4,.5,0,0,-.5,2,-.4,0,0,-.4,-.5,3,0,0,0,0,0,1,0];this._loadMatrix(r,e)}reset(){const e=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0];this._loadMatrix(e,!1)}get matrix(){return this.uniforms.m}set matrix(e){this.uniforms.m=e}get alpha(){return this.uniforms.uAlpha}set alpha(e){this.uniforms.uAlpha=e}}Dy.prototype.grayscale=Dy.prototype.greyscale;var bL=`varying vec2 vFilterCoord;
varying vec2 vTextureCoord;

uniform vec2 scale;
uniform mat2 rotation;
uniform sampler2D uSampler;
uniform sampler2D mapSampler;

uniform highp vec4 inputSize;
uniform vec4 inputClamp;

void main(void)
{
  vec4 map =  texture2D(mapSampler, vFilterCoord);

  map -= 0.5;
  map.xy = scale * inputSize.zw * (rotation * map.xy);

  gl_FragColor = texture2D(uSampler, clamp(vec2(vTextureCoord.x + map.x, vTextureCoord.y + map.y), inputClamp.xy, inputClamp.zw));
}
`,xL=`attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;
uniform mat3 filterMatrix;

varying vec2 vTextureCoord;
varying vec2 vFilterCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

vec2 filterTextureCoord( void )
{
    return aVertexPosition * (outputFrame.zw * inputSize.zw);
}

void main(void)
{
	gl_Position = filterVertexPosition();
	vTextureCoord = filterTextureCoord();
	vFilterCoord = ( filterMatrix * vec3( vTextureCoord, 1.0)  ).xy;
}
`;class wL extends ar{constructor(e,r){const n=new ht;e.renderable=!1,super(xL,bL,{mapSampler:e._texture,filterMatrix:n,scale:{x:1,y:1},rotation:new Float32Array([1,0,0,1])}),this.maskSprite=e,this.maskMatrix=n,r==null&&(r=20),this.scale=new je(r,r)}apply(e,r,n,i){this.uniforms.filterMatrix=e.calculateSpriteMatrix(this.maskMatrix,this.maskSprite),this.uniforms.scale.x=this.scale.x,this.uniforms.scale.y=this.scale.y;const s=this.maskSprite.worldTransform,o=Math.sqrt(s.a*s.a+s.b*s.b),l=Math.sqrt(s.c*s.c+s.d*s.d);o!==0&&l!==0&&(this.uniforms.rotation[0]=s.a/o,this.uniforms.rotation[1]=s.b/o,this.uniforms.rotation[2]=s.c/l,this.uniforms.rotation[3]=s.d/l),e.applyFilter(this,r,n,i)}get map(){return this.uniforms.mapSampler}set map(e){this.uniforms.mapSampler=e}}var EL=`varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;
uniform sampler2D uSampler;
uniform highp vec4 inputSize;


/**
 Basic FXAA implementation based on the code on geeks3d.com with the
 modification that the texture2DLod stuff was removed since it's
 unsupported by WebGL.

 --

 From:
 https://github.com/mitsuhiko/webgl-meincraft

 Copyright (c) 2011 by Armin Ronacher.

 Some rights reserved.

 Redistribution and use in source and binary forms, with or without
 modification, are permitted provided that the following conditions are
 met:

 * Redistributions of source code must retain the above copyright
 notice, this list of conditions and the following disclaimer.

 * Redistributions in binary form must reproduce the above
 copyright notice, this list of conditions and the following
 disclaimer in the documentation and/or other materials provided
 with the distribution.

 * The names of the contributors may not be used to endorse or
 promote products derived from this software without specific
 prior written permission.

 THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS
 "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT
 LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR
 A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT
 OWNER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL,
 SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT
 LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE,
 DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY
 THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
 (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE
 OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
 */

#ifndef FXAA_REDUCE_MIN
#define FXAA_REDUCE_MIN   (1.0/ 128.0)
#endif
#ifndef FXAA_REDUCE_MUL
#define FXAA_REDUCE_MUL   (1.0 / 8.0)
#endif
#ifndef FXAA_SPAN_MAX
#define FXAA_SPAN_MAX     8.0
#endif

//optimized version for mobile, where dependent
//texture reads can be a bottleneck
vec4 fxaa(sampler2D tex, vec2 fragCoord, vec2 inverseVP,
          vec2 v_rgbNW, vec2 v_rgbNE,
          vec2 v_rgbSW, vec2 v_rgbSE,
          vec2 v_rgbM) {
    vec4 color;
    vec3 rgbNW = texture2D(tex, v_rgbNW).xyz;
    vec3 rgbNE = texture2D(tex, v_rgbNE).xyz;
    vec3 rgbSW = texture2D(tex, v_rgbSW).xyz;
    vec3 rgbSE = texture2D(tex, v_rgbSE).xyz;
    vec4 texColor = texture2D(tex, v_rgbM);
    vec3 rgbM  = texColor.xyz;
    vec3 luma = vec3(0.299, 0.587, 0.114);
    float lumaNW = dot(rgbNW, luma);
    float lumaNE = dot(rgbNE, luma);
    float lumaSW = dot(rgbSW, luma);
    float lumaSE = dot(rgbSE, luma);
    float lumaM  = dot(rgbM,  luma);
    float lumaMin = min(lumaM, min(min(lumaNW, lumaNE), min(lumaSW, lumaSE)));
    float lumaMax = max(lumaM, max(max(lumaNW, lumaNE), max(lumaSW, lumaSE)));

    mediump vec2 dir;
    dir.x = -((lumaNW + lumaNE) - (lumaSW + lumaSE));
    dir.y =  ((lumaNW + lumaSW) - (lumaNE + lumaSE));

    float dirReduce = max((lumaNW + lumaNE + lumaSW + lumaSE) *
                          (0.25 * FXAA_REDUCE_MUL), FXAA_REDUCE_MIN);

    float rcpDirMin = 1.0 / (min(abs(dir.x), abs(dir.y)) + dirReduce);
    dir = min(vec2(FXAA_SPAN_MAX, FXAA_SPAN_MAX),
              max(vec2(-FXAA_SPAN_MAX, -FXAA_SPAN_MAX),
                  dir * rcpDirMin)) * inverseVP;

    vec3 rgbA = 0.5 * (
                       texture2D(tex, fragCoord * inverseVP + dir * (1.0 / 3.0 - 0.5)).xyz +
                       texture2D(tex, fragCoord * inverseVP + dir * (2.0 / 3.0 - 0.5)).xyz);
    vec3 rgbB = rgbA * 0.5 + 0.25 * (
                                     texture2D(tex, fragCoord * inverseVP + dir * -0.5).xyz +
                                     texture2D(tex, fragCoord * inverseVP + dir * 0.5).xyz);

    float lumaB = dot(rgbB, luma);
    if ((lumaB < lumaMin) || (lumaB > lumaMax))
        color = vec4(rgbA, texColor.a);
    else
        color = vec4(rgbB, texColor.a);
    return color;
}

void main() {

      vec4 color;

      color = fxaa(uSampler, vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);

      gl_FragColor = color;
}
`,TL=`
attribute vec2 aVertexPosition;

uniform mat3 projectionMatrix;

varying vec2 v_rgbNW;
varying vec2 v_rgbNE;
varying vec2 v_rgbSW;
varying vec2 v_rgbSE;
varying vec2 v_rgbM;

varying vec2 vFragCoord;

uniform vec4 inputSize;
uniform vec4 outputFrame;

vec4 filterVertexPosition( void )
{
    vec2 position = aVertexPosition * max(outputFrame.zw, vec2(0.)) + outputFrame.xy;

    return vec4((projectionMatrix * vec3(position, 1.0)).xy, 0.0, 1.0);
}

void texcoords(vec2 fragCoord, vec2 inverseVP,
               out vec2 v_rgbNW, out vec2 v_rgbNE,
               out vec2 v_rgbSW, out vec2 v_rgbSE,
               out vec2 v_rgbM) {
    v_rgbNW = (fragCoord + vec2(-1.0, -1.0)) * inverseVP;
    v_rgbNE = (fragCoord + vec2(1.0, -1.0)) * inverseVP;
    v_rgbSW = (fragCoord + vec2(-1.0, 1.0)) * inverseVP;
    v_rgbSE = (fragCoord + vec2(1.0, 1.0)) * inverseVP;
    v_rgbM = vec2(fragCoord * inverseVP);
}

void main(void) {

   gl_Position = filterVertexPosition();

   vFragCoord = aVertexPosition * outputFrame.zw;

   texcoords(vFragCoord, inputSize.zw, v_rgbNW, v_rgbNE, v_rgbSW, v_rgbSE, v_rgbM);
}
`;class SL extends ar{constructor(){super(TL,EL)}}var AL=`precision highp float;

varying vec2 vTextureCoord;
varying vec4 vColor;

uniform float uNoise;
uniform float uSeed;
uniform sampler2D uSampler;

float rand(vec2 co)
{
    return fract(sin(dot(co.xy, vec2(12.9898, 78.233))) * 43758.5453);
}

void main()
{
    vec4 color = texture2D(uSampler, vTextureCoord);
    float randomValue = rand(gl_FragCoord.xy * uSeed);
    float diff = (randomValue - 0.5) * uNoise;

    // Un-premultiply alpha before applying the color matrix. See issue #3539.
    if (color.a > 0.0) {
        color.rgb /= color.a;
    }

    color.r += diff;
    color.g += diff;
    color.b += diff;

    // Premultiply alpha again.
    color.rgb *= color.a;

    gl_FragColor = color;
}
`;class CL extends ar{constructor(e=.5,r=Math.random()){super(wT,AL,{uNoise:0,uSeed:0}),this.noise=e,this.seed=r}get noise(){return this.uniforms.uNoise}set noise(e){this.uniforms.uNoise=e}get seed(){return this.uniforms.uSeed}set seed(e){this.uniforms.uSeed=e}}const MS={AlphaFilter:dL,BlurFilter:yL,BlurFilterPass:Oy,ColorMatrixFilter:Dy,DisplacementFilter:wL,FXAAFilter:SL,NoiseFilter:CL};Object.entries(MS).forEach(([t,e])=>{Object.defineProperty(MS,t,{get(){return Fe("7.1.0",`filters.${t} has moved to ${t}`),e}})});class PL{constructor(){this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}init(e){this.removeTickerListener(),this.events=e,this.interactionFrequency=10,this._deltaTime=0,this._didMove=!1,this.tickerAdded=!1,this._pauseUpdate=!0}get pauseUpdate(){return this._pauseUpdate}set pauseUpdate(e){this._pauseUpdate=e}addTickerListener(){this.tickerAdded||!this.domElement||(Rt.system.add(this.tickerUpdate,this,Os.INTERACTION),this.tickerAdded=!0)}removeTickerListener(){this.tickerAdded&&(Rt.system.remove(this.tickerUpdate,this),this.tickerAdded=!1)}pointerMoved(){this._didMove=!0}update(){if(!this.domElement||this._pauseUpdate)return;if(this._didMove){this._didMove=!1;return}const e=this.events.rootPointerEvent;this.events.supportsTouchEvents&&e.pointerType==="touch"||globalThis.document.dispatchEvent(new PointerEvent("pointermove",{clientX:e.clientX,clientY:e.clientY}))}tickerUpdate(e){this._deltaTime+=e,!(this._deltaTime<this.interactionFrequency)&&(this._deltaTime=0,this.update())}}const Bs=new PL;class Ju{constructor(e){this.bubbles=!0,this.cancelBubble=!0,this.cancelable=!1,this.composed=!1,this.defaultPrevented=!1,this.eventPhase=Ju.prototype.NONE,this.propagationStopped=!1,this.propagationImmediatelyStopped=!1,this.layer=new je,this.page=new je,this.NONE=0,this.CAPTURING_PHASE=1,this.AT_TARGET=2,this.BUBBLING_PHASE=3,this.manager=e}get layerX(){return this.layer.x}get layerY(){return this.layer.y}get pageX(){return this.page.x}get pageY(){return this.page.y}get data(){return this}composedPath(){return this.manager&&(!this.path||this.path[this.path.length-1]!==this.target)&&(this.path=this.target?this.manager.propagationPath(this.target):[]),this.path}initEvent(e,r,n){throw new Error("initEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}initUIEvent(e,r,n,i,s){throw new Error("initUIEvent() is a legacy DOM API. It is not implemented in the Federated Events API.")}preventDefault(){this.nativeEvent instanceof Event&&this.nativeEvent.cancelable&&this.nativeEvent.preventDefault(),this.defaultPrevented=!0}stopImmediatePropagation(){this.propagationImmediatelyStopped=!0}stopPropagation(){this.propagationStopped=!0}}class cf extends Ju{constructor(){super(...arguments),this.client=new je,this.movement=new je,this.offset=new je,this.global=new je,this.screen=new je}get clientX(){return this.client.x}get clientY(){return this.client.y}get x(){return this.clientX}get y(){return this.clientY}get movementX(){return this.movement.x}get movementY(){return this.movement.y}get offsetX(){return this.offset.x}get offsetY(){return this.offset.y}get globalX(){return this.global.x}get globalY(){return this.global.y}get screenX(){return this.screen.x}get screenY(){return this.screen.y}getLocalPosition(e,r,n){return e.worldTransform.applyInverse(n||this.global,r)}getModifierState(e){return"getModifierState"in this.nativeEvent&&this.nativeEvent.getModifierState(e)}initMouseEvent(e,r,n,i,s,o,l,c,h,f,p,m,y,_,w){throw new Error("Method not implemented.")}}class Wn extends cf{constructor(){super(...arguments),this.width=0,this.height=0,this.isPrimary=!1}getCoalescedEvents(){return this.type==="pointermove"||this.type==="mousemove"||this.type==="touchmove"?[this]:[]}getPredictedEvents(){throw new Error("getPredictedEvents is not supported!")}}class tl extends cf{constructor(){super(...arguments),this.DOM_DELTA_PIXEL=0,this.DOM_DELTA_LINE=1,this.DOM_DELTA_PAGE=2}}tl.DOM_DELTA_PIXEL=0,tl.DOM_DELTA_LINE=1,tl.DOM_DELTA_PAGE=2;const RL=2048,IL=new je,Ly=new je;class kL{constructor(e){this.dispatch=new Eu,this.moveOnAll=!1,this.enableGlobalMoveEvents=!0,this.mappingState={trackingData:{}},this.eventPool=new Map,this._allInteractiveElements=[],this._hitElements=[],this._isPointerMoveEvent=!1,this.rootTarget=e,this.hitPruneFn=this.hitPruneFn.bind(this),this.hitTestFn=this.hitTestFn.bind(this),this.mapPointerDown=this.mapPointerDown.bind(this),this.mapPointerMove=this.mapPointerMove.bind(this),this.mapPointerOut=this.mapPointerOut.bind(this),this.mapPointerOver=this.mapPointerOver.bind(this),this.mapPointerUp=this.mapPointerUp.bind(this),this.mapPointerUpOutside=this.mapPointerUpOutside.bind(this),this.mapWheel=this.mapWheel.bind(this),this.mappingTable={},this.addEventMapping("pointerdown",this.mapPointerDown),this.addEventMapping("pointermove",this.mapPointerMove),this.addEventMapping("pointerout",this.mapPointerOut),this.addEventMapping("pointerleave",this.mapPointerOut),this.addEventMapping("pointerover",this.mapPointerOver),this.addEventMapping("pointerup",this.mapPointerUp),this.addEventMapping("pointerupoutside",this.mapPointerUpOutside),this.addEventMapping("wheel",this.mapWheel)}addEventMapping(e,r){this.mappingTable[e]||(this.mappingTable[e]=[]),this.mappingTable[e].push({fn:r,priority:0}),this.mappingTable[e].sort((n,i)=>n.priority-i.priority)}dispatchEvent(e,r){e.propagationStopped=!1,e.propagationImmediatelyStopped=!1,this.propagate(e,r),this.dispatch.emit(r||e.type,e)}mapEvent(e){if(!this.rootTarget)return;const r=this.mappingTable[e.type];if(r)for(let n=0,i=r.length;n<i;n++)r[n].fn(e);else console.warn(`[EventBoundary]: Event mapping not defined for ${e.type}`)}hitTest(e,r){Bs.pauseUpdate=!0;const n=this._isPointerMoveEvent&&this.enableGlobalMoveEvents?"hitTestMoveRecursive":"hitTestRecursive",i=this[n](this.rootTarget,this.rootTarget.eventMode,IL.set(e,r),this.hitTestFn,this.hitPruneFn);return i&&i[0]}propagate(e,r){if(!e.target)return;const n=e.composedPath();e.eventPhase=e.CAPTURING_PHASE;for(let i=0,s=n.length-1;i<s;i++)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return;if(e.eventPhase=e.AT_TARGET,e.currentTarget=e.target,this.notifyTarget(e,r),!(e.propagationStopped||e.propagationImmediatelyStopped)){e.eventPhase=e.BUBBLING_PHASE;for(let i=n.length-2;i>=0;i--)if(e.currentTarget=n[i],this.notifyTarget(e,r),e.propagationStopped||e.propagationImmediatelyStopped)return}}all(e,r,n=this._allInteractiveElements){if(n.length===0)return;e.eventPhase=e.BUBBLING_PHASE;const i=Array.isArray(r)?r:[r];for(let s=n.length-1;s>=0;s--)i.forEach(o=>{e.currentTarget=n[s],this.notifyTarget(e,o)})}propagationPath(e){const r=[e];for(let n=0;n<RL&&e!==this.rootTarget;n++){if(!e.parent)throw new Error("Cannot find propagation path to disconnected target");r.push(e.parent),e=e.parent}return r.reverse(),r}hitTestMoveRecursive(e,r,n,i,s,o=!1){let l=!1;if(this._interactivePrune(e))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Bs.pauseUpdate=!1),e.interactiveChildren&&e.children){const f=e.children;for(let p=f.length-1;p>=0;p--){const m=f[p],y=this.hitTestMoveRecursive(m,this._isInteractive(r)?r:m.eventMode,n,i,s,o||s(e,n));if(y){if(y.length>0&&!y[y.length-1].parent)continue;const _=e.isInteractive();(y.length>0||_)&&(_&&this._allInteractiveElements.push(e),y.push(e)),this._hitElements.length===0&&(this._hitElements=y),l=!0}}}const c=this._isInteractive(r),h=e.isInteractive();return h&&h&&this._allInteractiveElements.push(e),o||this._hitElements.length>0?null:l?this._hitElements:c&&!s(e,n)&&i(e,n)?h?[e]:[]:null}hitTestRecursive(e,r,n,i,s){if(this._interactivePrune(e)||s(e,n))return null;if((e.eventMode==="dynamic"||r==="dynamic")&&(Bs.pauseUpdate=!1),e.interactiveChildren&&e.children){const c=e.children;for(let h=c.length-1;h>=0;h--){const f=c[h],p=this.hitTestRecursive(f,this._isInteractive(r)?r:f.eventMode,n,i,s);if(p){if(p.length>0&&!p[p.length-1].parent)continue;const m=e.isInteractive();return(p.length>0||m)&&p.push(e),p}}}const o=this._isInteractive(r),l=e.isInteractive();return o&&i(e,n)?l?[e]:[]:null}_isInteractive(e){return e==="static"||e==="dynamic"}_interactivePrune(e){return!!(!e||e.isMask||!e.visible||!e.renderable||e.eventMode==="none"||e.eventMode==="passive"&&!e.interactiveChildren||e.isMask)}hitPruneFn(e,r){var n;if(e.hitArea&&(e.worldTransform.applyInverse(r,Ly),!e.hitArea.contains(Ly.x,Ly.y)))return!0;if(e._mask){const i=e._mask.isMaskData?e._mask.maskObject:e._mask;if(i&&!((n=i.containsPoint)!=null&&n.call(i,r)))return!0}return!1}hitTestFn(e,r){return e.eventMode==="passive"?!1:e.hitArea?!0:e.containsPoint?e.containsPoint(r):!1}notifyTarget(e,r){var s,o;r=r??e.type;const n=`on${r}`;(o=(s=e.currentTarget)[n])==null||o.call(s,e);const i=e.eventPhase===e.CAPTURING_PHASE||e.eventPhase===e.AT_TARGET?`${r}capture`:r;this.notifyListeners(e,i),e.eventPhase===e.AT_TARGET&&this.notifyListeners(e,r)}mapPointerDown(e){if(!(e instanceof Wn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.createPointerEvent(e);if(this.dispatchEvent(r,"pointerdown"),r.pointerType==="touch")this.dispatchEvent(r,"touchstart");else if(r.pointerType==="mouse"||r.pointerType==="pen"){const i=r.button===2;this.dispatchEvent(r,i?"rightdown":"mousedown")}const n=this.trackingData(e.pointerId);n.pressTargetsByButton[e.button]=r.composedPath(),this.freeEvent(r)}mapPointerMove(e){var c,h;if(!(e instanceof Wn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}this._allInteractiveElements.length=0,this._hitElements.length=0,this._isPointerMoveEvent=!0;const r=this.createPointerEvent(e);this._isPointerMoveEvent=!1;const n=r.pointerType==="mouse"||r.pointerType==="pen",i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.overTargets);if(((c=i.overTargets)==null?void 0:c.length)>0&&s!==r.target){const f=e.type==="mousemove"?"mouseout":"pointerout",p=this.createPointerEvent(e,f,s);if(this.dispatchEvent(p,"pointerout"),n&&this.dispatchEvent(p,"mouseout"),!r.composedPath().includes(s)){const m=this.createPointerEvent(e,"pointerleave",s);for(m.eventPhase=m.AT_TARGET;m.target&&!r.composedPath().includes(m.target);)m.currentTarget=m.target,this.notifyTarget(m),n&&this.notifyTarget(m,"mouseleave"),m.target=m.target.parent;this.freeEvent(m)}this.freeEvent(p)}if(s!==r.target){const f=e.type==="mousemove"?"mouseover":"pointerover",p=this.clonePointerEvent(r,f);this.dispatchEvent(p,"pointerover"),n&&this.dispatchEvent(p,"mouseover");let m=s==null?void 0:s.parent;for(;m&&m!==this.rootTarget.parent&&m!==r.target;)m=m.parent;if(!m||m===this.rootTarget.parent){const y=this.clonePointerEvent(r,"pointerenter");for(y.eventPhase=y.AT_TARGET;y.target&&y.target!==s&&y.target!==this.rootTarget.parent;)y.currentTarget=y.target,this.notifyTarget(y),n&&this.notifyTarget(y,"mouseenter"),y.target=y.target.parent;this.freeEvent(y)}this.freeEvent(p)}const o=[],l=this.enableGlobalMoveEvents??!0;this.moveOnAll?o.push("pointermove"):this.dispatchEvent(r,"pointermove"),l&&o.push("globalpointermove"),r.pointerType==="touch"&&(this.moveOnAll?o.splice(1,0,"touchmove"):this.dispatchEvent(r,"touchmove"),l&&o.push("globaltouchmove")),n&&(this.moveOnAll?o.splice(1,0,"mousemove"):this.dispatchEvent(r,"mousemove"),l&&o.push("globalmousemove"),this.cursor=(h=r.target)==null?void 0:h.cursor),o.length>0&&this.all(r,o),this._allInteractiveElements.length=0,this._hitElements.length=0,i.overTargets=r.composedPath(),this.freeEvent(r)}mapPointerOver(e){var o;if(!(e instanceof Wn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.createPointerEvent(e),i=n.pointerType==="mouse"||n.pointerType==="pen";this.dispatchEvent(n,"pointerover"),i&&this.dispatchEvent(n,"mouseover"),n.pointerType==="mouse"&&(this.cursor=(o=n.target)==null?void 0:o.cursor);const s=this.clonePointerEvent(n,"pointerenter");for(s.eventPhase=s.AT_TARGET;s.target&&s.target!==this.rootTarget.parent;)s.currentTarget=s.target,this.notifyTarget(s),i&&this.notifyTarget(s,"mouseenter"),s.target=s.target.parent;r.overTargets=n.composedPath(),this.freeEvent(n),this.freeEvent(s)}mapPointerOut(e){if(!(e instanceof Wn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId);if(r.overTargets){const n=e.pointerType==="mouse"||e.pointerType==="pen",i=this.findMountedTarget(r.overTargets),s=this.createPointerEvent(e,"pointerout",i);this.dispatchEvent(s),n&&this.dispatchEvent(s,"mouseout");const o=this.createPointerEvent(e,"pointerleave",i);for(o.eventPhase=o.AT_TARGET;o.target&&o.target!==this.rootTarget.parent;)o.currentTarget=o.target,this.notifyTarget(o),n&&this.notifyTarget(o,"mouseleave"),o.target=o.target.parent;r.overTargets=null,this.freeEvent(s),this.freeEvent(o)}this.cursor=null}mapPointerUp(e){if(!(e instanceof Wn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=performance.now(),n=this.createPointerEvent(e);if(this.dispatchEvent(n,"pointerup"),n.pointerType==="touch")this.dispatchEvent(n,"touchend");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const l=n.button===2;this.dispatchEvent(n,l?"rightup":"mouseup")}const i=this.trackingData(e.pointerId),s=this.findMountedTarget(i.pressTargetsByButton[e.button]);let o=s;if(s&&!n.composedPath().includes(s)){let l=s;for(;l&&!n.composedPath().includes(l);){if(n.currentTarget=l,this.notifyTarget(n,"pointerupoutside"),n.pointerType==="touch")this.notifyTarget(n,"touchendoutside");else if(n.pointerType==="mouse"||n.pointerType==="pen"){const c=n.button===2;this.notifyTarget(n,c?"rightupoutside":"mouseupoutside")}l=l.parent}delete i.pressTargetsByButton[e.button],o=l}if(o){const l=this.clonePointerEvent(n,"click");l.target=o,l.path=null,i.clicksByButton[e.button]||(i.clicksByButton[e.button]={clickCount:0,target:l.target,timeStamp:r});const c=i.clicksByButton[e.button];if(c.target===l.target&&r-c.timeStamp<200?++c.clickCount:c.clickCount=1,c.target=l.target,c.timeStamp=r,l.detail=c.clickCount,l.pointerType==="mouse"){const h=l.button===2;this.dispatchEvent(l,h?"rightclick":"click")}else l.pointerType==="touch"&&this.dispatchEvent(l,"tap");this.dispatchEvent(l,"pointertap"),this.freeEvent(l)}this.freeEvent(n)}mapPointerUpOutside(e){if(!(e instanceof Wn)){console.warn("EventBoundary cannot map a non-pointer event as a pointer event");return}const r=this.trackingData(e.pointerId),n=this.findMountedTarget(r.pressTargetsByButton[e.button]),i=this.createPointerEvent(e);if(n){let s=n;for(;s;)i.currentTarget=s,this.notifyTarget(i,"pointerupoutside"),i.pointerType==="touch"?this.notifyTarget(i,"touchendoutside"):(i.pointerType==="mouse"||i.pointerType==="pen")&&this.notifyTarget(i,i.button===2?"rightupoutside":"mouseupoutside"),s=s.parent;delete r.pressTargetsByButton[e.button]}this.freeEvent(i)}mapWheel(e){if(!(e instanceof tl)){console.warn("EventBoundary cannot map a non-wheel event as a wheel event");return}const r=this.createWheelEvent(e);this.dispatchEvent(r),this.freeEvent(r)}findMountedTarget(e){if(!e)return null;let r=e[0];for(let n=1;n<e.length&&e[n].parent===r;n++)r=e[n];return r}createPointerEvent(e,r,n){const i=this.allocateEvent(Wn);return this.copyPointerData(e,i),this.copyMouseData(e,i),this.copyData(e,i),i.nativeEvent=e.nativeEvent,i.originalEvent=e,i.target=n??this.hitTest(i.global.x,i.global.y)??this._hitElements[0],typeof r=="string"&&(i.type=r),i}createWheelEvent(e){const r=this.allocateEvent(tl);return this.copyWheelData(e,r),this.copyMouseData(e,r),this.copyData(e,r),r.nativeEvent=e.nativeEvent,r.originalEvent=e,r.target=this.hitTest(r.global.x,r.global.y),r}clonePointerEvent(e,r){const n=this.allocateEvent(Wn);return n.nativeEvent=e.nativeEvent,n.originalEvent=e.originalEvent,this.copyPointerData(e,n),this.copyMouseData(e,n),this.copyData(e,n),n.target=e.target,n.path=e.composedPath().slice(),n.type=r??n.type,n}copyWheelData(e,r){r.deltaMode=e.deltaMode,r.deltaX=e.deltaX,r.deltaY=e.deltaY,r.deltaZ=e.deltaZ}copyPointerData(e,r){e instanceof Wn&&r instanceof Wn&&(r.pointerId=e.pointerId,r.width=e.width,r.height=e.height,r.isPrimary=e.isPrimary,r.pointerType=e.pointerType,r.pressure=e.pressure,r.tangentialPressure=e.tangentialPressure,r.tiltX=e.tiltX,r.tiltY=e.tiltY,r.twist=e.twist)}copyMouseData(e,r){e instanceof cf&&r instanceof cf&&(r.altKey=e.altKey,r.button=e.button,r.buttons=e.buttons,r.client.copyFrom(e.client),r.ctrlKey=e.ctrlKey,r.metaKey=e.metaKey,r.movement.copyFrom(e.movement),r.screen.copyFrom(e.screen),r.shiftKey=e.shiftKey,r.global.copyFrom(e.global))}copyData(e,r){r.isTrusted=e.isTrusted,r.srcElement=e.srcElement,r.timeStamp=performance.now(),r.type=e.type,r.detail=e.detail,r.view=e.view,r.which=e.which,r.layer.copyFrom(e.layer),r.page.copyFrom(e.page)}trackingData(e){return this.mappingState.trackingData[e]||(this.mappingState.trackingData[e]={pressTargetsByButton:{},clicksByButton:{},overTarget:null}),this.mappingState.trackingData[e]}allocateEvent(e){this.eventPool.has(e)||this.eventPool.set(e,[]);const r=this.eventPool.get(e).pop()||new e(this);return r.eventPhase=r.NONE,r.currentTarget=null,r.path=null,r.target=null,r}freeEvent(e){if(e.manager!==this)throw new Error("It is illegal to free an event not managed by this EventBoundary!");const r=e.constructor;this.eventPool.has(r)||this.eventPool.set(r,[]),this.eventPool.get(r).push(e)}notifyListeners(e,r){const n=e.currentTarget._events[r];if(n&&e.currentTarget.isInteractive())if("fn"in n)n.once&&e.currentTarget.removeListener(r,n.fn,void 0,!0),n.fn.call(n.context,e);else for(let i=0,s=n.length;i<s&&!e.propagationImmediatelyStopped;i++)n[i].once&&e.currentTarget.removeListener(r,n[i].fn,void 0,!0),n[i].fn.call(n[i].context,e)}}const ML=1,NL={touchstart:"pointerdown",touchend:"pointerup",touchendoutside:"pointerupoutside",touchmove:"pointermove",touchcancel:"pointercancel"},By=class{constructor(t){this.supportsTouchEvents="ontouchstart"in globalThis,this.supportsPointerEvents=!!globalThis.PointerEvent,this.domElement=null,this.resolution=1,this.renderer=t,this.rootBoundary=new kL(null),Bs.init(this),this.autoPreventDefault=!0,this.eventsAdded=!1,this.rootPointerEvent=new Wn(null),this.rootWheelEvent=new tl(null),this.cursorStyles={default:"inherit",pointer:"pointer"},this.features=new Proxy({...By.defaultEventFeatures},{set:(e,r,n)=>(r==="globalMove"&&(this.rootBoundary.enableGlobalMoveEvents=n),e[r]=n,!0)}),this.onPointerDown=this.onPointerDown.bind(this),this.onPointerMove=this.onPointerMove.bind(this),this.onPointerUp=this.onPointerUp.bind(this),this.onPointerOverOut=this.onPointerOverOut.bind(this),this.onWheel=this.onWheel.bind(this)}static get defaultEventMode(){return this._defaultEventMode}init(t){const{view:e,resolution:r}=this.renderer;this.setTargetElement(e),this.resolution=r,By._defaultEventMode=t.eventMode??"auto",Object.assign(this.features,t.eventFeatures??{}),this.rootBoundary.enableGlobalMoveEvents=this.features.globalMove}resolutionChange(t){this.resolution=t}destroy(){this.setTargetElement(null),this.renderer=null}setCursor(t){t=t||"default";let e=!0;if(globalThis.OffscreenCanvas&&this.domElement instanceof OffscreenCanvas&&(e=!1),this.currentCursor===t)return;this.currentCursor=t;const r=this.cursorStyles[t];if(r)switch(typeof r){case"string":e&&(this.domElement.style.cursor=r);break;case"function":r(t);break;case"object":e&&Object.assign(this.domElement.style,r);break}else e&&typeof t=="string"&&!Object.prototype.hasOwnProperty.call(this.cursorStyles,t)&&(this.domElement.style.cursor=t)}get pointer(){return this.rootPointerEvent}onPointerDown(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);this.autoPreventDefault&&e[0].isNormalized&&(t.cancelable||!("cancelable"in t))&&t.preventDefault();for(let r=0,n=e.length;r<n;r++){const i=e[r],s=this.bootstrapEvent(this.rootPointerEvent,i);this.rootBoundary.mapEvent(s)}this.setCursor(this.rootBoundary.cursor)}onPointerMove(t){if(!this.features.move||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;Bs.pointerMoved();const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onPointerUp(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;let e=t.target;t.composedPath&&t.composedPath().length>0&&(e=t.composedPath()[0]);const r=e!==this.domElement?"outside":"",n=this.normalizeToPointerData(t);for(let i=0,s=n.length;i<s;i++){const o=this.bootstrapEvent(this.rootPointerEvent,n[i]);o.type+=r,this.rootBoundary.mapEvent(o)}this.setCursor(this.rootBoundary.cursor)}onPointerOverOut(t){if(!this.features.click||(this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.supportsTouchEvents&&t.pointerType==="touch"))return;const e=this.normalizeToPointerData(t);for(let r=0,n=e.length;r<n;r++){const i=this.bootstrapEvent(this.rootPointerEvent,e[r]);this.rootBoundary.mapEvent(i)}this.setCursor(this.rootBoundary.cursor)}onWheel(t){if(!this.features.wheel)return;const e=this.normalizeWheelEvent(t);this.rootBoundary.rootTarget=this.renderer.lastObjectRendered,this.rootBoundary.mapEvent(e)}setTargetElement(t){this.removeEvents(),this.domElement=t,Bs.domElement=t,this.addEvents()}addEvents(){if(this.eventsAdded||!this.domElement)return;Bs.addTickerListener();const t=this.domElement.style;t&&(globalThis.navigator.msPointerEnabled?(t.msContentZooming="none",t.msTouchAction="none"):this.supportsPointerEvents&&(t.touchAction="none")),this.supportsPointerEvents?(globalThis.document.addEventListener("pointermove",this.onPointerMove,!0),this.domElement.addEventListener("pointerdown",this.onPointerDown,!0),this.domElement.addEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.addEventListener("pointerover",this.onPointerOverOut,!0),globalThis.addEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.addEventListener("mousemove",this.onPointerMove,!0),this.domElement.addEventListener("mousedown",this.onPointerDown,!0),this.domElement.addEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.addEventListener("mouseover",this.onPointerOverOut,!0),globalThis.addEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.addEventListener("touchstart",this.onPointerDown,!0),this.domElement.addEventListener("touchend",this.onPointerUp,!0),this.domElement.addEventListener("touchmove",this.onPointerMove,!0)),this.domElement.addEventListener("wheel",this.onWheel,{passive:!0,capture:!0}),this.eventsAdded=!0}removeEvents(){if(!this.eventsAdded||!this.domElement)return;Bs.removeTickerListener();const t=this.domElement.style;globalThis.navigator.msPointerEnabled?(t.msContentZooming="",t.msTouchAction=""):this.supportsPointerEvents&&(t.touchAction=""),this.supportsPointerEvents?(globalThis.document.removeEventListener("pointermove",this.onPointerMove,!0),this.domElement.removeEventListener("pointerdown",this.onPointerDown,!0),this.domElement.removeEventListener("pointerleave",this.onPointerOverOut,!0),this.domElement.removeEventListener("pointerover",this.onPointerOverOut,!0),globalThis.removeEventListener("pointerup",this.onPointerUp,!0)):(globalThis.document.removeEventListener("mousemove",this.onPointerMove,!0),this.domElement.removeEventListener("mousedown",this.onPointerDown,!0),this.domElement.removeEventListener("mouseout",this.onPointerOverOut,!0),this.domElement.removeEventListener("mouseover",this.onPointerOverOut,!0),globalThis.removeEventListener("mouseup",this.onPointerUp,!0)),this.supportsTouchEvents&&(this.domElement.removeEventListener("touchstart",this.onPointerDown,!0),this.domElement.removeEventListener("touchend",this.onPointerUp,!0),this.domElement.removeEventListener("touchmove",this.onPointerMove,!0)),this.domElement.removeEventListener("wheel",this.onWheel,!0),this.domElement=null,this.eventsAdded=!1}mapPositionToPoint(t,e,r){let n;this.domElement.parentElement?n=this.domElement.getBoundingClientRect():n={x:0,y:0,width:this.domElement.width,height:this.domElement.height,left:0,top:0};const i=1/this.resolution;t.x=(e-n.left)*(this.domElement.width/n.width)*i,t.y=(r-n.top)*(this.domElement.height/n.height)*i}normalizeToPointerData(t){const e=[];if(this.supportsTouchEvents&&t instanceof TouchEvent)for(let r=0,n=t.changedTouches.length;r<n;r++){const i=t.changedTouches[r];typeof i.button>"u"&&(i.button=0),typeof i.buttons>"u"&&(i.buttons=1),typeof i.isPrimary>"u"&&(i.isPrimary=t.touches.length===1&&t.type==="touchstart"),typeof i.width>"u"&&(i.width=i.radiusX||1),typeof i.height>"u"&&(i.height=i.radiusY||1),typeof i.tiltX>"u"&&(i.tiltX=0),typeof i.tiltY>"u"&&(i.tiltY=0),typeof i.pointerType>"u"&&(i.pointerType="touch"),typeof i.pointerId>"u"&&(i.pointerId=i.identifier||0),typeof i.pressure>"u"&&(i.pressure=i.force||.5),typeof i.twist>"u"&&(i.twist=0),typeof i.tangentialPressure>"u"&&(i.tangentialPressure=0),typeof i.layerX>"u"&&(i.layerX=i.offsetX=i.clientX),typeof i.layerY>"u"&&(i.layerY=i.offsetY=i.clientY),i.isNormalized=!0,i.type=t.type,e.push(i)}else if(!globalThis.MouseEvent||t instanceof MouseEvent&&(!this.supportsPointerEvents||!(t instanceof globalThis.PointerEvent))){const r=t;typeof r.isPrimary>"u"&&(r.isPrimary=!0),typeof r.width>"u"&&(r.width=1),typeof r.height>"u"&&(r.height=1),typeof r.tiltX>"u"&&(r.tiltX=0),typeof r.tiltY>"u"&&(r.tiltY=0),typeof r.pointerType>"u"&&(r.pointerType="mouse"),typeof r.pointerId>"u"&&(r.pointerId=ML),typeof r.pressure>"u"&&(r.pressure=.5),typeof r.twist>"u"&&(r.twist=0),typeof r.tangentialPressure>"u"&&(r.tangentialPressure=0),r.isNormalized=!0,e.push(r)}else e.push(t);return e}normalizeWheelEvent(t){const e=this.rootWheelEvent;return this.transferMouseData(e,t),e.deltaX=t.deltaX,e.deltaY=t.deltaY,e.deltaZ=t.deltaZ,e.deltaMode=t.deltaMode,this.mapPositionToPoint(e.screen,t.clientX,t.clientY),e.global.copyFrom(e.screen),e.offset.copyFrom(e.screen),e.nativeEvent=t,e.type=t.type,e}bootstrapEvent(t,e){return t.originalEvent=null,t.nativeEvent=e,t.pointerId=e.pointerId,t.width=e.width,t.height=e.height,t.isPrimary=e.isPrimary,t.pointerType=e.pointerType,t.pressure=e.pressure,t.tangentialPressure=e.tangentialPressure,t.tiltX=e.tiltX,t.tiltY=e.tiltY,t.twist=e.twist,this.transferMouseData(t,e),this.mapPositionToPoint(t.screen,e.clientX,e.clientY),t.global.copyFrom(t.screen),t.offset.copyFrom(t.screen),t.isTrusted=e.isTrusted,t.type==="pointerleave"&&(t.type="pointerout"),t.type.startsWith("mouse")&&(t.type=t.type.replace("mouse","pointer")),t.type.startsWith("touch")&&(t.type=NL[t.type]||t.type),t}transferMouseData(t,e){t.isTrusted=e.isTrusted,t.srcElement=e.srcElement,t.timeStamp=performance.now(),t.type=e.type,t.altKey=e.altKey,t.button=e.button,t.buttons=e.buttons,t.client.x=e.clientX,t.client.y=e.clientY,t.ctrlKey=e.ctrlKey,t.metaKey=e.metaKey,t.movement.x=e.movementX,t.movement.y=e.movementY,t.page.x=e.pageX,t.page.y=e.pageY,t.relatedTarget=null,t.shiftKey=e.shiftKey}};let Zu=By;Zu.extension={name:"events",type:[ce.RendererSystem,ce.CanvasRendererSystem]},Zu.defaultEventFeatures={move:!0,globalMove:!0,click:!0,wheel:!0},xe.add(Zu);function NS(t){return t==="dynamic"||t==="static"}const OL={onclick:null,onmousedown:null,onmouseenter:null,onmouseleave:null,onmousemove:null,onglobalmousemove:null,onmouseout:null,onmouseover:null,onmouseup:null,onmouseupoutside:null,onpointercancel:null,onpointerdown:null,onpointerenter:null,onpointerleave:null,onpointermove:null,onglobalpointermove:null,onpointerout:null,onpointerover:null,onpointertap:null,onpointerup:null,onpointerupoutside:null,onrightclick:null,onrightdown:null,onrightup:null,onrightupoutside:null,ontap:null,ontouchcancel:null,ontouchend:null,ontouchendoutside:null,ontouchmove:null,onglobaltouchmove:null,ontouchstart:null,onwheel:null,_internalInteractive:void 0,get interactive(){return this._internalInteractive??NS(Zu.defaultEventMode)},set interactive(t){Fe("7.2.0","Setting interactive is deprecated, use eventMode = 'none'/'passive'/'auto'/'static'/'dynamic' instead."),this._internalInteractive=t,this.eventMode=t?"static":"auto"},_internalEventMode:void 0,get eventMode(){return this._internalEventMode??Zu.defaultEventMode},set eventMode(t){this._internalInteractive=NS(t),this._internalEventMode=t},isInteractive(){return this.eventMode==="static"||this.eventMode==="dynamic"},interactiveChildren:!0,hitArea:null,addEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.on(t,e,i)},removeEventListener(t,e,r){const n=typeof r=="boolean"&&r||typeof r=="object"&&r.capture,i=typeof e=="function"?void 0:e;t=n?`${t}capture`:t,e=typeof e=="function"?e:e.handleEvent,this.off(t,e,i)},dispatchEvent(t){if(!(t instanceof Ju))throw new Error("DisplayObject cannot propagate events outside of the Federated Events API");return t.defaultPrevented=!1,t.path=null,t.target=this,t.manager.dispatchEvent(t),!t.defaultPrevented}};dt.mixin(OL);const DL={accessible:!1,accessibleTitle:null,accessibleHint:null,tabIndex:0,_accessibleActive:!1,_accessibleDiv:null,accessibleType:"button",accessiblePointerEvents:"auto",accessibleChildren:!0,renderId:-1};dt.mixin(DL);const LL=9,hf=100,BL=0,FL=0,OS=2,DS=1,UL=-1e3,zL=-1e3,jL=2;class LS{constructor(e){this.debug=!1,this._isActive=!1,this._isMobileAccessibility=!1,this.pool=[],this.renderId=0,this.children=[],this.androidUpdateCount=0,this.androidUpdateFrequency=500,this._hookDiv=null,(Gi.tablet||Gi.phone)&&this.createTouchHook();const r=document.createElement("div");r.style.width=`${hf}px`,r.style.height=`${hf}px`,r.style.position="absolute",r.style.top=`${BL}px`,r.style.left=`${FL}px`,r.style.zIndex=OS.toString(),this.div=r,this.renderer=e,this._onKeyDown=this._onKeyDown.bind(this),this._onMouseMove=this._onMouseMove.bind(this),globalThis.addEventListener("keydown",this._onKeyDown,!1)}get isActive(){return this._isActive}get isMobileAccessibility(){return this._isMobileAccessibility}createTouchHook(){const e=document.createElement("button");e.style.width=`${DS}px`,e.style.height=`${DS}px`,e.style.position="absolute",e.style.top=`${UL}px`,e.style.left=`${zL}px`,e.style.zIndex=jL.toString(),e.style.backgroundColor="#FF0000",e.title="select to enable accessibility for this content",e.addEventListener("focus",()=>{this._isMobileAccessibility=!0,this.activate(),this.destroyTouchHook()}),document.body.appendChild(e),this._hookDiv=e}destroyTouchHook(){this._hookDiv&&(document.body.removeChild(this._hookDiv),this._hookDiv=null)}activate(){var e;this._isActive||(this._isActive=!0,globalThis.document.addEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown,!1),this.renderer.on("postrender",this.update,this),(e=this.renderer.view.parentNode)==null||e.appendChild(this.div))}deactivate(){var e;!this._isActive||this._isMobileAccessibility||(this._isActive=!1,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.addEventListener("keydown",this._onKeyDown,!1),this.renderer.off("postrender",this.update),(e=this.div.parentNode)==null||e.removeChild(this.div))}updateAccessibleObjects(e){if(!e.visible||!e.accessibleChildren)return;e.accessible&&e.isInteractive()&&(e._accessibleActive||this.addChild(e),e.renderId=this.renderId);const r=e.children;if(r)for(let n=0;n<r.length;n++)this.updateAccessibleObjects(r[n])}update(){const e=performance.now();if(Gi.android.device&&e<this.androidUpdateCount||(this.androidUpdateCount=e+this.androidUpdateFrequency,!this.renderer.renderingToScreen))return;this.renderer.lastObjectRendered&&this.updateAccessibleObjects(this.renderer.lastObjectRendered);const{x:r,y:n,width:i,height:s}=this.renderer.view.getBoundingClientRect(),{width:o,height:l,resolution:c}=this.renderer,h=i/o*c,f=s/l*c;let p=this.div;p.style.left=`${r}px`,p.style.top=`${n}px`,p.style.width=`${o}px`,p.style.height=`${l}px`;for(let m=0;m<this.children.length;m++){const y=this.children[m];if(y.renderId!==this.renderId)y._accessibleActive=!1,Ha(this.children,m,1),this.div.removeChild(y._accessibleDiv),this.pool.push(y._accessibleDiv),y._accessibleDiv=null,m--;else{p=y._accessibleDiv;let _=y.hitArea;const w=y.worldTransform;y.hitArea?(p.style.left=`${(w.tx+_.x*w.a)*h}px`,p.style.top=`${(w.ty+_.y*w.d)*f}px`,p.style.width=`${_.width*w.a*h}px`,p.style.height=`${_.height*w.d*f}px`):(_=y.getBounds(),this.capHitArea(_),p.style.left=`${_.x*h}px`,p.style.top=`${_.y*f}px`,p.style.width=`${_.width*h}px`,p.style.height=`${_.height*f}px`,p.title!==y.accessibleTitle&&y.accessibleTitle!==null&&(p.title=y.accessibleTitle),p.getAttribute("aria-label")!==y.accessibleHint&&y.accessibleHint!==null&&p.setAttribute("aria-label",y.accessibleHint)),(y.accessibleTitle!==p.title||y.tabIndex!==p.tabIndex)&&(p.title=y.accessibleTitle,p.tabIndex=y.tabIndex,this.debug&&this.updateDebugHTML(p))}}this.renderId++}updateDebugHTML(e){e.innerHTML=`type: ${e.type}</br> title : ${e.title}</br> tabIndex: ${e.tabIndex}`}capHitArea(e){e.x<0&&(e.width+=e.x,e.x=0),e.y<0&&(e.height+=e.y,e.y=0);const{width:r,height:n}=this.renderer;e.x+e.width>r&&(e.width=r-e.x),e.y+e.height>n&&(e.height=n-e.y)}addChild(e){let r=this.pool.pop();r||(r=document.createElement("button"),r.style.width=`${hf}px`,r.style.height=`${hf}px`,r.style.backgroundColor=this.debug?"rgba(255,255,255,0.5)":"transparent",r.style.position="absolute",r.style.zIndex=OS.toString(),r.style.borderStyle="none",navigator.userAgent.toLowerCase().includes("chrome")?r.setAttribute("aria-live","off"):r.setAttribute("aria-live","polite"),navigator.userAgent.match(/rv:.*Gecko\//)?r.setAttribute("aria-relevant","additions"):r.setAttribute("aria-relevant","text"),r.addEventListener("click",this._onClick.bind(this)),r.addEventListener("focus",this._onFocus.bind(this)),r.addEventListener("focusout",this._onFocusOut.bind(this))),r.style.pointerEvents=e.accessiblePointerEvents,r.type=e.accessibleType,e.accessibleTitle&&e.accessibleTitle!==null?r.title=e.accessibleTitle:(!e.accessibleHint||e.accessibleHint===null)&&(r.title=`displayObject ${e.tabIndex}`),e.accessibleHint&&e.accessibleHint!==null&&r.setAttribute("aria-label",e.accessibleHint),this.debug&&this.updateDebugHTML(r),e._accessibleActive=!0,e._accessibleDiv=r,r.displayObject=e,this.children.push(e),this.div.appendChild(e._accessibleDiv),e._accessibleDiv.tabIndex=e.tabIndex}_dispatchEvent(e,r){const{displayObject:n}=e.target,i=this.renderer.events.rootBoundary,s=Object.assign(new Ju(i),{target:n});i.rootTarget=this.renderer.lastObjectRendered,r.forEach(o=>i.dispatchEvent(s,o))}_onClick(e){this._dispatchEvent(e,["click","pointertap","tap"])}_onFocus(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","assertive"),this._dispatchEvent(e,["mouseover"])}_onFocusOut(e){e.target.getAttribute("aria-live")||e.target.setAttribute("aria-live","polite"),this._dispatchEvent(e,["mouseout"])}_onKeyDown(e){e.keyCode===LL&&this.activate()}_onMouseMove(e){e.movementX===0&&e.movementY===0||this.deactivate()}destroy(){this.destroyTouchHook(),this.div=null,globalThis.document.removeEventListener("mousemove",this._onMouseMove,!0),globalThis.removeEventListener("keydown",this._onKeyDown),this.pool=null,this.children=null,this.renderer=null}}LS.extension={name:"accessibility",type:[ce.RendererPlugin,ce.CanvasRendererPlugin]},xe.add(LS);var Jr=(t=>(t[t.COMPRESSED_RGB_S3TC_DXT1_EXT=33776]="COMPRESSED_RGB_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT1_EXT=33777]="COMPRESSED_RGBA_S3TC_DXT1_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT3_EXT=33778]="COMPRESSED_RGBA_S3TC_DXT3_EXT",t[t.COMPRESSED_RGBA_S3TC_DXT5_EXT=33779]="COMPRESSED_RGBA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT=35917]="COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT=35918]="COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT",t[t.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT=35919]="COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT",t[t.COMPRESSED_SRGB_S3TC_DXT1_EXT=35916]="COMPRESSED_SRGB_S3TC_DXT1_EXT",t[t.COMPRESSED_R11_EAC=37488]="COMPRESSED_R11_EAC",t[t.COMPRESSED_SIGNED_R11_EAC=37489]="COMPRESSED_SIGNED_R11_EAC",t[t.COMPRESSED_RG11_EAC=37490]="COMPRESSED_RG11_EAC",t[t.COMPRESSED_SIGNED_RG11_EAC=37491]="COMPRESSED_SIGNED_RG11_EAC",t[t.COMPRESSED_RGB8_ETC2=37492]="COMPRESSED_RGB8_ETC2",t[t.COMPRESSED_RGBA8_ETC2_EAC=37496]="COMPRESSED_RGBA8_ETC2_EAC",t[t.COMPRESSED_SRGB8_ETC2=37493]="COMPRESSED_SRGB8_ETC2",t[t.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC=37497]="COMPRESSED_SRGB8_ALPHA8_ETC2_EAC",t[t.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2=37494]="COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2=37495]="COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2",t[t.COMPRESSED_RGB_PVRTC_4BPPV1_IMG=35840]="COMPRESSED_RGB_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG=35842]="COMPRESSED_RGBA_PVRTC_4BPPV1_IMG",t[t.COMPRESSED_RGB_PVRTC_2BPPV1_IMG=35841]="COMPRESSED_RGB_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG=35843]="COMPRESSED_RGBA_PVRTC_2BPPV1_IMG",t[t.COMPRESSED_RGB_ETC1_WEBGL=36196]="COMPRESSED_RGB_ETC1_WEBGL",t[t.COMPRESSED_RGB_ATC_WEBGL=35986]="COMPRESSED_RGB_ATC_WEBGL",t[t.COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL=35986]="COMPRESSED_RGBA_ATC_EXPLICIT_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL=34798]="COMPRESSED_RGBA_ATC_INTERPOLATED_ALPHA_WEBGL",t[t.COMPRESSED_RGBA_ASTC_4x4_KHR=37808]="COMPRESSED_RGBA_ASTC_4x4_KHR",t))(Jr||{});const df={33776:.5,33777:.5,33778:1,33779:1,35916:.5,35917:.5,35918:1,35919:1,37488:.5,37489:.5,37490:1,37491:1,37492:.5,37496:1,37493:.5,37497:1,37494:.5,37495:.5,35840:.5,35842:.5,35841:.25,35843:.25,36196:.5,35986:.5,35986:1,34798:1,37808:1};let Ji,rl;function BS(){rl={s3tc:Ji.getExtension("WEBGL_compressed_texture_s3tc"),s3tc_sRGB:Ji.getExtension("WEBGL_compressed_texture_s3tc_srgb"),etc:Ji.getExtension("WEBGL_compressed_texture_etc"),etc1:Ji.getExtension("WEBGL_compressed_texture_etc1"),pvrtc:Ji.getExtension("WEBGL_compressed_texture_pvrtc")||Ji.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),atc:Ji.getExtension("WEBGL_compressed_texture_atc"),astc:Ji.getExtension("WEBGL_compressed_texture_astc")}}const HL={extension:{type:ce.DetectionParser,priority:2},test:async()=>{const t=le.ADAPTER.createCanvas().getContext("webgl");return t?(Ji=t,!0):(console.warn("WebGL not available for compressed textures."),!1)},add:async t=>{rl||BS();const e=[];for(const r in rl)rl[r]&&e.push(r);return[...e,...t]},remove:async t=>(rl||BS(),t.filter(e=>!(e in rl)))};xe.add(HL);class GL extends Du{constructor(e,r={width:1,height:1,autoLoad:!0}){let n,i;typeof e=="string"?(n=e,i=new Uint8Array):(n=null,i=e),super(i,r),this.origin=n,this.buffer=i?new Ov(i):null,this._load=null,this.loaded=!1,this.origin!==null&&r.autoLoad!==!1&&this.load(),this.origin===null&&this.buffer&&(this._load=Promise.resolve(this),this.loaded=!0,this.onBlobLoaded(this.buffer.rawBinaryData))}onBlobLoaded(e){}load(){return this._load?this._load:(this._load=fetch(this.origin).then(e=>e.blob()).then(e=>e.arrayBuffer()).then(e=>(this.data=new Uint32Array(e),this.buffer=new Ov(e),this.loaded=!0,this.onBlobLoaded(e),this.update(),this)),this._load)}}class No extends GL{constructor(e,r){super(e,r),this.format=r.format,this.levels=r.levels||1,this._width=r.width,this._height=r.height,this._extension=No._formatToExtension(this.format),(r.levelBuffers||this.buffer)&&(this._levelBuffers=r.levelBuffers||No._createLevelBuffers(e instanceof Uint8Array?e:this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height))}upload(e,r,n){const i=e.gl;if(!e.context.extensions[this._extension])throw new Error(`${this._extension} textures are not supported on the current machine`);if(!this._levelBuffers)return!1;for(let s=0,o=this.levels;s<o;s++){const{levelID:l,levelWidth:c,levelHeight:h,levelBuffer:f}=this._levelBuffers[s];i.compressedTexImage2D(i.TEXTURE_2D,l,this.format,c,h,0,f)}return!0}onBlobLoaded(){this._levelBuffers=No._createLevelBuffers(this.buffer.uint8View,this.format,this.levels,4,4,this.width,this.height)}static _formatToExtension(e){if(e>=33776&&e<=33779)return"s3tc";if(e>=37488&&e<=37497)return"etc";if(e>=35840&&e<=35843)return"pvrtc";if(e>=36196)return"etc1";if(e>=35986&&e<=34798)return"atc";throw new Error("Invalid (compressed) texture format given!")}static _createLevelBuffers(e,r,n,i,s,o,l){const c=new Array(n);let h=e.byteOffset,f=o,p=l,m=f+i-1&~(i-1),y=p+s-1&~(s-1),_=m*y*df[r];for(let w=0;w<n;w++)c[w]={levelID:w,levelWidth:n>1?f:m,levelHeight:n>1?p:y,levelBuffer:new Uint8Array(e.buffer,h,_)},h+=_,f=f>>1||1,p=p>>1||1,m=f+i-1&~(i-1),y=p+s-1&~(s-1),_=m*y*df[r];return c}}const Fy=4,ff=124,WL=32,FS=20,$L=542327876,pf={SIZE:1,FLAGS:2,HEIGHT:3,WIDTH:4,MIPMAP_COUNT:7,PIXEL_FORMAT:19},VL={SIZE:0,FLAGS:1,FOURCC:2,RGB_BITCOUNT:3,R_BIT_MASK:4,G_BIT_MASK:5,B_BIT_MASK:6,A_BIT_MASK:7},mf={DXGI_FORMAT:0,RESOURCE_DIMENSION:1,MISC_FLAG:2,ARRAY_SIZE:3,MISC_FLAGS2:4},XL=1,YL=2,qL=4,KL=64,QL=512,JL=131072,ZL=827611204,eB=861165636,tB=894720068,rB=808540228,nB=4,iB={[ZL]:Jr.COMPRESSED_RGBA_S3TC_DXT1_EXT,[eB]:Jr.COMPRESSED_RGBA_S3TC_DXT3_EXT,[tB]:Jr.COMPRESSED_RGBA_S3TC_DXT5_EXT},sB={70:Jr.COMPRESSED_RGBA_S3TC_DXT1_EXT,71:Jr.COMPRESSED_RGBA_S3TC_DXT1_EXT,73:Jr.COMPRESSED_RGBA_S3TC_DXT3_EXT,74:Jr.COMPRESSED_RGBA_S3TC_DXT3_EXT,76:Jr.COMPRESSED_RGBA_S3TC_DXT5_EXT,77:Jr.COMPRESSED_RGBA_S3TC_DXT5_EXT,72:Jr.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,75:Jr.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,78:Jr.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT};function oB(t){const e=new Uint32Array(t);if(e[0]!==$L)throw new Error("Invalid DDS file magic word");const r=new Uint32Array(t,0,ff/Uint32Array.BYTES_PER_ELEMENT),n=r[pf.HEIGHT],i=r[pf.WIDTH],s=r[pf.MIPMAP_COUNT],o=new Uint32Array(t,pf.PIXEL_FORMAT*Uint32Array.BYTES_PER_ELEMENT,WL/Uint32Array.BYTES_PER_ELEMENT),l=o[XL];if(l&qL){const c=o[VL.FOURCC];if(c!==rB){const x=iB[c],S=Fy+ff,T=new Uint8Array(t,S);return[new No(T,{format:x,width:i,height:n,levels:s})]}const h=Fy+ff,f=new Uint32Array(e.buffer,h,FS/Uint32Array.BYTES_PER_ELEMENT),p=f[mf.DXGI_FORMAT],m=f[mf.RESOURCE_DIMENSION],y=f[mf.MISC_FLAG],_=f[mf.ARRAY_SIZE],w=sB[p];if(w===void 0)throw new Error(`DDSParser cannot parse texture data with DXGI format ${p}`);if(y===nB)throw new Error("DDSParser does not support cubemap textures");if(m===6)throw new Error("DDSParser does not supported 3D texture data");const A=new Array,E=Fy+ff+FS;if(_===1)A.push(new Uint8Array(t,E));else{const x=df[w];let S=0,T=i,R=n;for(let I=0;I<s;I++){const M=Math.max(1,T+3&-4),q=Math.max(1,R+3&-4),K=M*q*x;S+=K,T=T>>>1,R=R>>>1}let L=E;for(let I=0;I<_;I++)A.push(new Uint8Array(t,L,S)),L+=S}return A.map(x=>new No(x,{format:w,width:i,height:n,levels:s}))}throw l&KL?new Error("DDSParser does not support uncompressed texture data."):l&QL?new Error("DDSParser does not supported YUV uncompressed texture data."):l&JL?new Error("DDSParser does not support single-channel (lumninance) texture data!"):l&YL?new Error("DDSParser does not support single-channel (alpha) texture data!"):new Error("DDSParser failed to load a texture file due to an unknown reason!")}const US=[171,75,84,88,32,49,49,187,13,10,26,10],aB=67305985,$n={FILE_IDENTIFIER:0,ENDIANNESS:12,GL_TYPE:16,GL_TYPE_SIZE:20,GL_FORMAT:24,GL_INTERNAL_FORMAT:28,GL_BASE_INTERNAL_FORMAT:32,PIXEL_WIDTH:36,PIXEL_HEIGHT:40,PIXEL_DEPTH:44,NUMBER_OF_ARRAY_ELEMENTS:48,NUMBER_OF_FACES:52,NUMBER_OF_MIPMAP_LEVELS:56,BYTES_OF_KEY_VALUE_DATA:60},Uy=64,zS={[Ee.UNSIGNED_BYTE]:1,[Ee.UNSIGNED_SHORT]:2,[Ee.INT]:4,[Ee.UNSIGNED_INT]:4,[Ee.FLOAT]:4,[Ee.HALF_FLOAT]:8},lB={[ne.RGBA]:4,[ne.RGB]:3,[ne.RG]:2,[ne.RED]:1,[ne.LUMINANCE]:1,[ne.LUMINANCE_ALPHA]:2,[ne.ALPHA]:1},uB={[Ee.UNSIGNED_SHORT_4_4_4_4]:2,[Ee.UNSIGNED_SHORT_5_5_5_1]:2,[Ee.UNSIGNED_SHORT_5_6_5]:2};function cB(t,e,r=!1){const n=new DataView(e);if(!hB(t,n))return null;const i=n.getUint32($n.ENDIANNESS,!0)===aB,s=n.getUint32($n.GL_TYPE,i),o=n.getUint32($n.GL_FORMAT,i),l=n.getUint32($n.GL_INTERNAL_FORMAT,i),c=n.getUint32($n.PIXEL_WIDTH,i),h=n.getUint32($n.PIXEL_HEIGHT,i)||1,f=n.getUint32($n.PIXEL_DEPTH,i)||1,p=n.getUint32($n.NUMBER_OF_ARRAY_ELEMENTS,i)||1,m=n.getUint32($n.NUMBER_OF_FACES,i),y=n.getUint32($n.NUMBER_OF_MIPMAP_LEVELS,i),_=n.getUint32($n.BYTES_OF_KEY_VALUE_DATA,i);if(h===0||f!==1)throw new Error("Only 2D textures are supported");if(m!==1)throw new Error("CubeTextures are not supported by KTXLoader yet!");if(p!==1)throw new Error("WebGL does not support array textures");const w=4,A=4,E=c+3&-4,x=h+3&-4,S=new Array(p);let T=c*h;s===0&&(T=E*x);let R;if(s!==0?zS[s]?R=zS[s]*lB[o]:R=uB[s]:R=df[l],R===void 0)throw new Error("Unable to resolve the pixel format stored in the *.ktx file!");const L=r?fB(n,_,i):null;let I=T*R,M=c,q=h,K=E,J=x,V=Uy+_;for(let z=0;z<y;z++){const W=n.getUint32(V,i);let ge=V+4;for(let ve=0;ve<p;ve++){let ie=S[ve];ie||(ie=S[ve]=new Array(y)),ie[z]={levelID:z,levelWidth:y>1||s!==0?M:K,levelHeight:y>1||s!==0?q:J,levelBuffer:new Uint8Array(e,ge,I)},ge+=I}V+=W+4,V=V%4!==0?V+4-V%4:V,M=M>>1||1,q=q>>1||1,K=M+w-1&~(w-1),J=q+A-1&~(A-1),I=K*J*R}return s!==0?{uncompressed:S.map(z=>{let W=z[0].levelBuffer,ge=!1;return s===Ee.FLOAT?W=new Float32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4):s===Ee.UNSIGNED_INT?(ge=!0,W=new Uint32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4)):s===Ee.INT&&(ge=!0,W=new Int32Array(z[0].levelBuffer.buffer,z[0].levelBuffer.byteOffset,z[0].levelBuffer.byteLength/4)),{resource:new Du(W,{width:z[0].levelWidth,height:z[0].levelHeight}),type:s,format:ge?dB(o):o}}),kvData:L}:{compressed:S.map(z=>new No(null,{format:l,width:c,height:h,levels:y,levelBuffers:z})),kvData:L}}function hB(t,e){for(let r=0;r<US.length;r++)if(e.getUint8(r)!==US[r])return console.error(`${t} is not a valid *.ktx file!`),!1;return!0}function dB(t){switch(t){case ne.RGBA:return ne.RGBA_INTEGER;case ne.RGB:return ne.RGB_INTEGER;case ne.RG:return ne.RG_INTEGER;case ne.RED:return ne.RED_INTEGER;default:return t}}function fB(t,e,r){const n=new Map;let i=0;for(;i<e;){const s=t.getUint32(Uy+i,r),o=Uy+i+4,l=3-(s+3)%4;if(s===0||s>e-i){console.error("KTXLoader: keyAndValueByteSize out of bounds");break}let c=0;for(;c<s&&t.getUint8(o+c)!==0;c++);if(c===-1){console.error("KTXLoader: Failed to find null byte terminating kvData key");break}const h=new TextDecoder().decode(new Uint8Array(t.buffer,o,c)),f=new DataView(t.buffer,o+c+1,s-c-1);n.set(h,f),i+=4+s+l}return n}const pB={extension:{type:ce.LoadParser,priority:pi.High},name:"loadDDS",test(t){return Po(t,".dds")},async load(t,e,r){const n=await(await le.ADAPTER.fetch(t)).arrayBuffer(),i=oB(n).map(s=>{const o=new Ie(s,{mipmap:si.OFF,alphaMode:Mn.NO_PREMULTIPLIED_ALPHA,resolution:ks(t),...e.data});return $d(o,r,t)});return i.length===1?i[0]:i},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};xe.add(pB);const mB={extension:{type:ce.LoadParser,priority:pi.High},name:"loadKTX",test(t){return Po(t,".ktx")},async load(t,e,r){const n=await(await le.ADAPTER.fetch(t)).arrayBuffer(),{compressed:i,uncompressed:s,kvData:o}=cB(t,n),l=i??s,c={mipmap:si.OFF,alphaMode:Mn.NO_PREMULTIPLIED_ALPHA,resolution:ks(t),...e.data},h=l.map(f=>{l===s&&Object.assign(c,{type:f.type,format:f.format});const p=new Ie(f,c);return p.ktxKeyValueData=o,$d(p,r,t)});return h.length===1?h[0]:h},unload(t){Array.isArray(t)?t.forEach(e=>e.destroy(!0)):t.destroy(!0)}};xe.add(mB);const gB={extension:ce.ResolveParser,test:t=>{const e=t.split("?")[0].split(".").pop();return["basis","ktx","dds"].includes(e)},parse:t=>{var e,r;if(t.split("?")[0].split(".").pop()==="ktx"){const n=[".s3tc.ktx",".s3tc_sRGB.ktx",".etc.ktx",".etc1.ktx",".pvrt.ktx",".atc.ktx",".astc.ktx"];if(n.some(i=>t.endsWith(i)))return{resolution:parseFloat(((e=le.RETINA_PREFIX.exec(t))==null?void 0:e[1])??"1"),format:n.find(i=>t.endsWith(i)),src:t}}return{resolution:parseFloat(((r=le.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:t.split(".").pop(),src:t}}};xe.add(gB);const vB=new De,yB=4,ec=class{constructor(t){this.renderer=t}async image(t,e,r){const n=new Image;return n.src=await this.base64(t,e,r),n}async base64(t,e,r){const n=this.canvas(t);if(n.toBlob!==void 0)return new Promise((i,s)=>{n.toBlob(o=>{if(!o){s(new Error("ICanvas.toBlob failed!"));return}const l=new FileReader;l.onload=()=>i(l.result),l.onerror=s,l.readAsDataURL(o)},e,r)});if(n.toDataURL!==void 0)return n.toDataURL(e,r);if(n.convertToBlob!==void 0){const i=await n.convertToBlob({type:e,quality:r});return new Promise((s,o)=>{const l=new FileReader;l.onload=()=>s(l.result),l.onerror=o,l.readAsDataURL(i)})}throw new Error("Extract.base64() requires ICanvas.toDataURL, ICanvas.toBlob, or ICanvas.convertToBlob to be implemented")}canvas(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);s&&ec._flipY(r,n,i),ec._unpremultiplyAlpha(r);const o=new wN(n,i,1),l=new ImageData(new Uint8ClampedArray(r.buffer),n,i);return o.context.putImageData(l,0,0),o.canvas}pixels(t,e){const{pixels:r,width:n,height:i,flipY:s}=this._rawPixels(t,e);return s&&ec._flipY(r,n,i),ec._unpremultiplyAlpha(r),r}_rawPixels(t,e){const r=this.renderer;if(!r)throw new Error("The Extract has already been destroyed");let n,i=!1,s,o=!1;if(t&&(t instanceof Ao?s=t:(s=r.generateTexture(t,{resolution:r.resolution,multisample:r.multisample}),o=!0)),s){if(n=s.baseTexture.resolution,e=e??s.frame,i=!1,!o){r.renderTexture.bind(s);const p=s.framebuffer.glFramebuffers[r.CONTEXT_UID];p.blitFramebuffer&&r.framebuffer.bind(p.blitFramebuffer)}}else n=r.resolution,e||(e=vB,e.width=r.width/n,e.height=r.height/n),i=!0,r.renderTexture.bind();const l=Math.round(e.width*n),c=Math.round(e.height*n),h=new Uint8Array(yB*l*c),f=r.gl;return f.readPixels(Math.round(e.x*n),Math.round(e.y*n),l,c,f.RGBA,f.UNSIGNED_BYTE,h),o&&(s==null||s.destroy(!0)),{pixels:h,width:l,height:c,flipY:i}}destroy(){this.renderer=null}static _flipY(t,e,r){const n=e<<2,i=r>>1,s=new Uint8Array(n);for(let o=0;o<i;o++){const l=o*n,c=(r-o-1)*n;s.set(t.subarray(l,l+n)),t.copyWithin(l,c,c+n),t.set(s,c)}}static _unpremultiplyAlpha(t){t instanceof Uint8ClampedArray&&(t=new Uint8Array(t.buffer));const e=t.length;for(let r=0;r<e;r+=4){const n=t[r+3];if(n!==0){const i=255.001/n;t[r]=t[r]*i+.5,t[r+1]=t[r+1]*i+.5,t[r+2]=t[r+2]*i+.5}}}};let jS=ec;jS.extension={name:"extract",type:ce.RendererSystem},xe.add(jS);class _B{constructor(e){this.maxItemsPerFrame=e,this.itemsLeft=0}beginFrame(){this.itemsLeft=this.maxItemsPerFrame}allowedToUpload(){return this.itemsLeft-- >0}}function bB(t,e){var n;let r=!1;if((n=t==null?void 0:t._textures)!=null&&n.length){for(let i=0;i<t._textures.length;i++)if(t._textures[i]instanceof ue){const s=t._textures[i].baseTexture;e.includes(s)||(e.push(s),r=!0)}}return r}function xB(t,e){if(t.baseTexture instanceof Ie){const r=t.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function wB(t,e){if(t._texture&&t._texture instanceof ue){const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function EB(t,e){return e instanceof Ud?(e.updateText(!0),!0):!1}function TB(t,e){if(e instanceof Yi){const r=e.toFontString();return lr.measureFont(r),!0}return!1}function SB(t,e){if(t instanceof Ud){e.includes(t.style)||e.push(t.style),e.includes(t)||e.push(t);const r=t._texture.baseTexture;return e.includes(r)||e.push(r),!0}return!1}function AB(t,e){return t instanceof Yi?(e.includes(t)||e.push(t),!0):!1}const HS=class{constructor(t){this.limiter=new _B(HS.uploadsPerFrame),this.renderer=t,this.uploadHookHelper=null,this.queue=[],this.addHooks=[],this.uploadHooks=[],this.completes=[],this.ticking=!1,this.delayedTick=()=>{this.queue&&this.prepareItems()},this.registerFindHook(SB),this.registerFindHook(AB),this.registerFindHook(bB),this.registerFindHook(xB),this.registerFindHook(wB),this.registerUploadHook(EB),this.registerUploadHook(TB)}upload(t){return new Promise(e=>{t&&this.add(t),this.queue.length?(this.completes.push(e),this.ticking||(this.ticking=!0,Rt.system.addOnce(this.tick,this,Os.UTILITY))):e()})}tick(){setTimeout(this.delayedTick,0)}prepareItems(){for(this.limiter.beginFrame();this.queue.length&&this.limiter.allowedToUpload();){const t=this.queue[0];let e=!1;if(t&&!t._destroyed){for(let r=0,n=this.uploadHooks.length;r<n;r++)if(this.uploadHooks[r](this.uploadHookHelper,t)){this.queue.shift(),e=!0;break}}e||this.queue.shift()}if(this.queue.length)Rt.system.addOnce(this.tick,this,Os.UTILITY);else{this.ticking=!1;const t=this.completes.slice(0);this.completes.length=0;for(let e=0,r=t.length;e<r;e++)t[e]()}}registerFindHook(t){return t&&this.addHooks.push(t),this}registerUploadHook(t){return t&&this.uploadHooks.push(t),this}add(t){for(let e=0,r=this.addHooks.length;e<r&&!this.addHooks[e](t,this.queue);e++);if(t instanceof yr)for(let e=t.children.length-1;e>=0;e--)this.add(t.children[e]);return this}destroy(){this.ticking&&Rt.system.remove(this.tick,this),this.ticking=!1,this.addHooks=null,this.uploadHooks=null,this.renderer=null,this.completes=null,this.queue=null,this.limiter=null,this.uploadHookHelper=null}};let gf=HS;gf.uploadsPerFrame=4,Object.defineProperties(le,{UPLOADS_PER_FRAME:{get(){return gf.uploadsPerFrame},set(t){Fe("7.1.0","settings.UPLOADS_PER_FRAME is deprecated, use prepare.BasePrepare.uploadsPerFrame"),gf.uploadsPerFrame=t}}});function GS(t,e){return e instanceof Ie?(e._glTextures[t.CONTEXT_UID]||t.texture.bind(e),!0):!1}function CB(t,e){if(!(e instanceof ko))return!1;const{geometry:r}=e;e.finishPoly(),r.updateBatches();const{batches:n}=r;for(let i=0;i<n.length;i++){const{texture:s}=n[i].style;s&&GS(t,s.baseTexture)}return r.batchable||t.geometry.bind(r,e._resolveDirectShader(t)),!0}function PB(t,e){return t instanceof ko?(e.push(t),!0):!1}class WS extends gf{constructor(e){super(e),this.uploadHookHelper=this.renderer,this.registerFindHook(PB),this.registerUploadHook(GS),this.registerUploadHook(CB)}}WS.extension={name:"prepare",type:ce.RendererSystem},xe.add(WS);const tc=class{constructor(t,e,r=null){this.linkedSheets=[],this._texture=t instanceof ue?t:null,this.baseTexture=t instanceof Ie?t:this._texture.baseTexture,this.textures={},this.animations={},this.data=e;const n=this.baseTexture.resource;this.resolution=this._updateResolution(r||(n?n.url:null)),this._frames=this.data.frames,this._frameKeys=Object.keys(this._frames),this._batchIndex=0,this._callback=null}_updateResolution(t=null){const{scale:e}=this.data.meta;let r=ks(t,null);return r===null&&(r=parseFloat(e??"1")),r!==1&&this.baseTexture.setResolution(r),r}parse(){return new Promise(t=>{this._callback=t,this._batchIndex=0,this._frameKeys.length<=tc.BATCH_SIZE?(this._processFrames(0),this._processAnimations(),this._parseComplete()):this._nextBatch()})}_processFrames(t){let e=t;const r=tc.BATCH_SIZE;for(;e-t<r&&e<this._frameKeys.length;){const n=this._frameKeys[e],i=this._frames[n],s=i.frame;if(s){let o=null,l=null;const c=i.trimmed!==!1&&i.sourceSize?i.sourceSize:i.frame,h=new De(0,0,Math.floor(c.w)/this.resolution,Math.floor(c.h)/this.resolution);i.rotated?o=new De(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.h)/this.resolution,Math.floor(s.w)/this.resolution):o=new De(Math.floor(s.x)/this.resolution,Math.floor(s.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution),i.trimmed!==!1&&i.spriteSourceSize&&(l=new De(Math.floor(i.spriteSourceSize.x)/this.resolution,Math.floor(i.spriteSourceSize.y)/this.resolution,Math.floor(s.w)/this.resolution,Math.floor(s.h)/this.resolution)),this.textures[n]=new ue(this.baseTexture,o,h,l,i.rotated?2:0,i.anchor,i.borders),ue.addToCache(this.textures[n],n)}e++}}_processAnimations(){const t=this.data.animations||{};for(const e in t){this.animations[e]=[];for(let r=0;r<t[e].length;r++){const n=t[e][r];this.animations[e].push(this.textures[n])}}}_parseComplete(){const t=this._callback;this._callback=null,this._batchIndex=0,t.call(this,this.textures)}_nextBatch(){this._processFrames(this._batchIndex*tc.BATCH_SIZE),this._batchIndex++,setTimeout(()=>{this._batchIndex*tc.BATCH_SIZE<this._frameKeys.length?this._nextBatch():(this._processAnimations(),this._parseComplete())},0)}destroy(t=!1){var e;for(const r in this.textures)this.textures[r].destroy();this._frames=null,this._frameKeys=null,this.data=null,this.textures=null,t&&((e=this._texture)==null||e.destroy(),this.baseTexture.destroy()),this._texture=null,this.baseTexture=null,this.linkedSheets=[]}};let zy=tc;zy.BATCH_SIZE=1e3;const RB=["jpg","png","jpeg","avif","webp"];function $S(t,e,r){const n={};if(t.forEach(i=>{n[i]=e}),Object.keys(e.textures).forEach(i=>{n[i]=e.textures[i]}),!r){const i=vr.dirname(t[0]);e.linkedSheets.forEach((s,o)=>{const l=$S([`${i}/${e.data.meta.related_multi_packs[o]}`],s,!0);Object.assign(n,l)})}return n}const IB={extension:ce.Asset,cache:{test:t=>t instanceof zy,getCacheableAssets:(t,e)=>$S(t,e,!1)},resolver:{test:t=>{const e=t.split("?")[0].split("."),r=e.pop(),n=e.pop();return r==="json"&&RB.includes(n)},parse:t=>{var r;const e=t.split(".");return{resolution:parseFloat(((r=le.RETINA_PREFIX.exec(t))==null?void 0:r[1])??"1"),format:e[e.length-2],src:t}}},loader:{name:"spritesheetLoader",extension:{type:ce.LoadParser,priority:pi.Normal},async testParse(t,e){return vr.extname(e.src).toLowerCase()===".json"&&!!t.frames},async parse(t,e,r){var c,h;let n=vr.dirname(e.src);n&&n.lastIndexOf("/")!==n.length-1&&(n+="/");let i=n+t.meta.image;i=fy(i,e.src);const s=(await r.load([i]))[i],o=new zy(s.baseTexture,t,e.src);await o.parse();const l=(c=t==null?void 0:t.meta)==null?void 0:c.related_multi_packs;if(Array.isArray(l)){const f=[];for(const m of l){if(typeof m!="string")continue;let y=n+m;(h=e.data)!=null&&h.ignoreMultiPack||(y=fy(y,e.src),f.push(r.load({src:y,data:{ignoreMultiPack:!0}})))}const p=await Promise.all(f);o.linkedSheets=p,p.forEach(m=>{m.linkedSheets=[o].concat(o.linkedSheets.filter(y=>y!==m))})}return o},unload(t){t.destroy(!0)}}};xe.add(IB);const nl=class extends Yi{constructor(){super(...arguments),this._fonts=[],this._overrides=[],this._stylesheet="",this.fontsDirty=!1}static from(t){return new nl(Object.keys(nl.defaultOptions).reduce((e,r)=>({...e,[r]:t[r]}),{}))}cleanFonts(){this._fonts.length>0&&(this._fonts.forEach(t=>{URL.revokeObjectURL(t.src),t.refs--,t.refs===0&&(t.fontFace&&document.fonts.delete(t.fontFace),delete nl.availableFonts[t.originalUrl])}),this.fontFamily="Arial",this._fonts.length=0,this.styleID++,this.fontsDirty=!0)}loadFont(t,e={}){const{availableFonts:r}=nl;if(r[t]){const n=r[t];return this._fonts.push(n),n.refs++,this.styleID++,this.fontsDirty=!0,Promise.resolve()}return le.ADAPTER.fetch(t).then(n=>n.blob()).then(async n=>new Promise((i,s)=>{const o=URL.createObjectURL(n),l=new FileReader;l.onload=()=>i([o,l.result]),l.onerror=s,l.readAsDataURL(n)})).then(async([n,i])=>{const s=Object.assign({family:vr.basename(t,vr.extname(t)),weight:"normal",style:"normal",src:n,dataSrc:i,refs:1,originalUrl:t,fontFace:null},e);r[t]=s,this._fonts.push(s),this.styleID++;const o=new FontFace(s.family,`url(${s.src})`,{weight:s.weight,style:s.style});s.fontFace=o,await o.load(),document.fonts.add(o),await document.fonts.ready,this.styleID++,this.fontsDirty=!0})}addOverride(...t){const e=t.filter(r=>!this._overrides.includes(r));e.length>0&&(this._overrides.push(...e),this.styleID++)}removeOverride(...t){const e=t.filter(r=>this._overrides.includes(r));e.length>0&&(this._overrides=this._overrides.filter(r=>!e.includes(r)),this.styleID++)}toCSS(t){return[`transform: scale(${t})`,"transform-origin: top left","display: inline-block",`color: ${this.normalizeColor(this.fill)}`,`font-size: ${this.fontSize}px`,`font-family: ${this.fontFamily}`,`font-weight: ${this.fontWeight}`,`font-style: ${this.fontStyle}`,`font-variant: ${this.fontVariant}`,`letter-spacing: ${this.letterSpacing}px`,`text-align: ${this.align}`,`padding: ${this.padding}px`,`white-space: ${this.whiteSpace}`,...this.lineHeight?[`line-height: ${this.lineHeight}px`]:[],...this.wordWrap?[`word-wrap: ${this.breakWords?"break-all":"break-word"}`,`max-width: ${this.wordWrapWidth}px`]:[],...this.strokeThickness?[`-webkit-text-stroke-width: ${this.strokeThickness}px`,`-webkit-text-stroke-color: ${this.normalizeColor(this.stroke)}`,`text-stroke-width: ${this.strokeThickness}px`,`text-stroke-color: ${this.normalizeColor(this.stroke)}`,"paint-order: stroke"]:[],...this.dropShadow?[this.dropShadowToCSS()]:[],...this._overrides].join(";")}toGlobalCSS(){return this._fonts.reduce((t,e)=>`${t}
            @font-face {
                font-family: "${e.family}";
                src: url('${e.dataSrc}');
                font-weight: ${e.weight};
                font-style: ${e.style}; 
            }`,this._stylesheet)}get stylesheet(){return this._stylesheet}set stylesheet(t){this._stylesheet!==t&&(this._stylesheet=t,this.styleID++)}normalizeColor(t){return Array.isArray(t)&&(t=yN(t)),typeof t=="number"?vN(t):t}dropShadowToCSS(){let t=this.normalizeColor(this.dropShadowColor);const e=this.dropShadowAlpha,r=Math.round(Math.cos(this.dropShadowAngle)*this.dropShadowDistance),n=Math.round(Math.sin(this.dropShadowAngle)*this.dropShadowDistance);t.startsWith("#")&&e<1&&(t+=(e*255|0).toString(16).padStart(2,"0"));const i=`${r}px ${n}px`;return this.dropShadowBlur>0?`text-shadow: ${i} ${this.dropShadowBlur}px ${t}`:`text-shadow: ${i} ${t}`}reset(){Object.assign(this,nl.defaultOptions)}onBeforeDraw(){const{fontsDirty:t}=this;return this.fontsDirty=!1,this.isSafari&&this._fonts.length>0&&t?new Promise(e=>setTimeout(e,100)):Promise.resolve()}get isSafari(){const{userAgent:t}=le.ADAPTER.getNavigator();return/^((?!chrome|android).)*safari/i.test(t)}set fillGradientStops(t){console.warn("[HTMLTextStyle] fillGradientStops is not supported by HTMLText")}get fillGradientStops(){return super.fillGradientStops}set fillGradientType(t){console.warn("[HTMLTextStyle] fillGradientType is not supported by HTMLText")}get fillGradientType(){return super.fillGradientType}set miterLimit(t){console.warn("[HTMLTextStyle] miterLimit is not supported by HTMLText")}get miterLimit(){return super.miterLimit}set trim(t){console.warn("[HTMLTextStyle] trim is not supported by HTMLText")}get trim(){return super.trim}set textBaseline(t){console.warn("[HTMLTextStyle] textBaseline is not supported by HTMLText")}get textBaseline(){return super.textBaseline}set leading(t){console.warn("[HTMLTextStyle] leading is not supported by HTMLText")}get leading(){return super.leading}set lineJoin(t){console.warn("[HTMLTextStyle] lineJoin is not supported by HTMLText")}get lineJoin(){return super.lineJoin}};let rc=nl;rc.availableFonts={},rc.defaultOptions={align:"left",breakWords:!1,dropShadow:!1,dropShadowAlpha:1,dropShadowAngle:Math.PI/6,dropShadowBlur:0,dropShadowColor:"black",dropShadowDistance:5,fill:"black",fontFamily:"Arial",fontSize:26,fontStyle:"normal",fontVariant:"normal",fontWeight:"normal",letterSpacing:0,lineHeight:0,padding:0,stroke:"black",strokeThickness:0,whiteSpace:"normal",wordWrap:!1,wordWrapWidth:100};const il=class extends fi{constructor(t="",e={}){super(ue.EMPTY),this._text=null,this._style=null,this._autoResolution=!0,this._loading=!1,this.localStyleID=-1,this.dirty=!1,this.ownsStyle=!1;const r=new Image,n=ue.from(r,{scaleMode:le.SCALE_MODE,resourceOptions:{autoLoad:!1}});n.orig=new De,n.trim=new De,this.texture=n;const i="http://www.w3.org/2000/svg",s="http://www.w3.org/1999/xhtml",o=document.createElementNS(i,"svg"),l=document.createElementNS(i,"foreignObject"),c=document.createElementNS(s,"div"),h=document.createElementNS(s,"style");l.setAttribute("width","10000"),l.setAttribute("height","10000"),l.style.overflow="hidden",o.appendChild(l),this.maxWidth=il.defaultMaxWidth,this.maxHeight=il.defaultMaxHeight,this._domElement=c,this._styleElement=h,this._svgRoot=o,this._foreignObject=l,this._foreignObject.appendChild(h),this._foreignObject.appendChild(c),this._image=r,this._loadImage=new Image,this._autoResolution=il.defaultAutoResolution,this._resolution=il.defaultResolution??le.RESOLUTION,this.text=t,this.style=e}measureText(t){var l,c;const{text:e,style:r,resolution:n}=Object.assign({text:this._text,style:this._style,resolution:this._resolution},t);Object.assign(this._domElement,{innerHTML:e,style:r.toCSS(n)}),this._styleElement.textContent=r.toGlobalCSS(),document.body.appendChild(this._svgRoot);const i=this._domElement.getBoundingClientRect();this._svgRoot.remove();const s=Math.min(this.maxWidth,Math.ceil(i.width)),o=Math.min(this.maxHeight,Math.ceil(i.height));return this._svgRoot.setAttribute("width",s.toString()),this._svgRoot.setAttribute("height",o.toString()),e!==this._text&&(this._domElement.innerHTML=this._text),r!==this._style&&(Object.assign(this._domElement,{style:(l=this._style)==null?void 0:l.toCSS(n)}),this._styleElement.textContent=(c=this._style)==null?void 0:c.toGlobalCSS()),{width:s+r.padding*2,height:o+r.padding*2}}async updateText(t=!0){const{style:e,_image:r,_loadImage:n}=this;if(this.localStyleID!==e.styleID&&(this.dirty=!0,this.localStyleID=e.styleID),!this.dirty&&t)return;const{width:i,height:s}=this.measureText();r.width=n.width=Math.ceil(Math.max(1,i)),r.height=n.height=Math.ceil(Math.max(1,s)),this._loading||(this._loading=!0,await new Promise(o=>{n.onload=async()=>{await e.onBeforeDraw(),this._loading=!1,r.src=n.src,n.onload=null,n.src="",this.updateTexture(),o()};const l=new XMLSerializer().serializeToString(this._svgRoot);n.src=`data:image/svg+xml;charset=utf8,${encodeURIComponent(l)}`}))}get source(){return this._image}updateTexture(){const{style:t,texture:e,_image:r,resolution:n}=this,{padding:i}=t,{baseTexture:s}=e;e.trim.width=e._frame.width=r.width/n,e.trim.height=e._frame.height=r.height/n,e.trim.x=-i,e.trim.y=-i,e.orig.width=e._frame.width-i*2,e.orig.height=e._frame.height-i*2,this._onTextureUpdate(),s.setRealSize(r.width,r.height,n),this.dirty=!1}_render(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._render(t)}_renderCanvas(t){this._autoResolution&&this._resolution!==t.resolution&&(this._resolution=t.resolution,this.dirty=!0),this.updateText(!0),super._renderCanvas(t)}getLocalBounds(t){return this.updateText(!0),super.getLocalBounds(t)}_calculateBounds(){this.updateText(!0),this.calculateVertices(),this._bounds.addQuad(this.vertexData)}_onStyleChange(){this.dirty=!0}destroy(t){var r,n,i,s,o;typeof t=="boolean"&&(t={children:t}),t=Object.assign({},il.defaultDestroyOptions,t),super.destroy(t);const e=null;this.ownsStyle&&((r=this._style)==null||r.cleanFonts()),this._style=e,(n=this._svgRoot)==null||n.remove(),this._svgRoot=e,(i=this._domElement)==null||i.remove(),this._domElement=e,(s=this._foreignObject)==null||s.remove(),this._foreignObject=e,(o=this._styleElement)==null||o.remove(),this._styleElement=e,this._loadImage.src="",this._loadImage.onload=null,this._loadImage=e,this._image.src="",this._image=e}get width(){return this.updateText(!0),Math.abs(this.scale.x)*this._image.width/this.resolution}set width(t){this.updateText(!0);const e=Rs(this.scale.x)||1;this.scale.x=e*t/this._image.width/this.resolution,this._width=t}get height(){return this.updateText(!0),Math.abs(this.scale.y)*this._image.height/this.resolution}set height(t){this.updateText(!0);const e=Rs(this.scale.y)||1;this.scale.y=e*t/this._image.height/this.resolution,this._height=t}get style(){return this._style}set style(t){this._style!==t&&(t=t||{},t instanceof rc?(this.ownsStyle=!1,this._style=t):t instanceof Yi?(console.warn("[HTMLText] Cloning TextStyle, if this is not what you want, use HTMLTextStyle"),this.ownsStyle=!0,this._style=rc.from(t)):(this.ownsStyle=!0,this._style=new rc(t)),this.localStyleID=-1,this.dirty=!0)}get text(){return this._text}set text(t){t=String(t===""||t===null||t===void 0?" ":t),t=this.sanitiseText(t),this._text!==t&&(this._text=t,this.dirty=!0)}get resolution(){return this._resolution}set resolution(t){this._autoResolution=!1,this._resolution!==t&&(this._resolution=t,this.dirty=!0)}sanitiseText(t){return t.replace(/<br>/gi,"<br/>").replace(/<hr>/gi,"<hr/>").replace(/&nbsp;/gi,"&#160;")}};let vf=il;vf.defaultDestroyOptions={texture:!0,children:!1,baseTexture:!0},vf.defaultMaxWidth=2024,vf.defaultMaxHeight=2024,vf.defaultAutoResolution=!0;const kB="/assets/physics_engine_bg-2b8ec28e.wasm",MB=async(t={},e)=>{let r;if(e.startsWith("data:")){const n=e.replace(/^data:.*?base64,/,"");let i;if(typeof Buffer=="function"&&typeof Buffer.from=="function")i=Buffer.from(n,"base64");else if(typeof atob=="function"){const s=atob(n);i=new Uint8Array(s.length);for(let o=0;o<s.length;o++)i[o]=s.charCodeAt(o)}else throw new Error("Cannot decode base64-encoded data URL");r=await WebAssembly.instantiate(i,t)}else{const n=await fetch(e),i=n.headers.get("Content-Type")||"";if("instantiateStreaming"in WebAssembly&&i.startsWith("application/wasm"))r=await WebAssembly.instantiateStreaming(n,t);else{const s=await n.arrayBuffer();r=await WebAssembly.instantiate(s,t)}}return r.instance.exports};let We;function NB(t){We=t}const Zi=new Array(128).fill(void 0);Zi.push(void 0,null,!0,!1);function ft(t){return Zi[t]}let nc=Zi.length;function OB(t){t<132||(Zi[t]=nc,nc=t)}function sl(t){const e=ft(t);return OB(t),e}let Fs=0,yf=null;function _f(){return(yf===null||yf.byteLength===0)&&(yf=new Uint8Array(We.memory.buffer)),yf}const DB=typeof TextEncoder>"u"?(0,u_.require)("util").TextEncoder:TextEncoder;let bf=new DB("utf-8");const LB=typeof bf.encodeInto=="function"?function(t,e){return bf.encodeInto(t,e)}:function(t,e){const r=bf.encode(t);return e.set(r),{read:t.length,written:r.length}};function jy(t,e,r){if(r===void 0){const l=bf.encode(t),c=e(l.length,1)>>>0;return _f().subarray(c,c+l.length).set(l),Fs=l.length,c}let n=t.length,i=e(n,1)>>>0;const s=_f();let o=0;for(;o<n;o++){const l=t.charCodeAt(o);if(l>127)break;s[i+o]=l}if(o!==n){o!==0&&(t=t.slice(o)),i=r(i,n,n=o+t.length*3,1)>>>0;const l=_f().subarray(i+o,i+n),c=LB(t,l);o+=c.written}return Fs=o,i}function Hy(t){return t==null}let xf=null;function ic(){return(xf===null||xf.byteLength===0)&&(xf=new Int32Array(We.memory.buffer)),xf}let wf=null;function VS(){return(wf===null||wf.byteLength===0)&&(wf=new Float64Array(We.memory.buffer)),wf}const BB=typeof TextDecoder>"u"?(0,u_.require)("util").TextDecoder:TextDecoder;let XS=new BB("utf-8",{ignoreBOM:!0,fatal:!0});XS.decode();function Gy(t,e){return t=t>>>0,XS.decode(_f().subarray(t,t+e))}function Vn(t){nc===Zi.length&&Zi.push(Zi.length+1);const e=nc;return nc=Zi[e],Zi[e]=t,e}function Wy(t){const e=typeof t;if(e=="number"||e=="boolean"||t==null)return`${t}`;if(e=="string")return`"${t}"`;if(e=="symbol"){const i=t.description;return i==null?"Symbol":`Symbol(${i})`}if(e=="function"){const i=t.name;return typeof i=="string"&&i.length>0?`Function(${i})`:"Function"}if(Array.isArray(t)){const i=t.length;let s="[";i>0&&(s+=Wy(t[0]));for(let o=1;o<i;o++)s+=", "+Wy(t[o]);return s+="]",s}const r=/\[object ([^\]]+)\]/.exec(toString.call(t));let n;if(r.length>1)n=r[1];else return toString.call(t);if(n=="Object")try{return"Object("+JSON.stringify(t)+")"}catch{return"Object"}return t instanceof Error?`${t.name}: ${t.message}
${t.stack}`:n}function YS(t,e){const r=e(t.length*8,8)>>>0;return VS().set(t,r/8),Fs=t.length,r}function qS(t,e){if(!(t instanceof e))throw new Error(`expected instance of ${e.name}`);return t.ptr}class Oo{static __wrap(e){e=e>>>0;const r=Object.create(Oo.prototype);return r.__wbg_ptr=e,r}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();We.__wbg_planet_free(e)}constructor(e,r,n,i,s){const o=YS(e,We.__wbindgen_malloc),l=Fs,c=YS(r,We.__wbindgen_malloc),h=Fs,f=jy(s,We.__wbindgen_malloc,We.__wbindgen_realloc),p=Fs,m=We.planet_new(o,l,c,h,n,i,f,p);return Oo.__wrap(m)}force_from(e,r){const n=this.__destroy_into_raw();qS(e,Oo);const i=We.planet_force_from(n,e.__wbg_ptr,r);return sc.__wrap(i)}move_planet(e,r){qS(e,sc);var n=e.__destroy_into_raw();We.planet_move_planet(this.__wbg_ptr,n,r)}get_data(){const e=We.planet_get_data(this.__wbg_ptr);return sl(e)}}class Ef{static __wrap(e){e=e>>>0;const r=Object.create(Ef.prototype);return r.__wbg_ptr=e,r}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();We.__wbg_universe_free(e)}constructor(){const e=We.universe_new();return Ef.__wrap(e)}time_step(e){We.universe_time_step(this.__wbg_ptr,e)}reset(){We.universe_reset(this.__wbg_ptr)}add_planet(e){We.universe_add_planet(this.__wbg_ptr,Vn(e))}remove_planet(){We.universe_remove_planet(this.__wbg_ptr)}get_planets(){const e=We.universe_get_planets(this.__wbg_ptr);return sl(e)}set_gravity(e){We.universe_set_gravity(this.__wbg_ptr,e)}get_gravity(){return We.universe_get_gravity(this.__wbg_ptr)}set_speed(e){We.universe_set_speed(this.__wbg_ptr,e)}get_speed(){return We.universe_get_speed(this.__wbg_ptr)}set_mass(e){We.universe_set_mass(this.__wbg_ptr,e)}get_mass(){return We.universe_get_mass(this.__wbg_ptr)}}class sc{static __wrap(e){e=e>>>0;const r=Object.create(sc.prototype);return r.__wbg_ptr=e,r}__destroy_into_raw(){const e=this.__wbg_ptr;return this.__wbg_ptr=0,e}free(){const e=this.__destroy_into_raw();We.__wbg_vec2_free(e)}constructor(e,r){const n=We.vec2_new(e,r);return sc.__wrap(n)}divide(e){We.vec2_divide(this.__wbg_ptr,e)}}function FB(t){sl(t)}function UB(t,e){const r=ft(e),n=typeof r=="string"?r:void 0;var i=Hy(n)?0:jy(n,We.__wbindgen_malloc,We.__wbindgen_realloc),s=Fs;ic()[t/4+1]=s,ic()[t/4+0]=i}function zB(t){const e=ft(t);return typeof e=="object"&&e!==null}function jB(t){return ft(t)===void 0}function HB(t,e){return ft(t)in ft(e)}function GB(t,e){const r=ft(e),n=typeof r=="number"?r:void 0;VS()[t/8+1]=Hy(n)?0:n,ic()[t/4+0]=!Hy(n)}function WB(t,e){const r=new Error(Gy(t,e));return Vn(r)}function $B(t){return Vn(t)}function VB(t){const e=ft(t);return Vn(e)}function XB(t,e){const r=Gy(t,e);return Vn(r)}function YB(t,e){return ft(t)==ft(e)}function qB(t){const e=ft(t);return typeof e=="boolean"?e?1:0:2}function KB(t,e){const r=ft(t)[ft(e)];return Vn(r)}function QB(t,e,r){ft(t)[sl(e)]=sl(r)}function JB(){const t=new Array;return Vn(t)}function ZB(){const t=new Object;return Vn(t)}function eF(t,e,r){ft(t)[e>>>0]=sl(r)}function tF(t){let e;try{e=ft(t)instanceof ArrayBuffer}catch{e=!1}return e}function rF(t){return Number.isSafeInteger(ft(t))}function nF(t){const e=ft(t).buffer;return Vn(e)}function iF(t){const e=new Uint8Array(ft(t));return Vn(e)}function sF(t,e,r){ft(t).set(ft(e),r>>>0)}function oF(t){return ft(t).length}function aF(t){let e;try{e=ft(t)instanceof Uint8Array}catch{e=!1}return e}function lF(t,e){const r=Wy(ft(e)),n=jy(r,We.__wbindgen_malloc,We.__wbindgen_realloc),i=Fs;ic()[t/4+1]=i,ic()[t/4+0]=n}function uF(t,e){throw new Error(Gy(t,e))}function cF(){const t=We.memory;return Vn(t)}URL=globalThis.URL;const pt=await MB({"./physics_engine_bg.js":{__wbindgen_object_drop_ref:FB,__wbindgen_string_get:UB,__wbindgen_is_object:zB,__wbindgen_is_undefined:jB,__wbindgen_in:HB,__wbindgen_number_get:GB,__wbindgen_error_new:WB,__wbindgen_number_new:$B,__wbindgen_object_clone_ref:VB,__wbindgen_string_new:XB,__wbindgen_jsval_loose_eq:YB,__wbindgen_boolean_get:qB,__wbg_getwithrefkey_15c62c2b8546208d:KB,__wbg_set_20cbc34131e76824:QB,__wbg_new_898a68150f225f2e:JB,__wbg_new_b51585de1b234aff:ZB,__wbg_set_502d29070ea18557:eF,__wbg_instanceof_ArrayBuffer_39ac22089b74fddb:tF,__wbg_isSafeInteger_bb8e18dd21c97288:rF,__wbg_buffer_085ec1f694018c4f:nF,__wbg_new_8125e318e6245eed:iF,__wbg_set_5cf90238115182c3:sF,__wbg_length_72e2208bbc0efc61:oF,__wbg_instanceof_Uint8Array_d8d9cb2b8e8ac1d4:aF,__wbindgen_debug_string:lF,__wbindgen_throw:uF,__wbindgen_memory:cF}},kB),hF=pt.memory,dF=pt.__wbg_vec2_free,fF=pt.vec2_new,pF=pt.vec2_divide,mF=pt.__wbg_planet_free,gF=pt.planet_new,vF=pt.planet_force_from,yF=pt.planet_move_planet,_F=pt.planet_get_data,bF=pt.__wbg_universe_free,xF=pt.universe_new,wF=pt.universe_time_step,EF=pt.universe_reset,TF=pt.universe_add_planet,SF=pt.universe_remove_planet,AF=pt.universe_get_planets,CF=pt.universe_set_gravity,PF=pt.universe_get_gravity,RF=pt.universe_set_speed,IF=pt.universe_get_speed,kF=pt.universe_set_mass,MF=pt.universe_get_mass,NF=pt.__wbindgen_malloc,OF=pt.__wbindgen_realloc,DF=Object.freeze(Object.defineProperty({__proto__:null,__wbg_planet_free:mF,__wbg_universe_free:bF,__wbg_vec2_free:dF,__wbindgen_malloc:NF,__wbindgen_realloc:OF,memory:hF,planet_force_from:vF,planet_get_data:_F,planet_move_planet:yF,planet_new:gF,universe_add_planet:TF,universe_get_gravity:PF,universe_get_mass:MF,universe_get_planets:AF,universe_get_speed:IF,universe_new:xF,universe_remove_planet:SF,universe_reset:EF,universe_set_gravity:CF,universe_set_mass:kF,universe_set_speed:RF,universe_time_step:wF,vec2_divide:pF,vec2_new:fF},Symbol.toStringTag,{value:"Module"}));NB(DF);function KS({planet:t}){const e=se.useCallback(r=>{r.clear(),r.lineStyle(1),r.beginFill(t.color,1),r.drawCircle(t.pos.x,t.pos.y,t.radius),r.endFill()},[t]);return Ce.jsx(Qu.Graphics,{draw:e})}KS.propTypes={planet:Ze.object};let Kt=null,ol=[],al=["#264653","2A9D8F","#F4A261","E76F51","#277da1","#43aa8b","#E9C46A","#f8961e","f94144"];function Tf(t){const[e,r]=se.useState(0);if(Qu.useTick(s=>{r(e+1),Kt.time_step(s)}),Kt==null&&(Kt==null&&(Kt=new Ef),t.random)){ol=[...t.size,t.randomCount];for(let s=0;s<t.randomCount;s++)Kt.add_planet(new Oo([Math.random()*t.size[0],Math.random()*t.size[1]],[Math.random()-.5,Math.random()-.5],15,12,new Ye(al[Math.floor(al.length*Math.random())]).toHex()).get_data())}let n=[],i=0;for(let s of Kt.get_planets())n.push(Ce.jsx(KS,{planet:s},i)),i++;return n}function LF(t){Kt==null||Kt.set_speed(t.target.value)}function BF(t){Kt==null||Kt.set_mass(t.target.value)}function FF(){Kt.reset();for(let t=0;t<ol[2];t++)Kt.add_planet(new Oo([Math.random()*ol[0],Math.random()*ol[1]],[Math.random()-.5,Math.random()-.5],15,12,new Ye(al[Math.floor(al.length*Math.random())]).toHex()).get_data())}function UF(t){let{c:e,w:r}={c:Kt.get_planets().length,w:parseInt(t.target.value)};if(r>=e)for(let n=0;n<r-e;n++)Kt.add_planet(new Oo([Math.random()*ol[0],Math.random()*ol[1]],[Math.random()-.5,Math.random()-.5],15,Kt.get_mass(),new Ye(al[Math.floor(al.length*Math.random())]).toHex()).get_data());else for(let n=0;n<e-r;n++)Kt.remove_planet()}Tf.propTypes={random:Ze.bool,size:Ze.array,randomCount:Ze.number};function $y(){const[t,e]=se.useState([window.innerWidth,window.innerHeight]);return se.useEffect(()=>{const r=zF(()=>{e([window.innerWidth,window.innerHeight])},100);return window.addEventListener("resize",r),()=>window.removeEventListener("resize",r)},[]),t}function zF(t,e){let r;return n=>{clearTimeout(r),r=setTimeout(i=>{r=null,t.apply(this,arguments)},e)}}function jF(){const[t,e]=$y();return Ce.jsxs("div",{children:[Ce.jsx(Qu.Stage,{width:t*.95,height:e*.9,options:{backgroundColor:0},className:"canvas",children:Ce.jsx(Tf,{id:"solar-system",random:!0,randomCount:25,size:[window.innerWidth*.95,window.innerHeight*.9]})}),Ce.jsxs("div",{className:"home-container",children:[Ce.jsx("h1",{className:"top-text",children:"Gravity Simulation"}),Ce.jsx(uw,{to:"/play",className:"button",children:"Play"})]})]})}function HF(){let t=!1;return Ce.jsxs("div",{className:"entire-settings-closed",id:"settings-div",children:[Ce.jsx("div",{className:"settings-button-div",children:Ce.jsx("button",{className:"settings-button",onClick:()=>{t=!t,$("#settings-div")[0].className=t?"entire-settings-open":"entire-settings-closed",$("#settings-img")[0].src=t?"/assets/x.svg":"/assets/settings.svg"},children:Ce.jsx("img",{id:"settings-img",src:"/assets/settings.svg"})})}),Ce.jsxs("div",{className:"settings",children:[Ce.jsx("p",{className:"settings-title",children:"Settings"}),Ce.jsx("hr",{}),Ce.jsxs("div",{className:"slider-settings",children:[Ce.jsx("p",{className:"slider-text",children:"Simulation Speed"}),Ce.jsx("p",{className:"left-range",id:"red-too",children:"-10"}),Ce.jsx("input",{type:"range",max:10,min:-10,step:.1,defaultValue:1,onChange:LF}),Ce.jsx("p",{className:"right-range",children:"10"}),Ce.jsx("p",{className:"slider-text",children:"Planet Mass"}),Ce.jsx("p",{className:"left-range",children:"1"}),Ce.jsx("input",{type:"range",max:250,min:1,step:1,defaultValue:1,onChange:BF}),Ce.jsx("p",{className:"right-range",children:"250"}),Ce.jsx("p",{className:"slider-text",children:"Number of Planets"}),Ce.jsx("p",{className:"left-range",children:"2"}),Ce.jsx("input",{type:"range",max:250,min:2,step:1,defaultValue:1,onChange:UF}),Ce.jsx("p",{className:"right-range",children:"250"})]}),Ce.jsx("button",{className:"reset-button",onClick:FF,children:"RESET SIMULATION"})]})]})}function GF(){const[t,e]=$y();return Ce.jsxs("div",{className:"play-screen",children:[Ce.jsx(Qu.Stage,{width:t*.98,height:e,options:{backgroundColor:0},className:"canvas-left",children:Ce.jsx(Tf,{id:"solar-system",random:!0,randomCount:25,size:[window.innerWidth*.85,window.innerHeight]})}),Ce.jsx(HF,{})]})}function Vy(){const[t,e]=$y();return Ce.jsxs("div",{children:[Ce.jsx(Qu.Stage,{width:t*.95,height:e*.9,options:{backgroundColor:0},className:"canvas",children:Ce.jsx(Tf,{id:"solar-system",random:!0,randomCount:25,size:[window.innerWidth*.95,window.innerHeight*.9]})}),Ce.jsxs("div",{className:"home-container",children:[Ce.jsx("h1",{className:"top-text",children:"404"}),Ce.jsx(uw,{to:"/",className:"button",children:"Home"})]})]})}const WF=bI([{path:"/",element:Ce.jsx(jF,{}),errorElement:Ce.jsx(Vy,{})},{path:"/play",element:Ce.jsx(GF,{}),errorElement:Ce.jsx(Vy,{})},{path:"*",element:Ce.jsx(Vy,{})}]);Cp.createRoot(document.getElementById("root")).render(Ce.jsx(wn.StrictMode,{children:Ce.jsx(dI,{router:WF})}))})()});export default N4();
